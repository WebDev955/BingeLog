(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var ny={exports:{}},wc={};var mS;function XM(){if(mS)return wc;mS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:t,type:i,key:u,ref:s!==void 0?s:null,props:o}}return wc.Fragment=e,wc.jsx=n,wc.jsxs=n,wc}var pS;function QM(){return pS||(pS=1,ny.exports=XM()),ny.exports}var R=QM(),iy={exports:{}},Sc={},ry={exports:{}},sy={};var gS;function JM(){return gS||(gS=1,function(t){function e(Y,he){var me=Y.length;Y.push(he);e:for(;0<me;){var Pe=me-1>>>1,B=Y[Pe];if(0<s(B,he))Y[Pe]=he,Y[me]=B,me=Pe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var he=Y[0],me=Y.pop();if(me!==he){Y[0]=me;e:for(var Pe=0,B=Y.length,se=B>>>1;Pe<se;){var ge=2*(Pe+1)-1,pe=Y[ge],ve=ge+1,ze=Y[ve];if(0>s(pe,me))ve<B&&0>s(ze,pe)?(Y[Pe]=ze,Y[ve]=me,Pe=ve):(Y[Pe]=pe,Y[ge]=me,Pe=ge);else if(ve<B&&0>s(ze,me))Y[Pe]=ze,Y[ve]=me,Pe=ve;else break e}}return he}function s(Y,he){var me=Y.sortIndex-he.sortIndex;return me!==0?me:Y.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,v=null,E=3,S=!1,b=!1,O=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function Z(Y){for(var he=n(d);he!==null;){if(he.callback===null)i(d);else if(he.startTime<=Y)i(d),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(d)}}function K(Y){if(O=!1,Z(Y),!b)if(n(f)!==null)b=!0,N||(N=!0,G());else{var he=n(d);he!==null&&Ke(K,he.startTime-Y)}}var N=!1,I=-1,C=5,P=-1;function j(){return D?!0:!(t.unstable_now()-P<C)}function F(){if(D=!1,N){var Y=t.unstable_now();P=Y;var he=!0;try{e:{b=!1,O&&(O=!1,H(I),I=-1),S=!0;var me=E;try{t:{for(Z(Y),v=n(f);v!==null&&!(v.expirationTime>Y&&j());){var Pe=v.callback;if(typeof Pe=="function"){v.callback=null,E=v.priorityLevel;var B=Pe(v.expirationTime<=Y);if(Y=t.unstable_now(),typeof B=="function"){v.callback=B,Z(Y),he=!0;break t}v===n(f)&&i(f),Z(Y)}else i(f);v=n(f)}if(v!==null)he=!0;else{var se=n(d);se!==null&&Ke(K,se.startTime-Y),he=!1}}break e}finally{v=null,E=me,S=!1}he=void 0}}finally{he?G():N=!1}}}var G;if(typeof k=="function")G=function(){k(F)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,xe=M.port2;M.port1.onmessage=F,G=function(){xe.postMessage(null)}}else G=function(){L(F,0)};function Ke(Y,he){I=L(function(){Y(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var me=E;E=he;try{return Y()}finally{E=me}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(Y,he){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=E;E=Y;try{return he()}finally{E=me}},t.unstable_scheduleCallback=function(Y,he,me){var Pe=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Pe+me:Pe):me=Pe,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=me+B,Y={id:g++,callback:he,priorityLevel:Y,startTime:me,expirationTime:B,sortIndex:-1},me>Pe?(Y.sortIndex=me,e(d,Y),n(f)===null&&Y===n(d)&&(O?(H(I),I=-1):O=!0,Ke(K,me-Pe))):(Y.sortIndex=B,e(f,Y),b||S||(b=!0,N||(N=!0,G()))),Y},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Y){var he=E;return function(){var me=E;E=he;try{return Y.apply(this,arguments)}finally{E=me}}}}(sy)),sy}var yS;function ZM(){return yS||(yS=1,ry.exports=JM()),ry.exports}var ay={exports:{}},Ye={};var vS;function eO(){if(vS)return Ye;vS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,O={};function D(B,se,ge){this.props=B,this.context=se,this.refs=O,this.updater=ge||S}D.prototype.isReactComponent={},D.prototype.setState=function(B,se){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,se,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function L(){}L.prototype=D.prototype;function H(B,se,ge){this.props=B,this.context=se,this.refs=O,this.updater=ge||S}var k=H.prototype=new L;k.constructor=H,b(k,D.prototype),k.isPureReactComponent=!0;var Z=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function I(B,se,ge,pe,ve,ze){return ge=ze.ref,{$$typeof:t,type:B,key:se,ref:ge!==void 0?ge:null,props:ze}}function C(B,se){return I(B.type,se,void 0,void 0,void 0,B.props)}function P(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function j(B){var se={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ge){return se[ge]})}var F=/\/+/g;function G(B,se){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):se.toString(36)}function M(){}function xe(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(M,M):(B.status="pending",B.then(function(se){B.status==="pending"&&(B.status="fulfilled",B.value=se)},function(se){B.status==="pending"&&(B.status="rejected",B.reason=se)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Ke(B,se,ge,pe,ve){var ze=typeof B;(ze==="undefined"||ze==="boolean")&&(B=null);var Ne=!1;if(B===null)Ne=!0;else switch(ze){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(B.$$typeof){case t:case e:Ne=!0;break;case g:return Ne=B._init,Ke(Ne(B._payload),se,ge,pe,ve)}}if(Ne)return ve=ve(B),Ne=pe===""?"."+G(B,0):pe,Z(ve)?(ge="",Ne!=null&&(ge=Ne.replace(F,"$&/")+"/"),Ke(ve,se,ge,"",function(ci){return ci})):ve!=null&&(P(ve)&&(ve=C(ve,ge+(ve.key==null||B&&B.key===ve.key?"":(""+ve.key).replace(F,"$&/")+"/")+Ne)),se.push(ve)),1;Ne=0;var rn=pe===""?".":pe+":";if(Z(B))for(var ct=0;ct<B.length;ct++)pe=B[ct],ze=rn+G(pe,ct),Ne+=Ke(pe,se,ge,ze,ve);else if(ct=E(B),typeof ct=="function")for(B=ct.call(B),ct=0;!(pe=B.next()).done;)pe=pe.value,ze=rn+G(pe,ct++),Ne+=Ke(pe,se,ge,ze,ve);else if(ze==="object"){if(typeof B.then=="function")return Ke(xe(B),se,ge,pe,ve);throw se=String(B),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Y(B,se,ge){if(B==null)return B;var pe=[],ve=0;return Ke(B,pe,"","",function(ze){return se.call(ge,ze,ve++)}),pe}function he(B){if(B._status===-1){var se=B._result;se=se(),se.then(function(ge){(B._status===0||B._status===-1)&&(B._status=1,B._result=ge)},function(ge){(B._status===0||B._status===-1)&&(B._status=2,B._result=ge)}),B._status===-1&&(B._status=0,B._result=se)}if(B._status===1)return B._result.default;throw B._result}var me=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Pe(){}return Ye.Children={map:Y,forEach:function(B,se,ge){Y(B,function(){se.apply(this,arguments)},ge)},count:function(B){var se=0;return Y(B,function(){se++}),se},toArray:function(B){return Y(B,function(se){return se})||[]},only:function(B){if(!P(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ye.Component=D,Ye.Fragment=n,Ye.Profiler=s,Ye.PureComponent=H,Ye.StrictMode=i,Ye.Suspense=f,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(B){return K.H.useMemoCache(B)}},Ye.cache=function(B){return function(){return B.apply(null,arguments)}},Ye.cloneElement=function(B,se,ge){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var pe=b({},B.props),ve=B.key,ze=void 0;if(se!=null)for(Ne in se.ref!==void 0&&(ze=void 0),se.key!==void 0&&(ve=""+se.key),se)!N.call(se,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&se.ref===void 0||(pe[Ne]=se[Ne]);var Ne=arguments.length-2;if(Ne===1)pe.children=ge;else if(1<Ne){for(var rn=Array(Ne),ct=0;ct<Ne;ct++)rn[ct]=arguments[ct+2];pe.children=rn}return I(B.type,ve,void 0,void 0,ze,pe)},Ye.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Ye.createElement=function(B,se,ge){var pe,ve={},ze=null;if(se!=null)for(pe in se.key!==void 0&&(ze=""+se.key),se)N.call(se,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(ve[pe]=se[pe]);var Ne=arguments.length-2;if(Ne===1)ve.children=ge;else if(1<Ne){for(var rn=Array(Ne),ct=0;ct<Ne;ct++)rn[ct]=arguments[ct+2];ve.children=rn}if(B&&B.defaultProps)for(pe in Ne=B.defaultProps,Ne)ve[pe]===void 0&&(ve[pe]=Ne[pe]);return I(B,ze,void 0,void 0,null,ve)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(B){return{$$typeof:h,render:B}},Ye.isValidElement=P,Ye.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:he}},Ye.memo=function(B,se){return{$$typeof:d,type:B,compare:se===void 0?null:se}},Ye.startTransition=function(B){var se=K.T,ge={};K.T=ge;try{var pe=B(),ve=K.S;ve!==null&&ve(ge,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Pe,me)}catch(ze){me(ze)}finally{K.T=se}},Ye.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Ye.use=function(B){return K.H.use(B)},Ye.useActionState=function(B,se,ge){return K.H.useActionState(B,se,ge)},Ye.useCallback=function(B,se){return K.H.useCallback(B,se)},Ye.useContext=function(B){return K.H.useContext(B)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(B,se){return K.H.useDeferredValue(B,se)},Ye.useEffect=function(B,se,ge){var pe=K.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(B,se)},Ye.useId=function(){return K.H.useId()},Ye.useImperativeHandle=function(B,se,ge){return K.H.useImperativeHandle(B,se,ge)},Ye.useInsertionEffect=function(B,se){return K.H.useInsertionEffect(B,se)},Ye.useLayoutEffect=function(B,se){return K.H.useLayoutEffect(B,se)},Ye.useMemo=function(B,se){return K.H.useMemo(B,se)},Ye.useOptimistic=function(B,se){return K.H.useOptimistic(B,se)},Ye.useReducer=function(B,se,ge){return K.H.useReducer(B,se,ge)},Ye.useRef=function(B){return K.H.useRef(B)},Ye.useState=function(B){return K.H.useState(B)},Ye.useSyncExternalStore=function(B,se,ge){return K.H.useSyncExternalStore(B,se,ge)},Ye.useTransition=function(){return K.H.useTransition()},Ye.version="19.1.1",Ye}var _S;function bm(){return _S||(_S=1,ay.exports=eO()),ay.exports}var oy={exports:{}},On={};var ES;function tO(){if(ES)return On;ES=1;var t=bm();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:d,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,On.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},On.flushSync=function(f){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=d,i.p=g,i.d.f()}},On.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},On.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},On.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin),E=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:S}):g==="script"&&i.d.X(f,{crossOrigin:v,integrity:E,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},On.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},On.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,v=h(g,d.crossOrigin);i.d.L(f,g,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},On.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},On.requestFormReset=function(f){i.d.r(f)},On.unstable_batchedUpdates=function(f,d){return f(d)},On.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},On.useFormStatus=function(){return u.H.useHostTransitionStatus()},On.version="19.1.1",On}var TS;function b1(){if(TS)return oy.exports;TS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),oy.exports=tO(),oy.exports}var wS;function nO(){if(wS)return Sc;wS=1;var t=ZM(),e=bm(),n=b1();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function f(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return h(p),r;if(y===c)return h(p),a;y=y.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=y;else{for(var w=!1,A=p.child;A;){if(A===l){w=!0,l=p,c=y;break}if(A===c){w=!0,c=p,l=y;break}A=A.sibling}if(!w){for(A=y.child;A;){if(A===l){w=!0,l=y,c=p;break}if(A===c){w=!0,c=y,l=p;break}A=A.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function d(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=d(r),a!==null)return a;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),k=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function xe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case K:return"Suspense";case N:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case k:return(r.displayName||"Context")+".Provider";case H:return(r._context.displayName||"Context")+".Consumer";case Z:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return a=r.displayName||null,a!==null?a:xe(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return xe(r(a))}catch{}}return null}var Ke=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Pe=[],B=-1;function se(r){return{current:r}}function ge(r){0>B||(r.current=Pe[B],Pe[B]=null,B--)}function pe(r,a){B++,Pe[B]=r.current,r.current=a}var ve=se(null),ze=se(null),Ne=se(null),rn=se(null);function ct(r,a){switch(pe(Ne,a),pe(ze,r),pe(ve,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?z0(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=z0(a),r=H0(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(ve),pe(ve,r)}function ci(){ge(ve),ge(ze),ge(Ne)}function Ut(r){r.memoizedState!==null&&pe(rn,r);var a=ve.current,l=H0(a,r.type);a!==l&&(pe(ze,r),pe(ve,l))}function hi(r){ze.current===r&&(ge(ve),ge(ze)),rn.current===r&&(ge(rn),yc._currentValue=me)}var $r=Object.prototype.hasOwnProperty,Wr=t.unstable_scheduleCallback,Qn=t.unstable_cancelCallback,Eu=t.unstable_shouldYield,ka=t.unstable_requestPaint,Tn=t.unstable_now,Wo=t.unstable_getCurrentPriorityLevel,Ht=t.unstable_ImmediatePriority,Yt=t.unstable_UserBlockingPriority,Zi=t.unstable_NormalPriority,er=t.unstable_LowPriority,tr=t.unstable_IdlePriority,Yo=t.log,nr=t.unstable_setDisableYieldValue,wn=null,Tt=null;function Fn(r){if(typeof Yo=="function"&&nr(r),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(wn,r)}catch{}}var sn=Math.clz32?Math.clz32:Ua,Tu=Math.log,fi=Math.LN2;function Ua(r){return r>>>=0,r===0?32:31-(Tu(r)/fi|0)|0}var di=256,ir=4194304;function mi(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function zn(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var A=c&134217727;return A!==0?(c=A&~y,c!==0?p=mi(c):(w&=A,w!==0?p=mi(w):l||(l=A&~r,l!==0&&(p=mi(l))))):(A=c&~y,A!==0?p=mi(A):w!==0?p=mi(w):l||(l=c&~r,l!==0&&(p=mi(l)))),p===0?0:a!==0&&a!==p&&(a&y)===0&&(y=p&-p,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:p}function pi(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Yr(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xr(){var r=di;return di<<=1,(di&4194048)===0&&(di=256),r}function Sr(){var r=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),r}function Qr(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Mt(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ja(r,a,l,c,p,y){var w=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var A=r.entanglements,U=r.expirationTimes,J=r.hiddenUpdates;for(l=w&~l;0<l;){var ae=31-sn(l),ue=1<<ae;A[ae]=0,U[ae]=-1;var ee=J[ae];if(ee!==null)for(J[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}l&=~ue}c!==0&&gi(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~a))}function gi(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-sn(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&4194090}function yi(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-sn(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function Ba(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Fa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function z(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:lS(r.type))}function W(r,a){var l=he.p;try{return he.p=r,a()}finally{he.p=l}}var ne=Math.random().toString(36).slice(2),le="__reactFiber$"+ne,de="__reactProps$"+ne,Te="__reactContainer$"+ne,be="__reactEvents$"+ne,Ee="__reactListeners$"+ne,Ie="__reactHandles$"+ne,Ce="__reactResources$"+ne,we="__reactMarker$"+ne;function Re(r){delete r[le],delete r[de],delete r[be],delete r[Ee],delete r[Ie]}function He(r){var a=r[le];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Te]||l[le]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=$0(r);r!==null;){if(l=r[le])return l;r=$0(r)}return a}r=l,l=r.parentNode}return null}function ot(r){if(r=r[le]||r[Te]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function At(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function xt(r){var a=r[Ce];return a||(a=r[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Be(r){r[we]=!0}var ht=new Set,Hn={};function Pn(r,a){an(r,a),an(r+"Capture",a)}function an(r,a){for(Hn[r]=a,r=0;r<a.length;r++)ht.add(a[r])}var dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jn={},Pi={};function rr(r){return $r.call(Pi,r)?!0:$r.call(Jn,r)?!1:dn.test(r)?Pi[r]=!0:(Jn[r]=!0,!1)}function Ni(r,a,l){if(rr(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function Mi(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function $e(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}var Dt,sr;function qn(r){if(Dt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Dt=a&&a[1]||"",sr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dt+r+sr}var wt=!1;function ar(r,a){if(!r||wt)return"";wt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var ee=te}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(te){ee=te}r.call(ue.prototype)}}else{try{throw Error()}catch(te){ee=te}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],A=y[1];if(w&&A){var U=w.split(`
`),J=A.split(`
`);for(p=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===U.length||p===J.length)for(c=U.length-1,p=J.length-1;1<=c&&0<=p&&U[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(U[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||U[c]!==J[p]){var ae=`
`+U[c].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=c&&0<=p);break}}}finally{wt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?qn(l):""}function Xo(r){switch(r.tag){case 26:case 27:case 5:return qn(r.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ar(r.type,!1);case 11:return ar(r.type.render,!1);case 1:return ar(r.type,!0);case 31:return qn("Activity");default:return""}}function vi(r){try{var a="";do a+=Xo(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ot(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ps(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function za(r){var a=Ps(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),c=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ns(r){r._valueTracker||(r._valueTracker=za(r))}function gt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=Ps(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function Jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ha=/[\n"\\]/g;function mn(r){return r.replace(Ha,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wu(r,a,l,c,p,y,w,A){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Ot(a)):r.value!==""+Ot(a)&&(r.value=""+Ot(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?bu(r,w,Ot(a)):l!=null?bu(r,w,Ot(l)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Ot(A):r.removeAttribute("name")}function Su(r,a,l,c,p,y,w,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Ot(l):"",a=a!=null?""+Ot(a):l,A||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function bu(r,a,l){a==="number"&&Jr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ms(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Ot(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function kh(r,a,l){if(a!=null&&(a=""+Ot(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+Ot(l):""}function Uh(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(Ke(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Ot(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c)}function Oi(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||Zr.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Ru(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Au(r,p,c)}else for(var y in a)a.hasOwnProperty(y)&&Au(r,y,a[y])}function Qo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(r){return Bh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Cu=null;function Iu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Os=null,Gn=null;function Fh(r){var a=ot(r);if(a&&(r=a.stateNode)){var l=r[de]||null;e:switch(r=a.stateNode,a.type){case"input":if(wu(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[de]||null;if(!p)throw Error(i(90));wu(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&gt(c)}break e;case"textarea":kh(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ms(r,!!l.multiple,a,!1)}}}var qa=!1;function Ga(r,a,l){if(qa)return r(a,l);qa=!0;try{var c=r(a);return c}finally{if(qa=!1,(Os!==null||Gn!==null)&&(Pf(),Os&&(a=Os,r=Gn,Gn=Os=null,Fh(a),r)))for(a=0;a<r.length;a++)Fh(r[a])}}function Vs(r,a){var l=r.stateNode;if(l===null)return null;var c=l[de]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),es=!1;if(Kn)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){es=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{es=!1}var Vi=null,St=null,Jo=null;function zh(){if(Jo)return Jo;var r,a=St,l=a.length,c,p="value"in Vi?Vi.value:Vi.textContent,y=p.length;for(r=0;r<l&&a[r]===p[r];r++);var w=l-r;for(c=1;c<=w&&a[l-c]===p[y-c];c++);return Jo=p.slice(r,1<c?1-c:void 0)}function Ka(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function $a(){return!0}function xu(){return!1}function on(r){function a(l,c,p,y,w){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$a:xu,this.isPropagationStopped=xu,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),a}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=on(Nn),Ya=g({},Nn,{view:0,detail:0}),Xa=on(Ya),Zo,Qa,br,Ja=g({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==br&&(br&&r.type==="mousemove"?(Zo=r.screenX-br.screenX,Qa=r.screenY-br.screenY):Qa=Zo=0,br=r),Zo)},movementY:function(r){return"movementY"in r?r.movementY:Qa}}),Za=on(Ja),hp=g({},Ja,{dataTransfer:0}),Hh=on(hp),eo=g({},Ya,{relatedTarget:0}),el=on(eo),qh=g({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=on(qh),Pu=g({},Nn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gh=on(Pu),tl=g({},Nn,{data:0}),Nu=on(tl),Kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ts={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wh(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=$h[r])?!!a[r]:!1}function nl(){return Wh}var Yh=g({},Ya,{key:function(r){if(r.key){var a=Kh[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Ka(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ts[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(r){return r.type==="keypress"?Ka(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ka(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),il=on(Yh),$n=g({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=on($n),Xh=g({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),ks=on(Xh),m=g({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_=on(m),T=g({},Ja,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),x=on(T),Q=g({},Nn,{newState:0,oldState:0}),ie=on(Q),ye=[9,13,27,32],qe=Kn&&"CompositionEvent"in window,Rt=null;Kn&&"documentMode"in document&&(Rt=document.documentMode);var dt=Kn&&"TextEvent"in window&&!Rt,qt=Kn&&(!qe||Rt&&8<Rt&&11>=Rt),_i=" ",Ar=!1;function lr(r,a){switch(r){case"keyup":return ye.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ur(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var cr=!1;function Ou(r,a){switch(r){case"compositionend":return ur(a);case"keypress":return a.which!==32?null:(Ar=!0,_i);case"textInput":return r=a.data,r===_i&&Ar?null:r;default:return null}}function SN(r,a){if(cr)return r==="compositionend"||!qe&&lr(r,a)?(r=zh(),Jo=St=Vi=null,cr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qt&&a.locale!=="ko"?null:a.data;default:return null}}var bN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nT(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!bN[r.type]:a==="textarea"}function iT(r,a,l,c){Os?Gn?Gn.push(c):Gn=[c]:Os=c,a=kf(a,"onChange"),0<a.length&&(l=new Wa("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var Vu=null,Lu=null;function AN(r){k0(r,0)}function Qh(r){var a=At(r);if(gt(a))return r}function rT(r,a){if(r==="change")return a}var sT=!1;if(Kn){var fp;if(Kn){var dp="oninput"in document;if(!dp){var aT=document.createElement("div");aT.setAttribute("oninput","return;"),dp=typeof aT.oninput=="function"}fp=dp}else fp=!1;sT=fp&&(!document.documentMode||9<document.documentMode)}function oT(){Vu&&(Vu.detachEvent("onpropertychange",lT),Lu=Vu=null)}function lT(r){if(r.propertyName==="value"&&Qh(Lu)){var a=[];iT(a,Lu,r,Iu(r)),Ga(AN,a)}}function RN(r,a,l){r==="focusin"?(oT(),Vu=a,Lu=l,Vu.attachEvent("onpropertychange",lT)):r==="focusout"&&oT()}function CN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qh(Lu)}function IN(r,a){if(r==="click")return Qh(a)}function xN(r,a){if(r==="input"||r==="change")return Qh(a)}function DN(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Ei=typeof Object.is=="function"?Object.is:DN;function ku(r,a){if(Ei(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!$r.call(a,p)||!Ei(r[p],a[p]))return!1}return!0}function uT(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cT(r,a){var l=uT(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=uT(l)}}function hT(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?hT(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function fT(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Jr(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=Jr(r.document)}return a}function mp(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var PN=Kn&&"documentMode"in document&&11>=document.documentMode,rl=null,pp=null,Uu=null,gp=!1;function dT(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;gp||rl==null||rl!==Jr(c)||(c=rl,"selectionStart"in c&&mp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uu&&ku(Uu,c)||(Uu=c,c=kf(pp,"onSelect"),0<c.length&&(a=new Wa("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=rl)))}function to(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var sl={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},yp={},mT={};Kn&&(mT=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function no(r){if(yp[r])return yp[r];if(!sl[r])return r;var a=sl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in mT)return yp[r]=a[l];return r}var pT=no("animationend"),gT=no("animationiteration"),yT=no("animationstart"),NN=no("transitionrun"),MN=no("transitionstart"),ON=no("transitioncancel"),vT=no("transitionend"),_T=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vp.push("scrollEnd");function hr(r,a){_T.set(r,a),Pn(a,[r])}var ET=new WeakMap;function Li(r,a){if(typeof r=="object"&&r!==null){var l=ET.get(r);return l!==void 0?l:(a={value:r,source:a,stack:vi(a)},ET.set(r,a),a)}return{value:r,source:a,stack:vi(a)}}var ki=[],al=0,_p=0;function Jh(){for(var r=al,a=_p=al=0;a<r;){var l=ki[a];ki[a++]=null;var c=ki[a];ki[a++]=null;var p=ki[a];ki[a++]=null;var y=ki[a];if(ki[a++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}y!==0&&TT(l,p,y)}}function Zh(r,a,l,c){ki[al++]=r,ki[al++]=a,ki[al++]=l,ki[al++]=c,_p|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ep(r,a,l,c){return Zh(r,a,l,c),ef(r)}function ol(r,a){return Zh(r,null,null,a),ef(r)}function TT(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,y=r.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&a!==null&&(p=31-sn(l),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[a]:c.push(a),a.lane=l|536870912),y):null}function ef(r){if(50<uc)throw uc=0,Rg=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var ll={};function VN(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ti(r,a,l,c){return new VN(r,a,l,c)}function Tp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ns(r,a){var l=r.alternate;return l===null?(l=Ti(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function wT(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function tf(r,a,l,c,p,y){var w=0;if(c=r,typeof r=="function")Tp(r)&&(w=1);else if(typeof r=="string")w=kM(r,l,ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=Ti(31,l,a,p),r.elementType=P,r.lanes=y,r;case b:return io(l.children,p,y,a);case O:w=8,p|=24;break;case D:return r=Ti(12,l,a,p|2),r.elementType=D,r.lanes=y,r;case K:return r=Ti(13,l,a,p),r.elementType=K,r.lanes=y,r;case N:return r=Ti(19,l,a,p),r.elementType=N,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:case k:w=10;break e;case H:w=9;break e;case Z:w=11;break e;case I:w=14;break e;case C:w=16,c=null;break e}w=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=Ti(w,l,a,p),a.elementType=r,a.type=c,a.lanes=y,a}function io(r,a,l,c){return r=Ti(7,r,c,a),r.lanes=l,r}function wp(r,a,l){return r=Ti(6,r,null,a),r.lanes=l,r}function Sp(r,a,l){return a=Ti(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ul=[],cl=0,nf=null,rf=0,Ui=[],ji=0,ro=null,is=1,rs="";function so(r,a){ul[cl++]=rf,ul[cl++]=nf,nf=r,rf=a}function ST(r,a,l){Ui[ji++]=is,Ui[ji++]=rs,Ui[ji++]=ro,ro=r;var c=is;r=rs;var p=32-sn(c)-1;c&=~(1<<p),l+=1;var y=32-sn(a)+p;if(30<y){var w=p-p%5;y=(c&(1<<w)-1).toString(32),c>>=w,p-=w,is=1<<32-sn(a)+p|l<<p|c,rs=y+r}else is=1<<y|l<<p|c,rs=r}function bp(r){r.return!==null&&(so(r,1),ST(r,1,0))}function Ap(r){for(;r===nf;)nf=ul[--cl],ul[cl]=null,rf=ul[--cl],ul[cl]=null;for(;r===ro;)ro=Ui[--ji],Ui[ji]=null,rs=Ui[--ji],Ui[ji]=null,is=Ui[--ji],Ui[ji]=null}var Wn=null,jt=null,ut=!1,ao=null,Rr=!1,Rp=Error(i(519));function oo(r){var a=Error(i(418,""));throw Fu(Li(a,r)),Rp}function bT(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[le]=r,a[de]=c,l){case"dialog":et("cancel",a),et("close",a);break;case"iframe":case"object":case"embed":et("load",a);break;case"video":case"audio":for(l=0;l<hc.length;l++)et(hc[l],a);break;case"source":et("error",a);break;case"img":case"image":case"link":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"input":et("invalid",a),Su(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ns(a);break;case"select":et("invalid",a);break;case"textarea":et("invalid",a),Uh(a,c.value,c.defaultValue,c.children),Ns(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||F0(a.textContent,l)?(c.popover!=null&&(et("beforetoggle",a),et("toggle",a)),c.onScroll!=null&&et("scroll",a),c.onScrollEnd!=null&&et("scrollend",a),c.onClick!=null&&(a.onclick=Uf),a=!0):a=!1,a||oo(r)}function AT(r){for(Wn=r.return;Wn;)switch(Wn.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Wn=Wn.return}}function ju(r){if(r!==Wn)return!1;if(!ut)return AT(r),ut=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||zg(r.type,r.memoizedProps)),l=!l),l&&jt&&oo(r),AT(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){jt=dr(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}jt=null}}else a===27?(a=jt,Zs(r.type)?(r=Kg,Kg=null,jt=r):jt=a):jt=Wn?dr(r.stateNode.nextSibling):null;return!0}function Bu(){jt=Wn=null,ut=!1}function RT(){var r=ao;return r!==null&&(ti===null?ti=r:ti.push.apply(ti,r),ao=null),r}function Fu(r){ao===null?ao=[r]:ao.push(r)}var Cp=se(null),lo=null,ss=null;function Us(r,a,l){pe(Cp,a._currentValue),a._currentValue=l}function as(r){r._currentValue=Cp.current,ge(Cp)}function Ip(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function xp(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var U=0;U<a.length;U++)if(A.context===a[U]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),Ip(y.return,l,r),c||(w=null);break e}y=A.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=l,y=w.alternate,y!==null&&(y.lanes|=l),Ip(w,l,r),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function zu(r,a,l,c){r=null;for(var p=a,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var A=p.type;Ei(p.pendingProps.value,w.value)||(r!==null?r.push(A):r=[A])}}else if(p===rn.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(yc):r=[yc])}p=p.return}r!==null&&xp(a,r,l,c),a.flags|=262144}function sf(r){for(r=r.firstContext;r!==null;){if(!Ei(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function uo(r){lo=r,ss=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Mn(r){return CT(lo,r)}function af(r,a){return lo===null&&uo(r),CT(r,a)}function CT(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ss===null){if(r===null)throw Error(i(308));ss=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ss=ss.next=a;return l}var LN=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},kN=t.unstable_scheduleCallback,UN=t.unstable_NormalPriority,ln={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dp(){return{controller:new LN,data:new Map,refCount:0}}function Hu(r){r.refCount--,r.refCount===0&&kN(UN,function(){r.controller.abort()})}var qu=null,Pp=0,hl=0,fl=null;function jN(r,a){if(qu===null){var l=qu=[];Pp=0,hl=Mg(),fl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Pp++,a.then(IT,IT),a}function IT(){if(--Pp===0&&qu!==null){fl!==null&&(fl.status="fulfilled");var r=qu;qu=null,hl=0,fl=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function BN(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var xT=Y.S;Y.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&jN(r,a),xT!==null&&xT(r,a)};var co=se(null);function Np(){var r=co.current;return r!==null?r:bt.pooledCache}function of(r,a){a===null?pe(co,co.current):pe(co,a.pool)}function DT(){var r=Np();return r===null?null:{parent:ln._currentValue,pool:r}}var Gu=Error(i(460)),PT=Error(i(474)),lf=Error(i(542)),Mp={then:function(){}};function NT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function uf(){}function MT(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(uf,uf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,VT(r),r;default:if(typeof a.status=="string")a.then(uf,uf);else{if(r=bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,VT(r),r}throw Ku=a,Gu}}var Ku=null;function OT(){if(Ku===null)throw Error(i(459));var r=Ku;return Ku=null,r}function VT(r){if(r===Gu||r===lf)throw Error(i(483))}var js=!1;function Op(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Bs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Fs(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(mt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=ef(r),TT(r,null,l),a}return Zh(r,c,a,l),ef(r)}function $u(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,yi(r,l)}}function Lp(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=a:y=y.next=a}else p=y=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var kp=!1;function Wu(){if(kp){var r=fl;if(r!==null)throw r}}function Yu(r,a,l,c){kp=!1;var p=r.updateQueue;js=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var U=A,J=U.next;U.next=null,w===null?y=J:w.next=J,w=U;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,A=ae.lastBaseUpdate,A!==w&&(A===null?ae.firstBaseUpdate=J:A.next=J,ae.lastBaseUpdate=U))}if(y!==null){var ue=p.baseState;w=0,ae=J=U=null,A=y;do{var ee=A.lane&-536870913,te=ee!==A.lane;if(te?(st&ee)===ee:(c&ee)===ee){ee!==0&&ee===hl&&(kp=!0),ae!==null&&(ae=ae.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ue=r,Oe=A;ee=a;var _t=l;switch(Oe.tag){case 1:if(Ue=Oe.payload,typeof Ue=="function"){ue=Ue.call(_t,ue,ee);break e}ue=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Oe.payload,ee=typeof Ue=="function"?Ue.call(_t,ue,ee):Ue,ee==null)break e;ue=g({},ue,ee);break e;case 2:js=!0}}ee=A.callback,ee!==null&&(r.flags|=64,te&&(r.flags|=8192),te=p.callbacks,te===null?p.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ae===null?(J=ae=te,U=ue):ae=ae.next=te,w|=ee;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;te=A,A=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ae===null&&(U=ue),p.baseState=U,p.firstBaseUpdate=J,p.lastBaseUpdate=ae,y===null&&(p.shared.lanes=0),Ys|=w,r.lanes=w,r.memoizedState=ue}}function LT(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function kT(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)LT(l[r],a)}var dl=se(null),cf=se(0);function UT(r,a){r=ds,pe(cf,r),pe(dl,a),ds=r|a.baseLanes}function Up(){pe(cf,ds),pe(dl,dl.current)}function jp(){ds=cf.current,ge(dl),ge(cf)}var zs=0,Xe=null,yt=null,Xt=null,hf=!1,ml=!1,ho=!1,ff=0,Xu=0,pl=null,FN=0;function Gt(){throw Error(i(321))}function Bp(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Ei(r[l],a[l]))return!1;return!0}function Fp(r,a,l,c,p,y){return zs=y,Xe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Y.H=r===null||r.memoizedState===null?Tw:ww,ho=!1,y=l(c,p),ho=!1,ml&&(y=BT(a,l,c,p)),jT(r),y}function jT(r){Y.H=vf;var a=yt!==null&&yt.next!==null;if(zs=0,Xt=yt=Xe=null,hf=!1,Xu=0,pl=null,a)throw Error(i(300));r===null||pn||(r=r.dependencies,r!==null&&sf(r)&&(pn=!0))}function BT(r,a,l,c){Xe=r;var p=0;do{if(ml&&(pl=null),Xu=0,ml=!1,25<=p)throw Error(i(301));if(p+=1,Xt=yt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Y.H=WN,y=a(l,c)}while(ml);return y}function zN(){var r=Y.H,a=r.useState()[0];return a=typeof a.then=="function"?Qu(a):a,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&(Xe.flags|=1024),a}function zp(){var r=ff!==0;return ff=0,r}function Hp(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function qp(r){if(hf){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}hf=!1}zs=0,Xt=yt=Xe=null,ml=!1,Xu=ff=0,pl=null}function Zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Xe.memoizedState=Xt=r:Xt=Xt.next=r,Xt}function Qt(){if(yt===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var a=Xt===null?Xe.memoizedState:Xt.next;if(a!==null)Xt=a,yt=r;else{if(r===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Xt===null?Xe.memoizedState=Xt=r:Xt=Xt.next=r}return Xt}function Gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qu(r){var a=Xu;return Xu+=1,pl===null&&(pl=[]),r=MT(pl,r,a),a=Xe,(Xt===null?a.memoizedState:Xt.next)===null&&(a=a.alternate,Y.H=a===null||a.memoizedState===null?Tw:ww),r}function df(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Qu(r);if(r.$$typeof===k)return Mn(r)}throw Error(i(438,String(r)))}function Kp(r){var a=null,l=Xe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Xe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Gp(),Xe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=j;return a.index++,l}function os(r,a){return typeof a=="function"?a(r):a}function mf(r){var a=Qt();return $p(a,yt,r)}function $p(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}a.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{a=p.next;var A=w=null,U=null,J=a,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(st&ue)===ue:(zs&ue)===ue){var ee=J.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===hl&&(ae=!0);else if((zs&ee)===ee){J=J.next,ee===hl&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(A=U=ue,w=y):U=U.next=ue,Xe.lanes|=ee,Ys|=ee;ue=J.action,ho&&l(y,ue),y=J.hasEagerState?J.eagerState:l(y,ue)}else ee={lane:ue,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(A=U=ee,w=y):U=U.next=ee,Xe.lanes|=ue,Ys|=ue;J=J.next}while(J!==null&&J!==a);if(U===null?w=y:U.next=A,!Ei(y,r.memoizedState)&&(pn=!0,ae&&(l=fl,l!==null)))throw l;r.memoizedState=y,r.baseState=w,r.baseQueue=U,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Wp(r){var a=Qt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,y=a.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=r(y,w.action),w=w.next;while(w!==p);Ei(y,a.memoizedState)||(pn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function FT(r,a,l){var c=Xe,p=Qt(),y=ut;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var w=!Ei((yt||p).memoizedState,l);w&&(p.memoizedState=l,pn=!0),p=p.queue;var A=qT.bind(null,c,p,r);if(Ju(2048,8,A,[r]),p.getSnapshot!==a||w||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,gl(9,pf(),HT.bind(null,c,p,l,a),null),bt===null)throw Error(i(349));y||(zs&124)!==0||zT(c,a,l)}return l}function zT(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Xe.updateQueue,a===null?(a=Gp(),Xe.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function HT(r,a,l,c){a.value=l,a.getSnapshot=c,GT(a)&&KT(r)}function qT(r,a,l){return l(function(){GT(a)&&KT(r)})}function GT(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Ei(r,l)}catch{return!0}}function KT(r){var a=ol(r,2);a!==null&&Ri(a,r,2)}function Yp(r){var a=Zn();if(typeof r=="function"){var l=r;if(r=l(),ho){Fn(!0);try{l()}finally{Fn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:r},a}function $T(r,a,l,c){return r.baseState=l,$p(r,yt,typeof c=="function"?c:os)}function HN(r,a,l,c,p){if(yf(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};Y.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,WT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function WT(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var y=Y.T,w={};Y.T=w;try{var A=l(p,c),U=Y.S;U!==null&&U(w,A),YT(r,a,A)}catch(J){Xp(r,a,J)}finally{Y.T=y}}else try{y=l(p,c),YT(r,a,y)}catch(J){Xp(r,a,J)}}function YT(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){XT(r,a,c)},function(c){return Xp(r,a,c)}):XT(r,a,l)}function XT(r,a,l){a.status="fulfilled",a.value=l,QT(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,WT(r,l)))}function Xp(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,QT(a),a=a.next;while(a!==c)}r.action=null}function QT(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function JT(r,a){return a}function ZT(r,a){if(ut){var l=bt.formState;if(l!==null){e:{var c=Xe;if(ut){if(jt){t:{for(var p=jt,y=Rr;p.nodeType!==8;){if(!y){p=null;break t}if(p=dr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){jt=dr(p.nextSibling),c=p.data==="F!";break e}}oo(c)}c=!1}c&&(a=l[0])}}return l=Zn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JT,lastRenderedState:a},l.queue=c,l=vw.bind(null,Xe,c),c.dispatch=l,c=Yp(!1),y=tg.bind(null,Xe,!1,c.queue),c=Zn(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=HN.bind(null,Xe,p,y,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function ew(r){var a=Qt();return tw(a,yt,r)}function tw(r,a,l){if(a=$p(r,a,JT)[0],r=mf(os)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Qu(a)}catch(w){throw w===Gu?lf:w}else c=a;a=Qt();var p=a.queue,y=p.dispatch;return l!==a.memoizedState&&(Xe.flags|=2048,gl(9,pf(),qN.bind(null,p,l),null)),[c,y,r]}function qN(r,a){r.action=a}function nw(r){var a=Qt(),l=yt;if(l!==null)return tw(a,l,r);Qt(),a=a.memoizedState,l=Qt();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function gl(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Xe.updateQueue,a===null&&(a=Gp(),Xe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function pf(){return{destroy:void 0,resource:void 0}}function iw(){return Qt().memoizedState}function gf(r,a,l,c){var p=Zn();c=c===void 0?null:c,Xe.flags|=r,p.memoizedState=gl(1|a,pf(),l,c)}function Ju(r,a,l,c){var p=Qt();c=c===void 0?null:c;var y=p.memoizedState.inst;yt!==null&&c!==null&&Bp(c,yt.memoizedState.deps)?p.memoizedState=gl(a,y,l,c):(Xe.flags|=r,p.memoizedState=gl(1|a,y,l,c))}function rw(r,a){gf(8390656,8,r,a)}function sw(r,a){Ju(2048,8,r,a)}function aw(r,a){return Ju(4,2,r,a)}function ow(r,a){return Ju(4,4,r,a)}function lw(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function uw(r,a,l){l=l!=null?l.concat([r]):null,Ju(4,4,lw.bind(null,a,r),l)}function Qp(){}function cw(r,a){var l=Qt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Bp(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function hw(r,a){var l=Qt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Bp(a,c[1]))return c[0];if(c=r(),ho){Fn(!0);try{r()}finally{Fn(!1)}}return l.memoizedState=[c,a],c}function Jp(r,a,l){return l===void 0||(zs&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=m0(),Xe.lanes|=r,Ys|=r,l)}function fw(r,a,l,c){return Ei(l,a)?l:dl.current!==null?(r=Jp(r,l,c),Ei(r,a)||(pn=!0),r):(zs&42)===0?(pn=!0,r.memoizedState=l):(r=m0(),Xe.lanes|=r,Ys|=r,a)}function dw(r,a,l,c,p){var y=he.p;he.p=y!==0&&8>y?y:8;var w=Y.T,A={};Y.T=A,tg(r,!1,a,l);try{var U=p(),J=Y.S;if(J!==null&&J(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ae=BN(U,c);Zu(r,a,ae,Ai(r))}else Zu(r,a,c,Ai(r))}catch(ue){Zu(r,a,{then:function(){},status:"rejected",reason:ue},Ai())}finally{he.p=y,Y.T=w}}function GN(){}function Zp(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=mw(r).queue;dw(r,p,a,me,l===null?GN:function(){return pw(r),l(c)})}function mw(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:me},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function pw(r){var a=mw(r).next.queue;Zu(r,a,{},Ai())}function eg(){return Mn(yc)}function gw(){return Qt().memoizedState}function yw(){return Qt().memoizedState}function KN(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=Ai();r=Bs(l);var c=Fs(a,r,l);c!==null&&(Ri(c,a,l),$u(c,a,l)),a={cache:Dp()},r.payload=a;return}a=a.return}}function $N(r,a,l){var c=Ai();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},yf(r)?_w(a,l):(l=Ep(r,a,l,c),l!==null&&(Ri(l,r,c),Ew(l,a,c)))}function vw(r,a,l){var c=Ai();Zu(r,a,l,c)}function Zu(r,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(yf(r))_w(a,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,A=y(w,l);if(p.hasEagerState=!0,p.eagerState=A,Ei(A,w))return Zh(r,a,p,0),bt===null&&Jh(),!1}catch{}finally{}if(l=Ep(r,a,p,c),l!==null)return Ri(l,r,c),Ew(l,a,c),!0}return!1}function tg(r,a,l,c){if(c={lane:2,revertLane:Mg(),action:c,hasEagerState:!1,eagerState:null,next:null},yf(r)){if(a)throw Error(i(479))}else a=Ep(r,l,c,2),a!==null&&Ri(a,r,2)}function yf(r){var a=r.alternate;return r===Xe||a!==null&&a===Xe}function _w(r,a){ml=hf=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Ew(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,yi(r,l)}}var vf={readContext:Mn,use:df,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt,useHostTransitionStatus:Gt,useFormState:Gt,useActionState:Gt,useOptimistic:Gt,useMemoCache:Gt,useCacheRefresh:Gt},Tw={readContext:Mn,use:df,useCallback:function(r,a){return Zn().memoizedState=[r,a===void 0?null:a],r},useContext:Mn,useEffect:rw,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,gf(4194308,4,lw.bind(null,a,r),l)},useLayoutEffect:function(r,a){return gf(4194308,4,r,a)},useInsertionEffect:function(r,a){gf(4,2,r,a)},useMemo:function(r,a){var l=Zn();a=a===void 0?null:a;var c=r();if(ho){Fn(!0);try{r()}finally{Fn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=Zn();if(l!==void 0){var p=l(a);if(ho){Fn(!0);try{l(a)}finally{Fn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=$N.bind(null,Xe,r),[c.memoizedState,r]},useRef:function(r){var a=Zn();return r={current:r},a.memoizedState=r},useState:function(r){r=Yp(r);var a=r.queue,l=vw.bind(null,Xe,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Qp,useDeferredValue:function(r,a){var l=Zn();return Jp(l,r,a)},useTransition:function(){var r=Yp(!1);return r=dw.bind(null,Xe,r.queue,!0,!1),Zn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Xe,p=Zn();if(ut){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),bt===null)throw Error(i(349));(st&124)!==0||zT(c,a,l)}p.memoizedState=l;var y={value:l,getSnapshot:a};return p.queue=y,rw(qT.bind(null,c,y,r),[r]),c.flags|=2048,gl(9,pf(),HT.bind(null,c,y,l,a),null),l},useId:function(){var r=Zn(),a=bt.identifierPrefix;if(ut){var l=rs,c=is;l=(c&~(1<<32-sn(c)-1)).toString(32)+l,a=""+a+"R"+l,l=ff++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=FN++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:eg,useFormState:ZT,useActionState:ZT,useOptimistic:function(r){var a=Zn();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=tg.bind(null,Xe,!0,l),l.dispatch=a,[r,a]},useMemoCache:Kp,useCacheRefresh:function(){return Zn().memoizedState=KN.bind(null,Xe)}},ww={readContext:Mn,use:df,useCallback:cw,useContext:Mn,useEffect:sw,useImperativeHandle:uw,useInsertionEffect:aw,useLayoutEffect:ow,useMemo:hw,useReducer:mf,useRef:iw,useState:function(){return mf(os)},useDebugValue:Qp,useDeferredValue:function(r,a){var l=Qt();return fw(l,yt.memoizedState,r,a)},useTransition:function(){var r=mf(os)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Qu(r),a]},useSyncExternalStore:FT,useId:gw,useHostTransitionStatus:eg,useFormState:ew,useActionState:ew,useOptimistic:function(r,a){var l=Qt();return $T(l,yt,r,a)},useMemoCache:Kp,useCacheRefresh:yw},WN={readContext:Mn,use:df,useCallback:cw,useContext:Mn,useEffect:sw,useImperativeHandle:uw,useInsertionEffect:aw,useLayoutEffect:ow,useMemo:hw,useReducer:Wp,useRef:iw,useState:function(){return Wp(os)},useDebugValue:Qp,useDeferredValue:function(r,a){var l=Qt();return yt===null?Jp(l,r,a):fw(l,yt.memoizedState,r,a)},useTransition:function(){var r=Wp(os)[0],a=Qt().memoizedState;return[typeof r=="boolean"?r:Qu(r),a]},useSyncExternalStore:FT,useId:gw,useHostTransitionStatus:eg,useFormState:nw,useActionState:nw,useOptimistic:function(r,a){var l=Qt();return yt!==null?$T(l,yt,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Kp,useCacheRefresh:yw},yl=null,ec=0;function _f(r){var a=ec;return ec+=1,yl===null&&(yl=[]),MT(yl,r,a)}function tc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Ef(r,a){throw a.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Sw(r){var a=r._init;return a(r._payload)}function bw(r){function a($,q){if(r){var X=$.deletions;X===null?($.deletions=[q],$.flags|=16):X.push(q)}}function l($,q){if(!r)return null;for(;q!==null;)a($,q),q=q.sibling;return null}function c($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function p($,q){return $=ns($,q),$.index=0,$.sibling=null,$}function y($,q,X){return $.index=X,r?(X=$.alternate,X!==null?(X=X.index,X<q?($.flags|=67108866,q):X):($.flags|=67108866,q)):($.flags|=1048576,q)}function w($){return r&&$.alternate===null&&($.flags|=67108866),$}function A($,q,X,oe){return q===null||q.tag!==6?(q=wp(X,$.mode,oe),q.return=$,q):(q=p(q,X),q.return=$,q)}function U($,q,X,oe){var Se=X.type;return Se===b?ae($,q,X.props.children,oe,X.key):q!==null&&(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Sw(Se)===q.type)?(q=p(q,X.props),tc(q,X),q.return=$,q):(q=tf(X.type,X.key,X.props,null,$.mode,oe),tc(q,X),q.return=$,q)}function J($,q,X,oe){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Sp(X,$.mode,oe),q.return=$,q):(q=p(q,X.children||[]),q.return=$,q)}function ae($,q,X,oe,Se){return q===null||q.tag!==7?(q=io(X,$.mode,oe,Se),q.return=$,q):(q=p(q,X),q.return=$,q)}function ue($,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=wp(""+q,$.mode,X),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return X=tf(q.type,q.key,q.props,null,$.mode,X),tc(X,q),X.return=$,X;case S:return q=Sp(q,$.mode,X),q.return=$,q;case C:var oe=q._init;return q=oe(q._payload),ue($,q,X)}if(Ke(q)||G(q))return q=io(q,$.mode,X,null),q.return=$,q;if(typeof q.then=="function")return ue($,_f(q),X);if(q.$$typeof===k)return ue($,af($,q),X);Ef($,q)}return null}function ee($,q,X,oe){var Se=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Se!==null?null:A($,q,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Se?U($,q,X,oe):null;case S:return X.key===Se?J($,q,X,oe):null;case C:return Se=X._init,X=Se(X._payload),ee($,q,X,oe)}if(Ke(X)||G(X))return Se!==null?null:ae($,q,X,oe,null);if(typeof X.then=="function")return ee($,q,_f(X),oe);if(X.$$typeof===k)return ee($,q,af($,X),oe);Ef($,X)}return null}function te($,q,X,oe,Se){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(X)||null,A(q,$,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case E:return $=$.get(oe.key===null?X:oe.key)||null,U(q,$,oe,Se);case S:return $=$.get(oe.key===null?X:oe.key)||null,J(q,$,oe,Se);case C:var Qe=oe._init;return oe=Qe(oe._payload),te($,q,X,oe,Se)}if(Ke(oe)||G(oe))return $=$.get(X)||null,ae(q,$,oe,Se,null);if(typeof oe.then=="function")return te($,q,X,_f(oe),Se);if(oe.$$typeof===k)return te($,q,X,af(q,oe),Se);Ef(q,oe)}return null}function Ue($,q,X,oe){for(var Se=null,Qe=null,De=q,Ve=q=0,yn=null;De!==null&&Ve<X.length;Ve++){De.index>Ve?(yn=De,De=null):yn=De.sibling;var lt=ee($,De,X[Ve],oe);if(lt===null){De===null&&(De=yn);break}r&&De&&lt.alternate===null&&a($,De),q=y(lt,q,Ve),Qe===null?Se=lt:Qe.sibling=lt,Qe=lt,De=yn}if(Ve===X.length)return l($,De),ut&&so($,Ve),Se;if(De===null){for(;Ve<X.length;Ve++)De=ue($,X[Ve],oe),De!==null&&(q=y(De,q,Ve),Qe===null?Se=De:Qe.sibling=De,Qe=De);return ut&&so($,Ve),Se}for(De=c(De);Ve<X.length;Ve++)yn=te(De,$,Ve,X[Ve],oe),yn!==null&&(r&&yn.alternate!==null&&De.delete(yn.key===null?Ve:yn.key),q=y(yn,q,Ve),Qe===null?Se=yn:Qe.sibling=yn,Qe=yn);return r&&De.forEach(function(ra){return a($,ra)}),ut&&so($,Ve),Se}function Oe($,q,X,oe){if(X==null)throw Error(i(151));for(var Se=null,Qe=null,De=q,Ve=q=0,yn=null,lt=X.next();De!==null&&!lt.done;Ve++,lt=X.next()){De.index>Ve?(yn=De,De=null):yn=De.sibling;var ra=ee($,De,lt.value,oe);if(ra===null){De===null&&(De=yn);break}r&&De&&ra.alternate===null&&a($,De),q=y(ra,q,Ve),Qe===null?Se=ra:Qe.sibling=ra,Qe=ra,De=yn}if(lt.done)return l($,De),ut&&so($,Ve),Se;if(De===null){for(;!lt.done;Ve++,lt=X.next())lt=ue($,lt.value,oe),lt!==null&&(q=y(lt,q,Ve),Qe===null?Se=lt:Qe.sibling=lt,Qe=lt);return ut&&so($,Ve),Se}for(De=c(De);!lt.done;Ve++,lt=X.next())lt=te(De,$,Ve,lt.value,oe),lt!==null&&(r&&lt.alternate!==null&&De.delete(lt.key===null?Ve:lt.key),q=y(lt,q,Ve),Qe===null?Se=lt:Qe.sibling=lt,Qe=lt);return r&&De.forEach(function(YM){return a($,YM)}),ut&&so($,Ve),Se}function _t($,q,X,oe){if(typeof X=="object"&&X!==null&&X.type===b&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var Se=X.key;q!==null;){if(q.key===Se){if(Se=X.type,Se===b){if(q.tag===7){l($,q.sibling),oe=p(q,X.props.children),oe.return=$,$=oe;break e}}else if(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&Sw(Se)===q.type){l($,q.sibling),oe=p(q,X.props),tc(oe,X),oe.return=$,$=oe;break e}l($,q);break}else a($,q);q=q.sibling}X.type===b?(oe=io(X.props.children,$.mode,oe,X.key),oe.return=$,$=oe):(oe=tf(X.type,X.key,X.props,null,$.mode,oe),tc(oe,X),oe.return=$,$=oe)}return w($);case S:e:{for(Se=X.key;q!==null;){if(q.key===Se)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){l($,q.sibling),oe=p(q,X.children||[]),oe.return=$,$=oe;break e}else{l($,q);break}else a($,q);q=q.sibling}oe=Sp(X,$.mode,oe),oe.return=$,$=oe}return w($);case C:return Se=X._init,X=Se(X._payload),_t($,q,X,oe)}if(Ke(X))return Ue($,q,X,oe);if(G(X)){if(Se=G(X),typeof Se!="function")throw Error(i(150));return X=Se.call(X),Oe($,q,X,oe)}if(typeof X.then=="function")return _t($,q,_f(X),oe);if(X.$$typeof===k)return _t($,q,af($,X),oe);Ef($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(l($,q.sibling),oe=p(q,X),oe.return=$,$=oe):(l($,q),oe=wp(X,$.mode,oe),oe.return=$,$=oe),w($)):l($,q)}return function($,q,X,oe){try{ec=0;var Se=_t($,q,X,oe);return yl=null,Se}catch(De){if(De===Gu||De===lf)throw De;var Qe=Ti(29,De,null,$.mode);return Qe.lanes=oe,Qe.return=$,Qe}finally{}}}var vl=bw(!0),Aw=bw(!1),Bi=se(null),Cr=null;function Hs(r){var a=r.alternate;pe(un,un.current&1),pe(Bi,r),Cr===null&&(a===null||dl.current!==null||a.memoizedState!==null)&&(Cr=r)}function Rw(r){if(r.tag===22){if(pe(un,un.current),pe(Bi,r),Cr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Cr=r)}}else qs()}function qs(){pe(un,un.current),pe(Bi,Bi.current)}function ls(r){ge(Bi),Cr===r&&(Cr=null),ge(un)}var un=se(0);function Tf(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ng(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ig={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=Ai(),p=Bs(c);p.payload=a,l!=null&&(p.callback=l),a=Fs(r,p,c),a!==null&&(Ri(a,r,c),$u(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=Ai(),p=Bs(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Fs(r,p,c),a!==null&&(Ri(a,r,c),$u(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=Ai(),c=Bs(l);c.tag=2,a!=null&&(c.callback=a),a=Fs(r,c,l),a!==null&&(Ri(a,r,l),$u(a,r,l))}};function Cw(r,a,l,c,p,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,w):a.prototype&&a.prototype.isPureReactComponent?!ku(l,c)||!ku(p,y):!0}function Iw(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&ig.enqueueReplaceState(a,a.state,null)}function fo(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=g({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}var wf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function xw(r){wf(r)}function Dw(r){console.error(r)}function Pw(r){wf(r)}function Sf(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Nw(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function rg(r,a,l){return l=Bs(l),l.tag=3,l.payload={element:null},l.callback=function(){Sf(r,a)},l}function Mw(r){return r=Bs(r),r.tag=3,r}function Ow(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){Nw(a,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){Nw(a,l,c),typeof p!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function YN(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&zu(a,l,p,!0),l=Bi.current,l!==null){switch(l.tag){case 13:return Cr===null?Ig():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===Mp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Dg(r,c,p)),!1;case 22:return l.flags|=65536,c===Mp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Dg(r,c,p)),!1}throw Error(i(435,l.tag))}return Dg(r,c,p),Ig(),!1}if(ut)return a=Bi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==Rp&&(r=Error(i(422),{cause:c}),Fu(Li(r,l)))):(c!==Rp&&(a=Error(i(423),{cause:c}),Fu(Li(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=Li(c,l),p=rg(r.stateNode,c,p),Lp(r,p),Bt!==4&&(Bt=2)),!1;var y=Error(i(520),{cause:c});if(y=Li(y,l),lc===null?lc=[y]:lc.push(y),Bt!==4&&(Bt=2),a===null)return!0;c=Li(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=rg(l.stateNode,c,r),Lp(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xs===null||!Xs.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Mw(p),Ow(p,r,l,c),Lp(l,p),!1}l=l.return}while(l!==null);return!1}var Vw=Error(i(461)),pn=!1;function Sn(r,a,l,c){a.child=r===null?Aw(a,null,l,c):vl(a,r.child,l,c)}function Lw(r,a,l,c,p){l=l.render;var y=a.ref;if("ref"in c){var w={};for(var A in c)A!=="ref"&&(w[A]=c[A])}else w=c;return uo(a),c=Fp(r,a,l,w,y,p),A=zp(),r!==null&&!pn?(Hp(r,a,p),us(r,a,p)):(ut&&A&&bp(a),a.flags|=1,Sn(r,a,c,p),a.child)}function kw(r,a,l,c,p){if(r===null){var y=l.type;return typeof y=="function"&&!Tp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Uw(r,a,y,c,p)):(r=tf(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!fg(r,p)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:ku,l(w,c)&&r.ref===a.ref)return us(r,a,p)}return a.flags|=1,r=ns(y,c),r.ref=a.ref,r.return=a,a.child=r}function Uw(r,a,l,c,p){if(r!==null){var y=r.memoizedProps;if(ku(y,c)&&r.ref===a.ref)if(pn=!1,a.pendingProps=c=y,fg(r,p))(r.flags&131072)!==0&&(pn=!0);else return a.lanes=r.lanes,us(r,a,p)}return sg(r,a,l,c,p)}function jw(r,a,l){var c=a.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,r!==null){for(p=a.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return Bw(r,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&of(a,y!==null?y.cachePool:null),y!==null?UT(a,y):Up(),Rw(a);else return a.lanes=a.childLanes=536870912,Bw(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(of(a,y.cachePool),UT(a,y),qs(),a.memoizedState=null):(r!==null&&of(a,null),Up(),qs());return Sn(r,a,p,l),a.child}function Bw(r,a,l,c){var p=Np();return p=p===null?null:{parent:ln._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},r!==null&&of(a,null),Up(),Rw(a),r!==null&&zu(r,a,c,!0),null}function bf(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function sg(r,a,l,c,p){return uo(a),l=Fp(r,a,l,c,void 0,p),c=zp(),r!==null&&!pn?(Hp(r,a,p),us(r,a,p)):(ut&&c&&bp(a),a.flags|=1,Sn(r,a,l,p),a.child)}function Fw(r,a,l,c,p,y){return uo(a),a.updateQueue=null,l=BT(a,c,l,p),jT(r),c=zp(),r!==null&&!pn?(Hp(r,a,y),us(r,a,y)):(ut&&c&&bp(a),a.flags|=1,Sn(r,a,l,y),a.child)}function zw(r,a,l,c,p){if(uo(a),a.stateNode===null){var y=ll,w=l.contextType;typeof w=="object"&&w!==null&&(y=Mn(w)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ig,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},Op(a),w=l.contextType,y.context=typeof w=="object"&&w!==null?Mn(w):ll,y.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(ng(a,l,w,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&ig.enqueueReplaceState(y,y.state,null),Yu(a,c,y,p),Wu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){y=a.stateNode;var A=a.memoizedProps,U=fo(l,A);y.props=U;var J=y.context,ae=l.contextType;w=ll,typeof ae=="object"&&ae!==null&&(w=Mn(ae));var ue=l.getDerivedStateFromProps;ae=typeof ue=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||J!==w)&&Iw(a,y,c,w),js=!1;var ee=a.memoizedState;y.state=ee,Yu(a,c,y,p),Wu(),J=a.memoizedState,A||ee!==J||js?(typeof ue=="function"&&(ng(a,l,ue,c),J=a.memoizedState),(U=js||Cw(a,l,U,c,ee,J,w))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=J),y.props=c,y.state=J,y.context=w,c=U):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Vp(r,a),w=a.memoizedProps,ae=fo(l,w),y.props=ae,ue=a.pendingProps,ee=y.context,J=l.contextType,U=ll,typeof J=="object"&&J!==null&&(U=Mn(J)),A=l.getDerivedStateFromProps,(J=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ue||ee!==U)&&Iw(a,y,c,U),js=!1,ee=a.memoizedState,y.state=ee,Yu(a,c,y,p),Wu();var te=a.memoizedState;w!==ue||ee!==te||js||r!==null&&r.dependencies!==null&&sf(r.dependencies)?(typeof A=="function"&&(ng(a,l,A,c),te=a.memoizedState),(ae=js||Cw(a,l,ae,c,ee,te,U)||r!==null&&r.dependencies!==null&&sf(r.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,te,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,te,U)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),y.props=c,y.state=te,y.context=U,c=ae):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(a.flags|=1024),c=!1)}return y=c,bf(r,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&c?(a.child=vl(a,r.child,null,p),a.child=vl(a,null,l,p)):Sn(r,a,l,p),a.memoizedState=y.state,r=a.child):r=us(r,a,p),r}function Hw(r,a,l,c){return Bu(),a.flags|=256,Sn(r,a,l,c),a.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function og(r){return{baseLanes:r,cachePool:DT()}}function lg(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Fi),r}function qw(r,a,l){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(un.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(ut){if(p?Hs(a):qs(),ut){var A=jt,U;if(U=A){e:{for(U=A,A=Rr;U.nodeType!==8;){if(!A){A=null;break e}if(U=dr(U.nextSibling),U===null){A=null;break e}}A=U}A!==null?(a.memoizedState={dehydrated:A,treeContext:ro!==null?{id:is,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},U=Ti(18,null,null,0),U.stateNode=A,U.return=a,a.child=U,Wn=a,jt=null,U=!0):U=!1}U||oo(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Gg(A)?a.lanes=32:a.lanes=536870912,null;ls(a)}return A=c.children,c=c.fallback,p?(qs(),p=a.mode,A=Af({mode:"hidden",children:A},p),c=io(c,p,l,null),A.return=a,c.return=a,A.sibling=c,a.child=A,p=a.child,p.memoizedState=og(l),p.childLanes=lg(r,w,l),a.memoizedState=ag,c):(Hs(a),ug(a,A))}if(U=r.memoizedState,U!==null&&(A=U.dehydrated,A!==null)){if(y)a.flags&256?(Hs(a),a.flags&=-257,a=cg(r,a,l)):a.memoizedState!==null?(qs(),a.child=r.child,a.flags|=128,a=null):(qs(),p=c.fallback,A=a.mode,c=Af({mode:"visible",children:c.children},A),p=io(p,A,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,vl(a,r.child,null,l),c=a.child,c.memoizedState=og(l),c.childLanes=lg(r,w,l),a.memoizedState=ag,a=p);else if(Hs(a),Gg(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var J=w.dgst;w=J,c=Error(i(419)),c.stack="",c.digest=w,Fu({value:c,source:null,stack:null}),a=cg(r,a,l)}else if(pn||zu(r,a,l,!1),w=(l&r.childLanes)!==0,pn||w){if(w=bt,w!==null&&(c=l&-l,c=(c&42)!==0?1:Ba(c),c=(c&(w.suspendedLanes|l))!==0?0:c,c!==0&&c!==U.retryLane))throw U.retryLane=c,ol(r,c),Ri(w,r,c),Vw;A.data==="$?"||Ig(),a=cg(r,a,l)}else A.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=U.treeContext,jt=dr(A.nextSibling),Wn=a,ut=!0,ao=null,Rr=!1,r!==null&&(Ui[ji++]=is,Ui[ji++]=rs,Ui[ji++]=ro,is=r.id,rs=r.overflow,ro=a),a=ug(a,c.children),a.flags|=4096);return a}return p?(qs(),p=c.fallback,A=a.mode,U=r.child,J=U.sibling,c=ns(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,J!==null?p=ns(J,p):(p=io(p,A,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,A=r.child.memoizedState,A===null?A=og(l):(U=A.cachePool,U!==null?(J=ln._currentValue,U=U.parent!==J?{parent:J,pool:J}:U):U=DT(),A={baseLanes:A.baseLanes|l,cachePool:U}),p.memoizedState=A,p.childLanes=lg(r,w,l),a.memoizedState=ag,c):(Hs(a),l=r.child,r=l.sibling,l=ns(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=l,a.memoizedState=null,l)}function ug(r,a){return a=Af({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Af(r,a){return r=Ti(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cg(r,a,l){return vl(a,r.child,null,l),r=ug(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Gw(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),Ip(r.return,a,l)}function hg(r,a,l,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=p)}function Kw(r,a,l){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(Sn(r,a,c.children,l),c=un.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gw(r,l,a);else if(r.tag===19)Gw(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(pe(un,c),p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&Tf(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),hg(a,!1,p,l,y);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&Tf(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}hg(a,!0,l,null,y);break;case"together":hg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function us(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Ys|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(zu(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=ns(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=ns(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function fg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&sf(r)))}function XN(r,a,l){switch(a.tag){case 3:ct(a,a.stateNode.containerInfo),Us(a,ln,r.memoizedState.cache),Bu();break;case 27:case 5:Ut(a);break;case 4:ct(a,a.stateNode.containerInfo);break;case 10:Us(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Hs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?qw(r,a,l):(Hs(a),r=us(r,a,l),r!==null?r.sibling:null);Hs(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(zu(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return Kw(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pe(un,un.current),c)break;return null;case 22:case 23:return a.lanes=0,jw(r,a,l);case 24:Us(a,ln,r.memoizedState.cache)}return us(r,a,l)}function $w(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)pn=!0;else{if(!fg(r,l)&&(a.flags&128)===0)return pn=!1,XN(r,a,l);pn=(r.flags&131072)!==0}else pn=!1,ut&&(a.flags&1048576)!==0&&ST(a,rf,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")Tp(c)?(r=fo(c,r),a.tag=1,a=zw(null,a,c,r,l)):(a.tag=0,a=sg(null,a,c,r,l));else{if(c!=null){if(p=c.$$typeof,p===Z){a.tag=11,a=Lw(null,a,c,r,l);break e}else if(p===I){a.tag=14,a=kw(null,a,c,r,l);break e}}throw a=xe(c)||c,Error(i(306,a,""))}}return a;case 0:return sg(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=fo(c,a.pendingProps),zw(r,a,c,p,l);case 3:e:{if(ct(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var y=a.memoizedState;p=y.element,Vp(r,a),Yu(a,c,null,l);var w=a.memoizedState;if(c=w.cache,Us(a,ln,c),c!==y.cache&&xp(a,[ln],l,!0),Wu(),c=w.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Hw(r,a,c,l);break e}else if(c!==p){p=Li(Error(i(424)),a),Fu(p),a=Hw(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(jt=dr(r.firstChild),Wn=a,ut=!0,ao=null,Rr=!0,l=Aw(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Bu(),c===p){a=us(r,a,l);break e}Sn(r,a,c,l)}a=a.child}return a;case 26:return bf(r,a),r===null?(l=Q0(a.type,null,a.pendingProps,null))?a.memoizedState=l:ut||(l=a.type,r=a.pendingProps,c=jf(Ne.current).createElement(l),c[le]=a,c[de]=r,An(c,l,r),Be(c),a.stateNode=c):a.memoizedState=Q0(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ut(a),r===null&&ut&&(c=a.stateNode=W0(a.type,a.pendingProps,Ne.current),Wn=a,Rr=!0,p=jt,Zs(a.type)?(Kg=p,jt=dr(c.firstChild)):jt=p),Sn(r,a,a.pendingProps.children,l),bf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ut&&((p=c=jt)&&(c=bM(c,a.type,a.pendingProps,Rr),c!==null?(a.stateNode=c,Wn=a,jt=dr(c.firstChild),Rr=!1,p=!0):p=!1),p||oo(a)),Ut(a),p=a.type,y=a.pendingProps,w=r!==null?r.memoizedProps:null,c=y.children,zg(p,y)?c=null:w!==null&&zg(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=Fp(r,a,zN,null,null,l),yc._currentValue=p),bf(r,a),Sn(r,a,c,l),a.child;case 6:return r===null&&ut&&((r=l=jt)&&(l=AM(l,a.pendingProps,Rr),l!==null?(a.stateNode=l,Wn=a,jt=null,r=!0):r=!1),r||oo(a)),null;case 13:return qw(r,a,l);case 4:return ct(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=vl(a,null,c,l):Sn(r,a,c,l),a.child;case 11:return Lw(r,a,a.type,a.pendingProps,l);case 7:return Sn(r,a,a.pendingProps,l),a.child;case 8:return Sn(r,a,a.pendingProps.children,l),a.child;case 12:return Sn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Us(a,a.type,c.value),Sn(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,uo(a),p=Mn(p),c=c(p),a.flags|=1,Sn(r,a,c,l),a.child;case 14:return kw(r,a,a.type,a.pendingProps,l);case 15:return Uw(r,a,a.type,a.pendingProps,l);case 19:return Kw(r,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},r===null?(l=Af(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=ns(r.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return jw(r,a,l);case 24:return uo(a),c=Mn(ln),r===null?(p=Np(),p===null&&(p=bt,y=Dp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),a.memoizedState={parent:c,cache:p},Op(a),Us(a,ln,p)):((r.lanes&l)!==0&&(Vp(r,a),Yu(a,null,null,l),Wu()),p=r.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Us(a,ln,c)):(c=y.cache,Us(a,ln,c),c!==p.cache&&xp(a,[ln],l,!0))),Sn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function cs(r){r.flags|=4}function Ww(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!nS(a)){if(a=Bi.current,a!==null&&((st&4194048)===st?Cr!==null:(st&62914560)!==st&&(st&536870912)===0||a!==Cr))throw Ku=Mp,PT;r.flags|=8192}}function Rf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Sr():536870912,r.lanes|=a,wl|=a)}function nc(r,a){if(!ut)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Vt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function QN(r,a,l){var c=a.pendingProps;switch(Ap(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(a),null;case 1:return Vt(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),as(ln),ci(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(ju(a)?cs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,RT())),Vt(a),null;case 26:return l=a.memoizedState,r===null?(cs(a),l!==null?(Vt(a),Ww(a,l)):(Vt(a),a.flags&=-16777217)):l?l!==r.memoizedState?(cs(a),Vt(a),Ww(a,l)):(Vt(a),a.flags&=-16777217):(r.memoizedProps!==c&&cs(a),Vt(a),a.flags&=-16777217),null;case 27:hi(a),l=Ne.current;var p=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==c&&cs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Vt(a),null}r=ve.current,ju(a)?bT(a):(r=W0(p,c,l),a.stateNode=r,cs(a))}return Vt(a),null;case 5:if(hi(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&cs(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Vt(a),null}if(r=ve.current,ju(a))bT(a);else{switch(p=jf(Ne.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}r[le]=a,r[de]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=r;e:switch(An(r,l,c),l){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cs(a)}}return Vt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&cs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ne.current,ju(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=Wn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[le]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||F0(r.nodeValue,l)),r||oo(a)}else r=jf(r).createTextNode(c),r[le]=a,a.stateNode=r}return Vt(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=ju(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[le]=a}else Bu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vt(a),p=!1}else p=RT(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(ls(a),a):(ls(a),null)}if(ls(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,r=r!==null&&r.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),Rf(a,a.updateQueue),Vt(a),null;case 4:return ci(),r===null&&kg(a.stateNode.containerInfo),Vt(a),null;case 10:return as(a.type),Vt(a),null;case 19:if(ge(un),p=a.memoizedState,p===null)return Vt(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)nc(p,!1);else{if(Bt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Tf(r),y!==null){for(a.flags|=128,nc(p,!1),r=y.updateQueue,a.updateQueue=r,Rf(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)wT(l,r),l=l.sibling;return pe(un,un.current&1|2),a.child}r=r.sibling}p.tail!==null&&Tn()>xf&&(a.flags|=128,c=!0,nc(p,!1),a.lanes=4194304)}else{if(!c)if(r=Tf(y),r!==null){if(a.flags|=128,c=!0,r=r.updateQueue,a.updateQueue=r,Rf(a,r),nc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!ut)return Vt(a),null}else 2*Tn()-p.renderingStartTime>xf&&l!==536870912&&(a.flags|=128,c=!0,nc(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(r=p.last,r!==null?r.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Tn(),a.sibling=null,r=un.current,pe(un,c?r&1|2:r&1),a):(Vt(a),null);case 22:case 23:return ls(a),jp(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Vt(a),a.subtreeFlags&6&&(a.flags|=8192)):Vt(a),l=a.updateQueue,l!==null&&Rf(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&ge(co),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),as(ln),Vt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function JN(r,a){switch(Ap(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return as(ln),ci(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return hi(a),null;case 13:if(ls(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Bu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ge(un),null;case 4:return ci(),null;case 10:return as(a.type),null;case 22:case 23:return ls(a),jp(),r!==null&&ge(co),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return as(ln),null;case 25:return null;default:return null}}function Yw(r,a){switch(Ap(a),a.tag){case 3:as(ln),ci();break;case 26:case 27:case 5:hi(a);break;case 4:ci();break;case 13:ls(a);break;case 19:ge(un);break;case 10:as(a.type);break;case 22:case 23:ls(a),jp(),r!==null&&ge(co);break;case 24:as(ln)}}function ic(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var y=l.create,w=l.inst;c=y(),w.destroy=c}l=l.next}while(l!==p)}}catch(A){Et(a,a.return,A)}}function Gs(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var w=c.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,p=a;var U=l,J=A;try{J()}catch(ae){Et(p,U,ae)}}}c=c.next}while(c!==y)}}catch(ae){Et(a,a.return,ae)}}function Xw(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{kT(a,l)}catch(c){Et(r,r.return,c)}}}function Qw(r,a,l){l.props=fo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){Et(r,a,c)}}function rc(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){Et(r,a,p)}}function Ir(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Et(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Et(r,a,p)}else l.current=null}function Jw(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Et(r,r.return,p)}}function dg(r,a,l){try{var c=r.stateNode;_M(c,r.type,l,a),c[de]=a}catch(p){Et(r,r.return,p)}}function Zw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Zs(r.type)||r.tag===4}function mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Zw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Zs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pg(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Uf));else if(c!==4&&(c===27&&Zs(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(pg(r,a,l),r=r.sibling;r!==null;)pg(r,a,l),r=r.sibling}function Cf(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&Zs(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Cf(r,a,l),r=r.sibling;r!==null;)Cf(r,a,l),r=r.sibling}function e0(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);An(a,c,l),a[le]=r,a[de]=l}catch(y){Et(r,r.return,y)}}var hs=!1,Kt=!1,gg=!1,t0=typeof WeakSet=="function"?WeakSet:Set,gn=null;function ZN(r,a){if(r=r.containerInfo,Bg=Gf,r=fT(r),mp(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,A=-1,U=-1,J=0,ae=0,ue=r,ee=null;t:for(;;){for(var te;ue!==l||p!==0&&ue.nodeType!==3||(A=w+p),ue!==y||c!==0&&ue.nodeType!==3||(U=w+c),ue.nodeType===3&&(w+=ue.nodeValue.length),(te=ue.firstChild)!==null;)ee=ue,ue=te;for(;;){if(ue===r)break t;if(ee===l&&++J===p&&(A=w),ee===y&&++ae===c&&(U=w),(te=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=te}l=A===-1||U===-1?null:{start:A,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:r,selectionRange:l},Gf=!1,gn=a;gn!==null;)if(a=gn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,gn=r;else for(;gn!==null;){switch(a=gn,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,p=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ue=fo(l.type,p,l.elementType===l.type);r=c.getSnapshotBeforeUpdate(Ue,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){Et(l,l.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)qg(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,gn=r;break}gn=a.return}}function n0(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ks(r,l),c&4&&ic(5,l);break;case 1:if(Ks(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(w){Et(l,l.return,w)}else{var p=fo(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Et(l,l.return,w)}}c&64&&Xw(l),c&512&&rc(l,l.return);break;case 3:if(Ks(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{kT(r,a)}catch(w){Et(l,l.return,w)}}break;case 27:a===null&&c&4&&e0(l);case 26:case 5:Ks(r,l),a===null&&c&4&&Jw(l),c&512&&rc(l,l.return);break;case 12:Ks(r,l);break;case 13:Ks(r,l),c&4&&s0(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=lM.bind(null,l),RM(r,l))));break;case 22:if(c=l.memoizedState!==null||hs,!c){a=a!==null&&a.memoizedState!==null||Kt,p=hs;var y=Kt;hs=c,(Kt=a)&&!y?$s(r,l,(l.subtreeFlags&8772)!==0):Ks(r,l),hs=p,Kt=y}break;case 30:break;default:Ks(r,l)}}function i0(r){var a=r.alternate;a!==null&&(r.alternate=null,i0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Re(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Pt=null,ei=!1;function fs(r,a,l){for(l=l.child;l!==null;)r0(r,a,l),l=l.sibling}function r0(r,a,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(wn,l)}catch{}switch(l.tag){case 26:Kt||Ir(l,a),fs(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Kt||Ir(l,a);var c=Pt,p=ei;Zs(l.type)&&(Pt=l.stateNode,ei=!1),fs(r,a,l),dc(l.stateNode),Pt=c,ei=p;break;case 5:Kt||Ir(l,a);case 6:if(c=Pt,p=ei,Pt=null,fs(r,a,l),Pt=c,ei=p,Pt!==null)if(ei)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(l.stateNode)}catch(y){Et(l,a,y)}else try{Pt.removeChild(l.stateNode)}catch(y){Et(l,a,y)}break;case 18:Pt!==null&&(ei?(r=Pt,K0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Tc(r)):K0(Pt,l.stateNode));break;case 4:c=Pt,p=ei,Pt=l.stateNode.containerInfo,ei=!0,fs(r,a,l),Pt=c,ei=p;break;case 0:case 11:case 14:case 15:Kt||Gs(2,l,a),Kt||Gs(4,l,a),fs(r,a,l);break;case 1:Kt||(Ir(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Qw(l,a,c)),fs(r,a,l);break;case 21:fs(r,a,l);break;case 22:Kt=(c=Kt)||l.memoizedState!==null,fs(r,a,l),Kt=c;break;default:fs(r,a,l)}}function s0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Tc(r)}catch(l){Et(a,a.return,l)}}function eM(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new t0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new t0),a;default:throw Error(i(435,r.tag))}}function yg(r,a){var l=eM(r);a.forEach(function(c){var p=uM.bind(null,r,c);l.has(c)||(l.add(c),c.then(p,p))})}function wi(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],y=r,w=a,A=w;e:for(;A!==null;){switch(A.tag){case 27:if(Zs(A.type)){Pt=A.stateNode,ei=!1;break e}break;case 5:Pt=A.stateNode,ei=!1;break e;case 3:case 4:Pt=A.stateNode.containerInfo,ei=!0;break e}A=A.return}if(Pt===null)throw Error(i(160));r0(y,w,p),Pt=null,ei=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)a0(a,r),a=a.sibling}var fr=null;function a0(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:wi(a,r),Si(r),c&4&&(Gs(3,r,r.return),ic(3,r),Gs(5,r,r.return));break;case 1:wi(a,r),Si(r),c&512&&(Kt||l===null||Ir(l,l.return)),c&64&&hs&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=fr;if(wi(a,r),Si(r),c&512&&(Kt||l===null||Ir(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[we]||y[le]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),An(y,c,l),y[le]=r,Be(y),c=y;break e;case"link":var w=eS("link","href",p).get(c+(l.href||""));if(w){for(var A=0;A<w.length;A++)if(y=w[A],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(A,1);break t}}y=p.createElement(c),An(y,c,l),p.head.appendChild(y);break;case"meta":if(w=eS("meta","content",p).get(c+(l.content||""))){for(A=0;A<w.length;A++)if(y=w[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(A,1);break t}}y=p.createElement(c),An(y,c,l),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[le]=r,Be(y),c=y}r.stateNode=c}else tS(p,r.type,r.stateNode);else r.stateNode=Z0(p,c,r.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?tS(p,r.type,r.stateNode):Z0(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&dg(r,r.memoizedProps,l.memoizedProps)}break;case 27:wi(a,r),Si(r),c&512&&(Kt||l===null||Ir(l,l.return)),l!==null&&c&4&&dg(r,r.memoizedProps,l.memoizedProps);break;case 5:if(wi(a,r),Si(r),c&512&&(Kt||l===null||Ir(l,l.return)),r.flags&32){p=r.stateNode;try{Oi(p,"")}catch(te){Et(r,r.return,te)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,dg(r,p,l!==null?l.memoizedProps:p)),c&1024&&(gg=!0);break;case 6:if(wi(a,r),Si(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(te){Et(r,r.return,te)}}break;case 3:if(zf=null,p=fr,fr=Bf(a.containerInfo),wi(a,r),fr=p,Si(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Tc(a.containerInfo)}catch(te){Et(r,r.return,te)}gg&&(gg=!1,o0(r));break;case 4:c=fr,fr=Bf(r.stateNode.containerInfo),wi(a,r),Si(r),fr=c;break;case 12:wi(a,r),Si(r);break;case 13:wi(a,r),Si(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Sg=Tn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,yg(r,c)));break;case 22:p=r.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,J=hs,ae=Kt;if(hs=J||p,Kt=ae||U,wi(a,r),Kt=ae,hs=J,Si(r),c&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||U||hs||Kt||mo(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){U=l=a;try{if(y=U.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=U.stateNode;var ue=U.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;A.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Et(U,U.return,te)}}}else if(a.tag===6){if(l===null){U=a;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(te){Et(U,U.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,yg(r,l))));break;case 19:wi(a,r),Si(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,yg(r,c)));break;case 30:break;case 21:break;default:wi(a,r),Si(r)}}function Si(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(Zw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,y=mg(r);Cf(r,y,p);break;case 5:var w=l.stateNode;l.flags&32&&(Oi(w,""),l.flags&=-33);var A=mg(r);Cf(r,A,w);break;case 3:case 4:var U=l.stateNode.containerInfo,J=mg(r);pg(r,J,U);break;default:throw Error(i(161))}}catch(ae){Et(r,r.return,ae)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function o0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;o0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ks(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)n0(r,a.alternate,a),a=a.sibling}function mo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Gs(4,a,a.return),mo(a);break;case 1:Ir(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Qw(a,a.return,l),mo(a);break;case 27:dc(a.stateNode);case 26:case 5:Ir(a,a.return),mo(a);break;case 22:a.memoizedState===null&&mo(a);break;case 30:mo(a);break;default:mo(a)}r=r.sibling}}function $s(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:$s(p,y,l),ic(4,y);break;case 1:if($s(p,y,l),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Et(c,c.return,J)}if(c=y,p=c.updateQueue,p!==null){var A=c.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)LT(U[p],A)}catch(J){Et(c,c.return,J)}}l&&w&64&&Xw(y),rc(y,y.return);break;case 27:e0(y);case 26:case 5:$s(p,y,l),l&&c===null&&w&4&&Jw(y),rc(y,y.return);break;case 12:$s(p,y,l);break;case 13:$s(p,y,l),l&&w&4&&s0(p,y);break;case 22:y.memoizedState===null&&$s(p,y,l),rc(y,y.return);break;case 30:break;default:$s(p,y,l)}a=a.sibling}}function vg(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Hu(l))}function _g(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Hu(r))}function xr(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)l0(r,a,l,c),a=a.sibling}function l0(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:xr(r,a,l,c),p&2048&&ic(9,a);break;case 1:xr(r,a,l,c);break;case 3:xr(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Hu(r)));break;case 12:if(p&2048){xr(r,a,l,c),r=a.stateNode;try{var y=a.memoizedProps,w=y.id,A=y.onPostCommit;typeof A=="function"&&A(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Et(a,a.return,U)}}else xr(r,a,l,c);break;case 13:xr(r,a,l,c);break;case 23:break;case 22:y=a.stateNode,w=a.alternate,a.memoizedState!==null?y._visibility&2?xr(r,a,l,c):sc(r,a):y._visibility&2?xr(r,a,l,c):(y._visibility|=2,_l(r,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&vg(w,a);break;case 24:xr(r,a,l,c),p&2048&&_g(a.alternate,a);break;default:xr(r,a,l,c)}}function _l(r,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,w=a,A=l,U=c,J=w.flags;switch(w.tag){case 0:case 11:case 15:_l(y,w,A,U,p),ic(8,w);break;case 23:break;case 22:var ae=w.stateNode;w.memoizedState!==null?ae._visibility&2?_l(y,w,A,U,p):sc(y,w):(ae._visibility|=2,_l(y,w,A,U,p)),p&&J&2048&&vg(w.alternate,w);break;case 24:_l(y,w,A,U,p),p&&J&2048&&_g(w.alternate,w);break;default:_l(y,w,A,U,p)}a=a.sibling}}function sc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:sc(l,c),p&2048&&vg(c.alternate,c);break;case 24:sc(l,c),p&2048&&_g(c.alternate,c);break;default:sc(l,c)}a=a.sibling}}var ac=8192;function El(r){if(r.subtreeFlags&ac)for(r=r.child;r!==null;)u0(r),r=r.sibling}function u0(r){switch(r.tag){case 26:El(r),r.flags&ac&&r.memoizedState!==null&&jM(fr,r.memoizedState,r.memoizedProps);break;case 5:El(r);break;case 3:case 4:var a=fr;fr=Bf(r.stateNode.containerInfo),El(r),fr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=ac,ac=16777216,El(r),ac=a):El(r));break;default:El(r)}}function c0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function oc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];gn=c,f0(c,r)}c0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)h0(r),r=r.sibling}function h0(r){switch(r.tag){case 0:case 11:case 15:oc(r),r.flags&2048&&Gs(9,r,r.return);break;case 3:oc(r);break;case 12:oc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,If(r)):oc(r);break;default:oc(r)}}function If(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];gn=c,f0(c,r)}c0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Gs(8,a,a.return),If(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,If(a));break;default:If(a)}r=r.sibling}}function f0(r,a){for(;gn!==null;){var l=gn;switch(l.tag){case 0:case 11:case 15:Gs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Hu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,gn=c;else e:for(l=r;gn!==null;){c=gn;var p=c.sibling,y=c.return;if(i0(c),c===l){gn=null;break e}if(p!==null){p.return=y,gn=p;break e}gn=y}}}var tM={getCacheForType:function(r){var a=Mn(ln),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},nM=typeof WeakMap=="function"?WeakMap:Map,mt=0,bt=null,Ze=null,st=0,pt=0,bi=null,Ws=!1,Tl=!1,Eg=!1,ds=0,Bt=0,Ys=0,po=0,Tg=0,Fi=0,wl=0,lc=null,ti=null,wg=!1,Sg=0,xf=1/0,Df=null,Xs=null,bn=0,Qs=null,Sl=null,bl=0,bg=0,Ag=null,d0=null,uc=0,Rg=null;function Ai(){if((mt&2)!==0&&st!==0)return st&-st;if(Y.T!==null){var r=hl;return r!==0?r:Mg()}return z()}function m0(){Fi===0&&(Fi=(st&536870912)===0||ut?Xr():536870912);var r=Bi.current;return r!==null&&(r.flags|=32),Fi}function Ri(r,a,l){(r===bt&&(pt===2||pt===9)||r.cancelPendingCommit!==null)&&(Al(r,0),Js(r,st,Fi,!1)),Mt(r,l),((mt&2)===0||r!==bt)&&(r===bt&&((mt&2)===0&&(po|=l),Bt===4&&Js(r,st,Fi,!1)),Dr(r))}function p0(r,a,l){if((mt&6)!==0)throw Error(i(327));var c=!l&&(a&124)===0&&(a&r.expiredLanes)===0||pi(r,a),p=c?sM(r,a):xg(r,a,!0),y=c;do{if(p===0){Tl&&!c&&Js(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!iM(l)){p=xg(r,a,!1),y=!1;continue}if(p===2){if(y=a,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var A=r;p=lc;var U=A.current.memoizedState.isDehydrated;if(U&&(Al(A,w).flags|=256),w=xg(A,w,!1),w!==2){if(Eg&&!U){A.errorRecoveryDisabledLanes|=y,po|=y,p=4;break e}y=ti,ti=p,y!==null&&(ti===null?ti=y:ti.push.apply(ti,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){Al(r,0),Js(r,a,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Js(c,a,Fi,!Ws);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Sg+300-Tn(),10<p)){if(Js(c,a,Fi,!Ws),zn(c,0,!0)!==0)break e;c.timeoutHandle=q0(g0.bind(null,c,l,ti,Df,wg,a,Fi,po,wl,Ws,y,2,-0,0),p);break e}g0(c,l,ti,Df,wg,a,Fi,po,wl,Ws,y,0,-0,0)}}break}while(!0);Dr(r)}function g0(r,a,l,c,p,y,w,A,U,J,ae,ue,ee,te){if(r.timeoutHandle=-1,ue=a.subtreeFlags,(ue&8192||(ue&16785408)===16785408)&&(gc={stylesheets:null,count:0,unsuspend:UM},u0(a),ue=BM(),ue!==null)){r.cancelPendingCommit=ue(S0.bind(null,r,a,y,l,c,p,w,A,U,ae,1,ee,te)),Js(r,y,w,!J);return}S0(r,a,y,l,c,p,w,A,U)}function iM(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],y=p.getSnapshot;p=p.value;try{if(!Ei(y(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(r,a,l,c){a&=~Tg,a&=~po,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var y=31-sn(p),w=1<<y;c[y]=-1,p&=~w}l!==0&&gi(r,l,a)}function Pf(){return(mt&6)===0?(cc(0),!1):!0}function Cg(){if(Ze!==null){if(pt===0)var r=Ze.return;else r=Ze,ss=lo=null,qp(r),yl=null,ec=0,r=Ze;for(;r!==null;)Yw(r.alternate,r),r=r.return;Ze=null}}function Al(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,TM(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Cg(),bt=r,Ze=l=ns(r.current,null),st=a,pt=0,bi=null,Ws=!1,Tl=pi(r,a),Eg=!1,wl=Fi=Tg=po=Ys=Bt=0,ti=lc=null,wg=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-sn(c),y=1<<p;a|=r[p],c&=~y}return ds=a,Jh(),l}function y0(r,a){Xe=null,Y.H=vf,a===Gu||a===lf?(a=OT(),pt=3):a===PT?(a=OT(),pt=4):pt=a===Vw?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,bi=a,Ze===null&&(Bt=1,Sf(r,Li(a,r.current)))}function v0(){var r=Y.H;return Y.H=vf,r===null?vf:r}function _0(){var r=Y.A;return Y.A=tM,r}function Ig(){Bt=4,Ws||(st&4194048)!==st&&Bi.current!==null||(Tl=!0),(Ys&134217727)===0&&(po&134217727)===0||bt===null||Js(bt,st,Fi,!1)}function xg(r,a,l){var c=mt;mt|=2;var p=v0(),y=_0();(bt!==r||st!==a)&&(Df=null,Al(r,a)),a=!1;var w=Bt;e:do try{if(pt!==0&&Ze!==null){var A=Ze,U=bi;switch(pt){case 8:Cg(),w=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(a=!0);var J=pt;if(pt=0,bi=null,Rl(r,A,U,J),l&&Tl){w=0;break e}break;default:J=pt,pt=0,bi=null,Rl(r,A,U,J)}}rM(),w=Bt;break}catch(ae){y0(r,ae)}while(!0);return a&&r.shellSuspendCounter++,ss=lo=null,mt=c,Y.H=p,Y.A=y,Ze===null&&(bt=null,st=0,Jh()),w}function rM(){for(;Ze!==null;)E0(Ze)}function sM(r,a){var l=mt;mt|=2;var c=v0(),p=_0();bt!==r||st!==a?(Df=null,xf=Tn()+500,Al(r,a)):Tl=pi(r,a);e:do try{if(pt!==0&&Ze!==null){a=Ze;var y=bi;t:switch(pt){case 1:pt=0,bi=null,Rl(r,a,y,1);break;case 2:case 9:if(NT(y)){pt=0,bi=null,T0(a);break}a=function(){pt!==2&&pt!==9||bt!==r||(pt=7),Dr(r)},y.then(a,a);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:NT(y)?(pt=0,bi=null,T0(a)):(pt=0,bi=null,Rl(r,a,y,7));break;case 5:var w=null;switch(Ze.tag){case 26:w=Ze.memoizedState;case 5:case 27:var A=Ze;if(!w||nS(w)){pt=0,bi=null;var U=A.sibling;if(U!==null)Ze=U;else{var J=A.return;J!==null?(Ze=J,Nf(J)):Ze=null}break t}}pt=0,bi=null,Rl(r,a,y,5);break;case 6:pt=0,bi=null,Rl(r,a,y,6);break;case 8:Cg(),Bt=6;break e;default:throw Error(i(462))}}aM();break}catch(ae){y0(r,ae)}while(!0);return ss=lo=null,Y.H=c,Y.A=p,mt=l,Ze!==null?0:(bt=null,st=0,Jh(),Bt)}function aM(){for(;Ze!==null&&!Eu();)E0(Ze)}function E0(r){var a=$w(r.alternate,r,ds);r.memoizedProps=r.pendingProps,a===null?Nf(r):Ze=a}function T0(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=Fw(l,a,a.pendingProps,a.type,void 0,st);break;case 11:a=Fw(l,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:qp(a);default:Yw(l,a),a=Ze=wT(a,ds),a=$w(l,a,ds)}r.memoizedProps=r.pendingProps,a===null?Nf(r):Ze=a}function Rl(r,a,l,c){ss=lo=null,qp(a),yl=null,ec=0;var p=a.return;try{if(YN(r,p,a,l,st)){Bt=1,Sf(r,Li(l,r.current)),Ze=null;return}}catch(y){if(p!==null)throw Ze=p,y;Bt=1,Sf(r,Li(l,r.current)),Ze=null;return}a.flags&32768?(ut||c===1?r=!0:Tl||(st&536870912)!==0?r=!1:(Ws=r=!0,(c===2||c===9||c===3||c===6)&&(c=Bi.current,c!==null&&c.tag===13&&(c.flags|=16384))),w0(a,r)):Nf(a)}function Nf(r){var a=r;do{if((a.flags&32768)!==0){w0(a,Ws);return}r=a.return;var l=QN(a.alternate,a,ds);if(l!==null){Ze=l;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=r}while(a!==null);Bt===0&&(Bt=5)}function w0(r,a){do{var l=JN(r.alternate,r);if(l!==null){l.flags&=32767,Ze=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=l}while(r!==null);Bt=6,Ze=null}function S0(r,a,l,c,p,y,w,A,U){r.cancelPendingCommit=null;do Mf();while(bn!==0);if((mt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=_p,ja(r,l,y,w,A,U),r===bt&&(Ze=bt=null,st=0),Sl=a,Qs=r,bl=l,bg=y,Ag=p,d0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,cM(Zi,function(){return I0(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,p=he.p,he.p=2,w=mt,mt|=4;try{ZN(r,a,l)}finally{mt=w,he.p=p,Y.T=c}}bn=1,b0(),A0(),R0()}}function b0(){if(bn===1){bn=0;var r=Qs,a=Sl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var c=he.p;he.p=2;var p=mt;mt|=4;try{a0(a,r);var y=Fg,w=fT(r.containerInfo),A=y.focusedElem,U=y.selectionRange;if(w!==A&&A&&A.ownerDocument&&hT(A.ownerDocument.documentElement,A)){if(U!==null&&mp(A)){var J=U.start,ae=U.end;if(ae===void 0&&(ae=J),"selectionStart"in A)A.selectionStart=J,A.selectionEnd=Math.min(ae,A.value.length);else{var ue=A.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Ue=A.textContent.length,Oe=Math.min(U.start,Ue),_t=U.end===void 0?Oe:Math.min(U.end,Ue);!te.extend&&Oe>_t&&(w=_t,_t=Oe,Oe=w);var $=cT(A,Oe),q=cT(A,_t);if($&&q&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var X=ue.createRange();X.setStart($.node,$.offset),te.removeAllRanges(),Oe>_t?(te.addRange(X),te.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),te.addRange(X))}}}}for(ue=[],te=A;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ue.length;A++){var oe=ue[A];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Gf=!!Bg,Fg=Bg=null}finally{mt=p,he.p=c,Y.T=l}}r.current=a,bn=2}}function A0(){if(bn===2){bn=0;var r=Qs,a=Sl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var c=he.p;he.p=2;var p=mt;mt|=4;try{n0(r,a.alternate,a)}finally{mt=p,he.p=c,Y.T=l}}bn=3}}function R0(){if(bn===4||bn===3){bn=0,ka();var r=Qs,a=Sl,l=bl,c=d0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?bn=5:(bn=0,Sl=Qs=null,C0(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Xs=null),Fa(l),a=a.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(wn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Y.T,p=he.p,he.p=2,Y.T=null;try{for(var y=r.onRecoverableError,w=0;w<c.length;w++){var A=c[w];y(A.value,{componentStack:A.stack})}}finally{Y.T=a,he.p=p}}(bl&3)!==0&&Mf(),Dr(r),p=r.pendingLanes,(l&4194090)!==0&&(p&42)!==0?r===Rg?uc++:(uc=0,Rg=r):uc=0,cc(0)}}function C0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Hu(a)))}function Mf(r){return b0(),A0(),R0(),I0()}function I0(){if(bn!==5)return!1;var r=Qs,a=bg;bg=0;var l=Fa(bl),c=Y.T,p=he.p;try{he.p=32>l?32:l,Y.T=null,l=Ag,Ag=null;var y=Qs,w=bl;if(bn=0,Sl=Qs=null,bl=0,(mt&6)!==0)throw Error(i(331));var A=mt;if(mt|=4,h0(y.current),l0(y,y.current,w,l),mt=A,cc(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(wn,y)}catch{}return!0}finally{he.p=p,Y.T=c,C0(r,a)}}function x0(r,a,l){a=Li(l,a),a=rg(r.stateNode,a,2),r=Fs(r,a,2),r!==null&&(Mt(r,2),Dr(r))}function Et(r,a,l){if(r.tag===3)x0(r,r,l);else for(;a!==null;){if(a.tag===3){x0(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Xs===null||!Xs.has(c))){r=Li(l,r),l=Mw(2),c=Fs(a,l,2),c!==null&&(Ow(l,c,a,r),Mt(c,2),Dr(c));break}}a=a.return}}function Dg(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new nM;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(Eg=!0,p.add(l),r=oM.bind(null,r,a,l),a.then(r,r))}function oM(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,bt===r&&(st&l)===l&&(Bt===4||Bt===3&&(st&62914560)===st&&300>Tn()-Sg?(mt&2)===0&&Al(r,0):Tg|=l,wl===st&&(wl=0)),Dr(r)}function D0(r,a){a===0&&(a=Sr()),r=ol(r,a),r!==null&&(Mt(r,a),Dr(r))}function lM(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),D0(r,l)}function uM(r,a){var l=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),D0(r,l)}function cM(r,a){return Wr(r,a)}var Of=null,Cl=null,Pg=!1,Vf=!1,Ng=!1,go=0;function Dr(r){r!==Cl&&r.next===null&&(Cl===null?Of=Cl=r:Cl=Cl.next=r),Vf=!0,Pg||(Pg=!0,fM())}function cc(r,a){if(!Ng&&Vf){Ng=!0;do for(var l=!1,c=Of;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var w=c.suspendedLanes,A=c.pingedLanes;y=(1<<31-sn(42|r)+1)-1,y&=p&~(w&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,O0(c,y))}else y=st,y=zn(c,c===bt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||pi(c,y)||(l=!0,O0(c,y));c=c.next}while(l);Ng=!1}}function hM(){P0()}function P0(){Vf=Pg=!1;var r=0;go!==0&&(EM()&&(r=go),go=0);for(var a=Tn(),l=null,c=Of;c!==null;){var p=c.next,y=N0(c,a);y===0?(c.next=null,l===null?Of=p:l.next=p,p===null&&(Cl=l)):(l=c,(r!==0||(y&3)!==0)&&(Vf=!0)),c=p}cc(r)}function N0(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-sn(y),A=1<<w,U=p[w];U===-1?((A&l)===0||(A&c)!==0)&&(p[w]=Yr(A,a)):U<=a&&(r.expiredLanes|=A),y&=~A}if(a=bt,l=st,l=zn(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(pt===2||pt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Qn(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||pi(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&Qn(c),Fa(l)){case 2:case 8:l=Yt;break;case 32:l=Zi;break;case 268435456:l=tr;break;default:l=Zi}return c=M0.bind(null,r),l=Wr(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&Qn(c),r.callbackPriority=2,r.callbackNode=null,2}function M0(r,a){if(bn!==0&&bn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Mf()&&r.callbackNode!==l)return null;var c=st;return c=zn(r,r===bt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(p0(r,c,a),N0(r,Tn()),r.callbackNode!=null&&r.callbackNode===l?M0.bind(null,r):null)}function O0(r,a){if(Mf())return null;p0(r,a,!0)}function fM(){wM(function(){(mt&6)!==0?Wr(Ht,hM):P0()})}function Mg(){return go===0&&(go=Xr()),go}function V0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:or(""+r)}function L0(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function dM(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var y=V0((p[de]||null).action),w=c.submitter;w&&(a=(a=w[de]||null)?V0(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var A=new Wa("action","action",null,c,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(go!==0){var U=w?L0(p,w):new FormData(p);Zp(l,{pending:!0,data:U,method:p.method,action:y},null,U)}}else typeof y=="function"&&(A.preventDefault(),U=w?L0(p,w):new FormData(p),Zp(l,{pending:!0,data:U,method:p.method,action:y},y,U))},currentTarget:p}]})}}for(var Og=0;Og<vp.length;Og++){var Vg=vp[Og],mM=Vg.toLowerCase(),pM=Vg[0].toUpperCase()+Vg.slice(1);hr(mM,"on"+pM)}hr(pT,"onAnimationEnd"),hr(gT,"onAnimationIteration"),hr(yT,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(NN,"onTransitionRun"),hr(MN,"onTransitionStart"),hr(ON,"onTransitionCancel"),hr(vT,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function k0(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var w=c.length-1;0<=w;w--){var A=c[w],U=A.instance,J=A.currentTarget;if(A=A.listener,U!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=J;try{y(p)}catch(ae){wf(ae)}p.currentTarget=null,y=U}else for(w=0;w<c.length;w++){if(A=c[w],U=A.instance,J=A.currentTarget,A=A.listener,U!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=J;try{y(p)}catch(ae){wf(ae)}p.currentTarget=null,y=U}}}}function et(r,a){var l=a[be];l===void 0&&(l=a[be]=new Set);var c=r+"__bubble";l.has(c)||(U0(a,r,2,!1),l.add(c))}function Lg(r,a,l){var c=0;a&&(c|=4),U0(l,r,c,a)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function kg(r){if(!r[Lf]){r[Lf]=!0,ht.forEach(function(l){l!=="selectionchange"&&(gM.has(l)||Lg(l,!1,r),Lg(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Lf]||(a[Lf]=!0,Lg("selectionchange",!1,a))}}function U0(r,a,l,c){switch(lS(a)){case 2:var p=HM;break;case 8:p=qM;break;default:p=Qg}l=p.bind(null,a,l,r),p=void 0,!es||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function Ug(r,a,l,c,p){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var A=c.stateNode.containerInfo;if(A===p)break;if(w===4)for(w=c.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;A!==null;){if(w=He(A),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){c=y=w;continue e}A=A.parentNode}}c=c.return}Ga(function(){var J=y,ae=Iu(l),ue=[];e:{var ee=_T.get(r);if(ee!==void 0){var te=Wa,Ue=r;switch(r){case"keypress":if(Ka(l)===0)break e;case"keydown":case"keyup":te=il;break;case"focusin":Ue="focus",te=el;break;case"focusout":Ue="blur",te=el;break;case"beforeblur":case"afterblur":te=el;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=ks;break;case pT:case gT:case yT:te=Du;break;case vT:te=_;break;case"scroll":case"scrollend":te=Xa;break;case"wheel":te=x;break;case"copy":case"cut":case"paste":te=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Mu;break;case"toggle":case"beforetoggle":te=ie}var Oe=(a&4)!==0,_t=!Oe&&(r==="scroll"||r==="scrollend"),$=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var q=J,X;q!==null;){var oe=q;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||$===null||(oe=Vs(q,$),oe!=null&&Oe.push(fc(q,oe,X))),_t)break;q=q.return}0<Oe.length&&(ee=new te(ee,Ue,null,l,ae),ue.push({event:ee,listeners:Oe}))}}if((a&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",te=r==="mouseout"||r==="pointerout",ee&&l!==Cu&&(Ue=l.relatedTarget||l.fromElement)&&(He(Ue)||Ue[Te]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Ue=l.relatedTarget||l.toElement,te=J,Ue=Ue?He(Ue):null,Ue!==null&&(_t=o(Ue),Oe=Ue.tag,Ue!==_t||Oe!==5&&Oe!==27&&Oe!==6)&&(Ue=null)):(te=null,Ue=J),te!==Ue)){if(Oe=Za,oe="onMouseLeave",$="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Mu,oe="onPointerLeave",$="onPointerEnter",q="pointer"),_t=te==null?ee:At(te),X=Ue==null?ee:At(Ue),ee=new Oe(oe,q+"leave",te,l,ae),ee.target=_t,ee.relatedTarget=X,oe=null,He(ae)===J&&(Oe=new Oe($,q+"enter",Ue,l,ae),Oe.target=X,Oe.relatedTarget=_t,oe=Oe),_t=oe,te&&Ue)t:{for(Oe=te,$=Ue,q=0,X=Oe;X;X=Il(X))q++;for(X=0,oe=$;oe;oe=Il(oe))X++;for(;0<q-X;)Oe=Il(Oe),q--;for(;0<X-q;)$=Il($),X--;for(;q--;){if(Oe===$||$!==null&&Oe===$.alternate)break t;Oe=Il(Oe),$=Il($)}Oe=null}else Oe=null;te!==null&&j0(ue,ee,te,Oe,!1),Ue!==null&&_t!==null&&j0(ue,_t,Ue,Oe,!0)}}e:{if(ee=J?At(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Se=rT;else if(nT(ee))if(sT)Se=xN;else{Se=CN;var Qe=RN}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&Qo(J.elementType)&&(Se=rT):Se=IN;if(Se&&(Se=Se(r,J))){iT(ue,Se,l,ae);break e}Qe&&Qe(r,ee,J),r==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&bu(ee,"number",ee.value)}switch(Qe=J?At(J):window,r){case"focusin":(nT(Qe)||Qe.contentEditable==="true")&&(rl=Qe,pp=J,Uu=null);break;case"focusout":Uu=pp=rl=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,dT(ue,l,ae);break;case"selectionchange":if(PN)break;case"keydown":case"keyup":dT(ue,l,ae)}var De;if(qe)e:{switch(r){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else cr?lr(r,l)&&(Ve="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(qt&&l.locale!=="ko"&&(cr||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&cr&&(De=zh()):(Vi=ae,St="value"in Vi?Vi.value:Vi.textContent,cr=!0)),Qe=kf(J,Ve),0<Qe.length&&(Ve=new Nu(Ve,r,null,l,ae),ue.push({event:Ve,listeners:Qe}),De?Ve.data=De:(De=ur(l),De!==null&&(Ve.data=De)))),(De=dt?Ou(r,l):SN(r,l))&&(Ve=kf(J,"onBeforeInput"),0<Ve.length&&(Qe=new Nu("onBeforeInput","beforeinput",null,l,ae),ue.push({event:Qe,listeners:Ve}),Qe.data=De)),dM(ue,r,J,l,ae)}k0(ue,a)})}function fc(r,a,l){return{instance:r,listener:a,currentTarget:l}}function kf(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Vs(r,l),p!=null&&c.unshift(fc(r,p,y)),p=Vs(r,a),p!=null&&c.push(fc(r,p,y))),r.tag===3)return c;r=r.return}return[]}function Il(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function j0(r,a,l,c,p){for(var y=a._reactName,w=[];l!==null&&l!==c;){var A=l,U=A.alternate,J=A.stateNode;if(A=A.tag,U!==null&&U===c)break;A!==5&&A!==26&&A!==27||J===null||(U=J,p?(J=Vs(l,y),J!=null&&w.unshift(fc(l,J,U))):p||(J=Vs(l,y),J!=null&&w.push(fc(l,J,U)))),l=l.return}w.length!==0&&r.push({event:a,listeners:w})}var yM=/\r\n?/g,vM=/\u0000|\uFFFD/g;function B0(r){return(typeof r=="string"?r:""+r).replace(yM,`
`).replace(vM,"")}function F0(r,a){return a=B0(a),B0(r)===a}function Uf(){}function vt(r,a,l,c,p,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Oi(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Oi(r,""+c);break;case"className":Mi(r,"class",c);break;case"tabIndex":Mi(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(r,l,c);break;case"style":Ru(r,c,y);break;case"data":if(a!=="object"){Mi(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=or(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&vt(r,a,"name",p.name,p,null),vt(r,a,"formEncType",p.formEncType,p,null),vt(r,a,"formMethod",p.formMethod,p,null),vt(r,a,"formTarget",p.formTarget,p,null)):(vt(r,a,"encType",p.encType,p,null),vt(r,a,"method",p.method,p,null),vt(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=or(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=Uf);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=or(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":et("beforetoggle",r),et("toggle",r),Ni(r,"popover",c);break;case"xlinkActuate":$e(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":$e(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":$e(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":$e(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":$e(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":$e(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":$e(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":$e(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":$e(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ni(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jh.get(l)||l,Ni(r,l,c))}}function jg(r,a,l,c,p,y){switch(l){case"style":Ru(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?Oi(r,c):(typeof c=="number"||typeof c=="bigint")&&Oi(r,""+c);break;case"onScroll":c!=null&&et("scroll",r);break;case"onScrollEnd":c!=null&&et("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Uf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),y=r[de]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):Ni(r,l,c)}}}function An(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",r),et("load",r);var c=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var w=l[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:vt(r,a,y,w,l,null)}}p&&vt(r,a,"srcSet",l.srcSet,l,null),c&&vt(r,a,"src",l.src,l,null);return;case"input":et("invalid",r);var A=y=w=p=null,U=null,J=null;for(c in l)if(l.hasOwnProperty(c)){var ae=l[c];if(ae!=null)switch(c){case"name":p=ae;break;case"type":w=ae;break;case"checked":U=ae;break;case"defaultChecked":J=ae;break;case"value":y=ae;break;case"defaultValue":A=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,a));break;default:vt(r,a,c,ae,l,null)}}Su(r,y,A,U,J,w,p,!1),Ns(r);return;case"select":et("invalid",r),c=w=y=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":w=A;break;case"multiple":c=A;default:vt(r,a,p,A,l,null)}a=y,l=w,r.multiple=!!c,a!=null?Ms(r,!!c,a,!1):l!=null&&Ms(r,!!c,l,!0);return;case"textarea":et("invalid",r),y=p=c=null;for(w in l)if(l.hasOwnProperty(w)&&(A=l[w],A!=null))switch(w){case"value":c=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:vt(r,a,w,A,l,null)}Uh(r,c,p,y),Ns(r);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(c=l[U],c!=null))switch(U){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:vt(r,a,U,c,l,null)}return;case"dialog":et("beforetoggle",r),et("toggle",r),et("cancel",r),et("close",r);break;case"iframe":case"object":et("load",r);break;case"video":case"audio":for(c=0;c<hc.length;c++)et(hc[c],r);break;case"image":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"embed":case"source":case"link":et("error",r),et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(c=l[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:vt(r,a,J,c,l,null)}return;default:if(Qo(a)){for(ae in l)l.hasOwnProperty(ae)&&(c=l[ae],c!==void 0&&jg(r,a,ae,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&vt(r,a,A,c,l,null))}function _M(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,A=null,U=null,J=null,ae=null;for(te in l){var ue=l[te];if(l.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=ue;default:c.hasOwnProperty(te)||vt(r,a,te,null,c,ue)}}for(var ee in c){var te=c[ee];if(ue=l[ee],c.hasOwnProperty(ee)&&(te!=null||ue!=null))switch(ee){case"type":y=te;break;case"name":p=te;break;case"checked":J=te;break;case"defaultChecked":ae=te;break;case"value":w=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,a));break;default:te!==ue&&vt(r,a,ee,te,c,ue)}}wu(r,w,A,U,J,ae,y,p);return;case"select":te=w=A=ee=null;for(y in l)if(U=l[y],l.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":te=U;default:c.hasOwnProperty(y)||vt(r,a,y,null,c,U)}for(p in c)if(y=c[p],U=l[p],c.hasOwnProperty(p)&&(y!=null||U!=null))switch(p){case"value":ee=y;break;case"defaultValue":A=y;break;case"multiple":w=y;default:y!==U&&vt(r,a,p,y,c,U)}a=A,l=w,c=te,ee!=null?Ms(r,!!l,ee,!1):!!c!=!!l&&(a!=null?Ms(r,!!l,a,!0):Ms(r,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:vt(r,a,A,null,c,p)}for(w in c)if(p=c[w],y=l[w],c.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":ee=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&vt(r,a,w,p,c,y)}kh(r,ee,te);return;case"option":for(var Ue in l)if(ee=l[Ue],l.hasOwnProperty(Ue)&&ee!=null&&!c.hasOwnProperty(Ue))switch(Ue){case"selected":r.selected=!1;break;default:vt(r,a,Ue,null,c,ee)}for(U in c)if(ee=c[U],te=l[U],c.hasOwnProperty(U)&&ee!==te&&(ee!=null||te!=null))switch(U){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:vt(r,a,U,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)ee=l[Oe],l.hasOwnProperty(Oe)&&ee!=null&&!c.hasOwnProperty(Oe)&&vt(r,a,Oe,null,c,ee);for(J in c)if(ee=c[J],te=l[J],c.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:vt(r,a,J,ee,c,te)}return;default:if(Qo(a)){for(var _t in l)ee=l[_t],l.hasOwnProperty(_t)&&ee!==void 0&&!c.hasOwnProperty(_t)&&jg(r,a,_t,void 0,c,ee);for(ae in c)ee=c[ae],te=l[ae],!c.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||jg(r,a,ae,ee,c,te);return}}for(var $ in l)ee=l[$],l.hasOwnProperty($)&&ee!=null&&!c.hasOwnProperty($)&&vt(r,a,$,null,c,ee);for(ue in c)ee=c[ue],te=l[ue],!c.hasOwnProperty(ue)||ee===te||ee==null&&te==null||vt(r,a,ue,ee,c,te)}var Bg=null,Fg=null;function jf(r){return r.nodeType===9?r:r.ownerDocument}function z0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H0(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function zg(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hg=null;function EM(){var r=window.event;return r&&r.type==="popstate"?r===Hg?!1:(Hg=r,!0):(Hg=null,!1)}var q0=typeof setTimeout=="function"?setTimeout:void 0,TM=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,wM=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(r){return G0.resolve(null).then(r).catch(SM)}:q0;function SM(r){setTimeout(function(){throw r})}function Zs(r){return r==="head"}function K0(r,a){var l=a,c=0,p=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var w=r.ownerDocument;if(l&1&&dc(w.documentElement),l&2&&dc(w.body),l&4)for(l=w.head,dc(l),w=l.firstChild;w;){var A=w.nextSibling,U=w.nodeName;w[we]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=A}}if(p===0){r.removeChild(y),Tc(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Tc(a)}function qg(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qg(l),Re(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function bM(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[we])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=dr(r.nextSibling),r===null)break}return null}function AM(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=dr(r.nextSibling),r===null))return null;return r}function Gg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function RM(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function dr(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Kg=null;function $0(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function W0(r,a,l){switch(a=jf(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function dc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Re(r)}var zi=new Map,Y0=new Set;function Bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ms=he.d;he.d={f:CM,r:IM,D:xM,C:DM,L:PM,m:NM,X:OM,S:MM,M:VM};function CM(){var r=ms.f(),a=Pf();return r||a}function IM(r){var a=ot(r);a!==null&&a.tag===5&&a.type==="form"?pw(a):ms.r(r)}var xl=typeof document>"u"?null:document;function X0(r,a,l){var c=xl;if(c&&typeof a=="string"&&a){var p=mn(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Y0.has(p)||(Y0.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),An(a,"link",r),Be(a),c.head.appendChild(a)))}}function xM(r){ms.D(r),X0("dns-prefetch",r,null)}function DM(r,a){ms.C(r,a),X0("preconnect",r,a)}function PM(r,a,l){ms.L(r,a,l);var c=xl;if(c&&r&&a){var p='link[rel="preload"][as="'+mn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+mn(l.imageSizes)+'"]')):p+='[href="'+mn(r)+'"]';var y=p;switch(a){case"style":y=Dl(r);break;case"script":y=Pl(r)}zi.has(y)||(r=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),zi.set(y,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(mc(y))||a==="script"&&c.querySelector(pc(y))||(a=c.createElement("link"),An(a,"link",r),Be(a),c.head.appendChild(a)))}}function NM(r,a){ms.m(r,a);var l=xl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+mn(c)+'"][href="'+mn(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Pl(r)}if(!zi.has(y)&&(r=g({rel:"modulepreload",href:r},a),zi.set(y,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pc(y)))return}c=l.createElement("link"),An(c,"link",r),Be(c),l.head.appendChild(c)}}}function MM(r,a,l){ms.S(r,a,l);var c=xl;if(c&&r){var p=xt(c).hoistableStyles,y=Dl(r);a=a||"default";var w=p.get(y);if(!w){var A={loading:0,preload:null};if(w=c.querySelector(mc(y)))A.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":a},l),(l=zi.get(y))&&$g(r,l);var U=w=c.createElement("link");Be(U),An(U,"link",r),U._p=new Promise(function(J,ae){U.onload=J,U.onerror=ae}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Ff(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:A},p.set(y,w)}}}function OM(r,a){ms.X(r,a);var l=xl;if(l&&r){var c=xt(l).hoistableScripts,p=Pl(r),y=c.get(p);y||(y=l.querySelector(pc(p)),y||(r=g({src:r,async:!0},a),(a=zi.get(p))&&Wg(r,a),y=l.createElement("script"),Be(y),An(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function VM(r,a){ms.M(r,a);var l=xl;if(l&&r){var c=xt(l).hoistableScripts,p=Pl(r),y=c.get(p);y||(y=l.querySelector(pc(p)),y||(r=g({src:r,async:!0,type:"module"},a),(a=zi.get(p))&&Wg(r,a),y=l.createElement("script"),Be(y),An(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Q0(r,a,l,c){var p=(p=Ne.current)?Bf(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Dl(l.href),l=xt(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Dl(l.href);var y=xt(p).hoistableStyles,w=y.get(r);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=p.querySelector(mc(r)))&&!y._p&&(w.instance=y,w.state.loading=5),zi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},zi.set(r,l),y||LM(p,r,l,w.state))),a&&c===null)throw Error(i(528,""));return w}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pl(l),l=xt(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Dl(r){return'href="'+mn(r)+'"'}function mc(r){return'link[rel="stylesheet"]['+r+"]"}function J0(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function LM(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),An(a,"link",l),Be(a),r.head.appendChild(a))}function Pl(r){return'[src="'+mn(r)+'"]'}function pc(r){return"script[async]"+r}function Z0(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+mn(l.href)+'"]');if(c)return a.instance=c,Be(c),c;var p=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Be(c),An(c,"style",p),Ff(c,l.precedence,r),a.instance=c;case"stylesheet":p=Dl(l.href);var y=r.querySelector(mc(p));if(y)return a.state.loading|=4,a.instance=y,Be(y),y;c=J0(l),(p=zi.get(p))&&$g(c,p),y=(r.ownerDocument||r).createElement("link"),Be(y);var w=y;return w._p=new Promise(function(A,U){w.onload=A,w.onerror=U}),An(y,"link",c),a.state.loading|=4,Ff(y,l.precedence,r),a.instance=y;case"script":return y=Pl(l.src),(p=r.querySelector(pc(y)))?(a.instance=p,Be(p),p):(c=l,(p=zi.get(y))&&(c=g({},l),Wg(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Be(p),An(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Ff(c,l.precedence,r));return a.instance}function Ff(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,w=0;w<c.length;w++){var A=c[w];if(A.dataset.precedence===a)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function $g(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Wg(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var zf=null;function eS(r,a,l){if(zf===null){var c=new Map,p=zf=new Map;p.set(l,c)}else p=zf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var y=l[p];if(!(y[we]||y[le]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=r+w;var A=c.get(w);A?A.push(y):c.set(w,[y])}}return c}function tS(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function kM(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function nS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var gc=null;function UM(){}function jM(r,a,l){if(gc===null)throw Error(i(475));var c=gc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Dl(l.href),y=r.querySelector(mc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Hf.bind(c),r.then(c,c)),a.state.loading|=4,a.instance=y,Be(y);return}y=r.ownerDocument||r,l=J0(l),(p=zi.get(p))&&$g(l,p),y=y.createElement("link"),Be(y);var w=y;w._p=new Promise(function(A,U){w.onload=A,w.onerror=U}),An(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Hf.bind(c),r.addEventListener("load",a),r.addEventListener("error",a))}}function BM(){if(gc===null)throw Error(i(475));var r=gc;return r.stylesheets&&r.count===0&&Yg(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&Yg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Hf(){if(this.count--,this.count===0){if(this.stylesheets)Yg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var qf=null;function Yg(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,qf=new Map,a.forEach(FM,r),qf=null,Hf.call(r))}function FM(r,a){if(!(a.state.loading&4)){var l=qf.get(r);if(l)var c=l.get(null);else{l=new Map,qf.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}p=a.instance,w=p.getAttribute("data-precedence"),y=l.get(w)||c,y===c&&l.set(null,p),l.set(w,p),this.count++,c=Hf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var yc={$$typeof:k,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function zM(r,a,l,c,p,y,w,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function iS(r,a,l,c,p,y,w,A,U,J,ae,ue){return r=new zM(r,a,l,w,A,U,J,ue),a=1,y===!0&&(a|=24),y=Ti(3,null,null,a),r.current=y,y.stateNode=r,a=Dp(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},Op(y),r}function rS(r){return r?(r=ll,r):ll}function sS(r,a,l,c,p,y){p=rS(p),c.context===null?c.context=p:c.pendingContext=p,c=Bs(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Fs(r,c,a),l!==null&&(Ri(l,r,a),$u(l,r,a))}function aS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Xg(r,a){aS(r,a),(r=r.alternate)&&aS(r,a)}function oS(r){if(r.tag===13){var a=ol(r,67108864);a!==null&&Ri(a,r,67108864),Xg(r,67108864)}}var Gf=!0;function HM(r,a,l,c){var p=Y.T;Y.T=null;var y=he.p;try{he.p=2,Qg(r,a,l,c)}finally{he.p=y,Y.T=p}}function qM(r,a,l,c){var p=Y.T;Y.T=null;var y=he.p;try{he.p=8,Qg(r,a,l,c)}finally{he.p=y,Y.T=p}}function Qg(r,a,l,c){if(Gf){var p=Jg(c);if(p===null)Ug(r,a,c,Kf,l),uS(r,c);else if(KM(p,r,a,l,c))c.stopPropagation();else if(uS(r,c),a&4&&-1<GM.indexOf(r)){for(;p!==null;){var y=ot(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=mi(y.pendingLanes);if(w!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var U=1<<31-sn(w);A.entanglements[1]|=U,w&=~U}Dr(y),(mt&6)===0&&(xf=Tn()+500,cc(0))}}break;case 13:A=ol(y,2),A!==null&&Ri(A,y,2),Pf(),Xg(y,2)}if(y=Jg(c),y===null&&Ug(r,a,c,Kf,l),y===p)break;p=y}p!==null&&c.stopPropagation()}else Ug(r,a,c,null,l)}}function Jg(r){return r=Iu(r),Zg(r)}var Kf=null;function Zg(r){if(Kf=null,r=He(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Kf=r,null}function lS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wo()){case Ht:return 2;case Yt:return 8;case Zi:case er:return 32;case tr:return 268435456;default:return 32}default:return 32}}var ey=!1,ea=null,ta=null,na=null,vc=new Map,_c=new Map,ia=[],GM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uS(r,a){switch(r){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":vc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(a.pointerId)}}function Ec(r,a,l,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=ot(a),a!==null&&oS(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function KM(r,a,l,c,p){switch(a){case"focusin":return ea=Ec(ea,r,a,l,c,p),!0;case"dragenter":return ta=Ec(ta,r,a,l,c,p),!0;case"mouseover":return na=Ec(na,r,a,l,c,p),!0;case"pointerover":var y=p.pointerId;return vc.set(y,Ec(vc.get(y)||null,r,a,l,c,p)),!0;case"gotpointercapture":return y=p.pointerId,_c.set(y,Ec(_c.get(y)||null,r,a,l,c,p)),!0}return!1}function cS(r){var a=He(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,W(r.priority,function(){if(l.tag===13){var c=Ai();c=Ba(c);var p=ol(l,c);p!==null&&Ri(p,l,c),Xg(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $f(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Jg(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Cu=c,l.target.dispatchEvent(c),Cu=null}else return a=ot(l),a!==null&&oS(a),r.blockedOn=l,!1;a.shift()}return!0}function hS(r,a,l){$f(r)&&l.delete(a)}function $M(){ey=!1,ea!==null&&$f(ea)&&(ea=null),ta!==null&&$f(ta)&&(ta=null),na!==null&&$f(na)&&(na=null),vc.forEach(hS),_c.forEach(hS)}function Wf(r,a){r.blockedOn===a&&(r.blockedOn=null,ey||(ey=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$M)))}var Yf=null;function fS(r){Yf!==r&&(Yf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yf===r&&(Yf=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if(Zg(c||l)===null)continue;break}var y=ot(l);y!==null&&(r.splice(a,3),a-=3,Zp(y,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function Tc(r){function a(U){return Wf(U,r)}ea!==null&&Wf(ea,r),ta!==null&&Wf(ta,r),na!==null&&Wf(na,r),vc.forEach(a),_c.forEach(a);for(var l=0;l<ia.length;l++){var c=ia[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ia.length&&(l=ia[0],l.blockedOn===null);)cS(l),l.blockedOn===null&&ia.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],y=l[c+1],w=p[de]||null;if(typeof y=="function")w||fS(l);else if(w){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[de]||null)A=w.formAction;else if(Zg(p)!==null)continue}else A=w.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),fS(l)}}}function ty(r){this._internalRoot=r}Xf.prototype.render=ty.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=Ai();sS(l,c,r,a,null,null)},Xf.prototype.unmount=ty.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sS(r.current,2,null,r,null,null),Pf(),a[Te]=null}};function Xf(r){this._internalRoot=r}Xf.prototype.unstable_scheduleHydration=function(r){if(r){var a=z();r={blockedOn:null,target:r,priority:a};for(var l=0;l<ia.length&&a!==0&&a<ia[l].priority;l++);ia.splice(l,0,r),l===0&&cS(r)}};var dS=e.version;if(dS!=="19.1.1")throw Error(i(527,dS,"19.1.1"));he.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(a),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var WM={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{wn=Qf.inject(WM),Tt=Qf}catch{}}return Sc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=xw,y=Dw,w=Pw,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=iS(r,1,!1,null,null,l,c,p,y,w,A,null),r[Te]=a.current,kg(r),new ty(a)},Sc.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",y=xw,w=Dw,A=Pw,U=null,J=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(J=l.formState)),a=iS(r,1,!0,a,l??null,c,p,y,w,A,U,J),a.context=rS(null),l=a.current,c=Ai(),c=Ba(c),p=Bs(c),p.callback=null,Fs(l,p,c),l=c,a.current.lanes=l,Mt(a,l),Dr(a),r[Te]=a.current,kg(r),new Xf(a)},Sc.version="19.1.1",Sc}var SS;function iO(){if(SS)return iy.exports;SS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),iy.exports=nO(),iy.exports}var rO=iO(),V=bm(),ly={exports:{}},uy={};var bS;function sO(){if(bS)return uy;bS=1;var t=bm();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,u=t.useMemo,h=t.useDebugValue;return uy.useSyncExternalStoreWithSelector=function(f,d,g,v,E){var S=s(null);if(S.current===null){var b={hasValue:!1,value:null};S.current=b}else b=S.current;S=u(function(){function D(K){if(!L){if(L=!0,H=K,K=v(K),E!==void 0&&b.hasValue){var N=b.value;if(E(N,K))return k=N}return k=K}if(N=k,n(H,K))return N;var I=v(K);return E!==void 0&&E(N,I)?(H=K,N):(H=K,k=I)}var L=!1,H,k,Z=g===void 0?null:g;return[function(){return D(d())},Z===null?void 0:function(){return D(Z())}]},[d,g,v,E]);var O=i(f,S[0],S[1]);return o(function(){b.hasValue=!0,b.value=O},[O]),h(O),O},uy}var AS;function aO(){return AS||(AS=1,ly.exports=sO()),ly.exports}var oO=aO();function lO(t){t()}function uO(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lO(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var RS={notify(){},get:()=>[]};function cO(t,e){let n,i=RS,s=0,o=!1;function u(O){g();const D=i.subscribe(O);let L=!1;return()=>{L||(L=!0,D(),v())}}function h(){i.notify()}function f(){b.onStateChange&&b.onStateChange()}function d(){return o}function g(){s++,n||(n=t.subscribe(f),i=uO())}function v(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=RS)}function E(){o||(o=!0,g())}function S(){o&&(o=!1,v())}const b={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:d,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>i};return b}var hO=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fO=hO(),dO=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mO=dO(),pO=()=>fO||mO?V.useLayoutEffect:V.useEffect,gO=pO(),yO=Symbol.for("react-redux-context"),vO=typeof globalThis<"u"?globalThis:{};function _O(){if(!V.createContext)return{};const t=vO[yO]??=new Map;let e=t.get(V.createContext);return e||(e=V.createContext(null),t.set(V.createContext,e)),e}var Ea=_O();function EO(t){const{children:e,context:n,serverState:i,store:s}=t,o=V.useMemo(()=>{const f=cO(s);return{store:s,subscription:f,getServerState:i?()=>i:void 0}},[s,i]),u=V.useMemo(()=>s.getState(),[s]);gO(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,u]);const h=n||Ea;return V.createElement(h.Provider,{value:o},e)}var TO=EO;function h_(t=Ea){return function(){return V.useContext(t)}}var A1=h_();function R1(t=Ea){const e=t===Ea?A1:h_(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var wO=R1();function SO(t=Ea){const e=t===Ea?wO:R1(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ui=SO(),bO=(t,e)=>t===e;function AO(t=Ea){const e=t===Ea?A1:h_(t),n=(i,s={})=>{const{equalityFn:o=bO}=typeof s=="function"?{equalityFn:s}:s,u=e(),{store:h,subscription:f,getServerState:d}=u;V.useRef(!0);const g=V.useCallback({[i.name](E){return i(E)}}[i.name],[i]),v=oO.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,d||h.getState,g,o);return V.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var tt=AO();function Rn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RO=typeof Symbol=="function"&&Symbol.observable||"@@observable",CS=RO,cy=()=>Math.random().toString(36).substring(7).split("").join("."),CO={INIT:`@@redux/INIT${cy()}`,REPLACE:`@@redux/REPLACE${cy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cy()}`},Ld=CO;function f_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function C1(t,e,n){if(typeof t!="function")throw new Error(Rn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Rn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Rn(1));return n(C1)(t,e)}let i=t,s=e,o=new Map,u=o,h=0,f=!1;function d(){u===o&&(u=new Map,o.forEach((D,L)=>{u.set(L,D)}))}function g(){if(f)throw new Error(Rn(3));return s}function v(D){if(typeof D!="function")throw new Error(Rn(4));if(f)throw new Error(Rn(5));let L=!0;d();const H=h++;return u.set(H,D),function(){if(L){if(f)throw new Error(Rn(6));L=!1,d(),u.delete(H),o=null}}}function E(D){if(!f_(D))throw new Error(Rn(7));if(typeof D.type>"u")throw new Error(Rn(8));if(typeof D.type!="string")throw new Error(Rn(17));if(f)throw new Error(Rn(9));try{f=!0,s=i(s,D)}finally{f=!1}return(o=u).forEach(H=>{H()}),D}function S(D){if(typeof D!="function")throw new Error(Rn(10));i=D,E({type:Ld.REPLACE})}function b(){const D=v;return{subscribe(L){if(typeof L!="object"||L===null)throw new Error(Rn(11));function H(){const Z=L;Z.next&&Z.next(g())}return H(),{unsubscribe:D(H)}},[CS](){return this}}}return E({type:Ld.INIT}),{dispatch:E,subscribe:v,getState:g,replaceReducer:S,[CS]:b}}function IO(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ld.INIT})>"u")throw new Error(Rn(12));if(typeof n(void 0,{type:Ld.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rn(13))})}function xO(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const u=e[o];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let s;try{IO(n)}catch(o){s=o}return function(u={},h){if(s)throw s;let f=!1;const d={};for(let g=0;g<i.length;g++){const v=i[g],E=n[v],S=u[v],b=E(S,h);if(typeof b>"u")throw h&&h.type,new Error(Rn(14));d[v]=b,f=f||b!==S}return f=f||i.length!==Object.keys(u).length,f?d:u}}function kd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function DO(...t){return e=>(n,i)=>{const s=e(n,i);let o=()=>{throw new Error(Rn(15))};const u={getState:s.getState,dispatch:(f,...d)=>o(f,...d)},h=t.map(f=>f(u));return o=kd(...h)(s.dispatch),{...s,dispatch:o}}}function PO(t){return f_(t)&&"type"in t&&typeof t.type=="string"}var I1=Symbol.for("immer-nothing"),IS=Symbol.for("immer-draftable"),Di=Symbol.for("immer-state");function gr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ql=Object.getPrototypeOf;function Mo(t){return!!t&&!!t[Di]}function ws(t){return t?x1(t)||Array.isArray(t)||!!t[IS]||!!t.constructor?.[IS]||mh(t)||Rm(t):!1}var NO=Object.prototype.constructor.toString();function x1(t){if(!t||typeof t!="object")return!1;const e=Ql(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===NO}function Ud(t,e){Am(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function Am(t){const e=t[Di];return e?e.type_:Array.isArray(t)?1:mh(t)?2:Rm(t)?3:0}function tv(t,e){return Am(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function D1(t,e,n){const i=Am(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function MO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function mh(t){return t instanceof Map}function Rm(t){return t instanceof Set}function Eo(t){return t.copy_||t.base_}function nv(t,e){if(mh(t))return new Map(t);if(Rm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=x1(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Di];let s=Reflect.ownKeys(i);for(let o=0;o<s.length;o++){const u=s[o],h=i[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[u]})}return Object.create(Ql(t),i)}else{const i=Ql(t);if(i!==null&&n)return{...t};const s=Object.create(i);return Object.assign(s,t)}}function d_(t,e=!1){return Cm(t)||Mo(t)||!ws(t)||(Am(t)>1&&Object.defineProperties(t,{set:{value:Jf},add:{value:Jf},clear:{value:Jf},delete:{value:Jf}}),Object.freeze(t),e&&Object.values(t).forEach(n=>d_(n,!0))),t}function Jf(){gr(2)}function Cm(t){return Object.isFrozen(t)}var OO={};function Oo(t){const e=OO[t];return e||gr(0,t),e}var Yc;function P1(){return Yc}function VO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xS(t,e){e&&(Oo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function iv(t){rv(t),t.drafts_.forEach(LO),t.drafts_=null}function rv(t){t===Yc&&(Yc=t.parent_)}function DS(t){return Yc=VO(Yc,t)}function LO(t){const e=t[Di];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Di].modified_&&(iv(e),gr(4)),ws(t)&&(t=jd(e,t),e.parent_||Bd(e,t)),e.patches_&&Oo("Patches").generateReplacementPatches_(n[Di].base_,t,e.patches_,e.inversePatches_)):t=jd(e,n,[]),iv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==I1?t:void 0}function jd(t,e,n){if(Cm(e))return e;const i=e[Di];if(!i)return Ud(e,(s,o)=>NS(t,i,e,s,o,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Bd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,u=!1;i.type_===3&&(o=new Set(s),s.clear(),u=!0),Ud(o,(h,f)=>NS(t,i,s,h,f,n,u)),Bd(t,s,!1),n&&t.patches_&&Oo("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function NS(t,e,n,i,s,o,u){if(Mo(s)){const h=o&&e&&e.type_!==3&&!tv(e.assigned_,i)?o.concat(i):void 0,f=jd(t,s,h);if(D1(n,i,f),Mo(f))t.canAutoFreeze_=!1;else return}else u&&n.add(s);if(ws(s)&&!Cm(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;jd(t,s),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(mh(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&Bd(t,s)}}function Bd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&d_(e,n)}function kO(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:P1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,o=m_;n&&(s=[i],o=Xc);const{revoke:u,proxy:h}=Proxy.revocable(s,o);return i.draft_=h,i.revoke_=u,h}var m_={get(t,e){if(e===Di)return t;const n=Eo(t);if(!tv(n,e))return UO(t,n,e);const i=n[e];return t.finalized_||!ws(i)?i:i===hy(t.base_,e)?(fy(t),t.copy_[e]=av(i,t)):i},has(t,e){return e in Eo(t)},ownKeys(t){return Reflect.ownKeys(Eo(t))},set(t,e,n){const i=N1(Eo(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const s=hy(Eo(t),e),o=s?.[Di];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(MO(n,s)&&(n!==void 0||tv(t.base_,e)))return!0;fy(t),sv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return hy(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,fy(t),sv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Eo(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){gr(11)},getPrototypeOf(t){return Ql(t.base_)},setPrototypeOf(){gr(12)}},Xc={};Ud(m_,(t,e)=>{Xc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xc.deleteProperty=function(t,e){return Xc.set.call(this,t,e,void 0)};Xc.set=function(t,e,n){return m_.set.call(this,t[0],e,n,t[0])};function hy(t,e){const n=t[Di];return(n?Eo(n):t)[e]}function UO(t,e,n){const i=N1(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function N1(t,e){if(!(e in t))return;let n=Ql(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Ql(n)}}function sv(t){t.modified_||(t.modified_=!0,t.parent_&&sv(t.parent_))}function fy(t){t.copy_||(t.copy_=nv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const u=this;return function(f=o,...d){return u.produce(f,g=>n.call(this,g,...d))}}typeof n!="function"&&gr(6),i!==void 0&&typeof i!="function"&&gr(7);let s;if(ws(e)){const o=DS(this),u=av(e,void 0);let h=!0;try{s=n(u),h=!1}finally{h?iv(o):rv(o)}return xS(o,i),PS(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===I1&&(s=void 0),this.autoFreeze_&&d_(s,!0),i){const o=[],u=[];Oo("Patches").generateReplacementPatches_(e,s,o,u),i(o,u)}return s}else gr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,f=>e(f,...h));let i,s;return[this.produce(e,n,(u,h)=>{i=u,s=h}),i,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ws(t)||gr(8),Mo(t)&&(t=BO(t));const e=DS(this),n=av(t,void 0);return n[Di].isManual_=!0,rv(e),n}finishDraft(t,e){const n=t&&t[Di];(!n||!n.isManual_)&&gr(9);const{scope_:i}=n;return xS(i,e),PS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const i=Oo("Patches").applyPatches_;return Mo(t)?i(t,e):this.produce(t,s=>i(s,e))}};function av(t,e){const n=mh(t)?Oo("MapSet").proxyMap_(t,e):Rm(t)?Oo("MapSet").proxySet_(t,e):kO(t,e);return(e?e.scope_:P1()).drafts_.push(n),n}function BO(t){return Mo(t)||gr(10,t),M1(t)}function M1(t){if(!ws(t)||Cm(t))return t;const e=t[Di];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=nv(t,e.scope_.immer_.useStrictShallowCopy_)}else n=nv(t,!0);return Ud(n,(i,s)=>{D1(n,i,M1(s))}),e&&(e.finalized_=!1),n}var FO=new jO,O1=FO.produce;function V1(t){return({dispatch:n,getState:i})=>s=>o=>typeof o=="function"?o(n,i,t):s(o)}var zO=V1(),HO=V1,qO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kd:kd.apply(null,arguments)};function MS(t,e){function n(...i){if(e){let s=e(...i);if(!s)throw new Error(vs(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>PO(i)&&i.type===t,n}var L1=class xc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xc.prototype)}static get[Symbol.species](){return xc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xc(...e[0].concat(this)):new xc(...e.concat(this))}};function OS(t){return ws(t)?O1(t,()=>{}):t}function Zf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function GO(t){return typeof t=="boolean"}var KO=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let u=new L1;return n&&(GO(n)?u.push(zO):u.push(HO(n.extraArgument))),u},$O="RTK_autoBatch",VS=t=>e=>{setTimeout(e,t)},WO=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let s=!0,o=!1,u=!1;const h=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:VS(10):t.type==="callback"?t.queueNotification:VS(t.timeout),d=()=>{u=!1,o&&(o=!1,h.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const v=()=>s&&g(),E=i.subscribe(v);return h.add(g),()=>{E(),h.delete(g)}},dispatch(g){try{return s=!g?.meta?.[$O],o=!s,o&&(u||(u=!0,f(d))),i.dispatch(g)}finally{s=!0}}})},YO=t=>function(n){const{autoBatch:i=!0}=n??{};let s=new L1(t);return i&&s.push(WO(typeof i=="object"?i:void 0)),s};function XO(t){const e=KO(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let h;if(typeof n=="function")h=n;else if(f_(n))h=xO(n);else throw new Error(vs(1));let f;typeof i=="function"?f=i(e):f=e();let d=kd;s&&(d=qO({trace:!1,...typeof s=="object"&&s}));const g=DO(...f),v=YO(g);let E=typeof u=="function"?u(v):v();const S=d(...E);return C1(h,o,S)}function k1(t){const e={},n=[];let i;const s={addCase(o,u){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(vs(28));if(h in e)throw new Error(vs(29));return e[h]=u,s},addAsyncThunk(o,u){return u.pending&&(e[o.pending.type]=u.pending),u.rejected&&(e[o.rejected.type]=u.rejected),u.fulfilled&&(e[o.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:o.settled,reducer:u.settled}),s},addMatcher(o,u){return n.push({matcher:o,reducer:u}),s},addDefaultCase(o){return i=o,s}};return t(s),[e,n,i]}function QO(t){return typeof t=="function"}function JO(t,e){let[n,i,s]=k1(e),o;if(QO(t))o=()=>OS(t());else{const h=OS(t);o=()=>h}function u(h=o(),f){let d=[n[f.type],...i.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return d.filter(g=>!!g).length===0&&(d=[s]),d.reduce((g,v)=>{if(v)if(Mo(g)){const S=v(g,f);return S===void 0?g:S}else{if(ws(g))return O1(g,E=>v(E,f));{const E=v(g,f);if(E===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return g},h)}return u.getInitialState=o,u}var ZO=Symbol.for("rtk-slice-createasyncthunk");function e2(t,e){return`${t}/${e}`}function t2({creators:t}={}){const e=t?.asyncThunk?.[ZO];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(vs(11));const u=(typeof i.reducers=="function"?i.reducers(i2()):i.reducers)||{},h=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,Z){const K=typeof k=="string"?k:k.type;if(!K)throw new Error(vs(12));if(K in f.sliceCaseReducersByType)throw new Error(vs(13));return f.sliceCaseReducersByType[K]=Z,d},addMatcher(k,Z){return f.sliceMatchers.push({matcher:k,reducer:Z}),d},exposeAction(k,Z){return f.actionCreators[k]=Z,d},exposeCaseReducer(k,Z){return f.sliceCaseReducersByName[k]=Z,d}};h.forEach(k=>{const Z=u[k],K={reducerName:k,type:e2(s,k),createNotation:typeof i.reducers=="function"};s2(Z)?o2(K,Z,d,e):r2(K,Z,d)});function g(){const[k={},Z=[],K=void 0]=typeof i.extraReducers=="function"?k1(i.extraReducers):[i.extraReducers],N={...k,...f.sliceCaseReducersByType};return JO(i.initialState,I=>{for(let C in N)I.addCase(C,N[C]);for(let C of f.sliceMatchers)I.addMatcher(C.matcher,C.reducer);for(let C of Z)I.addMatcher(C.matcher,C.reducer);K&&I.addDefaultCase(K)})}const v=k=>k,E=new Map,S=new WeakMap;let b;function O(k,Z){return b||(b=g()),b(k,Z)}function D(){return b||(b=g()),b.getInitialState()}function L(k,Z=!1){function K(I){let C=I[k];return typeof C>"u"&&Z&&(C=Zf(S,K,D)),C}function N(I=v){const C=Zf(E,Z,()=>new WeakMap);return Zf(C,I,()=>{const P={};for(const[j,F]of Object.entries(i.selectors??{}))P[j]=n2(F,I,()=>Zf(S,I,D),Z);return P})}return{reducerPath:k,getSelectors:N,get selectors(){return N(K)},selectSlice:K}}const H={name:s,reducer:O,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:D,...L(o),injectInto(k,{reducerPath:Z,...K}={}){const N=Z??o;return k.inject({reducerPath:N,reducer:O},K),{...H,...L(N,!0)}}};return H}}function n2(t,e,n,i){function s(o,...u){let h=e(o);return typeof h>"u"&&i&&(h=n()),t(h,...u)}return s.unwrapped=t,s}var ph=t2();function i2(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function r2({type:t,reducerName:e,createNotation:n},i,s){let o,u;if("reducer"in i){if(n&&!a2(i))throw new Error(vs(17));o=i.reducer,u=i.prepare}else o=i;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,u?MS(t,u):MS(t))}function s2(t){return t._reducerDefinitionType==="asyncThunk"}function a2(t){return t._reducerDefinitionType==="reducerWithPrepare"}function o2({type:t,reducerName:e},n,i,s){if(!s)throw new Error(vs(18));const{payloadCreator:o,fulfilled:u,pending:h,rejected:f,settled:d,options:g}=n,v=s(t,o,g);i.exposeAction(e,v),u&&i.addCase(v.fulfilled,u),h&&i.addCase(v.pending,h),f&&i.addCase(v.rejected,f),d&&i.addMatcher(v.settled,d),i.exposeCaseReducer(e,{fulfilled:u||ed,pending:h||ed,rejected:f||ed,settled:d||ed})}function ed(){}function vs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const U1={user:null,isCreatingAccount:!1,isLoggedIn:!1,isLoggingIn:!1};console.log(U1.user);const j1=ph({name:"auth",initialState:U1,reducers:{startCreatingAccount(t){t.isCreatingAccount=!0},stopCreatingAccount(t){t.isCreatingAccount=!1},startLoggingIn(t){t.isLoggingIn=!0},stopLoggingIn(t){t.isLoggingIn=!1},login(t,e){const{uid:n,email:i,userName:s}=e.payload;t.user={uid:n,email:i,userName:s},t.isLoggedIn=!0,t.isLoggingIn=!1},logOut(t){t.user=null,t.isLoggedIn=!1}}}),_s=j1.actions,l2=j1.reducer,u2={bio:"Set bio here!",isEditingBio:!1,profileImgUrl:""},B1=ph({name:"profile",initialState:u2,reducers:{editBio(t){t.isEditingBio=!0},saveBio(t){t.isEditingBio=!1},updateBio(t,e){t.bio=e.payload},uploadAvatar(t,e){t.profileImgUrl=e.payload}}}),Fd=B1.actions,c2=B1.reducer,h2={myShows:[],currentlyBinging:[],watchedEps:[],finishedShows:[],isReviewing:!1,reviews:[],reviewingShowId:null},F1=ph({name:"shows",initialState:h2,reducers:{updateMyShows(t,e){t.myShows=e.payload},updateBinging(t,e){t.currentlyBinging=e.payload},updateWatchedEps(t,e){t.watchedEps=e.payload},updateFinishedShows(t,e){t.finishedShows=e.payload},reviewingShow(t,e){t.reviewingShowId=e.payload},toggleReviewing(t){t.isReviewing=!t.isReviewing},updateReviews(t,e){t.reviews=e.payload}}}),Zt=F1.actions,f2=F1.reducer,d2={epNotes:[],charNotes:[]},z1=ph({name:"notes",initialState:d2,reducers:{updateEpNotes(t,e){t.epNotes=e.payload},updateCharNotes(t,e){t.charNotes=e.payload}}}),zd=z1.actions,m2=z1.reducer,p2={friendsList:[]},H1=ph({name:"friends",initialState:p2,reducers:{addFriend(t,e){t.friendsList=e.payload}}}),q1=H1.actions,g2=H1.reducer,y2=XO({reducer:{auth:l2,profile:c2,shows:f2,notes:m2,friends:g2}});var G1=t=>{throw TypeError(t)},v2=(t,e,n)=>e.has(t)||G1("Cannot "+n),dy=(t,e,n)=>(v2(t,e,"read from private field"),n?n.call(t):e.get(t)),_2=(t,e,n)=>e.has(t)?G1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),LS="popstate";function E2(t={}){function e(s,o){let{pathname:u="/",search:h="",hash:f=""}=Ds(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Qc("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=s.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof o=="string"?o:Ta(o))}function i(s,o){zt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return w2(e,n,i,t)}function Je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T2(){return Math.random().toString(36).substring(2,10)}function kS(t,e){return{usr:t.state,key:t.key,idx:e}}function Qc(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ds(e):e,state:n,key:e&&e.key||i||T2()}}function Ta({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ds(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function w2(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=g(),L=D==null?null:D-d;d=D,f&&f({action:h,location:O.location,delta:L})}function E(D,L){h="PUSH";let H=Qc(O.location,D,L);n&&n(H,D),d=g()+1;let k=kS(H,d),Z=O.createHref(H);try{u.pushState(k,"",Z)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;s.location.assign(Z)}o&&f&&f({action:h,location:O.location,delta:1})}function S(D,L){h="REPLACE";let H=Qc(O.location,D,L);n&&n(H,D),d=g();let k=kS(H,d),Z=O.createHref(H);u.replaceState(k,"",Z),o&&f&&f({action:h,location:O.location,delta:0})}function b(D){return K1(D)}let O={get action(){return h},get location(){return t(s,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(LS,v),f=D,()=>{s.removeEventListener(LS,v),f=null}},createHref(D){return e(s,D)},createURL:b,encodeLocation(D){let L=b(D);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:S,go(D){return u.go(D)}};return O}function K1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Ta(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var Dc,US=class{constructor(t){if(_2(this,Dc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(dy(this,Dc).has(t))return dy(this,Dc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){dy(this,Dc).set(t,e)}};Dc=new WeakMap;var S2=new Set(["lazy","caseSensitive","path","id","index","children"]);function b2(t){return S2.has(t)}var A2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function R2(t){return A2.has(t)}function C2(t){return t.index===!0}function Jc(t,e,n=[],i={},s=!1){return t.map((o,u)=>{let h=[...n,String(u)],f=typeof o.id=="string"?o.id:h.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(s||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),C2(o)){let d={...o,...e(o),id:f};return i[f]=d,d}else{let d={...o,...e(o),id:f,children:void 0};return i[f]=d,o.children&&(d.children=Jc(o.children,e,h,i,s)),d}})}function ua(t,e,n="/"){return pd(t,e,n,!1)}function pd(t,e,n,i){let s=typeof e=="string"?Ds(e):e,o=Qi(s.pathname||"/",n);if(o==null)return null;let u=$1(t);x2(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=B2(o);h=U2(u[f],d,i)}return h}function I2(t,e){let{route:n,pathname:i,params:s}=t;return{id:n.id,pathname:i,params:s,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function $1(t,e=[],n=[],i=""){let s=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Je(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=Mr([i,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Je(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),$1(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:L2(d,o.index),routesMeta:g})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))s(o,u);else for(let h of W1(o.path))s(o,u,h)}),e}function W1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=W1(i.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function x2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var D2=/^:[\w-]+$/,P2=3,N2=2,M2=1,O2=10,V2=-2,jS=t=>t==="*";function L2(t,e){let n=t.split("/"),i=n.length;return n.some(jS)&&(i+=V2),e&&(i+=N2),n.filter(s=>!jS(s)).reduce((s,o)=>s+(D2.test(o)?P2:o===""?M2:O2),i)}function k2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function U2(t,e,n=!1){let{routesMeta:i}=t,s={},o="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=Hd({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),E=f.route;if(!v&&d&&n&&!i[i.length-1].route.index&&(v=Hd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Mr([o,v.pathname]),pathnameBase:q2(Mr([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Mr([o,v.pathnameBase]))}return u}function Hd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=j2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:g,isOptional:v},E)=>{if(g==="*"){let b=h[E]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=h[E];return v&&!S?d[g]=void 0:d[g]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:t}}function j2(t,e=!1,n=!0){zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function B2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function F2({basename:t,pathname:e}){return e==="/"?t:Mr([t,e])}function z2(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Ds(t):t;return{pathname:n?n.startsWith("/")?n:H2(n,e):e,search:G2(i),hash:K2(s)}}function H2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function my(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Im(t){let e=Y1(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function xm(t,e,n,i=!1){let s;typeof t=="string"?s=Ds(t):(s={...t},Je(!s.pathname||!s.pathname.includes("?"),my("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),my("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),my("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}h=v>=0?e[v]:"/"}let f=z2(s,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Mr=t=>t.join("/").replace(/\/\/+/g,"/"),q2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,qd=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Zc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var X1=["POST","PUT","PATCH","DELETE"],$2=new Set(X1),W2=["GET",...X1],Y2=new Set(W2),X2=new Set([301,302,303,307,308]),Q2=new Set([307,308]),py={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p_=t=>Z2.test(t),eV=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Q1="remix-router-transitions",J1=Symbol("ResetLoaderData");function tV(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],s=t.mapRouteProperties||eV,o={},u=Jc(t.routes,s,void 0,o),h,f=t.basename||"/",d=t.dataStrategy||aV,g={unstable_middleware:!1,...t.future},v=null,E=new Set,S=null,b=null,O=null,D=t.hydrationData!=null,L=ua(u,t.history.location,f),H=!1,k=null,Z;if(L==null&&!t.patchRoutesOnNavigation){let z=qi(404,{pathname:t.history.location.pathname}),{matches:W,route:ne}=QS(u);Z=!0,L=W,k={[ne.id]:z}}else if(L&&!t.hydrationData&&gi(L,u,t.history.location.pathname).active&&(L=null),L)if(L.some(z=>z.route.lazy))Z=!1;else if(!L.some(z=>z.route.loader))Z=!0;else{let z=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null;if(W){let ne=L.findIndex(le=>W[le.route.id]!==void 0);Z=L.slice(0,ne+1).every(le=>!lv(le.route,z,W))}else Z=L.every(ne=>!lv(ne.route,z,W))}else{Z=!1,L=[];let z=gi(null,u,t.history.location.pathname);z.active&&z.matches&&(H=!0,L=z.matches)}let K,N={historyAction:t.history.action,location:t.history.location,matches:L,initialized:Z,navigation:py,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||k,fetchers:new Map,blockers:new Map},I="POP",C=!1,P,j=!1,F=new Map,G=null,M=!1,xe=!1,Ke=new Set,Y=new Map,he=0,me=-1,Pe=new Map,B=new Set,se=new Map,ge=new Map,pe=new Set,ve=new Map,ze,Ne=null;function rn(){if(v=t.history.listen(({action:z,location:W,delta:ne})=>{if(ze){ze(),ze=void 0;return}zt(ve.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Yr({currentLocation:N.location,nextLocation:W,historyAction:z});if(le&&ne!=null){let de=new Promise(Te=>{ze=Te});t.history.go(ne*-1),pi(le,{state:"blocked",location:W,proceed(){pi(le,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),de.then(()=>t.history.go(ne))},reset(){let Te=new Map(N.blockers);Te.set(le,bc),Ut({blockers:Te})}});return}return Qn(z,W)}),n){yV(e,F);let z=()=>vV(e,F);e.addEventListener("pagehide",z),G=()=>e.removeEventListener("pagehide",z)}return N.initialized||Qn("POP",N.location,{initialHydration:!0}),K}function ct(){v&&v(),G&&G(),E.clear(),P&&P.abort(),N.fetchers.forEach((z,W)=>sn(W)),N.blockers.forEach((z,W)=>zn(W))}function ci(z){return E.add(z),()=>E.delete(z)}function Ut(z,W={}){z.matches&&(z.matches=z.matches.map(de=>{let Te=o[de.route.id],be=de.route;return be.element!==Te.element||be.errorElement!==Te.errorElement||be.hydrateFallbackElement!==Te.hydrateFallbackElement?{...de,route:Te}:de})),N={...N,...z};let ne=[],le=[];N.fetchers.forEach((de,Te)=>{de.state==="idle"&&(pe.has(Te)?ne.push(Te):le.push(Te))}),pe.forEach(de=>{!N.fetchers.has(de)&&!Y.has(de)&&ne.push(de)}),[...E].forEach(de=>de(N,{deletedFetchers:ne,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ne.forEach(de=>sn(de)),le.forEach(de=>N.fetchers.delete(de))}function hi(z,W,{flushSync:ne}={}){let le=N.actionData!=null&&N.navigation.formMethod!=null&&ii(N.navigation.formMethod)&&N.navigation.state==="loading"&&z.state?._isRedirect!==!0,de;W.actionData?Object.keys(W.actionData).length>0?de=W.actionData:de=null:le?de=N.actionData:de=null;let Te=W.loaderData?YS(N.loaderData,W.loaderData,W.matches||[],W.errors):N.loaderData,be=N.blockers;be.size>0&&(be=new Map(be),be.forEach((we,Re)=>be.set(Re,bc)));let Ee=M?!1:ja(z,W.matches||N.matches),Ie=C===!0||N.navigation.formMethod!=null&&ii(N.navigation.formMethod)&&z.state?._isRedirect!==!0;h&&(u=h,h=void 0),M||I==="POP"||(I==="PUSH"?t.history.push(z,z.state):I==="REPLACE"&&t.history.replace(z,z.state));let Ce;if(I==="POP"){let we=F.get(N.location.pathname);we&&we.has(z.pathname)?Ce={currentLocation:N.location,nextLocation:z}:F.has(z.pathname)&&(Ce={currentLocation:z,nextLocation:N.location})}else if(j){let we=F.get(N.location.pathname);we?we.add(z.pathname):(we=new Set([z.pathname]),F.set(N.location.pathname,we)),Ce={currentLocation:N.location,nextLocation:z}}Ut({...W,actionData:de,loaderData:Te,historyAction:I,location:z,initialized:!0,navigation:py,revalidation:"idle",restoreScrollPosition:Ee,preventScrollReset:Ie,blockers:be},{viewTransitionOpts:Ce,flushSync:ne===!0}),I="POP",C=!1,j=!1,M=!1,xe=!1,Ne?.resolve(),Ne=null}async function $r(z,W){if(typeof z=="number"){t.history.go(z);return}let ne=ov(N.location,N.matches,f,z,W?.fromRouteId,W?.relative),{path:le,submission:de,error:Te}=BS(!1,ne,W),be=N.location,Ee=Qc(N.location,le,W&&W.state);Ee={...Ee,...t.history.encodeLocation(Ee)};let Ie=W&&W.replace!=null?W.replace:void 0,Ce="PUSH";Ie===!0?Ce="REPLACE":Ie===!1||de!=null&&ii(de.formMethod)&&de.formAction===N.location.pathname+N.location.search&&(Ce="REPLACE");let we=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Re=(W&&W.flushSync)===!0,He=Yr({currentLocation:be,nextLocation:Ee,historyAction:Ce});if(He){pi(He,{state:"blocked",location:Ee,proceed(){pi(He,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),$r(z,W)},reset(){let ot=new Map(N.blockers);ot.set(He,bc),Ut({blockers:ot})}});return}await Qn(Ce,Ee,{submission:de,pendingError:Te,preventScrollReset:we,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Re})}function Wr(){Ne||(Ne=_V()),nr(),Ut({revalidation:"loading"});let z=Ne.promise;return N.navigation.state==="submitting"?z:N.navigation.state==="idle"?(Qn(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),z):(Qn(I||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:j===!0}),z)}async function Qn(z,W,ne){P&&P.abort(),P=null,I=z,M=(ne&&ne.startUninterruptedRevalidation)===!0,Mt(N.location,N.matches),C=(ne&&ne.preventScrollReset)===!0,j=(ne&&ne.enableViewTransition)===!0;let le=h||u,de=ne&&ne.overrideNavigation,Te=ne?.initialHydration&&N.matches&&N.matches.length>0&&!H?N.matches:ua(le,W,f),be=(ne&&ne.flushSync)===!0;if(Te&&N.initialized&&!xe&&fV(N.location,W)&&!(ne&&ne.submission&&ii(ne.submission.formMethod))){hi(W,{matches:Te},{flushSync:be});return}let Ee=gi(Te,le,W.pathname);if(Ee.active&&Ee.matches&&(Te=Ee.matches),!Te){let{error:xt,notFoundMatches:Be,route:ht}=Xr(W.pathname);hi(W,{matches:Be,loaderData:{},errors:{[ht.id]:xt}},{flushSync:be});return}P=new AbortController;let Ie=Nl(t.history,W,P.signal,ne&&ne.submission),Ce=t.unstable_getContext?await t.unstable_getContext():new US,we;if(ne&&ne.pendingError)we=[ca(Te).route.id,{type:"error",error:ne.pendingError}];else if(ne&&ne.submission&&ii(ne.submission.formMethod)){let xt=await Eu(Ie,W,ne.submission,Te,Ce,Ee.active,ne&&ne.initialHydration===!0,{replace:ne.replace,flushSync:be});if(xt.shortCircuited)return;if(xt.pendingActionResult){let[Be,ht]=xt.pendingActionResult;if(Ci(ht)&&Zc(ht.error)&&ht.error.status===404){P=null,hi(W,{matches:xt.matches,loaderData:{},errors:{[Be]:ht.error}});return}}Te=xt.matches||Te,we=xt.pendingActionResult,de=gy(W,ne.submission),be=!1,Ee.active=!1,Ie=Nl(t.history,Ie.url,Ie.signal)}let{shortCircuited:Re,matches:He,loaderData:ot,errors:At}=await ka(Ie,W,Te,Ce,Ee.active,de,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,be,we);Re||(P=null,hi(W,{matches:He||Te,...XS(we),loaderData:ot,errors:At}))}async function Eu(z,W,ne,le,de,Te,be,Ee={}){nr();let Ie=pV(W,ne);if(Ut({navigation:Ie},{flushSync:Ee.flushSync===!0}),Te){let Re=await yi(le,W.pathname,z.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let He=ca(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[He,{type:"error",error:Re.error}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:He,error:ot,route:At}=Xr(W.pathname);return{matches:He,pendingActionResult:[At.id,{type:"error",error:ot}]}}}let Ce,we=gd(le,W);if(!we.route.action&&!we.route.lazy)Ce={type:"error",error:qi(405,{method:z.method,pathname:W.pathname,routeId:we.route.id})};else{let Re=Hl(s,o,z,le,we,be?[]:i,de),He=await tr(z,Re,de,null);if(Ce=He[we.route.id],!Ce){for(let ot of le)if(He[ot.route.id]){Ce=He[ot.route.id];break}}if(z.signal.aborted)return{shortCircuited:!0}}if(So(Ce)){let Re;return Ee&&Ee.replace!=null?Re=Ee.replace:Re=KS(Ce.response.headers.get("Location"),new URL(z.url),f)===N.location.pathname+N.location.search,await er(z,Ce,!0,{submission:ne,replace:Re}),{shortCircuited:!0}}if(Ci(Ce)){let Re=ca(le,we.route.id);return(Ee&&Ee.replace)!==!0&&(I="PUSH"),{matches:le,pendingActionResult:[Re.route.id,Ce,we.route.id]}}return{matches:le,pendingActionResult:[we.route.id,Ce]}}async function ka(z,W,ne,le,de,Te,be,Ee,Ie,Ce,we,Re){let He=Te||gy(W,be),ot=be||Ee||ZS(He),At=!M&&!Ce;if(de){if(At){let Dt=Tn(Re);Ut({navigation:He,...Dt!==void 0?{actionData:Dt}:{}},{flushSync:we})}let $e=await yi(ne,W.pathname,z.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let Dt=ca($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[Dt]:$e.error}}}else if($e.matches)ne=$e.matches;else{let{error:Dt,notFoundMatches:sr,route:qn}=Xr(W.pathname);return{matches:sr,loaderData:{},errors:{[qn.id]:Dt}}}}let xt=h||u,{dsMatches:Be,revalidatingFetchers:ht}=FS(z,le,s,o,t.history,N,ne,ot,W,Ce?[]:i,Ce===!0,xe,Ke,pe,se,B,xt,f,t.patchRoutesOnNavigation!=null,Re);if(me=++he,!t.dataStrategy&&!Be.some($e=>$e.shouldLoad)&&!Be.some($e=>$e.route.unstable_middleware)&&ht.length===0){let $e=di();return hi(W,{matches:ne,loaderData:{},errors:Re&&Ci(Re[1])?{[Re[0]]:Re[1].error}:null,...XS(Re),...$e?{fetchers:new Map(N.fetchers)}:{}},{flushSync:we}),{shortCircuited:!0}}if(At){let $e={};if(!de){$e.navigation=He;let Dt=Tn(Re);Dt!==void 0&&($e.actionData=Dt)}ht.length>0&&($e.fetchers=Wo(ht)),Ut($e,{flushSync:we})}ht.forEach($e=>{fi($e.key),$e.controller&&Y.set($e.key,$e.controller)});let Hn=()=>ht.forEach($e=>fi($e.key));P&&P.signal.addEventListener("abort",Hn);let{loaderResults:Pn,fetcherResults:an}=await Yo(Be,ht,z,le);if(z.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Hn),ht.forEach($e=>Y.delete($e.key));let dn=td(Pn);if(dn)return await er(z,dn.result,!0,{replace:Ie}),{shortCircuited:!0};if(dn=td(an),dn)return B.add(dn.key),await er(z,dn.result,!0,{replace:Ie}),{shortCircuited:!0};let{loaderData:Jn,errors:Pi}=WS(N,ne,Pn,Re,ht,an);Ce&&N.errors&&(Pi={...N.errors,...Pi});let rr=di(),Ni=ir(me),Mi=rr||Ni||ht.length>0;return{matches:ne,loaderData:Jn,errors:Pi,...Mi?{fetchers:new Map(N.fetchers)}:{}}}function Tn(z){if(z&&!Ci(z[1]))return{[z[0]]:z[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Wo(z){return z.forEach(W=>{let ne=N.fetchers.get(W.key),le=Ac(void 0,ne?ne.data:void 0);N.fetchers.set(W.key,le)}),new Map(N.fetchers)}async function Ht(z,W,ne,le){fi(z);let de=(le&&le.flushSync)===!0,Te=h||u,be=ov(N.location,N.matches,f,ne,W,le?.relative),Ee=ua(Te,be,f),Ie=gi(Ee,Te,be);if(Ie.active&&Ie.matches&&(Ee=Ie.matches),!Ee){Tt(z,W,qi(404,{pathname:be}),{flushSync:de});return}let{path:Ce,submission:we,error:Re}=BS(!0,be,le);if(Re){Tt(z,W,Re,{flushSync:de});return}let He=t.unstable_getContext?await t.unstable_getContext():new US,ot=(le&&le.preventScrollReset)===!0;if(we&&ii(we.formMethod)){await Yt(z,W,Ce,Ee,He,Ie.active,de,ot,we);return}se.set(z,{routeId:W,path:Ce}),await Zi(z,W,Ce,Ee,He,Ie.active,de,ot,we)}async function Yt(z,W,ne,le,de,Te,be,Ee,Ie){nr(),se.delete(z);let Ce=N.fetchers.get(z);wn(z,gV(Ie,Ce),{flushSync:be});let we=new AbortController,Re=Nl(t.history,ne,we.signal,Ie);if(Te){let wt=await yi(le,new URL(Re.url).pathname,Re.signal,z);if(wt.type==="aborted")return;if(wt.type==="error"){Tt(z,W,wt.error,{flushSync:be});return}else if(wt.matches)le=wt.matches;else{Tt(z,W,qi(404,{pathname:ne}),{flushSync:be});return}}let He=gd(le,ne);if(!He.route.action&&!He.route.lazy){let wt=qi(405,{method:Ie.formMethod,pathname:ne,routeId:W});Tt(z,W,wt,{flushSync:be});return}Y.set(z,we);let ot=he,At=Hl(s,o,Re,le,He,i,de),Be=(await tr(Re,At,de,z))[He.route.id];if(Re.signal.aborted){Y.get(z)===we&&Y.delete(z);return}if(pe.has(z)){if(So(Be)||Ci(Be)){wn(z,oa(void 0));return}}else{if(So(Be))if(Y.delete(z),me>ot){wn(z,oa(void 0));return}else return B.add(z),wn(z,Ac(Ie)),er(Re,Be,!1,{fetcherSubmission:Ie,preventScrollReset:Ee});if(Ci(Be)){Tt(z,W,Be.error);return}}let ht=N.navigation.location||N.location,Hn=Nl(t.history,ht,we.signal),Pn=h||u,an=N.navigation.state!=="idle"?ua(Pn,N.navigation.location,f):N.matches;Je(an,"Didn't find any matches after fetcher action");let dn=++he;Pe.set(z,dn);let Jn=Ac(Ie,Be.data);N.fetchers.set(z,Jn);let{dsMatches:Pi,revalidatingFetchers:rr}=FS(Hn,de,s,o,t.history,N,an,Ie,ht,i,!1,xe,Ke,pe,se,B,Pn,f,t.patchRoutesOnNavigation!=null,[He.route.id,Be]);rr.filter(wt=>wt.key!==z).forEach(wt=>{let ar=wt.key,Xo=N.fetchers.get(ar),vi=Ac(void 0,Xo?Xo.data:void 0);N.fetchers.set(ar,vi),fi(ar),wt.controller&&Y.set(ar,wt.controller)}),Ut({fetchers:new Map(N.fetchers)});let Ni=()=>rr.forEach(wt=>fi(wt.key));we.signal.addEventListener("abort",Ni);let{loaderResults:Mi,fetcherResults:$e}=await Yo(Pi,rr,Hn,de);if(we.signal.aborted)return;if(we.signal.removeEventListener("abort",Ni),Pe.delete(z),Y.delete(z),rr.forEach(wt=>Y.delete(wt.key)),N.fetchers.has(z)){let wt=oa(Be.data);N.fetchers.set(z,wt)}let Dt=td(Mi);if(Dt)return er(Hn,Dt.result,!1,{preventScrollReset:Ee});if(Dt=td($e),Dt)return B.add(Dt.key),er(Hn,Dt.result,!1,{preventScrollReset:Ee});let{loaderData:sr,errors:qn}=WS(N,an,Mi,void 0,rr,$e);ir(dn),N.navigation.state==="loading"&&dn>me?(Je(I,"Expected pending action"),P&&P.abort(),hi(N.navigation.location,{matches:an,loaderData:sr,errors:qn,fetchers:new Map(N.fetchers)})):(Ut({errors:qn,loaderData:YS(N.loaderData,sr,an,qn),fetchers:new Map(N.fetchers)}),xe=!1)}async function Zi(z,W,ne,le,de,Te,be,Ee,Ie){let Ce=N.fetchers.get(z);wn(z,Ac(Ie,Ce?Ce.data:void 0),{flushSync:be});let we=new AbortController,Re=Nl(t.history,ne,we.signal);if(Te){let ht=await yi(le,new URL(Re.url).pathname,Re.signal,z);if(ht.type==="aborted")return;if(ht.type==="error"){Tt(z,W,ht.error,{flushSync:be});return}else if(ht.matches)le=ht.matches;else{Tt(z,W,qi(404,{pathname:ne}),{flushSync:be});return}}let He=gd(le,ne);Y.set(z,we);let ot=he,At=Hl(s,o,Re,le,He,i,de),Be=(await tr(Re,At,de,z))[He.route.id];if(Y.get(z)===we&&Y.delete(z),!Re.signal.aborted){if(pe.has(z)){wn(z,oa(void 0));return}if(So(Be))if(me>ot){wn(z,oa(void 0));return}else{B.add(z),await er(Re,Be,!1,{preventScrollReset:Ee});return}if(Ci(Be)){Tt(z,W,Be.error);return}wn(z,oa(Be.data))}}async function er(z,W,ne,{submission:le,fetcherSubmission:de,preventScrollReset:Te,replace:be}={}){W.response.headers.has("X-Remix-Revalidate")&&(xe=!0);let Ee=W.response.headers.get("Location");Je(Ee,"Expected a Location header on the redirect Response"),Ee=KS(Ee,new URL(z.url),f);let Ie=Qc(N.location,Ee,{_isRedirect:!0});if(n){let At=!1;if(W.response.headers.has("X-Remix-Reload-Document"))At=!0;else if(p_(Ee)){const xt=K1(Ee,!0);At=xt.origin!==e.location.origin||Qi(xt.pathname,f)==null}if(At){be?e.location.replace(Ee):e.location.assign(Ee);return}}P=null;let Ce=be===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:we,formAction:Re,formEncType:He}=N.navigation;!le&&!de&&we&&Re&&He&&(le=ZS(N.navigation));let ot=le||de;if(Q2.has(W.response.status)&&ot&&ii(ot.formMethod))await Qn(Ce,Ie,{submission:{...ot,formAction:Ee},preventScrollReset:Te||C,enableViewTransition:ne?j:void 0});else{let At=gy(Ie,le);await Qn(Ce,Ie,{overrideNavigation:At,fetcherSubmission:de,preventScrollReset:Te||C,enableViewTransition:ne?j:void 0})}}async function tr(z,W,ne,le){let de,Te={};try{de=await oV(d,z,W,le,ne,!1)}catch(be){return W.filter(Ee=>Ee.shouldLoad).forEach(Ee=>{Te[Ee.route.id]={type:"error",error:be}}),Te}if(z.signal.aborted)return Te;for(let[be,Ee]of Object.entries(de))if(dV(Ee)){let Ie=Ee.result;Te[be]={type:"redirect",response:cV(Ie,z,be,W,f)}}else Te[be]=await uV(Ee);return Te}async function Yo(z,W,ne,le){let de=tr(ne,z,le,null),Te=Promise.all(W.map(async Ie=>{if(Ie.matches&&Ie.match&&Ie.request&&Ie.controller){let we=(await tr(Ie.request,Ie.matches,le,Ie.key))[Ie.match.route.id];return{[Ie.key]:we}}else return Promise.resolve({[Ie.key]:{type:"error",error:qi(404,{pathname:Ie.path})}})})),be=await de,Ee=(await Te).reduce((Ie,Ce)=>Object.assign(Ie,Ce),{});return{loaderResults:be,fetcherResults:Ee}}function nr(){xe=!0,se.forEach((z,W)=>{Y.has(W)&&Ke.add(W),fi(W)})}function wn(z,W,ne={}){N.fetchers.set(z,W),Ut({fetchers:new Map(N.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Tt(z,W,ne,le={}){let de=ca(N.matches,W);sn(z),Ut({errors:{[de.route.id]:ne},fetchers:new Map(N.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Fn(z){return ge.set(z,(ge.get(z)||0)+1),pe.has(z)&&pe.delete(z),N.fetchers.get(z)||J2}function sn(z){let W=N.fetchers.get(z);Y.has(z)&&!(W&&W.state==="loading"&&Pe.has(z))&&fi(z),se.delete(z),Pe.delete(z),B.delete(z),pe.delete(z),Ke.delete(z),N.fetchers.delete(z)}function Tu(z){let W=(ge.get(z)||0)-1;W<=0?(ge.delete(z),pe.add(z)):ge.set(z,W),Ut({fetchers:new Map(N.fetchers)})}function fi(z){let W=Y.get(z);W&&(W.abort(),Y.delete(z))}function Ua(z){for(let W of z){let ne=Fn(W),le=oa(ne.data);N.fetchers.set(W,le)}}function di(){let z=[],W=!1;for(let ne of B){let le=N.fetchers.get(ne);Je(le,`Expected fetcher: ${ne}`),le.state==="loading"&&(B.delete(ne),z.push(ne),W=!0)}return Ua(z),W}function ir(z){let W=[];for(let[ne,le]of Pe)if(le<z){let de=N.fetchers.get(ne);Je(de,`Expected fetcher: ${ne}`),de.state==="loading"&&(fi(ne),Pe.delete(ne),W.push(ne))}return Ua(W),W.length>0}function mi(z,W){let ne=N.blockers.get(z)||bc;return ve.get(z)!==W&&ve.set(z,W),ne}function zn(z){N.blockers.delete(z),ve.delete(z)}function pi(z,W){let ne=N.blockers.get(z)||bc;Je(ne.state==="unblocked"&&W.state==="blocked"||ne.state==="blocked"&&W.state==="blocked"||ne.state==="blocked"&&W.state==="proceeding"||ne.state==="blocked"&&W.state==="unblocked"||ne.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ne.state} -> ${W.state}`);let le=new Map(N.blockers);le.set(z,W),Ut({blockers:le})}function Yr({currentLocation:z,nextLocation:W,historyAction:ne}){if(ve.size===0)return;ve.size>1&&zt(!1,"A router only supports one blocker at a time");let le=Array.from(ve.entries()),[de,Te]=le[le.length-1],be=N.blockers.get(de);if(!(be&&be.state==="proceeding")&&Te({currentLocation:z,nextLocation:W,historyAction:ne}))return de}function Xr(z){let W=qi(404,{pathname:z}),ne=h||u,{matches:le,route:de}=QS(ne);return{notFoundMatches:le,route:de,error:W}}function Sr(z,W,ne){if(S=z,O=W,b=ne||null,!D&&N.navigation===py){D=!0;let le=ja(N.location,N.matches);le!=null&&Ut({restoreScrollPosition:le})}return()=>{S=null,O=null,b=null}}function Qr(z,W){return b&&b(z,W.map(le=>I2(le,N.loaderData)))||z.key}function Mt(z,W){if(S&&O){let ne=Qr(z,W);S[ne]=O()}}function ja(z,W){if(S){let ne=Qr(z,W),le=S[ne];if(typeof le=="number")return le}return null}function gi(z,W,ne){if(t.patchRoutesOnNavigation)if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:pd(W,ne,f,!0)}}else return{active:!0,matches:pd(W,ne,f,!0)||[]};return{active:!1,matches:null}}async function yi(z,W,ne,le){if(!t.patchRoutesOnNavigation)return{type:"success",matches:z};let de=z;for(;;){let Te=h==null,be=h||u,Ee=o;try{await t.patchRoutesOnNavigation({signal:ne,path:W,matches:de,fetcherKey:le,patch:(we,Re)=>{ne.aborted||zS(we,Re,be,Ee,s,!1)}})}catch(we){return{type:"error",error:we,partialMatches:de}}finally{Te&&!ne.aborted&&(u=[...u])}if(ne.aborted)return{type:"aborted"};let Ie=ua(be,W,f);if(Ie)return{type:"success",matches:Ie};let Ce=pd(be,W,f,!0);if(!Ce||de.length===Ce.length&&de.every((we,Re)=>we.route.id===Ce[Re].route.id))return{type:"success",matches:null};de=Ce}}function Ba(z){o={},h=Jc(z,s,void 0,o)}function Fa(z,W,ne=!1){let le=h==null;zS(z,W,h||u,o,s,ne),le&&(u=[...u],Ut({}))}return K={get basename(){return f},get future(){return g},get state(){return N},get routes(){return u},get window(){return e},initialize:rn,subscribe:ci,enableScrollRestoration:Sr,navigate:$r,fetch:Ht,revalidate:Wr,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:Fn,deleteFetcher:Tu,dispose:ct,getBlocker:mi,deleteBlocker:zn,patchRoutes:Fa,_internalFetchControllers:Y,_internalSetRoutes:Ba,_internalSetStateDoNotUseOrYouWillBreakYourApp(z){Ut(z)}},K}function nV(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ov(t,e,n,i,s,o){let u,h;if(s){u=[];for(let d of e)if(u.push(d),d.route.id===s){h=d;break}}else u=e,h=e[e.length-1];let f=xm(i||".",Im(u),Qi(t.pathname,n)||t.pathname,o==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h){let d=g_(f.search);if(h.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&d){let g=new URLSearchParams(f.search),v=g.getAll("index");g.delete("index"),v.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();f.search=E?`?${E}`:""}}return n!=="/"&&(f.pathname=F2({basename:n,pathname:f.pathname})),Ta(f)}function BS(t,e,n){if(!n||!nV(n))return{path:e};if(n.formMethod&&!mV(n.formMethod))return{path:e,error:qi(405,{method:n.formMethod})};let i=()=>({path:e,error:qi(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=sC(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ii(o))return i();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[S,b])=>`${E}${S}=${b}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!ii(o))return i();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return i()}}}Je(typeof FormData=="function","FormData is not available in this environment");let h,f;if(n.formData)h=cv(n.formData),f=n.formData;else if(n.body instanceof FormData)h=cv(n.body),f=n.body;else if(n.body instanceof URLSearchParams)h=n.body,f=$S(h);else if(n.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(n.body),f=$S(h)}catch{return i()}let d={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ii(d.formMethod))return{path:e,submission:d};let g=Ds(e);return t&&g.search&&g_(g.search)&&h.append("index",""),g.search=`?${h}`,{path:Ta(g),submission:d}}function FS(t,e,n,i,s,o,u,h,f,d,g,v,E,S,b,O,D,L,H,k){let Z=k?Ci(k[1])?k[1].error:k[1].data:void 0,K=s.createURL(o.location),N=s.createURL(f),I;if(g&&o.errors){let M=Object.keys(o.errors)[0];I=u.findIndex(xe=>xe.route.id===M)}else if(k&&Ci(k[1])){let M=k[0];I=u.findIndex(xe=>xe.route.id===M)-1}let C=k?k[1].statusCode:void 0,P=C&&C>=400,j={currentUrl:K,currentParams:o.matches[0]?.params||{},nextUrl:N,nextParams:u[0].params,...h,actionResult:Z,actionStatus:C},F=u.map((M,xe)=>{let{route:Ke}=M,Y=null;if(I!=null&&xe>I?Y=!1:Ke.lazy?Y=!0:Ke.loader==null?Y=!1:g?Y=lv(Ke,o.loaderData,o.errors):iV(o.loaderData,o.matches[xe],M)&&(Y=!0),Y!==null)return uv(n,i,t,M,d,e,Y);let he=P?!1:v||K.pathname+K.search===N.pathname+N.search||K.search!==N.search||rV(o.matches[xe],M),me={...j,defaultShouldRevalidate:he},Pe=Gd(M,me);return uv(n,i,t,M,d,e,Pe,me)}),G=[];return b.forEach((M,xe)=>{if(g||!u.some(ge=>ge.route.id===M.routeId)||S.has(xe))return;let Ke=o.fetchers.get(xe),Y=Ke&&Ke.state!=="idle"&&Ke.data===void 0,he=ua(D,M.path,L);if(!he){if(H&&Y)return;G.push({key:xe,routeId:M.routeId,path:M.path,matches:null,match:null,request:null,controller:null});return}if(O.has(xe))return;let me=gd(he,M.path),Pe=new AbortController,B=Nl(s,M.path,Pe.signal),se=null;if(E.has(xe))E.delete(xe),se=Hl(n,i,B,he,me,d,e);else if(Y)v&&(se=Hl(n,i,B,he,me,d,e));else{let ge={...j,defaultShouldRevalidate:P?!1:v};Gd(me,ge)&&(se=Hl(n,i,B,he,me,d,e,ge))}se&&G.push({key:xe,routeId:M.routeId,path:M.path,matches:se,match:me,request:B,controller:Pe})}),{dsMatches:F,revalidatingFetchers:G}}function lv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!i&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!s}function iV(t,e,n){let i=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return i||s}function rV(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Gd(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function zS(t,e,n,i,s,o){let u;if(t){let d=i[t];Je(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),u=d.children}else u=n;let h=[],f=[];if(e.forEach(d=>{let g=u.find(v=>Z1(d,v));g?f.push({existingRoute:g,newRoute:d}):h.push(d)}),h.length>0){let d=Jc(h,s,[t||"_","patch",String(u?.length||"0")],i);u.push(...d)}if(o&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:g,newRoute:v}=f[d],E=g,[S]=Jc([v],s,[],{},!0);Object.assign(E,{element:S.element?S.element:E.element,errorElement:S.errorElement?S.errorElement:E.errorElement,hydrateFallbackElement:S.hydrateFallbackElement?S.hydrateFallbackElement:E.hydrateFallbackElement})}}function Z1(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>e.children?.some(s=>Z1(n,s))):!1}var HS=new WeakMap,eC=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let s=n[e.id];if(Je(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[t];if(!o)return;let u=HS.get(s);u||(u={},HS.set(s,u));let h=u[t];if(h)return h;let f=(async()=>{let d=b2(t),v=s[t]!==void 0&&t!=="hasErrorBoundary";if(d)zt(!d,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(v)zt(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(s,{[t]:E}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(E=>E===void 0)&&(s.lazy=void 0))})();return u[t]=f,f},qS=new WeakMap;function sV(t,e,n,i,s){let o=n[t.id];if(Je(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=qS.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let v=(async()=>{Je(typeof t.lazy=="function","No lazy route function found");let E=await t.lazy(),S={};for(let b in E){let O=E[b];if(O===void 0)continue;let D=R2(b),H=o[b]!==void 0&&b!=="hasErrorBoundary";D?zt(!D,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):H?zt(!H,`Route "${o.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):S[b]=O}Object.assign(o,S),Object.assign(o,{...i(o),lazy:void 0})})();return qS.set(o,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let u=Object.keys(t.lazy),h=[],f;for(let g of u){if(s&&s.includes(g))continue;let v=eC({key:g,route:t,manifest:n,mapRouteProperties:i});v&&(h.push(v),g===e&&(f=v))}let d=h.length>0?Promise.all(h).then(()=>{}):void 0;return d?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function GS(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{n[e[o].route.id]=s}),n}async function aV(t){if(!t.matches.some(n=>n.route.unstable_middleware))return GS(t);let e=!1;return nC(t,()=>(e=!0,GS(t)),(n,i)=>tC(n,i,t.matches,e))}function tC(t,e,n,i){return i?{[e]:{type:"error",result:t}}:{[ca(n,n.find(o=>o.route.id===e||o.route.loader)?.route.id||e).route.id]:{type:"error",result:t}}}async function nC(t,e,n){let{matches:i,request:s,params:o,context:u}=t,h=i.flatMap(d=>d.route.unstable_middleware?d.route.unstable_middleware.map(g=>[d.route.id,g]):[]),f={};return await iC({request:s,params:o,context:u},h,e,n,f),f}async function iC(t,e,n,i,s={},o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[o];if(!h){let E=await n();Object.assign(s,E);return}let[f,d]=h,g=!1,v=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0;try{let E=await iC(t,e,n,i,s,o+1);Object.assign(s,E)}catch(E){let S=await i(E,f);Object.assign(s,S)}};try{let E=await d({request:t.request,params:t.params,context:t.context},v);typeof E<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",E),g||await v()}catch(E){let S=await i(E,f);Object.assign(s,S)}}function rC(t,e,n,i,s){let o=eC({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:t}),u=sV(i.route,ii(n.method)?"action":"loader",e,t,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function uv(t,e,n,i,s,o,u,h=null){let f=!1,d=rC(t,e,n,i,s);return{...i,_lazyPromises:d,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(g){return f=!0,h?typeof g=="boolean"?Gd(i,{...h,defaultShouldRevalidate:g}):Gd(i,h):u},resolve(g){return f||u||g&&!ii(n.method)&&(i.route.lazy||i.route.loader)?lV({request:n,match:i,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:g,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Hl(t,e,n,i,s,o,u,h=null){return i.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:rC(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:uv(t,e,n,f,o,u,!0,h))}async function oV(t,e,n,i,s,o){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:s,matches:n},f=await t({...u,fetcherKey:i,unstable_runClientMiddleware:d=>{let g=u,v=!1;return nC(g,()=>(v=!0,d({...g,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(E,S)=>tC(E,S,n,v))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return f}async function lV({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:s,scopedContext:o}){let u,h,f=ii(t.method),d=f?"action":"loader",g=v=>{let E,S=new Promise((D,L)=>E=L);h=()=>E(),t.signal.addEventListener("abort",h);let b=D=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${e.route.id}]`)):v({request:t,params:e.params,context:o},...D!==void 0?[D]:[]),O=(async()=>{try{return{type:"data",result:await(s?s(L=>b(L)):b())}}catch(D){return{type:"error",result:D}}})();return Promise.race([O,S])};try{let v=f?e.route.action:e.route.loader;if(n||i)if(v){let E,[S]=await Promise.all([g(v).catch(b=>{E=b}),n,i]);if(E!==void 0)throw E;u=S}else{await n;let E=f?e.route.action:e.route.loader;if(E)[u]=await Promise.all([g(E),i]);else if(d==="action"){let S=new URL(t.url),b=S.pathname+S.search;throw qi(405,{method:t.method,pathname:b,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(v)u=await g(v);else{let E=new URL(t.url),S=E.pathname+E.search;throw qi(404,{pathname:S})}}catch(v){return{type:"error",result:v}}finally{h&&t.signal.removeEventListener("abort",h)}return u}async function uV(t){let{result:e,type:n}=t;if(aC(e)){let i;try{let s=e.headers.get("Content-Type");s&&/\bapplication\/json\b/.test(s)?e.body==null?i=null:i=await e.json():i=await e.text()}catch(s){return{type:"error",error:s}}return n==="error"?{type:"error",error:new qd(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return n==="error"?JS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new qd(e.init?.status||500,void 0,e.data),statusCode:Zc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Zc(e)?e.status:void 0}:JS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function cV(t,e,n,i,s){let o=t.headers.get("Location");if(Je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!p_(o)){let u=i.slice(0,i.findIndex(h=>h.route.id===n)+1);o=ov(new URL(e.url),u,s,o),t.headers.set("Location",o)}return t}function KS(t,e,n){if(p_(t)){let i=t,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),o=Qi(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function Nl(t,e,n,i){let s=t.createURL(sC(e)).toString(),o={signal:n};if(i&&ii(i.formMethod)){let{formMethod:u,formEncType:h}=i;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(i.json)):h==="text/plain"?o.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?o.body=cv(i.formData):o.body=i.formData}return new Request(s,o)}function cv(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function $S(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function hV(t,e,n,i=!1,s=!1){let o={},u=null,h,f=!1,d={},g=n&&Ci(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,S=e[E];if(Je(!So(S),"Cannot handle redirect results in processLoaderData"),Ci(S)){let b=S.error;if(g!==void 0&&(b=g,g=void 0),u=u||{},s)u[E]=b;else{let O=ca(t,E);u[O.route.id]==null&&(u[O.route.id]=b)}i||(o[E]=J1),f||(f=!0,h=Zc(S.error)?S.error.status:500),S.headers&&(d[E]=S.headers)}else o[E]=S.data,S.statusCode&&S.statusCode!==200&&!f&&(h=S.statusCode),S.headers&&(d[E]=S.headers)}),g!==void 0&&n&&(u={[n[0]]:g},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:d}}function WS(t,e,n,i,s,o){let{loaderData:u,errors:h}=hV(e,n,i);return s.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:g,controller:v}=f;if(v&&v.signal.aborted)return;let E=o[d];if(Je(E,"Did not find corresponding fetcher result"),Ci(E)){let S=ca(t.matches,g?.route.id);h&&h[S.route.id]||(h={...h,[S.route.id]:E.error}),t.fetchers.delete(d)}else if(So(E))Je(!1,"Unhandled fetcher revalidation redirect");else{let S=oa(E.data);t.fetchers.set(d,S)}}),{loaderData:u,errors:h}}function YS(t,e,n,i){let s=Object.entries(e).filter(([,o])=>o!==J1).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(s[u]=t[u]),i&&i.hasOwnProperty(u))break}return s}function XS(t){return t?Ci(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ca(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function QS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qi(t,{pathname:e,routeId:n,method:i,type:s,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",i&&e&&n?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",i&&e&&n?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new qd(t||500,u,new Error(h),!0)}function td(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,s]=e[n];if(So(s))return{key:i,result:s}}}function sC(t){let e=typeof t=="string"?Ds(t):t;return Ta({...e,hash:""})}function fV(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function dV(t){return aC(t.result)&&X2.has(t.result.status)}function Ci(t){return t.type==="error"}function So(t){return(t&&t.type)==="redirect"}function JS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function mV(t){return Y2.has(t.toUpperCase())}function ii(t){return $2.has(t.toUpperCase())}function g_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function gd(t,e){let n=typeof e=="string"?Ds(e).search:e.search;if(t[t.length-1].route.index&&g_(n||""))return t[t.length-1];let i=Y1(t);return i[i.length-1]}function ZS(t){let{formMethod:e,formAction:n,formEncType:i,text:s,formData:o,json:u}=t;if(!(!e||!n||!i)){if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:u,text:void 0}}}function gy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function pV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ac(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function gV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function oa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yV(t,e){try{let n=t.sessionStorage.getItem(Q1);if(n){let i=JSON.parse(n);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function vV(t,e){if(e.size>0){let n={};for(let[i,s]of e)n[i]=[...s];try{t.sessionStorage.setItem(Q1,JSON.stringify(n))}catch(i){zt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function _V(){let t,e,n=new Promise((i,s)=>{t=async o=>{i(o);try{await n}catch{}},e=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var zo=V.createContext(null);zo.displayName="DataRouter";var gh=V.createContext(null);gh.displayName="DataRouterState";V.createContext(!1);var y_=V.createContext({isTransitioning:!1});y_.displayName="ViewTransition";var oC=V.createContext(new Map);oC.displayName="Fetchers";var EV=V.createContext(null);EV.displayName="Await";var Er=V.createContext(null);Er.displayName="Navigation";var Dm=V.createContext(null);Dm.displayName="Location";var Ji=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ji.displayName="Route";var v_=V.createContext(null);v_.displayName="RouteError";function TV(t,{relative:e}={}){Je(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(Er),{hash:s,pathname:o,search:u}=yh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Mr([n,o])),i.createHref({pathname:h,search:u,hash:s})}function ou(){return V.useContext(Dm)!=null}function Pa(){return Je(ou(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Dm).location}var lC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uC(t){V.useContext(Er).static||V.useLayoutEffect(t)}function cC(){let{isDataRoute:t}=V.useContext(Ji);return t?LV():wV()}function wV(){Je(ou(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(zo),{basename:e,navigator:n}=V.useContext(Er),{matches:i}=V.useContext(Ji),{pathname:s}=Pa(),o=JSON.stringify(Im(i)),u=V.useRef(!1);return uC(()=>{u.current=!0}),V.useCallback((f,d={})=>{if(zt(u.current,lC),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=xm(f,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Mr([e,g.pathname])),(d.replace?n.replace:n.push)(g,d.state,d)},[e,n,o,s,t])}var SV=V.createContext(null);function bV(t){let e=V.useContext(Ji).outlet;return e&&V.createElement(SV.Provider,{value:t},e)}function hC(){let{matches:t}=V.useContext(Ji),e=t[t.length-1];return e?e.params:{}}function yh(t,{relative:e}={}){let{matches:n}=V.useContext(Ji),{pathname:i}=Pa(),s=JSON.stringify(Im(n));return V.useMemo(()=>xm(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function AV(t,e,n,i){Je(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(Er),{matches:o}=V.useContext(Ji),u=o[o.length-1],h=u?u.params:{},f=u?u.pathname:"/",d=u?u.pathnameBase:"/",g=u&&u.route;{let L=g&&g.path||"";fC(f,!g||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=Pa(),E;E=v;let S=E.pathname||"/",b=S;if(d!=="/"){let L=d.replace(/^\//,"").split("/");b="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=ua(t,{pathname:b});return zt(g||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),zt(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),DV(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:Mr([d,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?d:Mr([d,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),o,n,i)}function RV(){let t=VV(),e=Zc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,u)}var CV=V.createElement(RV,null),IV=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?V.createElement(Ji.Provider,{value:this.props.routeContext},V.createElement(v_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xV({routeContext:t,match:e,children:n}){let i=V.useContext(zo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ji.Provider,{value:t},n)}function DV(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:v}=n,E=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,d,g)=>{let v,E=!1,S=null,b=null;n&&(v=o&&d.route.id?o[d.route.id]:void 0,S=d.route.errorElement||CV,u&&(h<0&&g===0?(fC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):h===g&&(E=!0,b=d.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,g+1)),D=()=>{let L;return v?L=S:E?L=b:d.route.Component?L=V.createElement(d.route.Component,null):d.route.element?L=d.route.element:L=f,V.createElement(xV,{match:d,routeContext:{outlet:f,matches:O,isDataRoute:n!=null},children:L})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?V.createElement(IV,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function __(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PV(t){let e=V.useContext(zo);return Je(e,__(t)),e}function NV(t){let e=V.useContext(gh);return Je(e,__(t)),e}function MV(t){let e=V.useContext(Ji);return Je(e,__(t)),e}function E_(t){let e=MV(t),n=e.matches[e.matches.length-1];return Je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function OV(){return E_("useRouteId")}function VV(){let t=V.useContext(v_),e=NV("useRouteError"),n=E_("useRouteError");return t!==void 0?t:e.errors?.[n]}function LV(){let{router:t}=PV("useNavigate"),e=E_("useNavigate"),n=V.useRef(!1);return uC(()=>{n.current=!0}),V.useCallback(async(s,o={})=>{zt(n.current,lC),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var eb={};function fC(t,e,n){!e&&!eb[t]&&(eb[t]=!0,zt(!1,n))}var tb={};function nb(t,e){!t&&!tb[e]&&(tb[e]=!0,console.warn(e))}function kV(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&zt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:V.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&zt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:V.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&zt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:V.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var UV=["HydrateFallback","hydrateFallbackElement"],jV=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function BV({router:t,flushSync:e}){let[n,i]=V.useState(t.state),[s,o]=V.useState(),[u,h]=V.useState({isTransitioning:!1}),[f,d]=V.useState(),[g,v]=V.useState(),[E,S]=V.useState(),b=V.useRef(new Map),O=V.useCallback((k,{deletedFetchers:Z,flushSync:K,viewTransitionOpts:N})=>{k.fetchers.forEach((C,P)=>{C.data!==void 0&&b.current.set(P,C.data)}),Z.forEach(C=>b.current.delete(C)),nb(K===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(nb(N==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!N||!I){e&&K?e(()=>i(k)):V.startTransition(()=>i(k));return}if(e&&K){e(()=>{g&&(f&&f.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let C=t.window.document.startViewTransition(()=>{e(()=>i(k))});C.finished.finally(()=>{e(()=>{d(void 0),v(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>v(C));return}g?(f&&f.resolve(),g.skipTransition(),S({state:k,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(o(k),h({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[t.window,e,g,f]);V.useLayoutEffect(()=>t.subscribe(O),[t,O]),V.useEffect(()=>{u.isTransitioning&&!u.flushSync&&d(new jV)},[u]),V.useEffect(()=>{if(f&&s&&t.window){let k=s,Z=f.promise,K=t.window.document.startViewTransition(async()=>{V.startTransition(()=>i(k)),await Z});K.finished.finally(()=>{d(void 0),v(void 0),o(void 0),h({isTransitioning:!1})}),v(K)}},[s,f,t.window]),V.useEffect(()=>{f&&s&&n.location.key===s.location.key&&f.resolve()},[f,g,n.location,s]),V.useEffect(()=>{!u.isTransitioning&&E&&(o(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),S(void 0))},[u.isTransitioning,E]);let D=V.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:k=>t.navigate(k),push:(k,Z,K)=>t.navigate(k,{state:Z,preventScrollReset:K?.preventScrollReset}),replace:(k,Z,K)=>t.navigate(k,{replace:!0,state:Z,preventScrollReset:K?.preventScrollReset})}),[t]),L=t.basename||"/",H=V.useMemo(()=>({router:t,navigator:D,static:!1,basename:L}),[t,D,L]);return V.createElement(V.Fragment,null,V.createElement(zo.Provider,{value:H},V.createElement(gh.Provider,{value:n},V.createElement(oC.Provider,{value:b.current},V.createElement(y_.Provider,{value:u},V.createElement(GV,{basename:L,location:n.location,navigationType:n.historyAction,navigator:D},V.createElement(FV,{routes:t.routes,future:t.future,state:n})))))),null)}var FV=V.memo(zV);function zV({routes:t,future:e,state:n}){return AV(t,void 0,n,e)}function HV({to:t,replace:e,state:n,relative:i}){Je(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext(Er);zt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=V.useContext(Ji),{pathname:u}=Pa(),h=cC(),f=xm(t,Im(o),u,i==="path"),d=JSON.stringify(f);return V.useEffect(()=>{h(JSON.parse(d),{replace:e,state:n,relative:i})},[h,d,i,e,n]),null}function qV(t){return bV(t.context)}function GV({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:o=!1}){Je(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=Ds(n));let{pathname:f="/",search:d="",hash:g="",state:v=null,key:E="default"}=n,S=V.useMemo(()=>{let b=Qi(f,u);return b==null?null:{location:{pathname:b,search:d,hash:g,state:v,key:E},navigationType:i}},[u,f,d,g,v,E,i]);return zt(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:V.createElement(Er.Provider,{value:h},V.createElement(Dm.Provider,{children:e,value:S}))}var yd="get",vd="application/x-www-form-urlencoded";function Pm(t){return t!=null&&typeof t.tagName=="string"}function KV(t){return Pm(t)&&t.tagName.toLowerCase()==="button"}function $V(t){return Pm(t)&&t.tagName.toLowerCase()==="form"}function WV(t){return Pm(t)&&t.tagName.toLowerCase()==="input"}function YV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XV(t,e){return t.button===0&&(!e||e==="_self")&&!YV(t)}var nd=null;function QV(){if(nd===null)try{new FormData(document.createElement("form"),0),nd=!1}catch{nd=!0}return nd}var JV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yy(t){return t!=null&&!JV.has(t)?(zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):t}function ZV(t,e){let n,i,s,o,u;if($V(t)){let h=t.getAttribute("action");i=h?Qi(h,e):null,n=t.getAttribute("method")||yd,s=yy(t.getAttribute("enctype"))||vd,o=new FormData(t)}else if(KV(t)||WV(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Qi(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||yd,s=yy(t.getAttribute("formenctype"))||yy(h.getAttribute("enctype"))||vd,o=new FormData(h,t),!QV()){let{name:d,type:g,value:v}=t;if(g==="image"){let E=d?`${d}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else d&&o.append(d,v)}}else{if(Pm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yd,i=null,s=vd,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function T_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eL(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Qi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function tL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iL(t,e,n){let i=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await tL(o,n);return u.links?u.links():[]}return[]}));return oL(i.flat(1).filter(nL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ib(t,e,n,i,s,o){let u=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,h=(f,d)=>n[d].pathname!==f.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function rL(t,e,{includeHydrateFallback:n}={}){return sL(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function sL(t){return[...new Set(t)]}function aL(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function oL(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let o=JSON.stringify(aL(s));return n.has(o)||(n.add(o),i.push({key:o,link:s})),i},[])}function dC(){let t=V.useContext(zo);return T_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lL(){let t=V.useContext(gh);return T_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var w_=V.createContext(void 0);w_.displayName="FrameworkContext";function mC(){let t=V.useContext(w_);return T_(t,"You must render this element inside a <HydratedRouter> element"),t}function uL(t,e){let n=V.useContext(w_),[i,s]=V.useState(!1),[o,u]=V.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:v}=e,E=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let O=L=>{L.forEach(H=>{u(H.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),V.useEffect(()=>{if(i){let O=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(O)}}},[i]);let S=()=>{s(!0)},b=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:Rc(h,S),onBlur:Rc(f,b),onMouseEnter:Rc(d,S),onMouseLeave:Rc(g,b),onTouchStart:Rc(v,S)}]:[!1,E,{}]}function Rc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cL({page:t,...e}){let{router:n}=dC(),i=V.useMemo(()=>ua(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(fL,{page:t,matches:i,...e}):null}function hL(t){let{manifest:e,routeModules:n}=mC(),[i,s]=V.useState([]);return V.useEffect(()=>{let o=!1;return iL(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),i}function fL({page:t,matches:e,...n}){let i=Pa(),{manifest:s,routeModules:o}=mC(),{basename:u}=dC(),{loaderData:h,matches:f}=lL(),d=V.useMemo(()=>ib(t,e,f,s,i,"data"),[t,e,f,s,i]),g=V.useMemo(()=>ib(t,e,f,s,i,"assets"),[t,e,f,s,i]),v=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,O=!1;if(e.forEach(L=>{let H=s.routes[L.route.id];!H||!H.hasLoader||(!d.some(k=>k.route.id===L.route.id)&&L.route.id in h&&o[L.route.id]?.shouldRevalidate||H.hasClientLoader?O=!0:b.add(L.route.id))}),b.size===0)return[];let D=eL(t,u,"data");return O&&b.size>0&&D.searchParams.set("_routes",e.filter(L=>b.has(L.route.id)).map(L=>L.route.id).join(",")),[D.pathname+D.search]},[u,h,i,s,d,e,t,o]),E=V.useMemo(()=>rL(g,s),[g,s]),S=hL(g);return V.createElement(V.Fragment,null,v.map(b=>V.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),E.map(b=>V.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),S.map(({key:b,link:O})=>V.createElement("link",{key:b,nonce:n.nonce,...O})))}function dL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pC&&(window.__reactRouterVersion="7.8.0")}catch{}function mL(t,e){return tV({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:E2({window:e?.window}),hydrationData:pL(),routes:t,mapRouteProperties:kV,hydrationRouteProperties:UV,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function pL(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:gL(t.errors)}),t}function gL(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")n[i]=new qd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",n[i]=u}catch{}}if(n[i]==null){let o=new Error(s.message);o.stack="",n[i]=o}}else n[i]=s;return n}var gC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yC=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:v,...E},S){let{basename:b}=V.useContext(Er),O=typeof d=="string"&&gC.test(d),D,L=!1;if(typeof d=="string"&&O&&(D=d,pC))try{let P=new URL(window.location.href),j=d.startsWith("//")?new URL(P.protocol+d):new URL(d),F=Qi(j.pathname,b);j.origin===P.origin&&F!=null?d=F+j.search+j.hash:L=!0}catch{zt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=TV(d,{relative:s}),[k,Z,K]=uL(i,E),N=_L(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:v});function I(P){e&&e(P),P.defaultPrevented||N(P)}let C=V.createElement("a",{...E,...K,href:D||H,onClick:L||o?e:I,ref:dL(S,Z),target:f,"data-discover":!O&&n==="render"?"true":void 0});return k&&!O?V.createElement(V.Fragment,null,C,V.createElement(cL,{page:H})):C});yC.displayName="Link";var ps=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let v=yh(u,{relative:d.relative}),E=Pa(),S=V.useContext(gh),{navigator:b,basename:O}=V.useContext(Er),D=S!=null&&bL(v)&&h===!0,L=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,H=E.pathname,k=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(H=H.toLowerCase(),k=k?k.toLowerCase():null,L=L.toLowerCase()),k&&O&&(k=Qi(k,O)||k);const Z=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let K=H===L||!s&&H.startsWith(L)&&H.charAt(Z)==="/",N=k!=null&&(k===L||!s&&k.startsWith(L)&&k.charAt(L.length)==="/"),I={isActive:K,isPending:N,isTransitioning:D},C=K?e:void 0,P;typeof i=="function"?P=i(I):P=[i,K?"active":null,N?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(I):o;return V.createElement(yC,{...d,"aria-current":C,className:P,ref:g,style:j,to:u,viewTransition:h},typeof f=="function"?f(I):f)});ps.displayName="NavLink";var yL=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:o,method:u=yd,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:v,...E},S)=>{let b=wL(),O=SL(h,{relative:d}),D=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&gC.test(h),H=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let Z=k.nativeEvent.submitter,K=Z?.getAttribute("formmethod")||u;b(Z||k.currentTarget,{fetcherKey:e,method:K,navigate:n,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:v})};return V.createElement("form",{ref:S,method:D,action:O,onSubmit:i?f:H,...E,"data-discover":!L&&t==="render"?"true":void 0})});yL.displayName="Form";function vL(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vC(t){let e=V.useContext(zo);return Je(e,vL(t)),e}function _L(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=cC(),f=Pa(),d=yh(t,{relative:o});return V.useCallback(g=>{if(XV(g,e)){g.preventDefault();let v=n!==void 0?n:Ta(f)===Ta(d);h(t,{replace:v,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,d,n,i,e,t,s,o,u])}var EL=0,TL=()=>`__${String(++EL)}__`;function wL(){let{router:t}=vC("useSubmit"),{basename:e}=V.useContext(Er),n=OV();return V.useCallback(async(i,s={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=ZV(i,e);if(s.navigate===!1){let g=s.fetcherKey||TL();await t.fetch(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function SL(t,{relative:e}={}){let{basename:n}=V.useContext(Er),i=V.useContext(Ji);Je(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...yh(t||".",{relative:e})},u=Pa();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Mr([n,o.pathname])),Ta(o)}function bL(t,{relative:e}={}){let n=V.useContext(y_);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vC("useViewTransitionState"),s=yh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Hd(s.pathname,u)!=null||Hd(s.pathname,o)!=null}var _C=b1();function AL(t){return V.createElement(BV,{flushSync:_C.flushSync,...t})}const RL=()=>{};var rb={};const EC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},CL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},TC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,d=f?t[s+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|d>>6,S=d&63;f||(S=64,u||(E=64)),i.push(n[g],n[v],n[E],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||d==null||v==null)throw new IL;const E=o<<2|h>>4;if(i.push(E),d!==64){const S=h<<4&240|d>>2;if(i.push(S),v!==64){const b=d<<6&192|v;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xL=function(t){const e=EC(t);return TC.encodeByteArray(e,!0)},Kd=function(t){return xL(t).replace(/\./g,"")},wC=function(t){try{return TC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function DL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const PL=()=>DL().__FIREBASE_DEFAULTS__,NL=()=>{if(typeof process>"u"||typeof rb>"u")return;const t=rb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ML=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wC(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return RL()||PL()||NL()||ML()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SC=t=>Nm()?.emulatorHosts?.[t],OL=t=>{const e=SC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},bC=()=>Nm()?.config,AC=t=>Nm()?.[`_${t}`];class VL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function lu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RC(t){return(await fetch(t,{credentials:"include"})).ok}function LL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kd(JSON.stringify(n)),Kd(JSON.stringify(u)),""].join(".")}const Uc={};function kL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uc))Uc[e]?t.emulator.push(e):t.prod.push(e);return t}function UL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sb=!1;function CC(t,e){if(typeof window>"u"||typeof document>"u"||!lu(window.location.host)||Uc[t]===e||Uc[t]||sb)return;Uc[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",o=kL().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function d(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{sb=!0,u()},E}function g(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=UL(i),S=n("text"),b=document.getElementById(S)||document.createElement("span"),O=n("learnmore"),D=document.getElementById(O)||document.createElement("a"),L=n("preprendIcon"),H=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const k=E.element;h(k),g(D,O);const Z=d();f(H,L),k.append(H,b,D,Z),document.body.appendChild(k)}o?(b.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function BL(){const t=Nm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HL(){const t=Bn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qL(){return!BL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xC(){try{return typeof indexedDB=="object"}catch{return!1}}function DC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}function GL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const KL="FirebaseError";class Tr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=KL,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ho.prototype.create)}}class Ho{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?$L(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Tr(s,h,i)}}function $L(t,e){return t.replace(WL,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const WL=/\{\$([^}]+)}/g;function YL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],u=e[s];if(ab(o)&&ab(u)){if(!wa(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ab(t){return t!==null&&typeof t=="object"}function vh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XL(t,e){const n=new QL(t,e);return n.subscribe.bind(n)}class QL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");JL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=vy),s.error===void 0&&(s.error=vy),s.complete===void 0&&(s.complete=vy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vy(){}const ZL=1e3,ek=2,tk=14400*1e3,nk=.5;function ob(t,e=ZL,n=ek){const i=e*Math.pow(n,t),s=Math.round(nk*i*(Math.random()-.5)*2);return Math.min(tk,i+s)}function En(t){return t&&t._delegate?t._delegate:t}class vr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const To="[DEFAULT]";class ik{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new VL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sk(e))try{this.getOrInitializeService({instanceIdentifier:To})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=To){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=To){return this.instances.has(e)}getOptions(e=To){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=To){return this.component?this.component.multipleInstances?e:To:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rk(t){return t===To?void 0:t}function sk(t){return t.instantiationMode==="EAGER"}class ak{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ik(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const ok={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},lk=nt.INFO,uk={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},ck=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=uk[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=lk,this._logHandler=ck,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const hk=(t,e)=>e.some(n=>t instanceof n);let lb,ub;function fk(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dk(){return ub||(ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PC=new WeakMap,hv=new WeakMap,NC=new WeakMap,_y=new WeakMap,S_=new WeakMap;function mk(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ga(t.result)),s()},u=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&PC.set(n,t)}).catch(()=>{}),S_.set(e,t),e}function pk(t){if(hv.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});hv.set(t,e)}let fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ga(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gk(t){fv=t(fv)}function yk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ey(this),e,...n);return NC.set(i,e.sort?e.sort():[e]),ga(i)}:dk().includes(t)?function(...e){return t.apply(Ey(this),e),ga(PC.get(this))}:function(...e){return ga(t.apply(Ey(this),e))}}function vk(t){return typeof t=="function"?yk(t):(t instanceof IDBTransaction&&pk(t),hk(t,fk())?new Proxy(t,fv):t)}function ga(t){if(t instanceof IDBRequest)return mk(t);if(_y.has(t))return _y.get(t);const e=vk(t);return e!==t&&(_y.set(t,e),S_.set(e,t)),e}const Ey=t=>S_.get(t);function MC(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),h=ga(u);return i&&u.addEventListener("upgradeneeded",f=>{i(ga(u.result),f.oldVersion,f.newVersion,ga(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const _k=["get","getKey","getAll","getAllKeys","count"],Ek=["put","add","delete","clear"],Ty=new Map;function cb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Ek.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||_k.includes(n)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[n](...h),s&&f.done]))[0]};return Ty.set(e,o),o}gk(t=>({...t,get:(e,n,i)=>cb(e,n)||t.get(e,n,i),has:(e,n)=>!!cb(e,n)||t.has(e,n)}));class Tk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wk(t){return t.getComponent()?.type==="VERSION"}const dv="@firebase/app",hb="0.14.3";const Ss=new Mm("@firebase/app"),Sk="@firebase/app-compat",bk="@firebase/analytics-compat",Ak="@firebase/analytics",Rk="@firebase/app-check-compat",Ck="@firebase/app-check",Ik="@firebase/auth",xk="@firebase/auth-compat",Dk="@firebase/database",Pk="@firebase/data-connect",Nk="@firebase/database-compat",Mk="@firebase/functions",Ok="@firebase/functions-compat",Vk="@firebase/installations",Lk="@firebase/installations-compat",kk="@firebase/messaging",Uk="@firebase/messaging-compat",jk="@firebase/performance",Bk="@firebase/performance-compat",Fk="@firebase/remote-config",zk="@firebase/remote-config-compat",Hk="@firebase/storage",qk="@firebase/storage-compat",Gk="@firebase/firestore",Kk="@firebase/ai",$k="@firebase/firestore-compat",Wk="firebase",Yk="12.3.0";const mv="[DEFAULT]",Xk={[dv]:"fire-core",[Sk]:"fire-core-compat",[Ak]:"fire-analytics",[bk]:"fire-analytics-compat",[Ck]:"fire-app-check",[Rk]:"fire-app-check-compat",[Ik]:"fire-auth",[xk]:"fire-auth-compat",[Dk]:"fire-rtdb",[Pk]:"fire-data-connect",[Nk]:"fire-rtdb-compat",[Mk]:"fire-fn",[Ok]:"fire-fn-compat",[Vk]:"fire-iid",[Lk]:"fire-iid-compat",[kk]:"fire-fcm",[Uk]:"fire-fcm-compat",[jk]:"fire-perf",[Bk]:"fire-perf-compat",[Fk]:"fire-rc",[zk]:"fire-rc-compat",[Hk]:"fire-gcs",[qk]:"fire-gcs-compat",[Gk]:"fire-fst",[$k]:"fire-fst-compat",[Kk]:"fire-vertex","fire-js":"fire-js",[Wk]:"fire-js-all"};const $d=new Map,Qk=new Map,pv=new Map;function fb(t,e){try{t.container.addComponent(e)}catch(n){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qr(t){const e=t.name;if(pv.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;pv.set(e,t);for(const n of $d.values())fb(n,t);for(const n of Qk.values())fb(n,t);return!0}function qo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gi(t){return t==null?!1:t.settings!==void 0}const Jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new Ho("app","Firebase",Jk);class Zk{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}const uu=Yk;function OC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:mv,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ya.create("bad-app-name",{appName:String(s)});if(n||(n=bC()),!n)throw ya.create("no-options");const o=$d.get(s);if(o){if(wa(n,o.options)&&wa(i,o.config))return o;throw ya.create("duplicate-app",{appName:s})}const u=new ak(s);for(const f of pv.values())u.addComponent(f);const h=new Zk(n,i,u);return $d.set(s,h),h}function b_(t=mv){const e=$d.get(t);if(!e&&t===mv&&bC())return OC();if(!e)throw ya.create("no-app",{appName:t});return e}function Wi(t,e,n){let i=Xk[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(u.join(" "));return}qr(new vr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const eU="firebase-heartbeat-database",tU=1,eh="firebase-heartbeat-store";let wy=null;function VC(){return wy||(wy=MC(eU,tU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ya.create("idb-open",{originalErrorMessage:t.message})})),wy}async function nU(t){try{const n=(await VC()).transaction(eh),i=await n.objectStore(eh).get(LC(t));return await n.done,i}catch(e){if(e instanceof Tr)Ss.warn(e.message);else{const n=ya.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(n.message)}}}async function db(t,e){try{const i=(await VC()).transaction(eh,"readwrite");await i.objectStore(eh).put(e,LC(t)),await i.done}catch(n){if(n instanceof Tr)Ss.warn(n.message);else{const i=ya.create("idb-set",{originalErrorMessage:n?.message});Ss.warn(i.message)}}}function LC(t){return`${t.name}!${t.options.appId}`}const iU=1024,rU=30;class sU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oU(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>rU){const s=lU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mb(),{heartbeatsToSend:n,unsentEntries:i}=aU(this._heartbeatsCache.heartbeats),s=Kd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ss.warn(e),""}}}function mb(){return new Date().toISOString().substring(0,10)}function aU(t,e=iU){const n=[];let i=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),pb(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pb(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class oU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xC()?DC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return db(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pb(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}function lU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function uU(t){qr(new vr("platform-logger",e=>new Tk(e),"PRIVATE")),qr(new vr("heartbeat",e=>new sU(e),"PRIVATE")),Wi(dv,hb,t),Wi(dv,hb,"esm2020"),Wi("fire-js","")}uU("");var cU="firebase",hU="12.3.0";Wi(cU,hU,"app");const kC="@firebase/installations",A_="0.6.19";const UC=1e4,jC=`w:${A_}`,BC="FIS_v2",fU="https://firebaseinstallations.googleapis.com/v1",dU=3600*1e3,mU="installations",pU="Installations";const gU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vo=new Ho(mU,pU,gU);function FC(t){return t instanceof Tr&&t.code.includes("request-failed")}function zC({projectId:t}){return`${fU}/projects/${t}/installations`}function HC(t){return{token:t.token,requestStatus:2,expiresIn:vU(t.expiresIn),creationTime:Date.now()}}async function qC(t,e){const i=(await e.json()).error;return Vo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function GC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yU(t,{refreshToken:e}){const n=GC(t);return n.append("Authorization",_U(e)),n}async function KC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function vU(t){return Number(t.replace("s","000"))}function _U(t){return`${BC} ${t}`}async function EU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=zC(t),s=GC(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={fid:n,authVersion:BC,appId:t.appId,sdkVersion:jC},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await KC(()=>fetch(i,h));if(f.ok){const d=await f.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:HC(d.authToken)}}else throw await qC("Create Installation",f)}function $C(t){return new Promise(e=>{setTimeout(e,t)})}function TU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const wU=/^[cdef][\w-]{21}$/,gv="";function SU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=bU(t);return wU.test(n)?n:gv}catch{return gv}}function bU(t){return TU(t).substr(0,22)}function Om(t){return`${t.appName}!${t.appId}`}const WC=new Map;function YC(t,e){const n=Om(t);XC(n,e),AU(n,e)}function XC(t,e){const n=WC.get(t);if(n)for(const i of n)i(e)}function AU(t,e){const n=RU();n&&n.postMessage({key:t,fid:e}),CU()}let bo=null;function RU(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=t=>{XC(t.data.key,t.data.fid)}),bo}function CU(){WC.size===0&&bo&&(bo.close(),bo=null)}const IU="firebase-installations-database",xU=1,Lo="firebase-installations-store";let Sy=null;function R_(){return Sy||(Sy=MC(IU,xU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lo)}}})),Sy}async function Wd(t,e){const n=Om(t),s=(await R_()).transaction(Lo,"readwrite"),o=s.objectStore(Lo),u=await o.get(n);return await o.put(e,n),await s.done,(!u||u.fid!==e.fid)&&YC(t,e.fid),e}async function QC(t){const e=Om(t),i=(await R_()).transaction(Lo,"readwrite");await i.objectStore(Lo).delete(e),await i.done}async function Vm(t,e){const n=Om(t),s=(await R_()).transaction(Lo,"readwrite"),o=s.objectStore(Lo),u=await o.get(n),h=e(u);return h===void 0?await o.delete(n):await o.put(h,n),await s.done,h&&(!u||u.fid!==h.fid)&&YC(t,h.fid),h}async function C_(t){let e;const n=await Vm(t.appConfig,i=>{const s=DU(i),o=PU(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===gv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function DU(t){const e=t||{fid:SU(),registrationStatus:0};return JC(e)}function PU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Vo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=NU(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MU(t)}:{installationEntry:e}}async function NU(t,e){try{const n=await EU(t,e);return Wd(t.appConfig,n)}catch(n){throw FC(n)&&n.customData.serverCode===409?await QC(t.appConfig):await Wd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MU(t){let e=await gb(t.appConfig);for(;e.registrationStatus===1;)await $C(100),e=await gb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await C_(t);return i||n}return e}function gb(t){return Vm(t,e=>{if(!e)throw Vo.create("installation-not-found");return JC(e)})}function JC(t){return OU(t)?{fid:t.fid,registrationStatus:0}:t}function OU(t){return t.registrationStatus===1&&t.registrationTime+UC<Date.now()}async function VU({appConfig:t,heartbeatServiceProvider:e},n){const i=LU(t,n),s=yU(t,n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={installation:{sdkVersion:jC,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await KC(()=>fetch(i,h));if(f.ok){const d=await f.json();return HC(d)}else throw await qC("Generate Auth Token",f)}function LU(t,{fid:e}){return`${zC(t)}/${e}/authTokens:generate`}async function I_(t,e=!1){let n;const i=await Vm(t.appConfig,o=>{if(!ZC(o))throw Vo.create("not-registered");const u=o.authToken;if(!e&&jU(u))return o;if(u.requestStatus===1)return n=kU(t,e),o;{if(!navigator.onLine)throw Vo.create("app-offline");const h=FU(o);return n=UU(t,h),h}});return n?await n:i.authToken}async function kU(t,e){let n=await yb(t.appConfig);for(;n.authToken.requestStatus===1;)await $C(100),n=await yb(t.appConfig);const i=n.authToken;return i.requestStatus===0?I_(t,e):i}function yb(t){return Vm(t,e=>{if(!ZC(e))throw Vo.create("not-registered");const n=e.authToken;return zU(n)?{...e,authToken:{requestStatus:0}}:e})}async function UU(t,e){try{const n=await VU(t,e),i={...e,authToken:n};return await Wd(t.appConfig,i),n}catch(n){if(FC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await QC(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Wd(t.appConfig,i)}throw n}}function ZC(t){return t!==void 0&&t.registrationStatus===2}function jU(t){return t.requestStatus===2&&!BU(t)}function BU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dU}function FU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function zU(t){return t.requestStatus===1&&t.requestTime+UC<Date.now()}async function HU(t){const e=t,{installationEntry:n,registrationPromise:i}=await C_(e);return i?i.catch(console.error):I_(e).catch(console.error),n.fid}async function qU(t,e=!1){const n=t;return await GU(n),(await I_(n,e)).token}async function GU(t){const{registrationPromise:e}=await C_(t);e&&await e}function KU(t){if(!t||!t.options)throw by("App Configuration");if(!t.name)throw by("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw by(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function by(t){return Vo.create("missing-app-config-values",{valueName:t})}const eI="installations",$U="installations-internal",WU=t=>{const e=t.getProvider("app").getImmediate(),n=KU(e),i=qo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},YU=t=>{const e=t.getProvider("app").getImmediate(),n=qo(e,eI).getImmediate();return{getId:()=>HU(n),getToken:s=>qU(n,s)}};function XU(){qr(new vr(eI,WU,"PUBLIC")),qr(new vr($U,YU,"PRIVATE"))}XU();Wi(kC,A_);Wi(kC,A_,"esm2020");const Yd="analytics",QU="firebase_id",JU="origin",ZU=60*1e3,e4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x_="https://www.googletagmanager.com/gtag/js";const ai=new Mm("@firebase/analytics");const t4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xi=new Ho("analytics","Analytics",t4);function n4(t){if(!t.startsWith(x_)){const e=xi.create("invalid-gtag-resource",{gtagURL:t});return ai.warn(e.message),""}return t}function tI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function i4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function r4(t,e){const n=i4("firebase-js-sdk-policy",{createScriptURL:n4}),i=document.createElement("script"),s=`${x_}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function s4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function a4(t,e,n,i,s,o){const u=i[s];try{if(u)await e[u];else{const f=(await tI(n)).find(d=>d.measurementId===s);f&&await e[f.appId]}}catch(h){ai.error(h)}t("config",s,o)}async function o4(t,e,n,i,s){try{let o=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const h=await tI(n);for(const f of u){const d=h.find(v=>v.measurementId===f),g=d&&e[d.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,s||{})}catch(o){ai.error(o)}}function l4(t,e,n,i){async function s(o,...u){try{if(o==="event"){const[h,f]=u;await o4(t,e,n,h,f)}else if(o==="config"){const[h,f]=u;await a4(t,e,n,i,h,f)}else if(o==="consent"){const[h,f]=u;t("consent",h,f)}else if(o==="get"){const[h,f,d]=u;t("get",h,f,d)}else if(o==="set"){const[h]=u;t("set",h)}else t(o,...u)}catch(h){ai.error(h)}}return s}function u4(t,e,n,i,s){let o=function(...u){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=l4(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function c4(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(x_)&&n.src.includes(t))return n;return null}const h4=30,f4=1e3;class d4{constructor(e={},n=f4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nI=new d4;function m4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function p4(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:m4(n)},s=e4.replace("{app-id}",e),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let u="";try{const h=await o.json();h.error?.message&&(u=h.error.message)}catch{}throw xi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function g4(t,e=nI,n){const{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw xi.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw xi.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new _4;return setTimeout(async()=>{h.abort()},ZU),iI({appId:i,apiKey:s,measurementId:o},u,h,e)}async function iI(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=nI){const{appId:o,measurementId:u}=t;try{await y4(i,e)}catch(h){if(u)return ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw h}try{const h=await p4(t);return s.deleteThrottleMetadata(o),h}catch(h){const f=h;if(!v4(f)){if(s.deleteThrottleMetadata(o),u)return ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:o,measurementId:u};throw h}const d=Number(f?.customData?.httpStatus)===503?ob(n,s.intervalMillis,h4):ob(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(o,g),ai.debug(`Calling attemptFetch again in ${d} millis`),iI(t,g,i,s)}}function y4(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),i(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function v4(t){if(!(t instanceof Tr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class _4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function E4(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const o=await e,u={...i,send_to:o};t("event",n,u)}}async function T4(){if(xC())try{await DC()}catch(t){return ai.warn(xi.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ai.warn(xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function w4(t,e,n,i,s,o,u){const h=g4(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&ai.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>ai.error(E)),e.push(h);const f=T4().then(E=>{if(E)return i.getId()}),[d,g]=await Promise.all([h,f]);c4(o)||r4(o,d.measurementId),s("js",new Date);const v=u?.config??{};return v[JU]="firebase",v.update=!0,g!=null&&(v[QU]=g),s("config",d.measurementId,v),d.measurementId}class S4{constructor(e){this.app=e}_delete(){return delete jc[this.app.options.appId],Promise.resolve()}}let jc={},vb=[];const _b={};let Ay="dataLayer",b4="gtag",Eb,rI,Tb=!1;function A4(){const t=[];if(IC()&&t.push("This is a browser extension environment."),GL()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=xi.create("invalid-analytics-context",{errorInfo:e});ai.warn(n.message)}}function R4(t,e,n){A4();const i=t.options.appId;if(!i)throw xi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xi.create("no-api-key");if(jc[i]!=null)throw xi.create("already-exists",{id:i});if(!Tb){s4(Ay);const{wrappedGtag:o,gtagCore:u}=u4(jc,vb,_b,Ay,b4);rI=o,Eb=u,Tb=!0}return jc[i]=w4(t,vb,_b,e,Eb,Ay,n),new S4(t)}function C4(t=b_()){t=En(t);const e=qo(t,Yd);return e.isInitialized()?e.getImmediate():I4(t)}function I4(t,e={}){const n=qo(t,Yd);if(n.isInitialized()){const s=n.getImmediate();if(wa(e,n.getOptions()))return s;throw xi.create("already-initialized")}return n.initialize({options:e})}function x4(t,e,n,i){t=En(t),E4(rI,jc[t.app.options.appId],e,n,i).catch(s=>ai.error(s))}const wb="@firebase/analytics",Sb="0.10.18";function D4(){qr(new vr(Yd,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return R4(i,s,n)},"PUBLIC")),qr(new vr("analytics-internal",t,"PRIVATE")),Wi(wb,Sb),Wi(wb,Sb,"esm2020");function t(e){try{const n=e.getProvider(Yd).getImmediate();return{logEvent:(i,s,o)=>x4(n,i,s,o)}}catch(n){throw xi.create("interop-component-reg-failed",{reason:n})}}}D4();var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var va,sI;(function(){var t;function e(I,C){function P(){}P.prototype=C.prototype,I.F=C.prototype,I.prototype=new P,I.prototype.constructor=I,I.D=function(j,F,G){for(var M=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)M[xe-2]=arguments[xe];return C.prototype[F].apply(j,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,P){P||(P=0);const j=Array(16);if(typeof C=="string")for(var F=0;F<16;++F)j[F]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(F=0;F<16;++F)j[F]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=I.g[0],P=I.g[1],F=I.g[2];let G=I.g[3],M;M=C+(G^P&(F^G))+j[0]+3614090360&4294967295,C=P+(M<<7&4294967295|M>>>25),M=G+(F^C&(P^F))+j[1]+3905402710&4294967295,G=C+(M<<12&4294967295|M>>>20),M=F+(P^G&(C^P))+j[2]+606105819&4294967295,F=G+(M<<17&4294967295|M>>>15),M=P+(C^F&(G^C))+j[3]+3250441966&4294967295,P=F+(M<<22&4294967295|M>>>10),M=C+(G^P&(F^G))+j[4]+4118548399&4294967295,C=P+(M<<7&4294967295|M>>>25),M=G+(F^C&(P^F))+j[5]+1200080426&4294967295,G=C+(M<<12&4294967295|M>>>20),M=F+(P^G&(C^P))+j[6]+2821735955&4294967295,F=G+(M<<17&4294967295|M>>>15),M=P+(C^F&(G^C))+j[7]+4249261313&4294967295,P=F+(M<<22&4294967295|M>>>10),M=C+(G^P&(F^G))+j[8]+1770035416&4294967295,C=P+(M<<7&4294967295|M>>>25),M=G+(F^C&(P^F))+j[9]+2336552879&4294967295,G=C+(M<<12&4294967295|M>>>20),M=F+(P^G&(C^P))+j[10]+4294925233&4294967295,F=G+(M<<17&4294967295|M>>>15),M=P+(C^F&(G^C))+j[11]+2304563134&4294967295,P=F+(M<<22&4294967295|M>>>10),M=C+(G^P&(F^G))+j[12]+1804603682&4294967295,C=P+(M<<7&4294967295|M>>>25),M=G+(F^C&(P^F))+j[13]+4254626195&4294967295,G=C+(M<<12&4294967295|M>>>20),M=F+(P^G&(C^P))+j[14]+2792965006&4294967295,F=G+(M<<17&4294967295|M>>>15),M=P+(C^F&(G^C))+j[15]+1236535329&4294967295,P=F+(M<<22&4294967295|M>>>10),M=C+(F^G&(P^F))+j[1]+4129170786&4294967295,C=P+(M<<5&4294967295|M>>>27),M=G+(P^F&(C^P))+j[6]+3225465664&4294967295,G=C+(M<<9&4294967295|M>>>23),M=F+(C^P&(G^C))+j[11]+643717713&4294967295,F=G+(M<<14&4294967295|M>>>18),M=P+(G^C&(F^G))+j[0]+3921069994&4294967295,P=F+(M<<20&4294967295|M>>>12),M=C+(F^G&(P^F))+j[5]+3593408605&4294967295,C=P+(M<<5&4294967295|M>>>27),M=G+(P^F&(C^P))+j[10]+38016083&4294967295,G=C+(M<<9&4294967295|M>>>23),M=F+(C^P&(G^C))+j[15]+3634488961&4294967295,F=G+(M<<14&4294967295|M>>>18),M=P+(G^C&(F^G))+j[4]+3889429448&4294967295,P=F+(M<<20&4294967295|M>>>12),M=C+(F^G&(P^F))+j[9]+568446438&4294967295,C=P+(M<<5&4294967295|M>>>27),M=G+(P^F&(C^P))+j[14]+3275163606&4294967295,G=C+(M<<9&4294967295|M>>>23),M=F+(C^P&(G^C))+j[3]+4107603335&4294967295,F=G+(M<<14&4294967295|M>>>18),M=P+(G^C&(F^G))+j[8]+1163531501&4294967295,P=F+(M<<20&4294967295|M>>>12),M=C+(F^G&(P^F))+j[13]+2850285829&4294967295,C=P+(M<<5&4294967295|M>>>27),M=G+(P^F&(C^P))+j[2]+4243563512&4294967295,G=C+(M<<9&4294967295|M>>>23),M=F+(C^P&(G^C))+j[7]+1735328473&4294967295,F=G+(M<<14&4294967295|M>>>18),M=P+(G^C&(F^G))+j[12]+2368359562&4294967295,P=F+(M<<20&4294967295|M>>>12),M=C+(P^F^G)+j[5]+4294588738&4294967295,C=P+(M<<4&4294967295|M>>>28),M=G+(C^P^F)+j[8]+2272392833&4294967295,G=C+(M<<11&4294967295|M>>>21),M=F+(G^C^P)+j[11]+1839030562&4294967295,F=G+(M<<16&4294967295|M>>>16),M=P+(F^G^C)+j[14]+4259657740&4294967295,P=F+(M<<23&4294967295|M>>>9),M=C+(P^F^G)+j[1]+2763975236&4294967295,C=P+(M<<4&4294967295|M>>>28),M=G+(C^P^F)+j[4]+1272893353&4294967295,G=C+(M<<11&4294967295|M>>>21),M=F+(G^C^P)+j[7]+4139469664&4294967295,F=G+(M<<16&4294967295|M>>>16),M=P+(F^G^C)+j[10]+3200236656&4294967295,P=F+(M<<23&4294967295|M>>>9),M=C+(P^F^G)+j[13]+681279174&4294967295,C=P+(M<<4&4294967295|M>>>28),M=G+(C^P^F)+j[0]+3936430074&4294967295,G=C+(M<<11&4294967295|M>>>21),M=F+(G^C^P)+j[3]+3572445317&4294967295,F=G+(M<<16&4294967295|M>>>16),M=P+(F^G^C)+j[6]+76029189&4294967295,P=F+(M<<23&4294967295|M>>>9),M=C+(P^F^G)+j[9]+3654602809&4294967295,C=P+(M<<4&4294967295|M>>>28),M=G+(C^P^F)+j[12]+3873151461&4294967295,G=C+(M<<11&4294967295|M>>>21),M=F+(G^C^P)+j[15]+530742520&4294967295,F=G+(M<<16&4294967295|M>>>16),M=P+(F^G^C)+j[2]+3299628645&4294967295,P=F+(M<<23&4294967295|M>>>9),M=C+(F^(P|~G))+j[0]+4096336452&4294967295,C=P+(M<<6&4294967295|M>>>26),M=G+(P^(C|~F))+j[7]+1126891415&4294967295,G=C+(M<<10&4294967295|M>>>22),M=F+(C^(G|~P))+j[14]+2878612391&4294967295,F=G+(M<<15&4294967295|M>>>17),M=P+(G^(F|~C))+j[5]+4237533241&4294967295,P=F+(M<<21&4294967295|M>>>11),M=C+(F^(P|~G))+j[12]+1700485571&4294967295,C=P+(M<<6&4294967295|M>>>26),M=G+(P^(C|~F))+j[3]+2399980690&4294967295,G=C+(M<<10&4294967295|M>>>22),M=F+(C^(G|~P))+j[10]+4293915773&4294967295,F=G+(M<<15&4294967295|M>>>17),M=P+(G^(F|~C))+j[1]+2240044497&4294967295,P=F+(M<<21&4294967295|M>>>11),M=C+(F^(P|~G))+j[8]+1873313359&4294967295,C=P+(M<<6&4294967295|M>>>26),M=G+(P^(C|~F))+j[15]+4264355552&4294967295,G=C+(M<<10&4294967295|M>>>22),M=F+(C^(G|~P))+j[6]+2734768916&4294967295,F=G+(M<<15&4294967295|M>>>17),M=P+(G^(F|~C))+j[13]+1309151649&4294967295,P=F+(M<<21&4294967295|M>>>11),M=C+(F^(P|~G))+j[4]+4149444226&4294967295,C=P+(M<<6&4294967295|M>>>26),M=G+(P^(C|~F))+j[11]+3174756917&4294967295,G=C+(M<<10&4294967295|M>>>22),M=F+(C^(G|~P))+j[2]+718787259&4294967295,F=G+(M<<15&4294967295|M>>>17),M=P+(G^(F|~C))+j[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+F&4294967295,I.g[3]=I.g[3]+G&4294967295}i.prototype.v=function(I,C){C===void 0&&(C=I.length);const P=C-this.blockSize,j=this.C;let F=this.h,G=0;for(;G<C;){if(F==0)for(;G<=P;)s(this,I,G),G+=this.blockSize;if(typeof I=="string"){for(;G<C;)if(j[F++]=I.charCodeAt(G++),F==this.blockSize){s(this,j),F=0;break}}else for(;G<C;)if(j[F++]=I[G++],F==this.blockSize){s(this,j),F=0;break}}this.h=F,this.o+=C},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;C=this.o*8;for(var P=I.length-8;P<I.length;++P)I[P]=C&255,C/=256;for(this.v(I),I=Array(16),C=0,P=0;P<4;++P)for(let j=0;j<32;j+=8)I[C++]=this.g[P]>>>j&255;return I};function o(I,C){var P=h;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=C(I)}function u(I,C){this.h=C;const P=[];let j=!0;for(let F=I.length-1;F>=0;F--){const G=I[F]|0;j&&G==C||(P[F]=G,j=!1)}this.g=P}var h={};function f(I){return-128<=I&&I<128?o(I,function(C){return new u([C|0],C<0?-1:0)}):new u([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return D(d(-I));const C=[];let P=1;for(let j=0;I>=P;j++)C[j]=I/P|0,P*=4294967296;return new u(C,0)}function g(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return D(g(I.substring(1),C));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(C,8));let j=v;for(let G=0;G<I.length;G+=8){var F=Math.min(8,I.length-G);const M=parseInt(I.substring(G,G+F),C);F<8?(F=d(Math.pow(C,F)),j=j.j(F).add(d(M))):(j=j.j(P),j=j.add(d(M)))}return j}var v=f(0),E=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(O(this))return-D(this).m();let I=0,C=1;for(let P=0;P<this.g.length;P++){const j=this.i(P);I+=(j>=0?j:4294967296+j)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(O(this))return"-"+D(this).toString(I);const C=d(Math.pow(I,6));var P=this;let j="";for(;;){const F=Z(P,C).g;P=L(P,F.j(C));let G=((P.g.length>0?P.g[0]:P.h)>>>0).toString(I);if(P=F,b(P))return G+j;for(;G.length<6;)G="0"+G;j=G+j}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(let C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function O(I){return I.h==-1}t.l=function(I){return I=L(this,I),O(I)?-1:b(I)?0:1};function D(I){const C=I.g.length,P=[];for(let j=0;j<C;j++)P[j]=~I.g[j];return new u(P,~I.h).add(E)}t.abs=function(){return O(this)?D(this):this},t.add=function(I){const C=Math.max(this.g.length,I.g.length),P=[];let j=0;for(let F=0;F<=C;F++){let G=j+(this.i(F)&65535)+(I.i(F)&65535),M=(G>>>16)+(this.i(F)>>>16)+(I.i(F)>>>16);j=M>>>16,G&=65535,M&=65535,P[F]=M<<16|G}return new u(P,P[P.length-1]&-2147483648?-1:0)};function L(I,C){return I.add(D(C))}t.j=function(I){if(b(this)||b(I))return v;if(O(this))return O(I)?D(this).j(D(I)):D(D(this).j(I));if(O(I))return D(this.j(D(I)));if(this.l(S)<0&&I.l(S)<0)return d(this.m()*I.m());const C=this.g.length+I.g.length,P=[];for(var j=0;j<2*C;j++)P[j]=0;for(j=0;j<this.g.length;j++)for(let F=0;F<I.g.length;F++){const G=this.i(j)>>>16,M=this.i(j)&65535,xe=I.i(F)>>>16,Ke=I.i(F)&65535;P[2*j+2*F]+=M*Ke,H(P,2*j+2*F),P[2*j+2*F+1]+=G*Ke,H(P,2*j+2*F+1),P[2*j+2*F+1]+=M*xe,H(P,2*j+2*F+1),P[2*j+2*F+2]+=G*xe,H(P,2*j+2*F+2)}for(I=0;I<C;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=C;I<2*C;I++)P[I]=0;return new u(P,0)};function H(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function k(I,C){this.g=I,this.h=C}function Z(I,C){if(b(C))throw Error("division by zero");if(b(I))return new k(v,v);if(O(I))return C=Z(D(I),C),new k(D(C.g),D(C.h));if(O(C))return C=Z(I,D(C)),new k(D(C.g),C.h);if(I.g.length>30){if(O(I)||O(C))throw Error("slowDivide_ only works with positive integers.");for(var P=E,j=C;j.l(I)<=0;)P=K(P),j=K(j);var F=N(P,1),G=N(j,1);for(j=N(j,2),P=N(P,2);!b(j);){var M=G.add(j);M.l(I)<=0&&(F=F.add(P),G=M),j=N(j,1),P=N(P,1)}return C=L(I,F.j(C)),new k(F,C)}for(F=v;I.l(C)>=0;){for(P=Math.max(1,Math.floor(I.m()/C.m())),j=Math.ceil(Math.log(P)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),G=d(P),M=G.j(C);O(M)||M.l(I)>0;)P-=j,G=d(P),M=G.j(C);b(G)&&(G=E),F=F.add(G),I=L(I,M)}return new k(F,I)}t.B=function(I){return Z(this,I).h},t.and=function(I){const C=Math.max(this.g.length,I.g.length),P=[];for(let j=0;j<C;j++)P[j]=this.i(j)&I.i(j);return new u(P,this.h&I.h)},t.or=function(I){const C=Math.max(this.g.length,I.g.length),P=[];for(let j=0;j<C;j++)P[j]=this.i(j)|I.i(j);return new u(P,this.h|I.h)},t.xor=function(I){const C=Math.max(this.g.length,I.g.length),P=[];for(let j=0;j<C;j++)P[j]=this.i(j)^I.i(j);return new u(P,this.h^I.h)};function K(I){const C=I.g.length+1,P=[];for(let j=0;j<C;j++)P[j]=I.i(j)<<1|I.i(j-1)>>>31;return new u(P,I.h)}function N(I,C){const P=C>>5;C%=32;const j=I.g.length-P,F=[];for(let G=0;G<j;G++)F[G]=C>0?I.i(G+P)>>>C|I.i(G+P+1)<<32-C:I.i(G+P);return new u(F,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,sI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,va=u}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aI,Mc,oI,_d,yv,lI,uI,cI;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof id=="object"&&id];for(var _=0;_<m.length;++_){var T=m[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function s(m,_){if(_)e:{var T=i;m=m.split(".");for(var x=0;x<m.length-1;x++){var Q=m[x];if(!(Q in T))break e;T=T[Q]}m=m[m.length-1],x=T[m],_=_(x),_!=x&&_!=null&&e(T,m,{configurable:!0,writable:!0,value:_})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(_){var T=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&T.push([x,_[x]]);return T}});var o=o||{},u=this||self;function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function f(m,_,T){return m.call.apply(m.bind,arguments)}function d(m,_,T){return d=f,d.apply(null,arguments)}function g(m,_){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),m.apply(this,x)}}function v(m,_){function T(){}T.prototype=_.prototype,m.Z=_.prototype,m.prototype=new T,m.prototype.constructor=m,m.Ob=function(x,Q,ie){for(var ye=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ye[qe-2]=arguments[qe];return _.prototype[Q].apply(x,ye)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function S(m){const _=m.length;if(_>0){const T=Array(_);for(let x=0;x<_;x++)T[x]=m[x];return T}return[]}function b(m,_){for(let x=1;x<arguments.length;x++){const Q=arguments[x];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=m.length||0;const ie=Q.length||0;m.length=T+ie;for(let ye=0;ye<ie;ye++)m[T+ye]=Q[ye]}else m.push(Q)}}class O{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(m){u.setTimeout(()=>{throw m},0)}function L(){var m=I;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class H{constructor(){this.h=this.g=null}add(_,T){const x=k.get();x.set(_,T),this.h?this.h.next=x:this.g=x,this.h=x}}var k=new O(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,N=!1,I=new H,C=()=>{const m=Promise.resolve(void 0);K=()=>{m.then(P)}};function P(){for(var m;m=L();){try{m.h.call(m.g)}catch(T){D(T)}var _=k;_.j(m),_.h<100&&(_.h++,m.next=_.g,_.g=m)}N=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};u.addEventListener("test",T,_),u.removeEventListener("test",T,_)}catch{}return m}();function M(m){return/^[\s\xa0]*$/.test(m)}function xe(m,_){F.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,_)}v(xe,F),xe.prototype.init=function(m,_){const T=this.type=m.type,x=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget,_||(T=="mouseover"?_=m.fromElement:T=="mouseout"&&(_=m.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),Y=0;function he(m,_,T,x,Q){this.listener=m,this.proxy=null,this.src=_,this.type=T,this.capture=!!x,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function me(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Pe(m,_,T){for(const x in m)_.call(T,m[x],x,m)}function B(m,_){for(const T in m)_.call(void 0,m[T],T,m)}function se(m){const _={};for(const T in m)_[T]=m[T];return _}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(m,_){let T,x;for(let Q=1;Q<arguments.length;Q++){x=arguments[Q];for(T in x)m[T]=x[T];for(let ie=0;ie<ge.length;ie++)T=ge[ie],Object.prototype.hasOwnProperty.call(x,T)&&(m[T]=x[T])}}function ve(m){this.src=m,this.g={},this.h=0}ve.prototype.add=function(m,_,T,x,Q){const ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);const ye=Ne(m,_,x,Q);return ye>-1?(_=m[ye],T||(_.fa=!1)):(_=new he(_,this.src,ie,!!x,Q),_.fa=T,m.push(_)),_};function ze(m,_){const T=_.type;if(T in m.g){var x=m.g[T],Q=Array.prototype.indexOf.call(x,_,void 0),ie;(ie=Q>=0)&&Array.prototype.splice.call(x,Q,1),ie&&(me(_),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Ne(m,_,T,x){for(let Q=0;Q<m.length;++Q){const ie=m[Q];if(!ie.da&&ie.listener==_&&ie.capture==!!T&&ie.ha==x)return Q}return-1}var rn="closure_lm_"+(Math.random()*1e6|0),ct={};function ci(m,_,T,x,Q){if(Array.isArray(_)){for(let ie=0;ie<_.length;ie++)ci(m,_[ie],T,x,Q);return null}return T=Wo(T),m&&m[Ke]?m.J(_,T,h(x)?!!x.capture:!1,Q):Ut(m,_,T,!1,x,Q)}function Ut(m,_,T,x,Q,ie){if(!_)throw Error("Invalid event type");const ye=h(Q)?!!Q.capture:!!Q;let qe=ka(m);if(qe||(m[rn]=qe=new ve(m)),T=qe.add(_,T,x,ye,ie),T.proxy)return T;if(x=hi(),T.proxy=x,x.src=m,x.listener=T,m.addEventListener)G||(Q=ye),Q===void 0&&(Q=!1),m.addEventListener(_.toString(),x,Q);else if(m.attachEvent)m.attachEvent(Qn(_.toString()),x);else if(m.addListener&&m.removeListener)m.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function hi(){function m(T){return _.call(m.src,m.listener,T)}const _=Eu;return m}function $r(m,_,T,x,Q){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)$r(m,_[ie],T,x,Q);else x=h(x)?!!x.capture:!!x,T=Wo(T),m&&m[Ke]?(m=m.i,ie=String(_).toString(),ie in m.g&&(_=m.g[ie],T=Ne(_,T,x,Q),T>-1&&(me(_[T]),Array.prototype.splice.call(_,T,1),_.length==0&&(delete m.g[ie],m.h--)))):m&&(m=ka(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Ne(_,T,x,Q)),(T=m>-1?_[m]:null)&&Wr(T))}function Wr(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ke])ze(_.i,m);else{var T=m.type,x=m.proxy;_.removeEventListener?_.removeEventListener(T,x,m.capture):_.detachEvent?_.detachEvent(Qn(T),x):_.addListener&&_.removeListener&&_.removeListener(x),(T=ka(_))?(ze(T,m),T.h==0&&(T.src=null,_[rn]=null)):me(m)}}}function Qn(m){return m in ct?ct[m]:ct[m]="on"+m}function Eu(m,_){if(m.da)m=!0;else{_=new xe(_,this);const T=m.listener,x=m.ha||m.src;m.fa&&Wr(m),m=T.call(x,_)}return m}function ka(m){return m=m[rn],m instanceof ve?m:null}var Tn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wo(m){return typeof m=="function"?m:(m[Tn]||(m[Tn]=function(_){return m.handleEvent(_)}),m[Tn])}function Ht(){j.call(this),this.i=new ve(this),this.M=this,this.G=null}v(Ht,j),Ht.prototype[Ke]=!0,Ht.prototype.removeEventListener=function(m,_,T,x){$r(this,m,_,T,x)};function Yt(m,_){var T,x=m.G;if(x)for(T=[];x;x=x.G)T.push(x);if(m=m.M,x=_.type||_,typeof _=="string")_=new F(_,m);else if(_ instanceof F)_.target=_.target||m;else{var Q=_;_=new F(x,m),pe(_,Q)}Q=!0;let ie,ye;if(T)for(ye=T.length-1;ye>=0;ye--)ie=_.g=T[ye],Q=Zi(ie,x,!0,_)&&Q;if(ie=_.g=m,Q=Zi(ie,x,!0,_)&&Q,Q=Zi(ie,x,!1,_)&&Q,T)for(ye=0;ye<T.length;ye++)ie=_.g=T[ye],Q=Zi(ie,x,!1,_)&&Q}Ht.prototype.N=function(){if(Ht.Z.N.call(this),this.i){var m=this.i;for(const _ in m.g){const T=m.g[_];for(let x=0;x<T.length;x++)me(T[x]);delete m.g[_],m.h--}}this.G=null},Ht.prototype.J=function(m,_,T,x){return this.i.add(String(m),_,!1,T,x)},Ht.prototype.K=function(m,_,T,x){return this.i.add(String(m),_,!0,T,x)};function Zi(m,_,T,x){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let ie=0;ie<_.length;++ie){const ye=_[ie];if(ye&&!ye.da&&ye.capture==T){const qe=ye.listener,Rt=ye.ha||ye.src;ye.fa&&ze(m.i,ye),Q=qe.call(Rt,x)!==!1&&Q}}return Q&&!x.defaultPrevented}function er(m,_){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(m,_||0)}function tr(m){m.g=er(()=>{m.g=null,m.i&&(m.i=!1,tr(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Yo extends j{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:tr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(m){j.call(this),this.h=m,this.g={}}v(nr,j);var wn=[];function Tt(m){Pe(m.g,function(_,T){this.g.hasOwnProperty(T)&&Wr(_)},m),m.g={}}nr.prototype.N=function(){nr.Z.N.call(this),Tt(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=u.JSON.stringify,sn=u.JSON.parse,Tu=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function fi(){}function Ua(){}var di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ir(){F.call(this,"d")}v(ir,F);function mi(){F.call(this,"c")}v(mi,F);var zn={},pi=null;function Yr(){return pi=pi||new Ht}zn.Ia="serverreachability";function Xr(m){F.call(this,zn.Ia,m)}v(Xr,F);function Sr(m){const _=Yr();Yt(_,new Xr(_))}zn.STAT_EVENT="statevent";function Qr(m,_){F.call(this,zn.STAT_EVENT,m),this.stat=_}v(Qr,F);function Mt(m){const _=Yr();Yt(_,new Qr(_,m))}zn.Ja="timingevent";function ja(m,_){F.call(this,zn.Ja,m),this.size=_}v(ja,F);function gi(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function yi(){this.g=!0}yi.prototype.ua=function(){this.g=!1};function Ba(m,_,T,x,Q,ie){m.info(function(){if(m.g)if(ie){var ye="",qe=ie.split("&");for(let dt=0;dt<qe.length;dt++){var Rt=qe[dt].split("=");if(Rt.length>1){const qt=Rt[0];Rt=Rt[1];const _i=qt.split("_");ye=_i.length>=2&&_i[1]=="type"?ye+(qt+"="+Rt+"&"):ye+(qt+"=redacted&")}}}else ye=null;else ye=ie;return"XMLHTTP REQ ("+x+") [attempt "+Q+"]: "+_+`
`+T+`
`+ye})}function Fa(m,_,T,x,Q,ie,ye){m.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+Q+"]: "+_+`
`+T+`
`+ie+" "+ye})}function z(m,_,T,x){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+ne(m,T)+(x?" "+x:"")})}function W(m,_){m.info(function(){return"TIMEOUT: "+_})}yi.prototype.info=function(){};function ne(m,_){if(!m.g)return _;if(!_)return null;try{const ie=JSON.parse(_);if(ie){for(m=0;m<ie.length;m++)if(Array.isArray(ie[m])){var T=ie[m];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var Q=x[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<x.length;ye++)x[ye]=""}}}}return Fn(ie)}catch{return _}}var le={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},de={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Te;function be(){}v(be,fi),be.prototype.g=function(){return new XMLHttpRequest},Te=new be;function Ee(m){return encodeURIComponent(String(m))}function Ie(m){var _=1;m=m.split(":");const T=[];for(;_>0&&m.length;)T.push(m.shift()),_--;return m.length&&T.push(m.join(":")),T}function Ce(m,_,T,x){this.j=m,this.i=_,this.l=T,this.S=x||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new we}function we(){this.i=null,this.g="",this.h=!1}var Re={},He={};function ot(m,_,T){m.M=1,m.A=Jr(Ot(_)),m.u=T,m.R=!0,At(m,null)}function At(m,_){m.F=Date.now(),Hn(m),m.B=Ot(m.A);var T=m.B,x=m.S;Array.isArray(x)||(x=[String(x)]),jh(T.i,"t",x),m.C=0,T=m.j.L,m.h=new we,m.g=nl(m.j,T?_:null,!m.u),m.P>0&&(m.O=new Yo(d(m.Y,m,m.g),m.P)),_=m.V,T=m.g,x=m.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(wn[0]=Q.toString()),Q=wn);for(let ie=0;ie<Q.length;ie++){const ye=ci(T,Q[ie],x||_.handleEvent,!1,_.h||_);if(!ye)break;_.g[ye.key]=ye}_=m.J?se(m.J):{},m.u?(m.v||(m.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,_)):(m.v="GET",m.g.ea(m.B,m.v,null,_)),Sr(),Ba(m.i,m.v,m.B,m.l,m.S,m.u)}Ce.prototype.ba=function(m){m=m.target;const _=this.O;_&&Nn(m)==3?_.j():this.Y(m)},Ce.prototype.Y=function(m){try{if(m==this.g)e:{const qe=Nn(this.g),Rt=this.g.ya(),dt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Wa(this.g)))){this.K||qe!=4||Rt==7||(Rt==8||dt<=0?Sr(3):Sr(2)),an(this);var _=this.g.ca();this.X=_;var T=xt(this);if(this.o=_==200,Fa(this.i,this.v,this.B,this.l,this.S,qe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var x,Q=this.g;if((x=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(x)){var ie=x;break t}}ie=null}if(m=ie)z(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pi(this,m);else{this.o=!1,this.m=3,Mt(12),Jn(this),dn(this);break e}}if(this.R){m=!0;let qt;for(;!this.K&&this.C<T.length;)if(qt=ht(this,T),qt==He){qe==4&&(this.m=4,Mt(14),m=!1),z(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Re){this.m=4,Mt(15),z(this.i,this.l,T,"[Invalid Chunk]"),m=!1;break}else z(this.i,this.l,qt,null),Pi(this,qt);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||T.length!=0||this.h.h||(this.m=1,Mt(16),m=!1),this.o=this.o&&m,!m)z(this.i,this.l,T,"[Invalid Chunked Response]"),Jn(this),dn(this);else if(T.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Pu(ye),ye.P=!0,Mt(11))}}else z(this.i,this.l,T,null),Pi(this,T);qe==4&&Jn(this),this.o&&!this.K&&(qe==4?Nu(this.j,this):(this.o=!1,Hn(this)))}else Ya(this.g),_==400&&T.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Jn(this),dn(this)}}}catch{}finally{}};function xt(m){if(!Be(m))return m.g.la();const _=Wa(m.g);if(_==="")return"";let T="";const x=_.length,Q=Nn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Jn(m),dn(m),"";m.h.i=new u.TextDecoder}for(let ie=0;ie<x;ie++)m.h.h=!0,T+=m.h.i.decode(_[ie],{stream:!(Q&&ie==x-1)});return _.length=0,m.h.g+=T,m.C=0,m.h.g}function Be(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ht(m,_){var T=m.C,x=_.indexOf(`
`,T);return x==-1?He:(T=Number(_.substring(T,x)),isNaN(T)?Re:(x+=1,x+T>_.length?He:(_=_.slice(x,x+T),m.C=x+T,_)))}Ce.prototype.cancel=function(){this.K=!0,Jn(this)};function Hn(m){m.T=Date.now()+m.H,Pn(m,m.H)}function Pn(m,_){if(m.D!=null)throw Error("WatchDog timer not null");m.D=gi(d(m.aa,m),_)}function an(m){m.D&&(u.clearTimeout(m.D),m.D=null)}Ce.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(W(this.i,this.B),this.M!=2&&(Sr(),Mt(17)),Jn(this),this.m=2,dn(this)):Pn(this,this.T-m)};function dn(m){m.j.I==0||m.K||Nu(m.j,m)}function Jn(m){an(m);var _=m.O;_&&typeof _.dispose=="function"&&_.dispose(),m.O=null,Tt(m.V),m.g&&(_=m.g,m.g=null,_.abort(),_.dispose())}function Pi(m,_){try{var T=m.j;if(T.I!=0&&(T.g==m||Dt(T.h,m))){if(!m.L&&Dt(T.h,m)&&T.I==3){try{var x=T.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var Q=x;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<m.F)tl(T),br(T);else break e;Du(T),Mt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=gi(d(T.Va,T),6e3));$e(T.h)<=1&&T.ta&&(T.ta=void 0)}else ts(T,11)}else if((m.L||T.g==m)&&tl(T),!M(_))for(Q=T.Ba.g.parse(_),_=0;_<Q.length;_++){let dt=Q[_];const qt=dt[0];if(!(qt<=T.K))if(T.K=qt,dt=dt[1],T.I==2)if(dt[0]=="c"){T.M=dt[1],T.ba=dt[2];const _i=dt[3];_i!=null&&(T.ka=_i,T.j.info("VER="+T.ka));const Ar=dt[4];Ar!=null&&(T.za=Ar,T.j.info("SVER="+T.za));const lr=dt[5];lr!=null&&typeof lr=="number"&&lr>0&&(x=1.5*lr,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const ur=m.g;if(ur){const cr=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var ie=x.h;ie.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(sr(ie,ie.h),ie.h=null))}if(x.G){const Ou=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Ou&&(x.wa=Ou,gt(x.J,x.G,Ou))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-m.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var ye=m;if(x.na=Wh(x,x.L?x.ba:null,x.W),ye.L){qn(x.h,ye);var qe=ye,Rt=x.O;Rt&&(qe.H=Rt),qe.D&&(an(qe),Hn(qe)),x.g=ye}else qh(x);T.i.length>0&&Za(T)}else dt[0]!="stop"&&dt[0]!="close"||ts(T,7);else T.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?ts(T,7):Qa(T):dt[0]!="noop"&&T.l&&T.l.qa(dt),T.A=0)}}Sr(4)}catch{}}var rr=class{constructor(m,_){this.g=m,this.map=_}};function Ni(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function $e(m){return m.h?1:m.g?m.g.size:0}function Dt(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function sr(m,_){m.g?m.g.add(_):m.h=_}function qn(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Ni.prototype.cancel=function(){if(this.i=wt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function wt(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const T of m.g.values())_=_.concat(T.G);return _}return S(m.i)}var ar=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xo(m,_){if(m){m=m.split("&");for(let T=0;T<m.length;T++){const x=m[T].indexOf("=");let Q,ie=null;x>=0?(Q=m[T].substring(0,x),ie=m[T].substring(x+1)):Q=m[T],_(Q,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function vi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;m instanceof vi?(this.l=m.l,Ps(this,m.j),this.o=m.o,this.g=m.g,za(this,m.u),this.h=m.h,Ns(this,Bh(m.i)),this.m=m.m):m&&(_=String(m).match(ar))?(this.l=!1,Ps(this,_[1]||"",!0),this.o=Ha(_[2]||""),this.g=Ha(_[3]||"",!0),za(this,_[4]),this.h=Ha(_[5]||"",!0),Ns(this,_[6]||"",!0),this.m=Ha(_[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}vi.prototype.toString=function(){const m=[];var _=this.j;_&&m.push(mn(_,Su,!0),":");var T=this.g;return(T||_=="file")&&(m.push("//"),(_=this.o)&&m.push(mn(_,Su,!0),"@"),m.push(Ee(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&m.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(mn(T,T.charAt(0)=="/"?Ms:bu,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",mn(T,Uh)),m.join("")},vi.prototype.resolve=function(m){const _=Ot(this);let T=!!m.j;T?Ps(_,m.j):T=!!m.o,T?_.o=m.o:T=!!m.g,T?_.g=m.g:T=m.u!=null;var x=m.h;if(T)za(_,m.u);else if(T=!!m.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(x=_.h.slice(0,Q+1)+x)}if(Q=x,Q==".."||Q==".")x="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){x=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ie=[];for(let ye=0;ye<Q.length;){const qe=Q[ye++];qe=="."?x&&ye==Q.length&&ie.push(""):qe==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),x&&ye==Q.length&&ie.push("")):(ie.push(qe),x=!0)}x=ie.join("/")}else x=Q}return T?_.h=x:T=m.i.toString()!=="",T?Ns(_,Bh(m.i)):T=!!m.m,T&&(_.m=m.m),_};function Ot(m){return new vi(m)}function Ps(m,_,T){m.j=T?Ha(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function za(m,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);m.u=_}else m.u=null}function Ns(m,_,T){_ instanceof Oi?(m.i=_,Cu(m.i,m.l)):(T||(_=mn(_,kh)),m.i=new Oi(_,m.l))}function gt(m,_,T){m.i.set(_,T)}function Jr(m){return gt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ha(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function mn(m,_,T){return typeof m=="string"?(m=encodeURI(m).replace(_,wu),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Su=/[#\/\?@]/g,bu=/[#\?:]/g,Ms=/[#\?]/g,kh=/[#\?@]/g,Uh=/#/g;function Oi(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Zr(m){m.g||(m.g=new Map,m.h=0,m.i&&Xo(m.i,function(_,T){m.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Oi.prototype,t.add=function(m,_){Zr(this),this.i=null,m=or(this,m);let T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(_),this.h+=1,this};function Au(m,_){Zr(m),_=or(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function Ru(m,_){return Zr(m),_=or(m,_),m.g.has(_)}t.forEach=function(m,_){Zr(this),this.g.forEach(function(T,x){T.forEach(function(Q){m.call(_,Q,x,this)},this)},this)};function Qo(m,_){Zr(m);let T=[];if(typeof _=="string")Ru(m,_)&&(T=T.concat(m.g.get(or(m,_))));else for(m=Array.from(m.g.values()),_=0;_<m.length;_++)T=T.concat(m[_]);return T}t.set=function(m,_){return Zr(this),this.i=null,m=or(this,m),Ru(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=Qo(this,m),m.length>0?String(m[0]):_):_};function jh(m,_,T){Au(m,_),T.length>0&&(m.i=null,m.g.set(or(m,_),S(T)),m.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var T=_[x];const Q=Ee(T);T=Qo(this,T);for(let ie=0;ie<T.length;ie++){let ye=Q;T[ie]!==""&&(ye+="="+Ee(T[ie])),m.push(ye)}}return this.i=m.join("&")};function Bh(m){const _=new Oi;return _.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_}function or(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Cu(m,_){_&&!m.j&&(Zr(m),m.i=null,m.g.forEach(function(T,x){const Q=x.toLowerCase();x!=Q&&(Au(this,x),jh(this,Q,T))},m)),m.j=_}function Iu(m,_){const T=new yi;if(u.Image){const x=new Image;x.onload=g(Gn,T,"TestLoadImage: loaded",!0,_,x),x.onerror=g(Gn,T,"TestLoadImage: error",!1,_,x),x.onabort=g(Gn,T,"TestLoadImage: abort",!1,_,x),x.ontimeout=g(Gn,T,"TestLoadImage: timeout",!1,_,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=m}else _(!1)}function Os(m,_){const T=new yi,x=new AbortController,Q=setTimeout(()=>{x.abort(),Gn(T,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:x.signal}).then(ie=>{clearTimeout(Q),ie.ok?Gn(T,"TestPingServer: ok",!0,_):Gn(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Gn(T,"TestPingServer: error",!1,_)})}function Gn(m,_,T,x,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),x(T)}catch{}}function Fh(){this.g=new Tu}function qa(m){this.i=m.Sb||null,this.h=m.ab||!1}v(qa,fi),qa.prototype.g=function(){return new Ga(this.i,this.h)};function Ga(m,_){Ht.call(this),this.H=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ga,Ht),t=Ga.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=_,this.readyState=1,es(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(_.body=m),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vs(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vs(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Kn(this):es(this),this.readyState==3&&Vs(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Kn(this))},t.Na=function(m){this.g&&(this.response=m,Kn(this))},t.ga=function(){this.g&&Kn(this)};function Kn(m){m.readyState=4,m.l=null,m.j=null,m.B=null,es(m)}t.setRequestHeader=function(m,_){this.A.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=_.next();return m.join(`\r
`)};function es(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ls(m){let _="";return Pe(m,function(T,x){_+=x,_+=":",_+=T,_+=`\r
`}),_}function Vi(m,_,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Ls(T),typeof m=="string"?T!=null&&Ee(T):gt(m,_,T))}function St(m){Ht.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(St,Ht);var Jo=/^https?$/i,zh=["POST","PUT"];t=St.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,_,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Te.g(),this.g.onreadystatechange=E(d(this.Ca,this));try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(ie){Ka(this,ie);return}if(m=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var Q in x)T.set(Q,x[Q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ie of x.keys())T.set(ie,x.get(ie));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(zh,_,void 0)>=0)||x||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ye]of T)this.g.setRequestHeader(ie,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ie){Ka(this,ie)}};function Ka(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.o=5,$a(m),on(m)}function $a(m){m.A||(m.A=!0,Yt(m,"complete"),Yt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Yt(this,"complete"),Yt(this,"abort"),on(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),on(this,!0)),St.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xu(this):this.Xa())},t.Xa=function(){xu(this)};function xu(m){if(m.h&&typeof o<"u"){if(m.v&&Nn(m)==4)setTimeout(m.Ca.bind(m),0);else if(Yt(m,"readystatechange"),Nn(m)==4){m.h=!1;try{const ie=m.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var x;if(x=ie===0){let ye=String(m.D).match(ar)[1]||null;!ye&&u.self&&u.self.location&&(ye=u.self.location.protocol.slice(0,-1)),x=!Jo.test(ye?ye.toLowerCase():"")}T=x}if(T)Yt(m,"complete"),Yt(m,"success");else{m.o=6;try{var Q=Nn(m)>2?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.ca()+"]",$a(m)}}finally{on(m)}}}}function on(m,_){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const T=m.g;m.g=null,_||Yt(m,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Nn(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Nn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),sn(_)}};function Wa(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(m){const _={};m=(m.g&&Nn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<m.length;x++){if(M(m[x]))continue;var T=Ie(m[x]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=_[Q]||[];_[Q]=ie,ie.push(T)}B(_,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(m,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||_}function Zo(m){this.za=0,this.i=[],this.j=new yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xa("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xa("baseRetryDelayMs",5e3,m),this.Za=Xa("retryDelaySeedMs",1e4,m),this.Ta=Xa("forwardChannelMaxRetries",2,m),this.va=Xa("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ni(m&&m.concurrentRequestLimit),this.Ba=new Fh,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zo.prototype,t.ka=8,t.I=1,t.connect=function(m,_,T,x){Mt(0),this.W=m,this.H=_||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=Wh(this,null,this.W),Za(this)};function Qa(m){if(Ja(m),m.I==3){var _=m.V++,T=Ot(m.J);if(gt(T,"SID",m.M),gt(T,"RID",_),gt(T,"TYPE","terminate"),eo(m,T),_=new Ce(m,m.j,_),_.M=2,_.A=Jr(Ot(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=_.A,T=!0),T||(_.g=nl(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Hn(_)}$h(m)}function br(m){m.g&&(Pu(m),m.g.cancel(),m.g=null)}function Ja(m){br(m),m.v&&(u.clearTimeout(m.v),m.v=null),tl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function Za(m){if(!Mi(m.h)&&!m.m){m.m=!0;var _=m.Ea;K||C(),N||(K(),N=!0),I.add(_,m),m.D=0}}function hp(m,_){return $e(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=_.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=gi(d(m.Ea,m,_),Kh(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Q=new Ce(this,this.j,m);let ie=this.o;if(this.U&&(ie?(ie=se(ie),pe(ie,this.U)):ie=this.U),this.u!==null||this.R||(Q.J=ie,ie=null),this.S)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=el(this,Q,_),T=Ot(this.J),gt(T,"RID",m),gt(T,"CVER",22),this.G&&gt(T,"X-HTTP-Session-Id",this.G),eo(this,T),ie&&(this.R?_="headers="+Ee(Ls(ie))+"&"+_:this.u&&Vi(T,this.u,ie)),sr(this.h,Q),this.Ra&&gt(T,"TYPE","init"),this.S?(gt(T,"$req",_),gt(T,"SID","null"),Q.U=!0,ot(Q,T,null)):ot(Q,T,_),this.I=2}}else this.I==3&&(m?Hh(this,m):this.i.length==0||Mi(this.h)||Hh(this))};function Hh(m,_){var T;_?T=_.l:T=m.V++;const x=Ot(m.J);gt(x,"SID",m.M),gt(x,"RID",T),gt(x,"AID",m.K),eo(m,x),m.u&&m.o&&Vi(x,m.u,m.o),T=new Ce(m,m.j,T,m.D+1),m.u===null&&(T.J=m.o),_&&(m.i=_.G.concat(m.i)),_=el(m,T,1e3),T.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),sr(m.h,T),ot(T,x,_)}function eo(m,_){m.H&&Pe(m.H,function(T,x){gt(_,x,T)}),m.l&&Pe({},function(T,x){gt(_,x,T)})}function el(m,_,T){T=Math.min(m.i.length,T);const x=m.l?d(m.l.Ka,m.l,m):null;e:{var Q=m.i;let qe=-1;for(;;){const Rt=["count="+T];qe==-1?T>0?(qe=Q[0].g,Rt.push("ofs="+qe)):qe=0:Rt.push("ofs="+qe);let dt=!0;for(let qt=0;qt<T;qt++){var ie=Q[qt].g;const _i=Q[qt].map;if(ie-=qe,ie<0)qe=Math.max(0,Q[qt].g-100),dt=!1;else try{ie="req"+ie+"_"||"";try{var ye=_i instanceof Map?_i:Object.entries(_i);for(const[Ar,lr]of ye){let ur=lr;h(lr)&&(ur=Fn(lr)),Rt.push(ie+Ar+"="+encodeURIComponent(ur))}}catch(Ar){throw Rt.push(ie+"type="+encodeURIComponent("_badmap")),Ar}}catch{x&&x(_i)}}if(dt){ye=Rt.join("&");break e}}ye=void 0}return m=m.i.splice(0,T),_.G=m,ye}function qh(m){if(!m.g&&!m.v){m.Y=1;var _=m.Da;K||C(),N||(K(),N=!0),I.add(_,m),m.A=0}}function Du(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=gi(d(m.Da,m),Kh(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,Gh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=gi(d(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),br(this),Gh(this))};function Pu(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function Gh(m){m.g=new Ce(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var _=Ot(m.na);gt(_,"RID","rpc"),gt(_,"SID",m.M),gt(_,"AID",m.K),gt(_,"CI",m.F?"0":"1"),!m.F&&m.ia&&gt(_,"TO",m.ia),gt(_,"TYPE","xmlhttp"),eo(m,_),m.u&&m.o&&Vi(_,m.u,m.o),m.O&&(m.g.H=m.O);var T=m.g;m=m.ba,T.M=1,T.A=Jr(Ot(_)),T.u=null,T.R=!0,At(T,m)}t.Va=function(){this.C!=null&&(this.C=null,br(this),Du(this),Mt(19))};function tl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Nu(m,_){var T=null;if(m.g==_){tl(m),Pu(m),m.g=null;var x=2}else if(Dt(m.h,_))T=_.G,qn(m.h,_),x=1;else return;if(m.I!=0){if(_.o)if(x==1){T=_.u?_.u.length:0,_=Date.now()-_.F;var Q=m.D;x=Yr(),Yt(x,new ja(x,T)),Za(m)}else qh(m);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(x==1&&hp(m,_)||x==2&&Du(m)))switch(T&&T.length>0&&(_=m.h,_.i=_.i.concat(T)),Q){case 1:ts(m,5);break;case 4:ts(m,10);break;case 3:ts(m,6);break;default:ts(m,2)}}}function Kh(m,_){let T=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(T*=2),T*_}function ts(m,_){if(m.j.info("Error code "+_),_==2){var T=d(m.bb,m),x=m.Ua;const Q=!x;x=new vi(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ps(x,"https"),Jr(x),Q?Iu(x.toString(),T):Os(x.toString(),T)}else Mt(2);m.I=0,m.l&&m.l.pa(_),$h(m),Ja(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function $h(m){if(m.I=0,m.ja=[],m.l){const _=wt(m.h);(_.length!=0||m.i.length!=0)&&(b(m.ja,_),b(m.ja,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.oa()}}function Wh(m,_,T){var x=T instanceof vi?Ot(T):new vi(T);if(x.g!="")_&&(x.g=_+"."+x.g),za(x,x.u);else{var Q=u.location;x=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const ie=new vi(null);x&&Ps(ie,x),_&&(ie.g=_),Q&&za(ie,Q),T&&(ie.h=T),x=ie}return T=m.G,_=m.wa,T&&_&&gt(x,T,_),gt(x,"VER",m.ka),eo(m,x),x}function nl(m,_,T){if(_&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Aa&&!m.ma?new St(new qa({ab:T})):new St(m.ma),_.Fa(m.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yh(){}t=Yh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function il(){}il.prototype.g=function(m,_){return new $n(m,_)};function $n(m,_){Ht.call(this),this.g=new Zo(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(m?m["X-WebChannel-Client-Profile"]=_.sa:m={"X-WebChannel-Client-Profile":_.sa}),this.g.U=m,(m=_&&_.Qb)&&!M(m)&&(this.g.u=m),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new ks(this)}v($n,Ht),$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){Qa(this.g)},$n.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.v&&(T={},T.__data__=Fn(m),m=T);_.i.push(new rr(_.Ya++,m)),_.I==3&&Za(_)},$n.prototype.N=function(){this.g.l=null,delete this.j,Qa(this.g),delete this.g,$n.Z.N.call(this)};function Mu(m){ir.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const T in _){m=T;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}v(Mu,ir);function Xh(){mi.call(this),this.status=1}v(Xh,mi);function ks(m){this.g=m}v(ks,Yh),ks.prototype.ra=function(){Yt(this.g,"a")},ks.prototype.qa=function(m){Yt(this.g,new Mu(m))},ks.prototype.pa=function(m){Yt(this.g,new Xh)},ks.prototype.oa=function(){Yt(this.g,"b")},il.prototype.createWebChannel=il.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,cI=function(){return new il},uI=function(){return Yr()},lI=zn,yv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,_d=le,de.COMPLETE="complete",oI=de,Ua.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",Ht.prototype.listen=Ht.prototype.J,Mc=Ua,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,aI=St}).apply(typeof id<"u"?id:typeof self<"u"?self:typeof window<"u"?window:{});const Ab="@firebase/firestore",Rb="4.9.2";class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let cu="12.3.0";const ko=new Mm("@firebase/firestore");function Ml(){return ko.logLevel}function _e(t,...e){if(ko.logLevel<=nt.DEBUG){const n=e.map(D_);ko.debug(`Firestore (${cu}): ${t}`,...n)}}function bs(t,...e){if(ko.logLevel<=nt.ERROR){const n=e.map(D_);ko.error(`Firestore (${cu}): ${t}`,...n)}}function Jl(t,...e){if(ko.logLevel<=nt.WARN){const n=e.map(D_);ko.warn(`Firestore (${cu}): ${t}`,...n)}}function D_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ke(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,hI(t,i,n)}function hI(t,e,n){let i=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw bs(i),new Error(i)}function ft(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||hI(e,s,i)}function Ge(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class fI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class N4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M4{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let i=this.i;const s=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let o=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Es,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Es)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string",31837,{l:i}),new fI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class O4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new O4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const i=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function k4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class P_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=k4(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function it(t,e){return t<e?-1:t>e?1:0}function vv(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),o=e.charAt(i);if(s!==o)return Ry(s)===Ry(o)?it(s,o):Ry(s)?1:-1}return it(t.length,e.length)}const U4=55296,j4=57343;function Ry(t){const e=t.charCodeAt(0);return e>=U4&&e<=j4}function Zl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}const Ib="__name__";class Nr{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ke(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=Nr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return it(e.length,n.length)}static compareSegments(e,n){const i=Nr.isNumericId(e),s=Nr.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Nr.extractNumericId(e).compare(Nr.extractNumericId(n)):vv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return va.fromString(e.substring(4,e.length-2))}}class Ct extends Nr{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ct(n)}static emptyPath(){return new Ct([])}}const B4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Nr{construct(e,n,i){return new xn(e,n,i)}static isValidIdentifier(e){return B4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ib}static keyField(){return new xn([Ib])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Ae(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ae(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new Ae(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Ct.fromString(e))}static fromName(e){return new Me(Ct.fromString(e).popFirst(5))}static empty(){return new Me(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Ct(e.slice()))}}function dI(t,e,n){if(!n)throw new Ae(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F4(t,e,n,i){if(e===!0&&i===!0)throw new Ae(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xb(t){if(!Me.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Db(t){if(Me.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function N_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function As(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N_(t);throw new Ae(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function _h(t,e){if(!mI(t))throw new Ae(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(s&&typeof u!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new Ae(fe.INVALID_ARGUMENT,n);return!0}const Pb=-62135596800,Nb=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Nb);return new It(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pb)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nb}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_h(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:tn("string",It._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new It(0,0))}static max(){return new Fe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const th=-1;function z4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(i===1e9?new It(n+1,0):new It(n,i));return new Sa(s,Me.empty(),e)}function H4(t){return new Sa(t.readTime,t.key,th)}class Sa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Sa(Fe.min(),Me.empty(),th)}static max(){return new Sa(Fe.max(),Me.empty(),th)}}function q4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}const G4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function hu(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==G4)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,i)=>{n(e)})}static reject(e){return new ce((n,i)=>{i(e)})}static waitFor(e){return new ce((n,i)=>{let s=0,o=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++o,u&&o===s&&n()},f=>i(f))}),u=!0,o===s&&n()})}static or(e){let n=ce.resolve(!1);for(const i of e)n=n.next(s=>s?ce.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new ce((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next(g=>{u[d]=g,++h,h===o&&i(u)},g=>s(g))}})}static doWhile(e,n){return new ce((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function $4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fu(t){return t.name==="IndexedDbTransactionError"}class Lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lm.ce=-1;const M_=-1;function km(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function W4(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const pI="";function Y4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Mb(e)),e=X4(t.get(n),e);return Mb(e)}function X4(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case pI:n+="";break;default:n+=o}}return n}function Mb(t){return t+pI+""}function Ob(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class kt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??In.RED,this.left=s??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new In(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vb(this.data.getIterator())}getIteratorFrom(e){return new Vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class Vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ii{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new Ii([])}unionWith(e){let n=new fn(xn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ii(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yI("Invalid base64 string: "+o):o}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const Q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=Q4.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Aa(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}const vI="server_timestamp",_I="__type__",EI="__previous_value__",TI="__local_write_time__";function O_(t){return(t?.mapValue?.fields||{})[_I]?.stringValue===vI}function Um(t){const e=t.mapValue.fields[EI];return O_(e)?Um(e):e}function nh(t){const e=ba(t.mapValue.fields[TI].timestampValue);return new It(e.seconds,e.nanos)}class J4{constructor(e,n,i,s,o,u,h,f,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const Qd="(default)";class ih{constructor(e,n){this.projectId=e,this.database=n||Qd}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}const wI="__type__",Z4="__max__",sd={mapValue:{}},SI="__vector__",Jd="value";function Ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?O_(t)?4:tj(t)?9007199254740991:ej(t)?10:11:ke(28295,{value:t})}function Gr(t,e){if(t===e)return!0;const n=Ra(t);if(n!==Ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nh(t).isEqual(nh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ba(s.timestampValue),h=ba(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Aa(s.bytesValue).isEqual(Aa(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return $t(s.geoPointValue.latitude)===$t(o.geoPointValue.latitude)&&$t(s.geoPointValue.longitude)===$t(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return $t(s.integerValue)===$t(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=$t(s.doubleValue),h=$t(o.doubleValue);return u===h?Xd(u)===Xd(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(Ob(u)!==Ob(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Gr(u[f],h[f])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function rh(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function eu(t,e){if(t===e)return 0;const n=Ra(t),i=Ra(e);if(n!==i)return it(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(o,u){const h=$t(o.integerValue||o.doubleValue),f=$t(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return Lb(t.timestampValue,e.timestampValue);case 4:return Lb(nh(t),nh(e));case 5:return vv(t.stringValue,e.stringValue);case 6:return function(o,u){const h=Aa(o),f=Aa(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=it(h[d],f[d]);if(g!==0)return g}return it(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const h=it($t(o.latitude),$t(u.latitude));return h!==0?h:it($t(o.longitude),$t(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kb(t.arrayValue,e.arrayValue);case 10:return function(o,u){const h=o.fields||{},f=u.fields||{},d=h[Jd]?.arrayValue,g=f[Jd]?.arrayValue,v=it(d?.values?.length||0,g?.values?.length||0);return v!==0?v:kb(d,g)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===sd.mapValue&&u===sd.mapValue)return 0;if(o===sd.mapValue)return 1;if(u===sd.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=vv(f[v],g[v]);if(E!==0)return E;const S=eu(h[f[v]],d[g[v]]);if(S!==0)return S}return it(f.length,g.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function Lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=ba(t),i=ba(e),s=it(n.seconds,i.seconds);return s!==0?s:it(n.nanos,i.nanos)}function kb(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=eu(n[s],i[s]);if(o)return o}return it(n.length,i.length)}function tu(t){return _v(t)}function _v(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=ba(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Aa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=_v(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${_v(n.fields[u])}`;return s+"}"}(t.mapValue):ke(61005,{value:t})}function Ed(t){switch(Ra(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Um(t);return e?16+Ed(e):16;case 5:return 2*t.stringValue.length;case 6:return Aa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Ed(o),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return Na(i.fields,(o,u)=>{s+=o.length+Ed(u)}),s}(t.mapValue);default:throw ke(13486,{value:t})}}function Ev(t){return!!t&&"integerValue"in t}function V_(t){return!!t&&"arrayValue"in t}function Ub(t){return!!t&&"nullValue"in t}function jb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function ej(t){return(t?.mapValue?.fields||{})[wI]?.stringValue===SI}function Bc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Na(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Bc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bc(t.arrayValue.values[n]);return e}return{...t}}function tj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Z4}class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(n)}setAll(e){let n=xn.emptyPath(),i={},s=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,s),i={},s=[],n=h.popLast()}u?i[h.lastSegment()]=Bc(u):s.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Na(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new ri(Bc(this.value))}}function bI(t){const e=[];return Na(t.fields,(n,i)=>{const s=new xn([n]);if(Td(i)){const o=bI(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Ii(e)}class kn{constructor(e,n,i,s,o,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new kn(e,0,Fe.min(),Fe.min(),Fe.min(),ri.empty(),0)}static newFoundDocument(e,n,i,s){return new kn(e,1,n,Fe.min(),i,s,0)}static newNoDocument(e,n){return new kn(e,2,n,Fe.min(),Fe.min(),ri.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Fe.min(),Fe.min(),ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function Bb(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?i=Me.comparator(Me.fromName(u.referenceValue),n.key):i=eu(u,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}class em{constructor(e,n="asc"){this.field=e,this.dir=n}}function nj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class AI{}class hn extends AI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new rj(e,n,i):n==="array-contains"?new oj(e,i):n==="in"?new lj(e,i):n==="not-in"?new uj(e,i):n==="array-contains-any"?new cj(e,i):new hn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new sj(e,i):new aj(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eu(n,this.value)):n!==null&&Ra(this.value)===Ra(n)&&this.matchesComparison(eu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends AI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kr(e,n)}matches(e){return RI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RI(t){return t.op==="and"}function CI(t){return ij(t)&&RI(t)}function ij(t){for(const e of t.filters)if(e instanceof Kr)return!1;return!0}function Tv(t){if(t instanceof hn)return t.field.canonicalString()+t.op.toString()+tu(t.value);if(CI(t))return t.filters.map(e=>Tv(e)).join(",");{const e=t.filters.map(n=>Tv(n)).join(",");return`${t.op}(${e})`}}function II(t,e){return t instanceof hn?function(i,s){return s instanceof hn&&i.op===s.op&&i.field.isEqual(s.field)&&Gr(i.value,s.value)}(t,e):t instanceof Kr?function(i,s){return s instanceof Kr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,u,h)=>o&&II(u,s.filters[h]),!0):!1}(t,e):void ke(19439)}function xI(t){return t instanceof hn?function(n){return`${n.field.canonicalString()} ${n.op} ${tu(n.value)}`}(t):t instanceof Kr?function(n){return n.op.toString()+" {"+n.getFilters().map(xI).join(" ,")+"}"}(t):"Filter"}class rj extends hn{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class sj extends hn{constructor(e,n){super(e,"in",n),this.keys=DI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aj extends hn{constructor(e,n){super(e,"not-in",n),this.keys=DI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DI(t,e){return(e.arrayValue?.values||[]).map(n=>Me.fromName(n.referenceValue))}class oj extends hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return V_(n)&&rh(n.arrayValue,this.value)}}class lj extends hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rh(this.value.arrayValue,n)}}class uj extends hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rh(this.value.arrayValue,n)}}class cj extends hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!V_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>rh(this.value.arrayValue,i))}}class hj{constructor(e,n=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function zb(t,e=null,n=[],i=[],s=null,o=null,u=null){return new hj(t,e,n,i,s,o,u)}function L_(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Tv(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),km(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>tu(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>tu(i)).join(",")),e.Te=n}return e.Te}function k_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!II(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fb(t.startAt,e.startAt)&&Fb(t.endAt,e.endAt)}function wv(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class jm{constructor(e,n=null,i=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fj(t,e,n,i,s,o,u,h){return new jm(t,e,n,i,s,o,u,h)}function U_(t){return new jm(t)}function Hb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dj(t){return t.collectionGroup!==null}function Fc(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new fn(xn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new em(o,i))}),n.has(xn.keyField().canonicalString())||e.Ie.push(new em(xn.keyField(),i))}return e.Ie}function Or(t){const e=Ge(t);return e.Ee||(e.Ee=mj(e,Fc(t))),e.Ee}function mj(t,e){if(t.limitType==="F")return zb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new em(s.field,o)});const n=t.endAt?new Zd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Zd(t.startAt.position,t.startAt.inclusive):null;return zb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Sv(t,e,n){return new jm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bm(t,e){return k_(Or(t),Or(e))&&t.limitType===e.limitType}function PI(t){return`${L_(Or(t))}|lt:${t.limitType}`}function Ol(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>xI(s)).join(", ")}]`),km(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>tu(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>tu(s)).join(",")),`Target(${i})`}(Or(t))}; limitType=${t.limitType})`}function Fm(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of Fc(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(u,h,f){const d=Bb(u,h,f);return u.inclusive?d<=0:d<0}(i.startAt,Fc(i),s)||i.endAt&&!function(u,h,f){const d=Bb(u,h,f);return u.inclusive?d>=0:d>0}(i.endAt,Fc(i),s))}(t,e)}function pj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NI(t){return(e,n)=>{let i=!1;for(const s of Fc(t)){const o=gj(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function gj(t,e,n){const i=t.field.isKeyField()?Me.comparator(e.key,n.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?eu(f,d):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:t.dir})}}class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return gI(this.inner)}size(){return this.innerSize}}const yj=new kt(Me.comparator);function Rs(){return yj}const MI=new kt(Me.comparator);function Oc(...t){let e=MI;for(const n of t)e=e.insert(n.key,n);return e}function OI(t){let e=MI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ao(){return zc()}function VI(){return zc()}function zc(){return new Go(t=>t.toString(),(t,e)=>t.isEqual(e))}const vj=new kt(Me.comparator),_j=new fn(Me.comparator);function rt(...t){let e=_j;for(const n of t)e=e.add(n);return e}const Ej=new fn(it);function Tj(){return Ej}function j_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function LI(t){return{integerValue:""+t}}function wj(t,e){return W4(e)?LI(e):j_(t,e)}class zm{constructor(){this._=void 0}}function Sj(t,e,n){return t instanceof tm?function(s,o){const u={fields:{[_I]:{stringValue:vI},[TI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&O_(o)&&(o=Um(o)),o&&(u.fields[EI]=o),{mapValue:u}}(n,e):t instanceof sh?UI(t,e):t instanceof ah?jI(t,e):function(s,o){const u=kI(s,o),h=qb(u)+qb(s.Ae);return Ev(u)&&Ev(s.Ae)?LI(h):j_(s.serializer,h)}(t,e)}function bj(t,e,n){return t instanceof sh?UI(t,e):t instanceof ah?jI(t,e):n}function kI(t,e){return t instanceof nm?function(i){return Ev(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class tm extends zm{}class sh extends zm{constructor(e){super(),this.elements=e}}function UI(t,e){const n=BI(e);for(const i of t.elements)n.some(s=>Gr(s,i))||n.push(i);return{arrayValue:{values:n}}}class ah extends zm{constructor(e){super(),this.elements=e}}function jI(t,e){let n=BI(e);for(const i of t.elements)n=n.filter(s=>!Gr(s,i));return{arrayValue:{values:n}}}class nm extends zm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qb(t){return $t(t.integerValue||t.doubleValue)}function BI(t){return V_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Aj(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof sh&&s instanceof sh||i instanceof ah&&s instanceof ah?Zl(i.elements,s.elements,Gr):i instanceof nm&&s instanceof nm?Gr(i.Ae,s.Ae):i instanceof tm&&s instanceof tm}(t.transform,e.transform)}class Rj{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hm{}function FI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HI(t.key,Vr.none()):new Eh(t.key,t.data,Vr.none());{const n=t.data,i=ri.empty();let s=new fn(xn.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new Ma(t.key,i,new Ii(s.toArray()),Vr.none())}}function Cj(t,e,n){t instanceof Eh?function(s,o,u){const h=s.value.clone(),f=Kb(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ma?function(s,o,u){if(!wd(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=Kb(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(zI(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Hc(t,e,n,i){return t instanceof Eh?function(o,u,h,f){if(!wd(o.precondition,u))return h;const d=o.value.clone(),g=$b(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ma?function(o,u,h,f){if(!wd(o.precondition,u))return h;const d=$b(o.fieldTransforms,f,u),g=u.data;return g.setAll(zI(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(o,u,h){return wd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function Ij(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=kI(i.transform,s||null);o!=null&&(n===null&&(n=ri.empty()),n.set(i.field,o))}return n||null}function Gb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Zl(i,s,(o,u)=>Aj(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eh extends Hm{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ma extends Hm{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Kb(t,e,n){const i=new Map;ft(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,bj(u,h,n[s]))}return i}function $b(t,e,n){const i=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);i.set(s.field,Sj(o,u,e))}return i}class HI extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xj extends Hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dj{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Cj(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Hc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Hc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=VI();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(s.key)?null:h;const f=FI(u,h);f!==null&&i.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(n,i)=>Gb(n,i))&&Zl(this.baseMutations,e.baseMutations,(n,i)=>Gb(n,i))}}class B_{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){ft(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return vj}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new B_(e,n,i,s)}}class Pj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Nj{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jt,at;function Mj(t){switch(t){case fe.OK:return ke(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function qI(t){if(t===void 0)return bs("GRPC error has no .code"),fe.UNKNOWN;switch(t){case Jt.OK:return fe.OK;case Jt.CANCELLED:return fe.CANCELLED;case Jt.UNKNOWN:return fe.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return fe.INTERNAL;case Jt.UNAVAILABLE:return fe.UNAVAILABLE;case Jt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Jt.NOT_FOUND:return fe.NOT_FOUND;case Jt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Jt.ABORTED:return fe.ABORTED;case Jt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Jt.DATA_LOSS:return fe.DATA_LOSS;default:return ke(39323,{code:t})}}(at=Jt||(Jt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";function Oj(){return new TextEncoder}const Vj=new va([4294967295,4294967295],0);function Wb(t){const e=Oj().encode(t),n=new sI;return n.update(e),new Uint8Array(n.digest())}function Yb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new va([n,i],0),new va([s,o],0)]}class F_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Vc(`Invalid padding: ${n}`);if(i<0)throw new Vc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=va.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(va.fromNumber(i)));return s.compare(Vj)===1&&(s=new va([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Wb(e),[i,s]=Yb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new F_(o,s,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const n=Wb(e),[i,s]=Yb(n);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qm{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new qm(Fe.min(),s,new kt(it),Rs(),rt())}}class Th{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Th(i,n,rt(),rt(),rt())}}class Sd{constructor(e,n,i,s){this.be=e,this.removedTargetIds=n,this.key=i,this.De=s}}class GI{constructor(e,n){this.targetId=e,this.Ce=n}}class KI{constructor(e,n,i=Dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Xb{constructor(){this.ve=0,this.Fe=Qb(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),n=rt(),i=rt();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ke(38017,{changeType:o})}}),new Th(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=Qb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lj{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=ad(),this.He=ad(),this.Ye=new kt(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(wv(o))if(i===0){const u=new Me(o.path);this.et(n,u,kn.newNoDocument(u,Fe.min()))}else ft(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let u,h;try{u=Aa(i).toUint8Array()}catch(f){if(f instanceof yI)return Jl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new F_(u,s,o)}catch(f){return Jl(f instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,u)=>{const h=this.ot(u);if(h){if(o.current&&wv(h.target)){const f=new Me(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,kn.newNoDocument(f,e))}o.Be&&(n.set(u,o.ke()),o.qe())}});let i=rt();this.He.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.je.forEach((o,u)=>u.setReadTime(e));const s=new qm(e,n,this.Ye,this.je,i);return this.je=Rs(),this.Je=ad(),this.He=ad(),this.Ye=new kt(it),s}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Xb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new fn(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new fn(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ad(){return new kt(Me.comparator)}function Qb(){return new kt(Me.comparator)}const kj={asc:"ASCENDING",desc:"DESCENDING"},Uj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jj={and:"AND",or:"OR"};class Bj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bv(t,e){return t.useProto3Json||km(e)?e:{value:e}}function im(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $I(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fj(t,e){return im(t,e.toTimestamp())}function Lr(t){return ft(!!t,49232),Fe.fromTimestamp(function(n){const i=ba(n);return new It(i.seconds,i.nanos)}(t))}function z_(t,e){return Av(t,e).canonicalString()}function Av(t,e){const n=function(s){return new Ct(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WI(t){const e=Ct.fromString(t);return ft(ZI(e),10190,{key:e.toString()}),e}function Rv(t,e){return z_(t.databaseId,e.path)}function Cy(t,e){const n=WI(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(XI(n))}function YI(t,e){return z_(t.databaseId,e)}function zj(t){const e=WI(t);return e.length===4?Ct.emptyPath():XI(e)}function Cv(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XI(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Jb(t,e,n){return{name:Rv(t,e),fields:n.value.mapValue.fields}}function Hj(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(ft(g===void 0||typeof g=="string",58123),Dn.fromBase64String(g||"")):(ft(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Dn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?fe.UNKNOWN:qI(d.code);return new Ae(g,d.message||"")}(u);n=new KI(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cy(t,i.document.name),o=Lr(i.document.updateTime),u=i.document.createTime?Lr(i.document.createTime):Fe.min(),h=new ri({mapValue:{fields:i.document.fields}}),f=kn.newFoundDocument(s,o,u,h),d=i.targetIds||[],g=i.removedTargetIds||[];n=new Sd(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cy(t,i.document),o=i.readTime?Lr(i.readTime):Fe.min(),u=kn.newNoDocument(s,o),h=i.removedTargetIds||[];n=new Sd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cy(t,i.document),o=i.removedTargetIds||[];n=new Sd([],o,s,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new Nj(s,o),h=i.targetId;n=new GI(h,u)}}return n}function qj(t,e){let n;if(e instanceof Eh)n={update:Jb(t,e.key,e.value)};else if(e instanceof HI)n={delete:Rv(t,e.key)};else if(e instanceof Ma)n={update:Jb(t,e.key,e.data),updateMask:Zj(e.fieldMask)};else{if(!(e instanceof xj))return ke(16599,{Vt:e.type});n={verify:Rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof tm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof sh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ah)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nm)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ke(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Fj(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke(27497)}(t,e.precondition)),n}function Gj(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?Lr(s.updateTime):Lr(o);return u.isEqual(Fe.min())&&(u=Lr(o)),new Rj(u,s.transformResults||[])}(n,e))):[]}function Kj(t,e){return{documents:[YI(t,e.path)]}}function $j(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=YI(t,s);const o=function(d){if(d.length!==0)return JI(Kr.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(E){return{field:Vl(E.field),direction:Xj(E.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=bv(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function Wj(t){let e=zj(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){ft(i===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(v){const E=QI(v);return E instanceof Kr&&CI(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(E=>function(b){return new em(Ll(b.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(v){let E;return E=typeof v=="object"?v.value:v,km(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(v){const E=!!v.before,S=v.values||[];return new Zd(S,E)}(n.startAt));let d=null;return n.endAt&&(d=function(v){const E=!v.before,S=v.values||[];return new Zd(S,E)}(n.endAt)),fj(e,s,u,o,h,"F",f,d)}function Yj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ll(n.unaryFilter.field);return hn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ll(n.unaryFilter.field);return hn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ll(n.unaryFilter.field);return hn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ll(n.unaryFilter.field);return hn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return hn.create(Ll(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kr.create(n.compositeFilter.filters.map(i=>QI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function Xj(t){return kj[t]}function Qj(t){return Uj[t]}function Jj(t){return jj[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function Ll(t){return xn.fromServerFormat(t.fieldPath)}function JI(t){return t instanceof hn?function(n){if(n.op==="=="){if(jb(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NAN"}};if(Ub(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jb(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NAN"}};if(Ub(n.value))return{unaryFilter:{field:Vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(n.field),op:Qj(n.op),value:n.value}}}(t):t instanceof Kr?function(n){const i=n.getFilters().map(s=>JI(s));return i.length===1?i[0]:{compositeFilter:{op:Jj(n.op),filters:i}}}(t):ke(54877,{filter:t})}function Zj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class pa{constructor(e,n,i,s,o=Fe.min(),u=Fe.min(),h=Dn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class e3{constructor(e){this.yt=e}}function t3(t){const e=Wj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sv(e,e.limit,"L"):e}class n3{constructor(){this.Cn=new i3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Sa.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Sa.min())}updateCollectionGroup(e,n,i){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class i3{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new fn(Ct.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new fn(Ct.comparator)).toArray()}}const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ex=41943040;class ni{static withCacheSize(e){return new ni(e,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(ex,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);class nu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nu(0)}static cr(){return new nu(-1)}}const eA="LruGarbageCollector",r3=1048576;function tA([t,e],[n,i]){const s=it(t,n);return s===0?it(e,i):s}class s3{constructor(e){this.Ir=e,this.buffer=new fn(tA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();tA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a3{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(eA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fu(n)?_e(eA,"Ignoring IndexedDB error during garbage collection: ",n):await hu(n)}await this.Vr(3e5)})}}class o3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(Lm.ce);const i=new s3(n);return this.mr.forEachTarget(e,s=>i.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>i.Ar(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Zb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,s,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,u=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(i=v,h=Date.now(),this.removeTargets(e,i,n))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(d=Date.now(),Ml()<=nt.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v})))}}function l3(t,e){return new o3(t,e)}class u3{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ce.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class c3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class h3{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Hc(i.mutation,s,Ii.empty(),It.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,rt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=rt()){const s=Ao();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let u=Oc();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=Ao();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,rt()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,s){let o=Rs();const u=zc(),h=function(){return zc()}();return n.forEach((f,d)=>{const g=i.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Ma)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Hc(g.mutation,d,g.mutation.getFieldMask(),It.now())):u.set(d.key,Ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),n.forEach((d,g)=>h.set(d,new c3(g,u.get(d)??null))),h))}recalculateAndSaveOverlays(e,n){const i=zc();let s=new kt((u,h)=>u-h),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let g=i.get(f)||Ii.empty();g=h.applyToLocalView(d,g),i.set(f,g);const v=(s.get(h.batchId)||rt()).add(f);s=s.insert(h.batchId,v)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,v=VI();g.forEach(E=>{if(!o.has(E)){const S=FI(n.get(E),i.get(E));S!==null&&v.set(E,S),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,v))}return ce.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):ce.resolve(Ao());let h=th,f=o;return u.next(d=>ce.forEach(d,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?ce.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,rt())).next(g=>({batchId:h,changes:OI(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next(i=>{let s=Oc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let u=Oc();return this.indexManager.getCollectionParents(e,o).next(h=>ce.forEach(h,f=>{const d=function(v,E){return new jm(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(g=>{g.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,kn.newInvalidDocument(g)))});let h=Oc();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Hc(g.mutation,d,Ii.empty(),It.now()),Fm(n,d)&&(h=h.insert(f,d))}),h})}}class f3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Lr(s.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:t3(s.bundledQuery),readTime:Lr(s.readTime)}}(n)),ce.resolve()}}class d3{constructor(){this.overlays=new kt(Me.comparator),this.qr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ao();return ce.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.St(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),ce.resolve()}getOverlaysForCollection(e,n,i){const s=Ao(),o=n.length+1,u=new Me(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return ce.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new kt((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let g=o.get(d.largestBatchId);g===null&&(g=Ao(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Ao(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=s)););return ce.resolve(h)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Pj(n,i));let o=this.qr.get(n);o===void 0&&(o=rt(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}class m3{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class H_{constructor(){this.Qr=new fn(vn.$r),this.Ur=new fn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new vn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new vn(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new Me(new Ct([])),i=new vn(n,e),s=new vn(n,e+1),o=[];return this.Ur.forEachInRange([i,s],u=>{this.Gr(u),o.push(u.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new Ct([])),i=new vn(n,e),s=new vn(n,e+1);let o=rt();return this.Ur.forEachInRange([i,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new vn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class vn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}class p3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new fn(vn.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Dj(o,n,i,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new vn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,n){return ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ei(i),o=s<0?0:s;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?M_:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],u=>{const h=this.Xr(u.Yr);o.push(h)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new fn(it);return n.forEach(s=>{const o=new vn(s,0),u=new vn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],h=>{i=i.add(h.Yr)})}),ce.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;Me.isDocumentKey(o)||(o=o.child(""));const u=new vn(new Me(o),0);let h=new fn(it);return this.Zr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(h=h.add(f.Yr)),!0)},u),ce.resolve(this.ti(h))}ti(e){const n=[];return e.forEach(i=>{const s=this.Xr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ft(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ce.forEach(n.mutations,s=>{const o=new vn(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new vn(n,0),s=this.Zr.firstAfterOrEqual(i);return ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class g3{constructor(e){this.ri=e,this.docs=function(){return new kt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ce.resolve(i?i.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let i=Rs();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():kn.newInvalidDocument(s))}),ce.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Rs();const u=n.path,h=new Me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||q4(H4(g),i)<=0||(s.has(g.key)||Fm(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,i,s){ke(9500)}ii(e,n){return ce.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new y3(this)}getSize(e){return ce.resolve(this.size)}}class y3 extends u3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)}),ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class v3{constructor(e){this.persistence=e,this.si=new Go(n=>L_(n),k_),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new H_,this.targetCount=0,this.ai=nu.ur()}forEachTarget(e,n){return this.si.forEach((i,s)=>n(s)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Pr(n),ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),ce.waitFor(o).next(()=>s)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ce.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ce.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ce.resolve(i)}containsKey(e,n){return ce.resolve(this._i.containsKey(n))}}class tx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lm(0),this.li=!1,this.li=!0,this.hi=new m3,this.referenceDelegate=e(this),this.Pi=new v3(this),this.indexManager=new n3,this.remoteDocumentCache=function(s){return new g3(s)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new e3(n),this.Ii=new f3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new p3(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){_e("MemoryPersistence","Starting transaction:",e);const s=new _3(this.ci.next());return this.referenceDelegate.Ei(),i(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return ce.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class _3 extends K4{constructor(e){super(),this.currentSequenceNumber=e}}class q_{constructor(e){this.persistence=e,this.Ri=new H_,this.Vi=null}static mi(e){return new q_(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ce.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,i=>{const s=Me.fromPath(i);return this.gi(e,s).next(o=>{o||n.removeEntry(s,Fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ce.or([()=>ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rm{constructor(e,n){this.persistence=e,this.pi=new Go(i=>Y4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=l3(this,n)}static mi(e,n){return new rm(e,n)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return ce.forEach(this.pi,(i,s)=>this.br(e,i,s).next(o=>o?ce.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,u=>this.br(e,u,n).next(h=>{h||(i++,o.removeEntry(u,Fe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ed(e.data.value)),n}br(e,n,i){return ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return ce.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class G_{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=s}static As(e,n){let i=rt(),s=rt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new G_(e,n.fromCache,i,s)}}class E3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class T3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qL()?8:$4(Bn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.ys(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ws(e,n,s,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new E3;return this.Ss(e,n,u).next(h=>{if(o.result=h,this.Vs)return this.bs(e,n,u,h.size)})}).next(()=>o.result)}bs(e,n,i,s){return i.documentReadCount<this.fs?(Ml()<=nt.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Ml()<=nt.DEBUG&&_e("QueryEngine","Query:",Ol(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Ml()<=nt.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):ce.resolve())}ys(e,n){if(Hb(n))return ce.resolve(null);let i=Or(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sv(n,null,"F"),i=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=rt(...o);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const d=this.Ds(n,h);return this.Cs(n,d,u,f.readTime)?this.ys(e,Sv(n,null,"F")):this.vs(e,d,n,f)}))})))}ws(e,n,i,s){return Hb(n)||s.isEqual(Fe.min())?ce.resolve(null):this.ps.getDocuments(e,i).next(o=>{const u=this.Ds(n,o);return this.Cs(n,u,i,s)?ce.resolve(null):(Ml()<=nt.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ol(n)),this.vs(e,u,n,z4(s,th)).next(h=>h))})}Ds(e,n){let i=new fn(NI(e));return n.forEach((s,o)=>{Fm(e,o)&&(i=i.add(o))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,i){return Ml()<=nt.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ol(n)),this.ps.getDocumentsMatchingQuery(e,n,Sa.min(),i)}vs(e,n,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}const K_="LocalStore",w3=3e8;class S3{constructor(e,n,i,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new kt(it),this.xs=new Go(o=>L_(o),k_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function b3(t,e,n,i){return new S3(t,e,n,i)}async function nx(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=rt();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(i,f).next(d=>({Ls:d,removedBatchIds:u,addedBatchIds:h}))})})}function A3(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const v=d.batch,E=v.keys();let S=ce.resolve();return E.forEach(b=>{S=S.next(()=>g.getEntry(f,b)).next(O=>{const D=d.docVersions.get(b);ft(D!==null,48541),O.version.compareTo(D)<0&&(v.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),g.addEntry(O)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=rt();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function ix(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function R3(t,e){const n=Ge(t),i=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach((g,v)=>{const E=s.get(v);if(!E)return;h.push(n.Pi.removeMatchingKeys(o,g.removedDocuments,v).next(()=>n.Pi.addMatchingKeys(o,g.addedDocuments,v)));let S=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(Dn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,i)),s=s.insert(v,S),function(O,D,L){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=w3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,S,g)&&h.push(n.Pi.updateTargetData(o,S))});let f=Rs(),d=rt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(C3(o,u,e.documentUpdates).next(g=>{f=g.ks,d=g.qs})),!i.isEqual(Fe.min())){const g=n.Pi.getLastRemoteSnapshotVersion(o).next(v=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(g)}return ce.waitFor(h).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.Ms=s,o))}function C3(t,e,n){let i=rt(),s=rt();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let u=Rs();return n.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Fe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):_e(K_,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{ks:u,qs:s}})}function I3(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=M_),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function x3(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Pi.getTargetData(i,e).next(o=>o?(s=o,ce.resolve(s)):n.Pi.allocateTargetId(i).next(u=>(s=new pa(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Iv(t,e,n){const i=Ge(t),s=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!fu(u))throw u;_e(K_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function nA(t,e,n){const i=Ge(t);let s=Fe.min(),o=rt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const v=Ge(f),E=v.xs.get(g);return E!==void 0?ce.resolve(v.Ms.get(E)):v.Pi.getTargetData(d,g)}(i,u,Or(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,e,n?s:Fe.min(),n?o:rt())).next(h=>(D3(i,pj(e),h),{documents:h,Qs:o})))}function D3(t,e,n){let i=t.Os.get(e)||Fe.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Os.set(e,i)}class iA{constructor(){this.activeTargetIds=Tj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P3{constructor(){this.Mo=new iA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N3{Oo(e){}shutdown(){}}const rA="ConnectivityMonitor";class sA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(rA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(rA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let od=null;function xv(){return od===null?od=function(){return 268435456+Math.round(2147483648*Math.random())}():od++,"0x"+od.toString(16)}const Iy="RestConnection",M3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===Qd?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,n,i,s,o){const u=xv(),h=this.zo(e,n.toUriEncodedString());_e(Iy,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(h),g=lu(d);return this.Jo(e,h,f,i,g).then(v=>(_e(Iy,`Received RPC '${e}' ${u}: `,v),v),v=>{throw Jl(Iy,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Ho(e,n,i,s,o,u){return this.Go(e,n,i,s,o)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const i=M3[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class V3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Vn="WebChannelConnection";class L3 extends O3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,o){const u=xv();return new Promise((h,f)=>{const d=new aI;d.setWithCredentials(!0),d.listenOnce(oI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case _d.NO_ERROR:const v=d.getResponseJson();_e(Vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case _d.TIMEOUT:_e(Vn,`RPC '${e}' ${u} timed out`),f(new Ae(fe.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const E=d.getStatus();if(_e(Vn,`RPC '${e}' ${u} failed with status:`,E,"response text:",d.getResponseText()),E>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S?.error;if(b&&b.status&&b.message){const O=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(H)>=0?H:fe.UNKNOWN}(b.status);f(new Ae(O,b.message))}else f(new Ae(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ae(fe.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Vn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);_e(Vn,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",g,i,15)})}T_(e,n,i){const s=xv(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=cI(),h=uI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const g=o.join("");_e(Vn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=u.createWebChannel(g,f);this.I_(v);let E=!1,S=!1;const b=new V3({Yo:D=>{S?_e(Vn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(E||(_e(Vn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),E=!0),_e(Vn,`RPC '${e}' stream ${s} sending:`,D),v.send(D))},Zo:()=>v.close()}),O=(D,L,H)=>{D.listen(L,k=>{try{H(k)}catch(Z){setTimeout(()=>{throw Z},0)}})};return O(v,Mc.EventType.OPEN,()=>{S||(_e(Vn,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),O(v,Mc.EventType.CLOSE,()=>{S||(S=!0,_e(Vn,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(v))}),O(v,Mc.EventType.ERROR,D=>{S||(S=!0,Jl(Vn,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),b.a_(new Ae(fe.UNAVAILABLE,"The operation could not be completed")))}),O(v,Mc.EventType.MESSAGE,D=>{if(!S){const L=D.data[0];ft(!!L,16349);const H=L,k=H?.error||H[0]?.error;if(k){_e(Vn,`RPC '${e}' stream ${s} received error:`,k);const Z=k.status;let K=function(C){const P=Jt[C];if(P!==void 0)return qI(P)}(Z),N=k.message;K===void 0&&(K=fe.INTERNAL,N="Unknown error status: "+Z+" with message "+k.message),S=!0,b.a_(new Ae(K,N)),v.close()}else _e(Vn,`RPC '${e}' stream ${s} received:`,L),b.u_(L)}}),O(h,lI.STAT_EVENT,D=>{D.stat===yv.PROXY?_e(Vn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===yv.NOPROXY&&_e(Vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function xy(){return typeof document<"u"?document:null}function Gm(t){return new Bj(t,!0)}class rx{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&_e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aA="PersistentStream";class sx{constructor(e,n,i,s,o,u,h,f){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{e(()=>{const s=new Ae(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return _e(aA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(_e(aA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k3 extends sx{constructor(e,n,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Hj(this.serializer,e),i=function(o){if(!("targetChange"in o))return Fe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?Lr(u.readTime):Fe.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Cv(this.serializer),n.addTarget=function(o,u){let h;const f=u.target;if(h=wv(f)?{documents:Kj(o,f)}:{query:$j(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$I(o,u.resumeToken);const d=bv(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=im(o,u.snapshotVersion.toTimestamp());const d=bv(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const i=Yj(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Cv(this.serializer),n.removeTarget=e,this.q_(n)}}class U3 extends sx{constructor(e,n,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Gj(e.writeResults,e.commitTime),i=Lr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Cv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>qj(this.serializer,i))};this.q_(n)}}class j3{}class B3 extends j3{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Go(e,Av(n,i),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(fe.UNKNOWN,o.toString())})}Ho(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,Av(n,i),s,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(fe.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class F3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Uo="RemoteStore";class z3{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{Ko(this)&&(_e(Uo,"Restarting streams for network reachability change."),await async function(f){const d=Ge(f);d.Ea.add(4),await wh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Km(d)}(this))})}),this.Ra=new F3(i,s)}}async function Km(t){if(Ko(t))for(const e of t.da)await e(!0)}async function wh(t){for(const e of t.da)await e(!1)}function ax(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),X_(n)?Y_(n):du(n).O_()&&W_(n,e))}function $_(t,e){const n=Ge(t),i=du(n);n.Ia.delete(e),i.O_()&&ox(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ko(n)&&n.Ra.set("Unknown"))}function W_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).Y_(e)}function ox(t,e){t.Va.Ue(e),du(t).Z_(e)}function Y_(t){t.Va=new Lj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),du(t).start(),t.Ra.ua()}function X_(t){return Ko(t)&&!du(t).x_()&&t.Ia.size>0}function Ko(t){return Ge(t).Ea.size===0}function lx(t){t.Va=void 0}async function H3(t){t.Ra.set("Online")}async function q3(t){t.Ia.forEach((e,n)=>{W_(t,e)})}async function G3(t,e){lx(t),X_(t)?(t.Ra.ha(e),Y_(t)):t.Ra.set("Unknown")}async function K3(t,e,n){if(t.Ra.set("Online"),e instanceof KI&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))}(t,e)}catch(i){_e(Uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await sm(t,i)}else if(e instanceof Sd?t.Va.Ze(e):e instanceof GI?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const i=await ix(t.localStore);n.compareTo(i)>=0&&await function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(Dn.EMPTY_BYTE_STRING,g.snapshotVersion)),ox(o,f);const v=new pa(g.target,f,d,g.sequenceNumber);W_(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){_e(Uo,"Failed to raise snapshot:",i),await sm(t,i)}}async function sm(t,e,n){if(!fu(e))throw e;t.Ea.add(1),await wh(t),t.Ra.set("Offline"),n||(n=()=>ix(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e(Uo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Km(t)})}function ux(t,e){return e().catch(n=>sm(t,n,e))}async function $m(t){const e=Ge(t),n=Ca(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:M_;for(;$3(e);)try{const s=await I3(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,W3(e,s)}catch(s){await sm(e,s)}cx(e)&&hx(e)}function $3(t){return Ko(t)&&t.Ta.length<10}function W3(t,e){t.Ta.push(e);const n=Ca(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cx(t){return Ko(t)&&!Ca(t).x_()&&t.Ta.length>0}function hx(t){Ca(t).start()}async function Y3(t){Ca(t).ra()}async function X3(t){const e=Ca(t);for(const n of t.Ta)e.ea(n.mutations)}async function Q3(t,e,n){const i=t.Ta.shift(),s=B_.from(i,e,n);await ux(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await $m(t)}async function J3(t,e){e&&Ca(t).X_&&await async function(i,s){if(function(u){return Mj(u)&&u!==fe.ABORTED}(s.code)){const o=i.Ta.shift();Ca(i).B_(),await ux(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await $m(i)}}(t,e),cx(t)&&hx(t)}async function oA(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),_e(Uo,"RemoteStore received new credentials");const i=Ko(n);n.Ea.add(3),await wh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Km(n)}async function Z3(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Km(n)):e||(n.Ea.add(2),await wh(n),n.Ra.set("Unknown"))}function du(t){return t.ma||(t.ma=function(n,i,s){const o=Ge(n);return o.sa(),new k3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:H3.bind(null,t),t_:q3.bind(null,t),r_:G3.bind(null,t),H_:K3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),X_(t)?Y_(t):t.Ra.set("Unknown")):(await t.ma.stop(),lx(t))})),t.ma}function Ca(t){return t.fa||(t.fa=function(n,i,s){const o=Ge(n);return o.sa(),new U3(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Y3.bind(null,t),r_:J3.bind(null,t),ta:X3.bind(null,t),na:Q3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await $m(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Uo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}class Q_{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const u=Date.now()+i,h=new Q_(e,n,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J_(t,e){if(bs("AsyncQueue",`${e}: ${t}`),fu(t))return new Ae(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class ql{static emptySet(e){return new ql(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=Oc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ql;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class lA{constructor(){this.ga=new kt(Me.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class iu{constructor(e,n,i,s,o,u,h,f,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,s,o){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new iu(e,n,ql.emptySet(n),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}class eB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class tB{constructor(){this.queries=uA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=Ge(n),o=s.queries;s.queries=uA(),o.forEach((u,h)=>{for(const f of h.Sa)f.onError(i)})})(this,new Ae(fe.ABORTED,"Firestore shutting down"))}}function uA(){return new Go(t=>PI(t),Bm)}async function fx(t,e){const n=Ge(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new eB,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=J_(u,`Initialization of query '${Ol(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Z_(n)}async function dx(t,e){const n=Ge(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function nB(t,e){const n=Ge(t);let i=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(i=!0);u.wa=s}}i&&Z_(n)}function iB(t,e,n){const i=Ge(t),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);i.queries.delete(e)}function Z_(t){t.Ca.forEach(e=>{e.next()})}var Dv,cA;(cA=Dv||(Dv={})).Ma="default",cA.Cache="cache";class mx{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new iu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dv.Cache}}class px{constructor(e){this.key=e}}class gx{constructor(e){this.key=e}}class rB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=NI(e),this.tu=new ql(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new lA,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,v)=>{const E=s.get(g),S=Fm(this.query,v)?v:null,b=!!E&&this.mutatedKeys.has(E.key),O=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;E&&S?E.data.isEqual(S.data)?b!==O&&(i.track({type:3,doc:S}),D=!0):this.su(E,S)||(i.track({type:2,doc:S}),D=!0,(f&&this.eu(S,f)>0||d&&this.eu(S,d)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),D=!0):E&&!S&&(i.track({type:1,doc:E}),D=!0,(f||d)&&(h=!0)),D&&(S?(u=u.add(S),o=O?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((g,v)=>function(S,b){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:D})}};return O(S)-O(b)}(g.type,v.type)||this.eu(g.doc,v.doc)),this.ou(i),s=s??!1;const h=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new iu(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new gx(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new px(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return iu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eE="SyncEngine";class sB{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class aB{constructor(e){this.key=e,this.hu=!1}}class oB{constructor(e,n,i,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Go(h=>PI(h),Bm),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Me.comparator),this.Au=new Map,this.Ru=new H_,this.Vu={},this.mu=new Map,this.fu=nu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lB(t,e,n=!0){const i=wx(t);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await yx(i,e,n,!0),s}async function uB(t,e){const n=wx(t);await yx(n,e,!0,!1)}async function yx(t,e,n,i){const s=await x3(t.localStore,Or(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await cB(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&ax(t.remoteStore,s),h}async function cB(t,e,n,i,s){t.pu=(v,E,S)=>async function(O,D,L,H){let k=D.view.ru(L);k.Cs&&(k=await nA(O.localStore,D.query,!1).then(({documents:I})=>D.view.ru(I,k)));const Z=H&&H.targetChanges.get(D.targetId),K=H&&H.targetMismatches.get(D.targetId)!=null,N=D.view.applyChanges(k,O.isPrimaryClient,Z,K);return fA(O,D.targetId,N.au),N.snapshot}(t,v,E,S);const o=await nA(t.localStore,e,!0),u=new rB(e,o.Qs),h=u.ru(o.documents),f=Th.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),d=u.applyChanges(h,t.isPrimaryClient,f);fA(t,n,d.au);const g=new sB(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function hB(t,e,n){const i=Ge(t),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter(u=>!Bm(u,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Iv(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&$_(i.remoteStore,s.targetId),Pv(i,s.targetId)}).catch(hu)):(Pv(i,s.targetId),await Iv(i.localStore,s.targetId,!0))}async function fB(t,e){const n=Ge(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$_(n.remoteStore,i.targetId))}async function dB(t,e,n){const i=EB(t);try{const s=await function(u,h){const f=Ge(u),d=It.now(),g=h.reduce((S,b)=>S.add(b.key),rt());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let b=Rs(),O=rt();return f.Ns.getEntries(S,g).next(D=>{b=D,b.forEach((L,H)=>{H.isValidDocument()||(O=O.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,b)).next(D=>{v=D;const L=[];for(const H of h){const k=Ij(H,v.get(H.key).overlayedDocument);k!=null&&L.push(new Ma(H.key,k,bI(k.value.mapValue),Vr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,d,L,h)}).next(D=>{E=D;const L=D.applyToLocalDocumentSet(v,O);return f.documentOverlayCache.saveOverlays(S,D.batchId,L)})}).then(()=>({batchId:E.batchId,changes:OI(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new kt(it)),d=d.insert(h,f),u.Vu[u.currentUser.toKey()]=d}(i,s.batchId,n),await Sh(i,s.changes),await $m(i.remoteStore)}catch(s){const o=J_(s,"Failed to persist write");n.reject(o)}}async function vx(t,e){const n=Ge(t);try{const i=await R3(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n.Au.get(o);u&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?ft(u.hu,14607):s.removedDocuments.size>0&&(ft(u.hu,42227),u.hu=!1))}),await Sh(n,i,e)}catch(i){await hu(i)}}function hA(t,e,n){const i=Ge(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ge(u);f.onlineState=h;let d=!1;f.queries.forEach((g,v)=>{for(const E of v.Sa)E.va(h)&&(d=!0)}),d&&Z_(f)}(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function mB(t,e,n){const i=Ge(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new kt(Me.comparator);u=u.insert(o,kn.newNoDocument(o,Fe.min()));const h=rt().add(o),f=new qm(Fe.min(),new Map,new kt(it),u,h);await vx(i,f),i.du=i.du.remove(o),i.Au.delete(e),tE(i)}else await Iv(i.localStore,e,!1).then(()=>Pv(i,e,n)).catch(hu)}async function pB(t,e){const n=Ge(t),i=e.batch.batchId;try{const s=await A3(n.localStore,e);Ex(n,i,null),_x(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Sh(n,s)}catch(s){await hu(s)}}async function gB(t,e,n){const i=Ge(t);try{const s=await function(u,h){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(v=>(ft(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(d,v))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(i.localStore,e);Ex(i,e,n),_x(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Sh(i,s)}catch(s){await hu(s)}}function _x(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ex(t,e,n){const i=Ge(t);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Pv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||Tx(t,i)})}function Tx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tE(t))}function fA(t,e,n){for(const i of n)i instanceof px?(t.Ru.addReference(i.key,e),yB(t,i)):i instanceof gx?(_e(eE,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||Tx(t,i.key)):ke(19791,{wu:i})}function yB(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(_e(eE,"New document in limbo: "+n),t.Eu.add(i),tE(t))}function tE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Ct.fromString(e)),i=t.fu.next();t.Au.set(i,new aB(n)),t.du=t.du.insert(n,i),ax(t.remoteStore,new pa(Or(U_(n.path)),i,"TargetPurposeLimboResolution",Lm.ce))}}async function Sh(t,e,n){const i=Ge(t),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((h,f)=>{u.push(i.pu(f,e,n).then(d=>{if((d||n)&&i.isPrimaryClient){const g=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){s.push(d);const g=G_.As(f.targetId,d);o.push(g)}}))}),await Promise.all(u),i.Pu.H_(s),await async function(f,d){const g=Ge(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ce.forEach(d,E=>ce.forEach(E.Es,S=>g.persistence.referenceDelegate.addReference(v,E.targetId,S)).next(()=>ce.forEach(E.ds,S=>g.persistence.referenceDelegate.removeReference(v,E.targetId,S)))))}catch(v){if(!fu(v))throw v;_e(K_,"Failed to update sequence numbers: "+v)}for(const v of d){const E=v.targetId;if(!v.fromCache){const S=g.Ms.get(E),b=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(b);g.Ms=g.Ms.insert(E,O)}}}(i.localStore,o))}async function vB(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){_e(eE,"User change. New user:",e.toKey());const i=await nx(n.localStore,e);n.currentUser=e,function(o,u){o.mu.forEach(h=>{h.forEach(f=>{f.reject(new Ae(fe.CANCELLED,u))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sh(n,i.Ls)}}function _B(t,e){const n=Ge(t),i=n.Au.get(e);if(i&&i.hu)return rt().add(i.key);{let s=rt();const o=n.Iu.get(e);if(!o)return s;for(const u of o){const h=n.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function wx(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_B.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mB.bind(null,e),e.Pu.H_=nB.bind(null,e.eventManager),e.Pu.yu=iB.bind(null,e.eventManager),e}function EB(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gB.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return b3(this.persistence,new T3,e.initialUser,this.serializer)}Cu(e){return new tx(q_.mi,this.serializer)}Du(e){return new P3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class TB extends am{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ft(this.persistence.referenceDelegate instanceof rm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new a3(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ni.withCacheSize(this.cacheSizeBytes):ni.DEFAULT;return new tx(i=>rm.mi(i,n),this.serializer)}}class Nv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vB.bind(null,this.syncEngine),await Z3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tB}()}createDatastore(e){const n=Gm(e.databaseInfo.databaseId),i=function(o){return new L3(o)}(e.databaseInfo);return function(o,u,h,f){return new B3(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,u,h){return new z3(i,s,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>hA(this.syncEngine,n,0),function(){return sA.v()?new sA:new N3}())}createSyncEngine(e,n){return function(s,o,u,h,f,d,g){const v=new oB(s,o,u,h,f,d);return g&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Ge(n);_e(Uo,"RemoteStore shutting down."),i.Ea.add(5),await wh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Nv.provider={build:()=>new Nv};class Sx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const Ia="FirestoreClient";class wB{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=P_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{_e(Ia,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(_e(Ia,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=J_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Dy(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await nx(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SB(t);_e(Ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>oA(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>oA(e.remoteStore,s)),t._onlineComponents=e}async function SB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Ia,"Using user provided OfflineComponentProvider");try{await Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await Dy(t,new am)}}else _e(Ia,"Using default OfflineComponentProvider"),await Dy(t,new TB(void 0));return t._offlineComponents}async function bx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Ia,"Using user provided OnlineComponentProvider"),await dA(t,t._uninitializedComponentsProvider._online)):(_e(Ia,"Using default OnlineComponentProvider"),await dA(t,new Nv))),t._onlineComponents}function bB(t){return bx(t).then(e=>e.syncEngine)}async function Ax(t){const e=await bx(t),n=e.eventManager;return n.onListen=lB.bind(null,e.syncEngine),n.onUnlisten=hB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fB.bind(null,e.syncEngine),n}function AB(t,e,n={}){const i=new Es;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Sx({next:E=>{g.Nu(),u.enqueueAndForget(()=>dx(o,v));const S=E.docs.has(h);!S&&E.fromCache?d.reject(new Ae(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?d.reject(new Ae(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(E)},error:E=>d.reject(E)}),v=new mx(U_(h.path),g,{includeMetadataChanges:!0,qa:!0});return fx(o,v)}(await Ax(t),t.asyncQueue,e,n,i)),i.promise}function RB(t,e,n={}){const i=new Es;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new Sx({next:E=>{g.Nu(),u.enqueueAndForget(()=>dx(o,v)),E.fromCache&&f.source==="server"?d.reject(new Ae(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(E)},error:E=>d.reject(E)}),v=new mx(h,g,{includeMetadataChanges:!0,qa:!0});return fx(o,v)}(await Ax(t),t.asyncQueue,e,n,i)),i.promise}function Rx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const mA=new Map;const Cx="firestore.googleapis.com",pA=!0;class gA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cx,this.ssl=pA}else this.host=e.host,this.ssl=e.ssl??pA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ex;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r3)throw new Ae(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rx(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wm{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new P4;switch(i.type){case"firstParty":return new V4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ae(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=mA.get(n);i&&(_e("ComponentProvider","Removing Datastore"),mA.delete(n),i.terminate())}(this),Promise.resolve()}}function CB(t,e,n,i={}){t=As(t,Wm);const s=lu(e),o=t._getSettings(),u={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(RC(`https://${h}`),CC("Firestore",!0)),o.host!==Cx&&o.host!==h&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:i};if(!wa(f,u)&&(t._setSettings(f),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Ln.MOCK_USER;else{d=LL(i.mockUserToken,t._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ae(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ln(v)}t._authCredentials=new N4(new fI(d,g))}}class Ym{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ym(this.firestore,e,this._query)}}class nn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}toJSON(){return{type:nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(_h(n,nn._jsonSchema))return new nn(e,i||null,new Me(Ct.fromString(n.referencePath)))}}nn._jsonSchemaVersion="firestore/documentReference/1.0",nn._jsonSchema={type:tn("string",nn._jsonSchemaVersion),referencePath:tn("string")};class _a extends Ym{constructor(e,n,i){super(e,n,U_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Me(e))}withConverter(e){return new _a(this.firestore,e,this._path)}}function nE(t,e,...n){if(t=En(t),dI("collection","path",e),t instanceof Wm){const i=Ct.fromString(e,...n);return Db(i),new _a(t,null,i)}{if(!(t instanceof nn||t instanceof _a))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return Db(i),new _a(t.firestore,null,i)}}function Yi(t,e,...n){if(t=En(t),arguments.length===1&&(e=P_.newId()),dI("doc","path",e),t instanceof Wm){const i=Ct.fromString(e,...n);return xb(i),new nn(t,null,new Me(i))}{if(!(t instanceof nn||t instanceof _a))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return xb(i),new nn(t.firestore,t instanceof _a?t.converter:null,new Me(i))}}const yA="AsyncQueue";class vA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rx(this,"async_queue_retry"),this._c=()=>{const i=xy();i&&_e(yA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=xy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fu(e))throw e;_e(yA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",_A(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Q_.createAndSchedule(this,e,n,i,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&ke(47125,{Pc:_A(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _A(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bh extends Wm{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new vA,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vA(e),this._firestoreClient=void 0,await e}}}function IB(t,e){const n=typeof t=="object"?t:b_(),i=typeof t=="string"?t:Qd,s=qo(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=OL("firestore");o&&CB(s,...o)}return s}function iE(t){if(t._terminated)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xB(t),t._firestoreClient}function xB(t){const e=t._freezeSettings(),n=function(s,o,u,h){return new J4(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Rx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new wB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}}(t._componentsProvider))}class Ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ki(Dn.fromBase64String(e))}catch(n){throw new Ae(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ki(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_h(e,Ki._jsonSchema))return Ki.fromBase64String(e.bytes)}}Ki._jsonSchemaVersion="firestore/bytes/1.0",Ki._jsonSchema={type:tn("string",Ki._jsonSchemaVersion),bytes:tn("string")};class Xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rE{constructor(e){this._methodName=e}}class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(_h(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:tn("string",kr._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};class Ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_h(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ur(e.vectorValues);throw new Ae(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:tn("string",Ur._jsonSchemaVersion),vectorValues:tn("object")};const DB=/^__.*__$/;class PB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eh(e,this.data,n,this.fieldTransforms)}}class Ix{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class sE{constructor(e,n,i,s,o,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return om(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xx(this.Ac)&&DB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NB{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Gm(e)}Cc(e,n,i,s=!1){return new sE({Ac:e,methodName:n,Dc:i,path:xn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dx(t){const e=t._freezeSettings(),n=Gm(t._databaseId);return new NB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MB(t,e,n,i,s,o={}){const u=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);aE("Data must be an object, but it was:",u,i);const h=Px(i,u);let f,d;if(o.merge)f=new Ii(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=Mv(e,v,n);if(!u.contains(E))throw new Ae(fe.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Mx(g,E)||g.push(E)}f=new Ii(g),d=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,d=u.fieldTransforms;return new PB(new ri(h),f,d)}class Qm extends rE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qm}}function OB(t,e,n,i){const s=t.Cc(1,e,n);aE("Data must be an object, but it was:",s,i);const o=[],u=ri.empty();Na(i,(f,d)=>{const g=oE(e,f,n);d=En(d);const v=s.yc(g);if(d instanceof Qm)o.push(g);else{const E=Jm(d,v);E!=null&&(o.push(g),u.set(g,E))}});const h=new Ii(o);return new Ix(u,h,s.fieldTransforms)}function VB(t,e,n,i,s,o){const u=t.Cc(1,e,n),h=[Mv(e,i,n)],f=[s];if(o.length%2!=0)throw new Ae(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Mv(e,o[E])),f.push(o[E+1]);const d=[],g=ri.empty();for(let E=h.length-1;E>=0;--E)if(!Mx(d,h[E])){const S=h[E];let b=f[E];b=En(b);const O=u.yc(S);if(b instanceof Qm)d.push(S);else{const D=Jm(b,O);D!=null&&(d.push(S),g.set(S,D))}}const v=new Ii(d);return new Ix(g,v,u.fieldTransforms)}function Jm(t,e){if(Nx(t=En(t)))return aE("Unsupported field value:",e,t),Px(t,e);if(t instanceof rE)return function(i,s){if(!xx(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,s){const o=[];let u=0;for(const h of i){let f=Jm(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=En(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wj(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=It.fromDate(i);return{timestampValue:im(s.serializer,o)}}if(i instanceof It){const o=new It(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:im(s.serializer,o)}}if(i instanceof kr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ki)return{bytesValue:$I(s.serializer,i._byteString)};if(i instanceof nn){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ur)return function(u,h){return{mapValue:{fields:{[wI]:{stringValue:SI},[Jd]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return j_(h.serializer,d)})}}}}}}(i,s);throw s.Sc(`Unsupported field value: ${N_(i)}`)}(t,e)}function Px(t,e){const n={};return gI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(t,(i,s)=>{const o=Jm(s,e.mc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function Nx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof kr||t instanceof Ki||t instanceof nn||t instanceof rE||t instanceof Ur)}function aE(t,e,n){if(!Nx(n)||!mI(n)){const i=N_(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Mv(t,e,n){if((e=En(e))instanceof Xm)return e._internalPath;if(typeof e=="string")return oE(t,e);throw om("Field path arguments must be of type string or ",t,!1,void 0,n)}const LB=new RegExp("[~\\*/\\[\\]]");function oE(t,e,n){if(e.search(LB)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xm(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function om(t,e,n,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${s}`),f+=")"),new Ae(fe.INVALID_ARGUMENT,h+t+f)}function Mx(t,e){return t.some(n=>n.isEqual(e))}class Ox{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kB extends Ox{data(){return super.data()}}function Vx(t,e){return typeof e=="string"?oE(t,e):e instanceof Xm?e._internalPath:e._delegate._internalPath}function UB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jB{convertValue(e,n="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Na(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertVectorValue(e){const n=e.fields?.[Jd].arrayValue?.values?.map(i=>$t(i.doubleValue));return new Ur(n)}convertGeoPoint(e){return new kr($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Um(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(nh(e));default:return null}}convertTimestamp(e){const n=ba(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);ft(ZI(i),9688,{name:e});const s=new ih(i.get(1),i.get(3)),o=new Me(i.popFirst(5));return s.isEqual(n)||bs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function BB(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends Ox{constructor(e,n,i,s,o,u){super(e,n,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Vx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:tn("string",xo._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};class bd extends xo{data(e={}){return super.data(e)}}class Gl{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Lc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new bd(this._firestore,this._userDataWriter,i.key,i,new Lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new bd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Lc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new bd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Lc(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:FB(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=P_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}function zB(t){t=As(t,nn);const e=As(t.firestore,bh);return AB(iE(e),t._key).then(n=>qB(e,t,n))}Gl._jsonSchemaVersion="firestore/querySnapshot/1.0",Gl._jsonSchema={type:tn("string",Gl._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class Lx extends jB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function lE(t){t=As(t,Ym);const e=As(t.firestore,bh),n=iE(e),i=new Lx(e);return UB(t._query),RB(n,t._query).then(s=>new Gl(e,i,t,s))}function HB(t,e,n){t=As(t,nn);const i=As(t.firestore,bh),s=BB(t.converter,e);return kx(i,[MB(Dx(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Vr.none())])}function jr(t,e,n,...i){t=As(t,nn);const s=As(t.firestore,bh),o=Dx(s);let u;return u=typeof(e=En(e))=="string"||e instanceof Xm?VB(o,"updateDoc",t._key,e,n,i):OB(o,"updateDoc",t._key,e),kx(s,[u.toMutation(t._key,Vr.exists(!0))])}function kx(t,e){return function(i,s){const o=new Es;return i.asyncQueue.enqueueAndForget(async()=>dB(await bB(i),s,o)),o.promise}(iE(t),e)}function qB(t,e,n){const i=n.docs.get(e._key),s=new Lx(t);return new xo(t,s,e._key,i,new Lc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){cu=s})(uu),qr(new vr("firestore",(i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new bh(new M4(i.getProvider("auth-internal")),new L4(u,i.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ae(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(d.options.projectId,g)}(u,s),u);return o={useFetchStreams:n,...o},h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Wi(Ab,Rb,e),Wi(Ab,Rb,"esm2020")})();function Ux(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GB=Ux,jx=new Ho("auth","Firebase",Ux());const lm=new Mm("@firebase/auth");function KB(t,...e){lm.logLevel<=nt.WARN&&lm.warn(`Auth (${uu}): ${t}`,...e)}function Ad(t,...e){lm.logLevel<=nt.ERROR&&lm.error(`Auth (${uu}): ${t}`,...e)}function _r(t,...e){throw uE(t,...e)}function Br(t,...e){return uE(t,...e)}function Bx(t,e,n){const i={...GB(),[e]:n};return new Ho("auth","Firebase",i).create(e,{appName:t.name})}function Ts(t){return Bx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uE(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jx.create(t,...e)}function Le(t,e,...n){if(!t)throw uE(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ad(e),new Error(e)}function Cs(t,e){t||gs(e)}function Ov(){return typeof self<"u"&&self.location?.href||""}function $B(){return EA()==="http:"||EA()==="https:"}function EA(){return typeof self<"u"&&self.location?.protocol||null}function WB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($B()||IC()||"connection"in navigator)?navigator.onLine:!0}function YB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ah{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cs(n>e,"Short delay should be less than long delay!"),this.isMobile=jL()||zL()}get(){return WB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cE(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Fx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JB=new Ah(3e4,6e4);function Oa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Va(t,e,n,i,s={}){return zx(t,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=vh({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...o};return FL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&lu(t.emulatorConfig.host)&&(d.credentials="include"),Fx.fetch()(await Hx(t,t.config.apiHost,n,h),d)})}async function zx(t,e,n){t._canInitEmulator=!1;const i={...XB,...e};try{const s=new e6(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw ld(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw ld(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw ld(t,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Bx(t,g,d);_r(t,g)}}catch(s){if(s instanceof Tr)throw s;_r(t,"network-request-failed",{message:String(s)})}}async function Rh(t,e,n,i,s={}){const o=await Va(t,e,n,i,s);return"mfaPendingCredential"in o&&_r(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Hx(t,e,n,i){const s=`${e}${n}?${i}`,o=t,u=o.config.emulator?cE(t.config,s):`${t.config.apiScheme}://${s}`;return QB.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function ZB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Br(this.auth,"network-request-failed")),JB.get())})}}function ld(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Br(t,e,i);return s.customData._tokenResponse=n,s}function TA(t){return t!==void 0&&t.enterprise!==void 0}class t6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n6(t,e){return Va(t,"GET","/v2/recaptchaConfig",Oa(t,e))}async function i6(t,e){return Va(t,"POST","/v1/accounts:delete",e)}async function um(t,e){return Va(t,"POST","/v1/accounts:lookup",e)}function qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r6(t,e=!1){const n=En(t),i=await n.getIdToken(e),s=hE(i);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:i,authTime:qc(Py(s.auth_time)),issuedAtTime:qc(Py(s.iat)),expirationTime:qc(Py(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Py(t){return Number(t)*1e3}function hE(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const s=wC(n);return s?JSON.parse(s):(Ad("Failed to decode base64 JWT payload"),null)}catch(s){return Ad("Caught error parsing JWT payload as JSON",s?.toString()),null}}function wA(t){const e=hE(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oh(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Tr&&s6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function s6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cm(t){const e=t.auth,n=await t.getIdToken(),i=await oh(t,um(e,{idToken:n}));Le(i?.users.length,e,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=s.providerUserInfo?.length?qx(s.providerUserInfo):[],u=l6(t.providerData,o),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!u?.length,d=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Vv(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,g)}async function o6(t){const e=En(t);await cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function qx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function u6(t,e){const n=await zx(t,{},async()=>{const i=vh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await Hx(t,s,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&lu(t.emulatorConfig.host)&&(f.credentials="include"),Fx.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c6(t,e){return Va(t,"POST","/v2/accounts:revokeToken",Oa(t,e))}class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=wA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await u6(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,u=new Kl;return i&&(Le(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(Le(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Le(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return gs("not implemented")}}function sa(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor({uid:e,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Vv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oh(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r6(this,e)}reload(){return o6(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await cm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await oh(this,i6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,s=n.email??void 0,o=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:S,providerData:b,stsTokenManager:O}=n;Le(v&&O,e,"internal-error");const D=Kl.fromJSON(this.name,O);Le(typeof v=="string",e,"internal-error"),sa(i,e.name),sa(s,e.name),Le(typeof E=="boolean",e,"internal-error"),Le(typeof S=="boolean",e,"internal-error"),sa(o,e.name),sa(u,e.name),sa(h,e.name),sa(f,e.name),sa(d,e.name),sa(g,e.name);const L=new yr({uid:v,auth:e,email:s,emailVerified:E,displayName:i,isAnonymous:S,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:D,createdAt:d,lastLoginAt:g});return b&&Array.isArray(b)&&(L.providerData=b.map(H=>({...H}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(e,n,i=!1){const s=new Kl;s.updateFromServerResponse(n);const o=new yr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await cm(o),o}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];Le(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?qx(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new Kl;h.updateFromIdToken(i);const f=new yr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Vv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const SA=new Map;function ys(t){Cs(t instanceof Function,"Expected a class definition");let e=SA.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SA.set(t,e),e)}class Gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gx.type="NONE";const bA=Gx;function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class $l{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Rd(this.userKey,s.apiKey,o),this.fullPersistenceKey=Rd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await um(this.auth,{idToken:e}).catch(()=>{});return n?yr._fromGetAccountInfoResponse(this.auth,n,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $l(ys(bA),e,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||ys(bA);const u=Rd(i,e.config.apiKey,e.name);let h=null;for(const d of n)try{const g=await d._get(u);if(g){let v;if(typeof g=="string"){const E=await um(e,{idToken:g}).catch(()=>{});if(!E)break;v=await yr._fromGetAccountInfoResponse(e,E,g)}else v=yr._fromJSON(e,g);d!==o&&(h=v),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new $l(o,e,i):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new $l(o,e,i))}}function AA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qx(e))return"Blackberry";if(Jx(e))return"Webos";if($x(e))return"Safari";if((e.includes("chrome/")||Wx(e))&&!e.includes("edge/"))return"Chrome";if(Xx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Kx(t=Bn()){return/firefox\//i.test(t)}function $x(t=Bn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wx(t=Bn()){return/crios\//i.test(t)}function Yx(t=Bn()){return/iemobile/i.test(t)}function Xx(t=Bn()){return/android/i.test(t)}function Qx(t=Bn()){return/blackberry/i.test(t)}function Jx(t=Bn()){return/webos/i.test(t)}function fE(t=Bn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h6(t=Bn()){return fE(t)&&!!window.navigator?.standalone}function f6(){return HL()&&document.documentMode===10}function Zx(t=Bn()){return fE(t)||Xx(t)||Jx(t)||Qx(t)||/windows phone/i.test(t)||Yx(t)}function eD(t,e=[]){let n;switch(t){case"Browser":n=AA(Bn());break;case"Worker":n=`${AA(Bn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${i}`}class d6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function m6(t,e={}){return Va(t,"GET","/v2/passwordPolicy",Oa(t,e))}const p6=6;class g6{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class y6{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RA(this),this.idTokenSubscription=new RA(this),this.beforeStateQueue=new d6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await um(this,{idToken:e}),i=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gi(this.app))return Promise.reject(Ts(this));const n=e?En(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gi(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m6(this),n=new g6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ho("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await c6(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Gi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KB(`Error while retrieving App Check token: ${e.error}`),e?.token}}function $o(t){return En(t)}class RA{constructor(e){this.auth=e,this.observer=null,this.addObserver=XL(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(t){Zm=t}function tD(t){return Zm.loadJS(t)}function _6(){return Zm.recaptchaEnterpriseScript}function E6(){return Zm.gapiScript}function T6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class w6{constructor(){this.enterprise=new S6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class S6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const b6="recaptcha-enterprise",nD="NO_RECAPTCHA";class A6{constructor(e){this.type=b6,this.auth=$o(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{n6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new t6(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function s(o,u,h){const f=window.grecaptcha;TA(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(nD)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new w6().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!n&&TA(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=_6();f.length!==0&&(f+=h),tD(f).then(()=>{s(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function CA(t,e,n,i=!1,s=!1){const o=new A6(t);let u;if(s)u=nD;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Lv(t,e,n,i,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await CA(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await CA(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(o)})}function R6(t,e){const n=qo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(wa(o,e??{}))return s;_r(s,"already-initialized")}return n.initialize({options:e})}function C6(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function I6(t,e,n){const i=$o(t);Le(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,o=iD(e),{host:u,port:h}=x6(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Le(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Le(wa(d,i.config.emulator)&&wa(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,lu(u)?(RC(`${o}//${u}${f}`),CC("Auth",!0)):D6()}function iD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function x6(t){const e=iD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:IA(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:IA(u)}}}function IA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class dE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function P6(t,e){return Va(t,"POST","/v1/accounts:signUp",e)}async function N6(t,e){return Rh(t,"POST","/v1/accounts:signInWithPassword",Oa(t,e))}async function M6(t,e){return Rh(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}async function O6(t,e){return Rh(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}class lh extends dE{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new lh(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new lh(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,n,"signInWithPassword",N6);case"emailLink":return M6(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,i,"signUpPassword",P6);case"emailLink":return O6(e,{idToken:n,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Wl(t,e){return Rh(t,"POST","/v1/accounts:signInWithIdp",Oa(t,e))}const V6="http://localhost";class jo extends dE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=n;if(!i||!s)return null;const u=new jo(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Wl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Wl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wl(e,n)}buildRequest(){const e={requestUri:V6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vh(n)}return e}}function L6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k6(t){const e=Pc(Nc(t)).link,n=e?Pc(Nc(e)).deep_link_id:null,i=Pc(Nc(t)).deep_link_id;return(i?Pc(Nc(i)).link:null)||i||n||e||t}class mE{constructor(e){const n=Pc(Nc(e)),i=n.apiKey??null,s=n.oobCode??null,o=L6(n.mode??null);Le(i&&s&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=k6(e);try{return new mE(n)}catch{return null}}}class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,n){return lh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=mE.parseLink(n);return Le(i,"argument-error"),lh._fromEmailAndCode(e,i.code,i.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ch extends rD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ha extends Ch{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";class fa extends Ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jo._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return fa.credential(n,i)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";class da extends Ch{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";class ma extends Ch{constructor(){super("twitter.com")}static credential(e,n){return jo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ma.credential(n,i)}catch{return null}}}ma.TWITTER_SIGN_IN_METHOD="twitter.com";ma.PROVIDER_ID="twitter.com";async function U6(t,e){return Rh(t,"POST","/v1/accounts:signUp",Oa(t,e))}class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const o=await yr._fromIdTokenResponse(e,i,s),u=xA(i);return new Bo({user:o,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=xA(i);return new Bo({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function xA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class hm extends Tr{constructor(e,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,hm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new hm(e,n,i,s)}}function sD(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hm._fromErrorAndOperation(t,o,e,i):o})}async function j6(t,e,n=!1){const i=await oh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bo._forOperation(t,"link",i)}async function B6(t,e,n=!1){const{auth:i}=t;if(Gi(i.app))return Promise.reject(Ts(i));const s="reauthenticate";try{const o=await oh(t,sD(i,s,e,t),n);Le(o.idToken,i,"internal-error");const u=hE(o.idToken);Le(u,i,"internal-error");const{sub:h}=u;return Le(t.uid===h,i,"user-mismatch"),Bo._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&_r(i,"user-mismatch"),o}}async function aD(t,e,n=!1){if(Gi(t.app))return Promise.reject(Ts(t));const i="signIn",s=await sD(t,i,e),o=await Bo._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(o.user),o}async function F6(t,e){return aD($o(t),e)}async function oD(t){const e=$o(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z6(t,e,n){if(Gi(t.app))return Promise.reject(Ts(t));const i=$o(t),u=await Lv(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U6).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&oD(t),f}),h=await Bo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function H6(t,e,n){return Gi(t.app)?Promise.reject(Ts(t)):F6(En(t),mu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&oD(t),i})}function q6(t,e,n,i){return En(t).onIdTokenChanged(e,n,i)}function G6(t,e,n){return En(t).beforeAuthStateChanged(e,n)}function K6(t,e,n,i){return En(t).onAuthStateChanged(e,n,i)}const fm="__sak";class lD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $6=1e3,W6=10;class uD extends lD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Zx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);f6()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,W6):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},$6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uD.type="LOCAL";const Y6=uD;class cD extends lD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cD.type="SESSION";const hD=cD;function X6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ep{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ep(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(u).map(async d=>d(n.origin,o)),f=await X6(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ep.receivers=[];function pE(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class Q6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=pE("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===d)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Fr(){return window}function J6(t){Fr().location.href=t}function fD(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function Z6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e9(){return navigator?.serviceWorker?.controller||null}function t9(){return fD()?self:null}const dD="firebaseLocalStorageDb",n9=1,dm="firebaseLocalStorage",mD="fbase_key";class Ih{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tp(t,e){return t.transaction([dm],e?"readwrite":"readonly").objectStore(dm)}function i9(){const t=indexedDB.deleteDatabase(dD);return new Ih(t).toPromise()}function kv(){const t=indexedDB.open(dD,n9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(dm,{keyPath:mD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(dm)?e(i):(i.close(),await i9(),e(await kv()))})})}async function DA(t,e,n){const i=tp(t,!0).put({[mD]:e,value:n});return new Ih(i).toPromise()}async function r9(t,e){const n=tp(t,!1).get(e),i=await new Ih(n).toPromise();return i===void 0?null:i.value}function PA(t,e){const n=tp(t,!0).delete(e);return new Ih(n).toPromise()}const s9=800,a9=3;class pD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>a9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ep._getInstance(t9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Z6(),!this.activeServiceWorker)return;this.sender=new Q6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kv();return await DA(e,fm,"1"),await PA(e,fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>DA(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>r9(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=tp(s,!1).getAll();return new Ih(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pD.type="LOCAL";const o9=pD;new Ah(3e4,6e4);function l9(t,e){return e?ys(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gE extends dE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u9(t){return aD(t.auth,new gE(t),t.bypassAuthState)}function c9(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),B6(n,new gE(t),t.bypassAuthState)}async function h9(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),j6(n,new gE(t),t.bypassAuthState)}class gD{constructor(e,n,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u9;case"linkViaPopup":case"linkViaRedirect":return h9;case"reauthViaPopup":case"reauthViaRedirect":return c9;default:_r(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const f9=new Ah(2e3,1e4);class kl extends gD{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,kl.currentPopupAction&&kl.currentPopupAction.cancel(),kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=pE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f9.get())};e()}}kl.currentPopupAction=null;const d9="pendingRedirect",Cd=new Map;class m9 extends gD{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const i=await p9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p9(t,e){const n=v9(e),i=y9(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function g9(t,e){Cd.set(t._key(),e)}function y9(t){return ys(t._redirectPersistence)}function v9(t){return Rd(d9,t.config.apiKey,t.name)}async function _9(t,e,n=!1){if(Gi(t.app))return Promise.reject(Ts(t));const i=$o(t),s=l9(i,e),u=await new m9(i,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const E9=600*1e3;class T9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yD(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E9&&this.cachedEventUids.clear(),this.cachedEventUids.has(NA(e))}saveEventToCache(e){this.cachedEventUids.add(NA(e)),this.lastProcessedEventTime=Date.now()}}function NA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function w9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yD(t);default:return!1}}async function S9(t,e={}){return Va(t,"GET","/v1/projects",e)}const b9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A9=/^https?/;async function R9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S9(t);for(const n of e)try{if(C9(n))return}catch{}_r(t,"unauthorized-domain")}function C9(t){const e=Ov(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!A9.test(n))return!1;if(b9.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const I9=new Ah(3e4,6e4);function MA(){const t=Fr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x9(t){return new Promise((e,n)=>{function i(){MA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MA(),n(Br(t,"network-request-failed"))},timeout:I9.get()})}if(Fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fr().gapi?.load)i();else{const s=T6("iframefcb");return Fr()[s]=()=>{gapi.load?i():n(Br(t,"network-request-failed"))},tD(`${E6()}?onload=${s}`).catch(o=>n(o))}}).catch(e=>{throw Id=null,e})}let Id=null;function D9(t){return Id=Id||x9(t),Id}const P9=new Ah(5e3,15e3),N9="__/auth/iframe",M9="emulator/auth/iframe",O9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L9(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cE(e,M9):`https://${t.config.authDomain}/${N9}`,i={apiKey:e.apiKey,appName:t.name,v:uu},s=V9.get(t.config.apiHost);s&&(i.eid=s);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${vh(i).slice(1)}`}async function k9(t){const e=await D9(t),n=Fr().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:L9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O9,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=Br(t,"network-request-failed"),h=Fr().setTimeout(()=>{o(u)},P9.get());function f(){Fr().clearTimeout(h),s(i)}i.ping(f).then(f,()=>{o(u)})}))}const U9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j9=500,B9=600,F9="_blank",z9="http://localhost";class OA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H9(t,e,n,i=j9,s=B9){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...U9,width:i.toString(),height:s.toString(),top:o,left:u},d=Bn().toLowerCase();n&&(h=Wx(d)?F9:n),Kx(d)&&(e=e||z9,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[S,b])=>`${E}${S}=${b},`,"");if(h6(d)&&h!=="_self")return q9(e||"",h),new OA(null);const v=window.open(e||"",h,g);Le(v,t,"popup-blocked");try{v.focus()}catch{}return new OA(v)}function q9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const G9="__/auth/handler",K9="emulator/auth/handler",$9=encodeURIComponent("fac");async function VA(t,e,n,i,s,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:uu,eventId:s};if(e instanceof rD){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",YL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof Ch){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),d=f?`#${$9}=${encodeURIComponent(f)}`:"";return`${W9(t)}?${vh(h).slice(1)}${d}`}function W9({config:t}){return t.emulator?cE(t,K9):`https://${t.authDomain}/${G9}`}const Ny="webStorageSupport";class Y9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hD,this._completeRedirectFn=_9,this._overrideRedirectResult=g9}async _openPopup(e,n,i,s){Cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await VA(e,n,i,Ov(),s);return H9(e,o,pE())}async _openRedirect(e,n,i,s){await this._originValidation(e);const o=await VA(e,n,i,Ov(),s);return J6(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Cs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await k9(e),i=new T9(e);return n.register("authEvent",s=>(Le(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ny,{type:Ny},s=>{const o=s?.[0]?.[Ny];o!==void 0&&n(!!o),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zx()||$x()||fE()}}const X9=Y9;var LA="@firebase/auth",kA="1.11.0";class Q9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function J9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z9(t){qr(new vr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eD(t)},d=new y6(i,s,o,f);return C6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qr(new vr("auth-internal",e=>{const n=$o(e.getProvider("auth").getImmediate());return(i=>new Q9(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(LA,kA,J9(t)),Wi(LA,kA,"esm2020")}const eF=300,tF=AC("authIdTokenMaxAge")||eF;let UA=null;const nF=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tF)return;const s=n?.token;UA!==s&&(UA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iF(t=b_()){const e=qo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R6(t,{popupRedirectResolver:X9,persistence:[o9,Y6,hD]}),i=AC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const u=nF(o.toString());G6(n,u,()=>u(n.currentUser)),q6(n,h=>u(h))}}const s=SC("auth");return s&&I6(n,`http://${s}`),n}function rF(){return document.getElementsByTagName("head")?.[0]??document}v6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const o=Br("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",rF().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z9("Browser");const sF={apiKey:"AIzaSyDHOq__gt6HEkEkCDfxquDCpSheirR5qEA",authDomain:"bingelog-e89f5.firebaseapp.com",projectId:"bingelog-e89f5",storageBucket:"bingelog-e89f5.firebasestorage.app",messagingSenderId:"1027526846013",appId:"1:1027526846013:web:ac40efa1ca0b6c4e50ec54",measurementId:"G-N05RJMX3YG"},yE=OC(sF);C4(yE);const Xn=IB(yE),vE=iF(yE),aF="_mainWrapper_9jvga_1",oF={mainWrapper:aF};function lF(){return R.jsxs("main",{className:oF.mainWrapper,children:[R.jsx("h1",{children:"What's BingeLog?"}),R.jsx("p",{children:"Netflix. Max. Hulu. Disney+. Crunchyroll. The age of streaming is a mishmash of different sources of entertainment with monthly new releases. Do you have the time to watch everything? Can you even keep track of it all? Welcome to BingeLog. Toss all your the shows and movies you still need to watch or catch up on into a list. Keep track of each and every episode and share with friends live updates so they dont spoil what happens two episodes from now in that big final episode of the season. Be as detailed as you want. Track entire characters and their arcs. Settings. Plot points. Make notes for each episode."}),R.jsx(ps,{to:"/about",children:R.jsx("h2",{children:"Click here to learn more"})}),R.jsx("br",{})]})}const _E=V.createContext({});function EE(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const TE=typeof window<"u",vD=TE?V.useLayoutEffect:V.useEffect,np=V.createContext(null);function wE(t,e){t.indexOf(e)===-1&&t.push(e)}function SE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Is=(t,e,n)=>n>e?e:n<t?t:n;let bE=()=>{};const xs={},_D=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ED(t){return typeof t=="object"&&t!==null}const TD=t=>/^0[^.\s]+$/u.test(t);function AE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xi=t=>t,uF=(t,e)=>n=>e(t(n)),xh=(...t)=>t.reduce(uF),uh=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class RE{constructor(){this.subscriptions=[]}add(e){return wE(this.subscriptions,e),()=>SE(this.subscriptions,e)}notify(e,n,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zr=t=>t*1e3,$i=t=>t/1e3;function wD(t,e){return e?t*(1e3/e):0}const SD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cF=1e-7,hF=12;function fF(t,e,n,i,s){let o,u,h=0;do u=e+(n-e)/2,o=SD(u,i,s)-t,o>0?n=u:e=u;while(Math.abs(o)>cF&&++h<hF);return u}function Dh(t,e,n,i){if(t===e&&n===i)return Xi;const s=o=>fF(o,0,1,t,n);return o=>o===0||o===1?o:SD(s(o),e,i)}const bD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AD=t=>e=>1-t(1-e),RD=Dh(.33,1.53,.69,.99),CE=AD(RD),CD=bD(CE),ID=t=>(t*=2)<1?.5*CE(t):.5*(2-Math.pow(2,-10*(t-1))),IE=t=>1-Math.sin(Math.acos(t)),xD=AD(IE),DD=bD(IE),dF=Dh(.42,0,1,1),mF=Dh(0,0,.58,1),PD=Dh(.42,0,.58,1),pF=t=>Array.isArray(t)&&typeof t[0]!="number",ND=t=>Array.isArray(t)&&typeof t[0]=="number",gF={linear:Xi,easeIn:dF,easeInOut:PD,easeOut:mF,circIn:IE,circInOut:DD,circOut:xD,backIn:CE,backInOut:CD,backOut:RD,anticipate:ID},yF=t=>typeof t=="string",jA=t=>{if(ND(t)){bE(t.length===4);const[e,n,i,s]=t;return Dh(e,n,i,s)}else if(yF(t))return gF[t];return t},ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vF(t,e){let n=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),t()),g(h)}const d={schedule:(g,v=!1,E=!1)=>{const b=E&&s?n:i;return v&&u.add(g),b.has(g)||b.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,s){o=!0;return}s=!0,[n,i]=[i,n],n.forEach(f),n.clear(),s=!1,o&&(o=!1,d.process(g))}};return d}const _F=40;function MD(t,e){let n=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=ud.reduce((k,Z)=>(k[Z]=vF(o),k),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:v,preRender:E,render:S,postRender:b}=u,O=()=>{const k=xs.useManualTiming?s.timestamp:performance.now();n=!1,xs.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(k-s.timestamp,_F),1)),s.timestamp=k,s.isProcessing=!0,h.process(s),f.process(s),d.process(s),g.process(s),v.process(s),E.process(s),S.process(s),b.process(s),s.isProcessing=!1,n&&e&&(i=!1,t(O))},D=()=>{n=!0,i=!0,s.isProcessing||t(O)};return{schedule:ud.reduce((k,Z)=>{const K=u[Z];return k[Z]=(N,I=!1,C=!1)=>(n||D(),K.schedule(N,I,C)),k},{}),cancel:k=>{for(let Z=0;Z<ud.length;Z++)u[ud[Z]].cancel(k)},state:s,steps:u}}const{schedule:Nt,cancel:xa,state:Cn,steps:My}=MD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xi,!0);let xd;function EF(){xd=void 0}const si={now:()=>(xd===void 0&&si.set(Cn.isProcessing||xs.useManualTiming?Cn.timestamp:performance.now()),xd),set:t=>{xd=t,queueMicrotask(EF)}},OD=t=>e=>typeof e=="string"&&e.startsWith(t),VD=OD("--"),TF=OD("var(--"),xE=t=>TF(t)?wF.test(t.split("/*")[0].trim()):!1,wF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ch={...pu,transform:t=>Is(0,1,t)},cd={...pu,default:1},Gc=t=>Math.round(t*1e5)/1e5,DE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SF(t){return t==null}const bF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,PE=(t,e)=>n=>!!(typeof n=="string"&&bF.test(n)&&n.startsWith(t)||e&&!SF(n)&&Object.prototype.hasOwnProperty.call(n,e)),LD=(t,e,n)=>i=>{if(typeof i!="string")return i;const[s,o,u,h]=i.match(DE);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},AF=t=>Is(0,255,t),Oy={...pu,transform:t=>Math.round(AF(t))},Ro={test:PE("rgb","red"),parse:LD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Oy.transform(t)+", "+Oy.transform(e)+", "+Oy.transform(n)+", "+Gc(ch.transform(i))+")"};function RF(t){let e="",n="",i="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Uv={test:PE("#"),parse:RF,transform:Ro.transform},Ph=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),la=Ph("deg"),Hr=Ph("%"),je=Ph("px"),CF=Ph("vh"),IF=Ph("vw"),BA={...Hr,parse:t=>Hr.parse(t)/100,transform:t=>Hr.transform(t*100)},Ul={test:PE("hsl","hue"),parse:LD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Hr.transform(Gc(e))+", "+Hr.transform(Gc(n))+", "+Gc(ch.transform(i))+")"},en={test:t=>Ro.test(t)||Uv.test(t)||Ul.test(t),parse:t=>Ro.test(t)?Ro.parse(t):Ul.test(t)?Ul.parse(t):Uv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ro.transform(t):Ul.transform(t),getAnimatableNone:t=>{const e=en.parse(t);return e.alpha=0,en.transform(e)}},xF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DF(t){return isNaN(t)&&typeof t=="string"&&(t.match(DE)?.length||0)+(t.match(xF)?.length||0)>0}const kD="number",UD="color",PF="var",NF="var(",FA="${}",MF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hh(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},s=[];let o=0;const h=e.replace(MF,f=>(en.test(f)?(i.color.push(o),s.push(UD),n.push(en.parse(f))):f.startsWith(NF)?(i.var.push(o),s.push(PF),n.push(f)):(i.number.push(o),s.push(kD),n.push(parseFloat(f))),++o,FA)).split(FA);return{values:n,split:h,indexes:i,types:s}}function jD(t){return hh(t).values}function BD(t){const{split:e,types:n}=hh(t),i=e.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],s[u]!==void 0){const h=n[u];h===kD?o+=Gc(s[u]):h===UD?o+=en.transform(s[u]):o+=s[u]}return o}}const OF=t=>typeof t=="number"?0:en.test(t)?en.getAnimatableNone(t):t;function VF(t){const e=jD(t);return BD(t)(e.map(OF))}const Da={test:DF,parse:jD,createTransformer:BD,getAnimatableNone:VF};function Vy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LF({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let s=0,o=0,u=0;if(!e)s=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;s=Vy(f,h,t+1/3),o=Vy(f,h,t),u=Vy(f,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function mm(t,e){return n=>n>0?e:t}const Lt=(t,e,n)=>t+(e-t)*n,Ly=(t,e,n)=>{const i=t*t,s=n*(e*e-i)+i;return s<0?0:Math.sqrt(s)},kF=[Uv,Ro,Ul],UF=t=>kF.find(e=>e.test(t));function zA(t){const e=UF(t);if(!e)return!1;let n=e.parse(t);return e===Ul&&(n=LF(n)),n}const HA=(t,e)=>{const n=zA(t),i=zA(e);if(!n||!i)return mm(t,e);const s={...n};return o=>(s.red=Ly(n.red,i.red,o),s.green=Ly(n.green,i.green,o),s.blue=Ly(n.blue,i.blue,o),s.alpha=Lt(n.alpha,i.alpha,o),Ro.transform(s))},jv=new Set(["none","hidden"]);function jF(t,e){return jv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BF(t,e){return n=>Lt(t,e,n)}function NE(t){return typeof t=="number"?BF:typeof t=="string"?xE(t)?mm:en.test(t)?HA:HF:Array.isArray(t)?FD:typeof t=="object"?en.test(t)?HA:FF:mm}function FD(t,e){const n=[...t],i=n.length,s=t.map((o,u)=>NE(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)n[u]=s[u](o);return n}}function FF(t,e){const n={...t,...e},i={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(i[s]=NE(t[s])(t[s],e[s]));return s=>{for(const o in i)n[o]=i[o](s);return n}}function zF(t,e){const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],u=t.indexes[o][i[o]],h=t.values[u]??0;n[s]=h,i[o]++}return n}const HF=(t,e)=>{const n=Da.createTransformer(e),i=hh(t),s=hh(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?jv.has(t)&&!s.values.length||jv.has(e)&&!i.values.length?jF(t,e):xh(FD(zF(i,s),s.values),n):mm(t,e)};function zD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Lt(t,e,n):NE(t)(t,e)}const qF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Nt.update(e,n),stop:()=>xa(e),now:()=>Cn.isProcessing?Cn.timestamp:si.now()}},HD=(t,e,n=10)=>{let i="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)i+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},pm=2e4;function ME(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<pm;)e+=n,i=t.next(e);return e>=pm?1/0:e}function GF(t,e=100,n){const i=n({...t,keyframes:[0,e]}),s=Math.min(ME(i),pm);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:$i(s)}}const KF=5;function qD(t,e,n){const i=Math.max(e-KF,0);return wD(n-t(i),e-i)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ky=.001;function $F({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:n=Ft.velocity,mass:i=Ft.mass}){let s,o,u=1-e;u=Is(Ft.minDamping,Ft.maxDamping,u),t=Is(Ft.minDuration,Ft.maxDuration,$i(t)),u<1?(s=d=>{const g=d*u,v=g*t,E=g-n,S=Bv(d,u),b=Math.exp(-v);return ky-E/S*b},o=d=>{const v=d*u*t,E=v*n+n,S=Math.pow(u,2)*Math.pow(d,2)*t,b=Math.exp(-v),O=Bv(Math.pow(d,2),u);return(-s(d)+ky>0?-1:1)*((E-S)*b)/O}):(s=d=>{const g=Math.exp(-d*t),v=(d-n)*t+1;return-ky+g*v},o=d=>{const g=Math.exp(-d*t),v=(n-d)*(t*t);return g*v});const h=5/t,f=YF(s,o,h);if(t=zr(t),isNaN(f))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const d=Math.pow(f,2)*i;return{stiffness:d,damping:u*2*Math.sqrt(i*d),duration:t}}}const WF=12;function YF(t,e,n){let i=n;for(let s=1;s<WF;s++)i=i-t(i)/e(i);return i}function Bv(t,e){return t*Math.sqrt(1-e*e)}const XF=["duration","bounce"],QF=["stiffness","damping","mass"];function qA(t,e){return e.some(n=>t[n]!==void 0)}function JF(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!qA(t,QF)&&qA(t,XF))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),s=i*i,o=2*Is(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ft.mass,stiffness:s,damping:o}}else{const n=$F(t);e={...e,...n,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function gm(t=Ft.visualDuration,e=Ft.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:s}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:v,velocity:E,isResolvedFromDuration:S}=JF({...n,velocity:-$i(n.velocity||0)}),b=E||0,O=d/(2*Math.sqrt(f*g)),D=u-o,L=$i(Math.sqrt(f/g)),H=Math.abs(D)<5;i||(i=H?Ft.restSpeed.granular:Ft.restSpeed.default),s||(s=H?Ft.restDelta.granular:Ft.restDelta.default);let k;if(O<1){const K=Bv(L,O);k=N=>{const I=Math.exp(-O*L*N);return u-I*((b+O*L*D)/K*Math.sin(K*N)+D*Math.cos(K*N))}}else if(O===1)k=K=>u-Math.exp(-L*K)*(D+(b+L*D)*K);else{const K=L*Math.sqrt(O*O-1);k=N=>{const I=Math.exp(-O*L*N),C=Math.min(K*N,300);return u-I*((b+O*L*D)*Math.sinh(C)+K*D*Math.cosh(C))/K}}const Z={calculatedDuration:S&&v||null,next:K=>{const N=k(K);if(S)h.done=K>=v;else{let I=K===0?b:0;O<1&&(I=K===0?zr(b):qD(k,K,N));const C=Math.abs(I)<=i,P=Math.abs(u-N)<=s;h.done=C&&P}return h.value=h.done?u:N,h},toString:()=>{const K=Math.min(ME(Z),pm),N=HD(I=>Z.next(K*I).value,K,30);return K+"ms "+N},toTransition:()=>{}};return Z}gm.applyToOptions=t=>{const e=GF(t,100,gm);return t.ease=e.ease,t.duration=zr(e.duration),t.type="keyframes",t};function Fv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const v=t[0],E={done:!1,value:v},S=C=>h!==void 0&&C<h||f!==void 0&&C>f,b=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let O=n*e;const D=v+O,L=u===void 0?D:u(D);L!==D&&(O=L-v);const H=C=>-O*Math.exp(-C/i),k=C=>L+H(C),Z=C=>{const P=H(C),j=k(C);E.done=Math.abs(P)<=d,E.value=E.done?L:j};let K,N;const I=C=>{S(E.value)&&(K=C,N=gm({keyframes:[E.value,b(E.value)],velocity:qD(k,C,E.value),damping:s,stiffness:o,restDelta:d,restSpeed:g}))};return I(0),{calculatedDuration:null,next:C=>{let P=!1;return!N&&K===void 0&&(P=!0,Z(C),I(C)),K!==void 0&&C>=K?N.next(C-K):(!P&&Z(C),E)}}}function ZF(t,e,n){const i=[],s=n||xs.mix||zD,o=t.length-1;for(let u=0;u<o;u++){let h=s(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Xi:e;h=xh(f,h)}i.push(h)}return i}function e5(t,e,{clamp:n=!0,ease:i,mixer:s}={}){const o=t.length;if(bE(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=ZF(e,i,s),f=h.length,d=g=>{if(u&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const E=uh(t[v],t[v+1],g);return h[v](E)};return n?g=>d(Is(t[0],t[o-1],g)):d}function t5(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const s=uh(0,e,i);t.push(Lt(n,1,s))}}function n5(t){const e=[0];return t5(e,t.length-1),e}function i5(t,e){return t.map(n=>n*e)}function r5(t,e){return t.map(()=>e||PD).splice(0,t.length-1)}function Kc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const s=pF(i)?i.map(jA):jA(i),o={done:!1,value:e[0]},u=i5(n&&n.length===e.length?n:n5(e),t),h=e5(u,e,{ease:Array.isArray(s)?s:r5(e,s)});return{calculatedDuration:t,next:f=>(o.value=h(f),o.done=f>=t,o)}}const s5=t=>t!==null;function OE(t,{repeat:e,repeatType:n="loop"},i,s=1){const o=t.filter(s5),h=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const a5={decay:Fv,inertia:Fv,tween:Kc,keyframes:Kc,spring:gm};function GD(t){typeof t.type=="string"&&(t.type=a5[t.type])}class VE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const o5=t=>t/100;class LE extends VE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==si.now()&&this.tick(si.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GD(e);const{type:n=Kc,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Kc;f!==Kc&&typeof h[0]!="number"&&(this.mixKeyframes=xh(o5,zD(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=ME(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:d=0,keyframes:g,repeat:v,repeatType:E,repeatDelay:S,type:b,onUpdate:O,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const L=this.currentTime-d*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?L<0:L>s;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,Z=i;if(v){const C=Math.min(this.currentTime,s)/h;let P=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(E==="reverse"?(j=1-j,S&&(j-=S/h)):E==="mirror"&&(Z=u)),k=Is(0,1,j)*h}const K=H?{done:!1,value:g[0]}:Z.next(k);o&&(K.value=o(K.value));let{done:N}=K;!H&&f!==null&&(N=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return I&&b!==Fv&&(K.value=OE(g,this.options,D,this.speed)),O&&O(K.value),I&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return $i(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$i(e)}get time(){return $i(this.currentTime)}set time(e){e=zr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(si.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$i(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=qF,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(si.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function l5(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Co=t=>t*180/Math.PI,zv=t=>{const e=Co(Math.atan2(t[1],t[0]));return Hv(e)},u5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zv,rotateZ:zv,skewX:t=>Co(Math.atan(t[1])),skewY:t=>Co(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Hv=t=>(t=t%360,t<0&&(t+=360),t),GA=zv,KA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$A=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),c5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KA,scaleY:$A,scale:t=>(KA(t)+$A(t))/2,rotateX:t=>Hv(Co(Math.atan2(t[6],t[5]))),rotateY:t=>Hv(Co(Math.atan2(-t[2],t[0]))),rotateZ:GA,rotate:GA,skewX:t=>Co(Math.atan(t[4])),skewY:t=>Co(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qv(t){return t.includes("scale")?1:0}function Gv(t,e){if(!t||t==="none")return qv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(n)i=c5,s=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=u5,s=h}if(!s)return qv(e);const o=i[e],u=s[1].split(",").map(f5);return typeof o=="function"?o(u):u[o]}const h5=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Gv(n,e)};function f5(t){return parseFloat(t.trim())}const gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yu=new Set(gu),WA=t=>t===pu||t===je,d5=new Set(["x","y","z"]),m5=gu.filter(t=>!d5.has(t));function p5(t){const e=[];return m5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Do={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Gv(e,"x"),y:(t,{transform:e})=>Gv(e,"y")};Do.translateX=Do.x;Do.translateY=Do.y;const Po=new Set;let Kv=!1,$v=!1,Wv=!1;function KD(){if($v){const t=Array.from(Po).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const s=p5(i);s.length&&(n.set(i,s),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=n.get(i);s&&s.forEach(([o,u])=>{i.getValue(o)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}$v=!1,Kv=!1,Po.forEach(t=>t.complete(Wv)),Po.clear()}function $D(){Po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($v=!0)})}function g5(){Wv=!0,$D(),KD(),Wv=!1}class kE{constructor(e,n,i,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Po.add(this),Kv||(Kv=!0,Nt.read($D),Nt.resolveKeyframes(KD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:s}=this;if(e[0]===null){const o=s?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),s&&o===void 0&&s.set(e[0])}l5(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Po.delete(this)}cancel(){this.state==="scheduled"&&(Po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const y5=t=>t.startsWith("--");function v5(t,e,n){y5(e)?t.style.setProperty(e,n):t.style[e]=n}const _5=AE(()=>window.ScrollTimeline!==void 0),E5={};function T5(t,e){const n=AE(t);return()=>E5[e]??n()}const WD=T5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,YA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kc([0,.65,.55,1]),circOut:kc([.55,0,1,.45]),backIn:kc([.31,.01,.66,-.59]),backOut:kc([.33,1.53,.69,.99])};function YD(t,e){if(t)return typeof t=="function"?WD()?HD(t,e):"ease-out":ND(t)?kc(t):Array.isArray(t)?t.map(n=>YD(n,e)||YA.easeOut):YA[t]}function w5(t,e,n,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:n};f&&(g.offset=f);const v=YD(h,s);Array.isArray(v)&&(g.easing=v);const E={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return d&&(E.pseudoElement=d),t.animate(g,E)}function XD(t){return typeof t=="function"&&"applyToOptions"in t}function S5({type:t,...e}){return XD(t)&&WD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class b5 extends VE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,bE(typeof e.type!="string");const d=S5(e);this.animation=w5(n,i,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=OE(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):v5(n,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return $i(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$i(e)}get time(){return $i(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_5()?(this.animation.timeline=e,Xi):n(this)}}const QD={anticipate:ID,backInOut:CD,circInOut:DD};function A5(t){return t in QD}function R5(t){typeof t.ease=="string"&&A5(t.ease)&&(t.ease=QD[t.ease])}const XA=10;class C5 extends b5{constructor(e){R5(e),GD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:s,element:o,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new LE({...u,autoplay:!1}),f=zr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-XA).value,h.sample(f).value,XA),h.stop()}}const QA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Da.test(t)||t==="0")&&!t.startsWith("url("));function I5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function x5(t,e,n,i){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=QA(s,e),h=QA(o,e);return!u||!h?!1:I5(t)||(n==="spring"||XD(n))&&i}function Yv(t){t.duration=0,t.type="keyframes"}const D5=new Set(["opacity","clipPath","filter","transform"]),P5=AE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function N5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:s,damping:o,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return P5()&&n&&D5.has(n)&&(n!=="transform"||!d)&&!f&&!i&&s!=="mirror"&&o!==0&&u!=="inertia"}const M5=40;class O5 extends VE{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=si.now();const E={autoplay:e,delay:n,type:i,repeat:s,repeatDelay:o,repeatType:u,name:f,motionValue:d,element:g,...v},S=g?.KeyframeResolver||kE;this.keyframeResolver=new S(h,(b,O,D)=>this.onKeyframesResolved(b,O,E,!D),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=i;this.resolvedAt=si.now(),x5(e,o,u,h)||((xs.instantAnimations||!f)&&g?.(OE(e,i,n)),e[0]=e[e.length-1],Yv(i),i.repeat=0);const E={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>M5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},S=!d&&N5(E)?new C5({...E,element:E.motionValue.owner.current}):new LE(E);S.finished.then(()=>this.notifyFinished()).catch(Xi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),g5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const V5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L5(t){const e=V5.exec(t);if(!e)return[,];const[,n,i,s]=e;return[`--${n??i}`,s]}function JD(t,e,n=1){const[i,s]=L5(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return _D(u)?parseFloat(u):u}return xE(s)?JD(s,e,n+1):s}function UE(t,e){return t?.[e]??t?.default??t}const ZD=new Set(["width","height","top","left","right","bottom",...gu]),k5={test:t=>t==="auto",parse:t=>t},eP=t=>e=>e.test(t),tP=[pu,je,Hr,la,IF,CF,k5],JA=t=>tP.find(eP(t));function U5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TD(t):!0}const j5=new Set(["brightness","contrast","saturate","opacity"]);function B5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(DE)||[];if(!i)return t;const s=n.replace(i,"");let o=j5.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+s+")"}const F5=/\b([a-z-]*)\(.*?\)/gu,Xv={...Da,getAnimatableNone:t=>{const e=t.match(F5);return e?e.map(B5).join(" "):t}},ZA={...pu,transform:Math.round},z5={rotate:la,rotateX:la,rotateY:la,rotateZ:la,scale:cd,scaleX:cd,scaleY:cd,scaleZ:cd,skew:la,skewX:la,skewY:la,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:ch,originX:BA,originY:BA,originZ:je},jE={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...z5,zIndex:ZA,fillOpacity:ch,strokeOpacity:ch,numOctaves:ZA},H5={...jE,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:Xv,WebkitFilter:Xv},nP=t=>H5[t];function iP(t,e){let n=nP(t);return n!==Xv&&(n=Da),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q5=new Set(["auto","none","0"]);function G5(t,e,n){let i=0,s;for(;i<t.length&&!s;){const o=t[i];typeof o=="string"&&!q5.has(o)&&hh(o).values.length&&(s=t[i]),i++}if(s&&n)for(const o of e)t[o]=iP(n,s)}class K5 extends kE{constructor(e,n,i,s,o){super(e,n,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),xE(d))){const g=JD(d,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ZD.has(i)||e.length!==2)return;const[s,o]=e,u=JA(s),h=JA(o);if(u!==h)if(WA(u)&&WA(h))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Do[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||U5(e[s]))&&i.push(s);i.length&&G5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Do[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=Do[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function $5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=n?.[t]??i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const rP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function sP(t){return ED(t)&&"offsetHeight"in t}const eR=30,W5=t=>!isNaN(parseFloat(t));class Y5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=si.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=si.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=W5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new RE);const i=this.events[e].add(n);return e==="change"?()=>{i(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>eR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,eR);return wD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ru(t,e){return new Y5(t,e)}const{schedule:BE}=MD(queueMicrotask,!1),pr={x:!1,y:!1};function aP(){return pr.x||pr.y}function X5(t){return t==="x"||t==="y"?pr[t]?null:(pr[t]=!0,()=>{pr[t]=!1}):pr.x||pr.y?null:(pr.x=pr.y=!0,()=>{pr.x=pr.y=!1})}function oP(t,e){const n=$5(t),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[n,s,()=>i.abort()]}function tR(t){return!(t.pointerType==="touch"||aP())}function Q5(t,e,n={}){const[i,s,o]=oP(t,n),u=h=>{if(!tR(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=v=>{tR(v)&&(d(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return i.forEach(h=>{h.addEventListener("pointerenter",u,s)}),o}const lP=(t,e)=>e?t===e?!0:lP(t,e.parentElement):!1,FE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,J5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z5(t){return J5.has(t.tagName)||t.tabIndex!==-1}const Dd=new WeakSet;function nR(t){return e=>{e.key==="Enter"&&t(e)}}function Uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ez=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=nR(()=>{if(Dd.has(n))return;Uy(n,"down");const s=nR(()=>{Uy(n,"up")}),o=()=>Uy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function iR(t){return FE(t)&&!aP()}function tz(t,e,n={}){const[i,s,o]=oP(t,n),u=h=>{const f=h.currentTarget;if(!iR(h))return;Dd.add(f);const d=e(f,h),g=(S,b)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Dd.has(f)&&Dd.delete(f),iR(S)&&typeof d=="function"&&d(S,{success:b})},v=S=>{g(S,f===window||f===document||n.useGlobalTarget||lP(f,S.target))},E=S=>{g(S,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",E,s)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),sP(h)&&(h.addEventListener("focus",d=>ez(d,s)),!Z5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function uP(t){return ED(t)&&"ownerSVGElement"in t}function nz(t){return uP(t)&&t.tagName==="svg"}const jn=t=>!!(t&&t.getVelocity),iz=[...tP,en,Da],rz=t=>iz.find(eP(t)),zE=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function rR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sz(...t){return e=>{let n=!1;const i=t.map(s=>{const o=rR(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():rR(t[s],null)}}}}function az(...t){return V.useCallback(sz(...t),t)}class oz extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,s=sP(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lz({children:t,isPresent:e,anchorX:n,root:i}){const s=V.useId(),o=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(zE),f=az(o,t?.ref);return V.useInsertionEffect(()=>{const{width:d,height:g,top:v,left:E,right:S}=u.current;if(e||!o.current||!d||!g)return;const b=n==="left"?`left: ${E}`:`right: ${S}`;o.current.dataset.motionPopId=s;const O=document.createElement("style");h&&(O.nonce=h);const D=i??document.head;return D.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${g}px !important;
            ${b}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(O)&&D.removeChild(O)}},[e]),R.jsx(oz,{isPresent:e,childRef:o,sizeRef:u,children:V.cloneElement(t,{ref:f})})}const uz=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u,anchorX:h,root:f})=>{const d=EE(cz),g=V.useId();let v=!0,E=V.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:s,onExitComplete:S=>{d.set(S,!0);for(const b of d.values())if(!b)return;i&&i()},register:S=>(d.set(S,!1),()=>d.delete(S))}),[n,d,i]);return o&&v&&(E={...E}),V.useMemo(()=>{d.forEach((S,b)=>d.set(b,!1))},[n]),V.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),u==="popLayout"&&(t=R.jsx(lz,{isPresent:n,anchorX:h,root:f,children:t})),R.jsx(np.Provider,{value:E,children:t})};function cz(){return new Map}function cP(t=!0){const e=V.useContext(np);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:s}=e,o=V.useId();V.useEffect(()=>{if(t)return s(o)},[t]);const u=V.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,u]:[!0]}const hd=t=>t.key||"";function sR(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const ym=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[d,g]=cP(u),v=V.useMemo(()=>sR(t),[t]),E=u&&!d?[]:v.map(hd),S=V.useRef(!0),b=V.useRef(v),O=EE(()=>new Map),[D,L]=V.useState(v),[H,k]=V.useState(v);vD(()=>{S.current=!1,b.current=v;for(let N=0;N<H.length;N++){const I=hd(H[N]);E.includes(I)?O.delete(I):O.get(I)!==!0&&O.set(I,!1)}},[H,E.length,E.join("-")]);const Z=[];if(v!==D){let N=[...v];for(let I=0;I<H.length;I++){const C=H[I],P=hd(C);E.includes(P)||(N.splice(I,0,C),Z.push(C))}return o==="wait"&&Z.length&&(N=Z),k(sR(N)),L(v),null}const{forceRender:K}=V.useContext(_E);return R.jsx(R.Fragment,{children:H.map(N=>{const I=hd(N),C=u&&!d?!1:v===H||E.includes(I),P=()=>{if(O.has(I))O.set(I,!0);else return;let j=!0;O.forEach(F=>{F||(j=!1)}),j&&(K?.(),k(b.current),u&&g?.(),i&&i())};return R.jsx(uz,{isPresent:C,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:f,onExitComplete:C?void 0:P,anchorX:h,children:N},I)})})},hP=V.createContext({strict:!1}),aR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},su={};for(const t in aR)su[t]={isEnabled:e=>aR[t].some(n=>!!e[n])};function hz(t){for(const e in t)su[e]={...su[e],...t[e]}}const fz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fz.has(t)}let fP=t=>!vm(t);function dz(t){typeof t=="function"&&(fP=e=>e.startsWith("on")?!vm(e):t(e))}try{dz(require("@emotion/is-prop-valid").default)}catch{}function mz(t,e,n){const i={};for(const s in t)s==="values"&&typeof t.values=="object"||(fP(s)||n===!0&&vm(s)||!e&&!vm(s)||t.draggable&&s.startsWith("onDrag"))&&(i[s]=t[s]);return i}const ip=V.createContext({});function rp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fh(t){return typeof t=="string"||Array.isArray(t)}const HE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qE=["initial",...HE];function sp(t){return rp(t.animate)||qE.some(e=>fh(t[e]))}function dP(t){return!!(sp(t)||t.variants)}function pz(t,e){if(sp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||fh(n)?n:void 0,animate:fh(i)?i:void 0}}return t.inherit!==!1?e:{}}function gz(t){const{initial:e,animate:n}=pz(t,V.useContext(ip));return V.useMemo(()=>({initial:e,animate:n}),[oR(e),oR(n)])}function oR(t){return Array.isArray(t)?t.join(" "):t}function lR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=lR(t,e.target.x),i=lR(t,e.target.y);return`${n}% ${i}%`}},yz={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,s=Da.parse(t);if(s.length>5)return i;const o=Da.createTransformer(t),u=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const d=Lt(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=d),typeof s[3+u]=="number"&&(s[3+u]/=d),o(s)}},Qv={borderRadius:{...Cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cc,borderTopRightRadius:Cc,borderBottomLeftRadius:Cc,borderBottomRightRadius:Cc,boxShadow:yz};function mP(t,{layout:e,layoutId:n}){return yu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qv[t]||t==="opacity")}const vz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_z=gu.length;function Ez(t,e,n){let i="",s=!0;for(let o=0;o<_z;o++){const u=gu[o],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const d=rP(h,jE[u]);if(!f){s=!1;const g=vz[u]||u;i+=`${g}(${d}) `}n&&(e[u]=d)}}return i=i.trim(),n?i=n(e,s?"":i):s&&(i="none"),i}function GE(t,e,n){const{style:i,vars:s,transformOrigin:o}=t;let u=!1,h=!1;for(const f in e){const d=e[f];if(yu.has(f)){u=!0;continue}else if(VD(f)){s[f]=d;continue}else{const g=rP(d,jE[f]);f.startsWith("origin")?(h=!0,o[f]=g):i[f]=g}}if(e.transform||(u||n?i.transform=Ez(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;i.transformOrigin=`${f} ${d} ${g}`}}const KE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pP(t,e,n){for(const i in e)!jn(e[i])&&!mP(i,n)&&(t[i]=e[i])}function Tz({transformTemplate:t},e){return V.useMemo(()=>{const n=KE();return GE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function wz(t,e){const n=t.style||{},i={};return pP(i,n,t),Object.assign(i,Tz(t,e)),i}function Sz(t,e){const n={},i=wz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const bz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Az={offset:"strokeDashoffset",array:"strokeDasharray"};function Rz(t,e,n=1,i=0,s=!0){t.pathLength=1;const o=s?bz:Az;t[o.offset]=je.transform(-i);const u=je.transform(e),h=je.transform(n);t[o.array]=`${u} ${h}`}function gP(t,{attrX:e,attrY:n,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...h},f,d,g){if(GE(t,h,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E}=t;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=g?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),s!==void 0&&Rz(v,s,o,u,!1)}const yP=()=>({...KE(),attrs:{}}),vP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Cz(t,e,n,i){const s=V.useMemo(()=>{const o=yP();return gP(o,e,vP(i),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};pP(o,t.style,t),s.style={...o,...s.style}}return s}const Iz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $E(t){return typeof t!="string"||t.includes("-")?!1:!!(Iz.indexOf(t)>-1||/[A-Z]/u.test(t))}function xz(t,e,n,{latestValues:i},s,o=!1){const h=($E(t)?Cz:Sz)(e,i,s,t),f=mz(e,typeof t=="string",o),d=t!==V.Fragment?{...f,...h,ref:n}:{},{children:g}=e,v=V.useMemo(()=>jn(g)?g.get():g,[g]);return V.createElement(t,{...d,children:v})}function uR(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function WE(t,e,n,i){if(typeof e=="function"){const[s,o]=uR(i);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=uR(i);e=e(n!==void 0?n:t.custom,s,o)}return e}function Pd(t){return jn(t)?t.get():t}function Dz({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,s){return{latestValues:Pz(n,i,s,t),renderState:e()}}function Pz(t,e,n,i){const s={},o=i(t,{});for(const E in o)s[E]=Pd(o[E]);let{initial:u,animate:h}=t;const f=sp(t),d=dP(t);e&&d&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!rp(v)){const E=Array.isArray(v)?v:[v];for(let S=0;S<E.length;S++){const b=WE(t,E[S]);if(b){const{transitionEnd:O,transition:D,...L}=b;for(const H in L){let k=L[H];if(Array.isArray(k)){const Z=g?k.length-1:0;k=k[Z]}k!==null&&(s[H]=k)}for(const H in O)s[H]=O[H]}}}return s}const _P=t=>(e,n)=>{const i=V.useContext(ip),s=V.useContext(np),o=()=>Dz(t,e,i,s);return n?o():EE(o)};function YE(t,e,n){const{style:i}=t,s={};for(const o in i)(jn(i[o])||e.style&&jn(e.style[o])||mP(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=i[o]);return s}const Nz=_P({scrapeMotionValuesFromProps:YE,createRenderState:KE});function EP(t,e,n){const i=YE(t,e,n);for(const s in t)if(jn(t[s])||jn(e[s])){const o=gu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=t[s]}return i}const Mz=_P({scrapeMotionValuesFromProps:EP,createRenderState:yP}),Oz=Symbol.for("motionComponentSymbol");function jl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vz(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):jl(n)&&(n.current=i))},[e])}const XE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lz="framerAppearId",TP="data-"+XE(Lz),wP=V.createContext({});function kz(t,e,n,i,s){const{visualElement:o}=V.useContext(ip),u=V.useContext(hP),h=V.useContext(np),f=V.useContext(zE).reducedMotion,d=V.useRef(null);i=i||u.renderer,!d.current&&i&&(d.current=i(t,{visualState:e,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=d.current,v=V.useContext(wP);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&Uz(d.current,n,s,v);const E=V.useRef(!1);V.useInsertionEffect(()=>{g&&E.current&&g.update(n,h)});const S=n[TP],b=V.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return vD(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),b.current&&g.animationState&&g.animationState.animateChanges())}),V.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),b.current=!1),g.enteringChildren=void 0)}),g}function Uz(t,e,n,i){const{layoutId:s,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:SP(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||h&&jl(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:d})}function SP(t){if(t)return t.options.allowProjection!==!1?t.projection:SP(t.parent)}function jy(t,{forwardMotionProps:e=!1}={},n,i){n&&hz(n);const s=$E(t)?Mz:Nz;function o(h,f){let d;const g={...V.useContext(zE),...h,layoutId:jz(h)},{isStatic:v}=g,E=gz(h),S=s(h,v);if(!v&&TE){Bz();const b=Fz(g);d=b.MeasureLayout,E.visualElement=kz(t,S,g,i,b.ProjectionNode)}return R.jsxs(ip.Provider,{value:E,children:[d&&E.visualElement?R.jsx(d,{visualElement:E.visualElement,...g}):null,xz(t,h,Vz(S,E.visualElement,f),S,v,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(o);return u[Oz]=t,u}function jz({layoutId:t}){const e=V.useContext(_E).id;return e&&t!==void 0?e+"-"+t:t}function Bz(t,e){V.useContext(hP).strict}function Fz(t){const{drag:e,layout:n}=su;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function zz(t,e){if(typeof Proxy>"u")return jy;const n=new Map,i=(o,u)=>jy(o,u,t,e),s=(o,u)=>i(o,u);return new Proxy(s,{get:(o,u)=>u==="create"?i:(n.has(u)||n.set(u,jy(u,void 0,t,e)),n.get(u))})}function bP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Hz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function By(t){return t===void 0||t===1}function Jv({scale:t,scaleX:e,scaleY:n}){return!By(t)||!By(e)||!By(n)}function wo(t){return Jv(t)||AP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AP(t){return cR(t.x)||cR(t.y)}function cR(t){return t&&t!=="0%"}function _m(t,e,n){const i=t-n,s=e*i;return n+s}function hR(t,e,n,i,s){return s!==void 0&&(t=_m(t,s,i)),_m(t,n,i)+e}function Zv(t,e=0,n=1,i,s){t.min=hR(t.min,e,n,i,s),t.max=hR(t.max,e,n,i,s)}function RP(t,{x:e,y:n}){Zv(t.x,e.translate,e.scale,e.originPoint),Zv(t.y,n.translate,n.scale,n.originPoint)}const fR=.999999999999,dR=1.0000000000001;function Gz(t,e,n,i=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,u;for(let h=0;h<s;h++){o=n[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,RP(t,u)),i&&wo(o.latestValues)&&Fl(t,o.latestValues))}e.x<dR&&e.x>fR&&(e.x=1),e.y<dR&&e.y>fR&&(e.y=1)}function Bl(t,e){t.min=t.min+e,t.max=t.max+e}function mR(t,e,n,i,s=.5){const o=Lt(t.min,t.max,s);Zv(t,e,n,o,i)}function Fl(t,e){mR(t.x,e.x,e.scaleX,e.scale,e.originX),mR(t.y,e.y,e.scaleY,e.scale,e.originY)}function CP(t,e){return bP(qz(t.getBoundingClientRect(),e))}function Kz(t,e,n){const i=CP(t,n),{scroll:s}=e;return s&&(Bl(i.x,s.offset.x),Bl(i.y,s.offset.y)),i}const pR=()=>({translate:0,scale:1,origin:0,originPoint:0}),zl=()=>({x:pR(),y:pR()}),gR=()=>({min:0,max:0}),cn=()=>({x:gR(),y:gR()}),e_={current:null},IP={current:!1};function $z(){if(IP.current=!0,!!TE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>e_.current=t.matches;t.addEventListener("change",e),e()}else e_.current=!1}const Wz=new WeakMap;function Yz(t,e,n){for(const i in e){const s=e[i],o=n[i];if(jn(s))t.addValue(i,s);else if(jn(o))t.addValue(i,ru(s,{owner:t}));else if(o!==s)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(i);t.addValue(i,ru(u!==void 0?u:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const yR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Xz{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=si.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Nt.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=sp(n),this.isVariantNode=dP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const S=v[E];f[E]!==void 0&&jn(S)&&S.set(f[E])}}mount(e){this.current=e,Wz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),IP.current||$z(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:e_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xa(this.notifyUpdate),xa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=yu.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in su){const n=su[e];if(!n)continue;const{isEnabled:i,Feature:s}=n;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<yR.length;i++){const s=yR[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=e[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=Yz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ru(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(_D(i)||TD(i))?i=parseFloat(i):!rz(i)&&Da.test(n)&&(i=iP(e,n)),this.setBaseTarget(e,jn(i)?i.get():i)),jn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=WE(this.props,n,this.presenceContext?.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!jn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new RE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){BE.render(this.render)}}class xP extends Xz{constructor(){super(...arguments),this.KeyframeResolver=K5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function DP(t,{style:e,vars:n},i,s){const o=t.style;let u;for(u in e)o[u]=e[u];s?.applyProjectionStyles(o,i);for(u in n)o.setProperty(u,n[u])}function Qz(t){return window.getComputedStyle(t)}class Jz extends xP{constructor(){super(...arguments),this.type="html",this.renderInstance=DP}readValueFromInstance(e,n){if(yu.has(n))return this.projection?.isProjecting?qv(n):h5(e,n);{const i=Qz(e),s=(VD(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CP(e,n)}build(e,n,i){GE(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return YE(e,n,i)}}const PP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zz(t,e,n,i){DP(t,e,void 0,i);for(const s in e.attrs)t.setAttribute(PP.has(s)?s:XE(s),e.attrs[s])}class eH extends xP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yu.has(n)){const i=nP(n);return i&&i.default||0}return n=PP.has(n)?n:XE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return EP(e,n,i)}build(e,n,i){gP(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,s){Zz(e,n,i,s)}mount(e){this.isSVGTag=vP(e.tagName),super.mount(e)}}const tH=(t,e)=>$E(t)?new eH(e):new Jz(e,{allowProjection:t!==V.Fragment});function Yl(t,e,n){const i=t.getProps();return WE(i,e,n!==void 0?n:i.custom,t)}const t_=t=>Array.isArray(t);function nH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ru(n))}function iH(t){return t_(t)?t[t.length-1]||0:t}function rH(t,e){const n=Yl(t,e);let{transitionEnd:i={},transition:s={},...o}=n||{};o={...o,...i};for(const u in o){const h=iH(o[u]);nH(t,u,h)}}function sH(t){return!!(jn(t)&&t.add)}function n_(t,e){const n=t.getValue("willChange");if(sH(n))return n.add(e);if(!n&&xs.WillChange){const i=new xs.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function NP(t){return t.props[TP]}const aH=t=>t!==null;function oH(t,{repeat:e,repeatType:n="loop"},i){const s=t.filter(aH),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const lH={type:"spring",stiffness:500,damping:25,restSpeed:10},uH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cH={type:"keyframes",duration:.8},hH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fH=(t,{keyframes:e})=>e.length>2?cH:yu.has(t)?t.startsWith("scale")?uH(e[1]):lH:hH;function dH({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const QE=(t,e,n,i={},s,o)=>u=>{const h=UE(i,t)||{},f=h.delay||i.delay||0;let{elapsed:d=0}=i;d=d-zr(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:s};dH(h)||Object.assign(g,fH(t,g)),g.duration&&(g.duration=zr(g.duration)),g.repeatDelay&&(g.repeatDelay=zr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Yv(g),g.delay===0&&(v=!0)),(xs.instantAnimations||xs.skipAnimations)&&(v=!0,Yv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const E=oH(g.keyframes,h);if(E!==void 0){Nt.update(()=>{g.onUpdate(E),g.onComplete()});return}}return h.isSync?new LE(g):new O5(g)};function mH({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function MP(t,e,{delay:n=0,transitionOverride:i,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const f=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),E=h[g];if(E===void 0||d&&mH(d,g))continue;const S={delay:n,...UE(o||{},g)},b=v.get();if(b!==void 0&&!v.isAnimating&&!Array.isArray(E)&&E===b&&!S.velocity)continue;let O=!1;if(window.MotionHandoffAnimation){const L=NP(t);if(L){const H=window.MotionHandoffAnimation(L,g,Nt);H!==null&&(S.startTime=H,O=!0)}}n_(t,g),v.start(QE(g,v,E,t.shouldReduceMotion&&ZD.has(g)?{type:!1}:S,t,O));const D=v.animation;D&&f.push(D)}return u&&Promise.all(f).then(()=>{Nt.update(()=>{u&&rH(t,u)})}),f}function OP(t,e,n,i=0,s=1){const o=Array.from(t).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*i;return typeof n=="function"?n(o,u):s===1?o*i:h-o*i}function i_(t,e,n={}){const i=Yl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(MP(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:v}=s;return pH(t,e,f,d,g,v,n)}:()=>Promise.resolve(),{when:h}=s;if(h){const[f,d]=h==="beforeChildren"?[o,u]:[u,o];return f().then(()=>d())}else return Promise.all([o(),u(n.delay)])}function pH(t,e,n=0,i=0,s=0,o=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(i_(f,e,{...u,delay:n+(typeof i=="function"?0:i)+OP(t.variantChildren,f,i,s,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function gH(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>i_(t,o,n));i=Promise.all(s)}else if(typeof e=="string")i=i_(t,e,n);else{const s=typeof e=="function"?Yl(t,e,n.custom):e;i=Promise.all(MP(t,s,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function VP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const yH=qE.length;function LP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?LP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<yH;n++){const i=qE[n],s=t.props[i];(fh(s)||s===!1)&&(e[i]=s)}return e}const vH=[...HE].reverse(),_H=HE.length;function EH(t){return e=>Promise.all(e.map(({animation:n,options:i})=>gH(t,n,i)))}function TH(t){let e=EH(t),n=vR(),i=!0;const s=f=>(d,g)=>{const v=Yl(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:S,...b}=v;d={...d,...b,...S}}return d};function o(f){e=f(t)}function u(f){const{props:d}=t,g=LP(t.parent)||{},v=[],E=new Set;let S={},b=1/0;for(let D=0;D<_H;D++){const L=vH[D],H=n[L],k=d[L]!==void 0?d[L]:g[L],Z=fh(k),K=L===f?H.isActive:null;K===!1&&(b=D);let N=k===g[L]&&k!==d[L]&&Z;if(N&&i&&t.manuallyAnimateOnMount&&(N=!1),H.protectedKeys={...S},!H.isActive&&K===null||!k&&!H.prevProp||rp(k)||typeof k=="boolean")continue;const I=wH(H.prevProp,k);let C=I||L===f&&H.isActive&&!N&&Z||D>b&&Z,P=!1;const j=Array.isArray(k)?k:[k];let F=j.reduce(s(L),{});K===!1&&(F={});const{prevResolvedValues:G={}}=H,M={...G,...F},xe=he=>{C=!0,E.has(he)&&(P=!0,E.delete(he)),H.needsAnimating[he]=!0;const me=t.getValue(he);me&&(me.liveStyle=!1)};for(const he in M){const me=F[he],Pe=G[he];if(S.hasOwnProperty(he))continue;let B=!1;t_(me)&&t_(Pe)?B=!VP(me,Pe):B=me!==Pe,B?me!=null?xe(he):E.add(he):me!==void 0&&E.has(he)?xe(he):H.protectedKeys[he]=!0}H.prevProp=k,H.prevResolvedValues=F,H.isActive&&(S={...S,...F}),i&&t.blockInitialAnimation&&(C=!1);const Ke=N&&I;C&&(!Ke||P)&&v.push(...j.map(he=>{const me={type:L};if(typeof he=="string"&&i&&!Ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:Pe}=t,B=Yl(Pe,he);if(Pe.enteringChildren&&B){const{delayChildren:se}=B.transition||{};me.delay=OP(Pe.enteringChildren,t,se)}}return{animation:he,options:me}}))}if(E.size){const D={};if(typeof d.initial!="boolean"){const L=Yl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);L&&L.transition&&(D.transition=L.transition)}E.forEach(L=>{const H=t.getBaseTarget(L),k=t.getValue(L);k&&(k.liveStyle=!0),D[L]=H??null}),v.push({animation:D})}let O=!!v.length;return i&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(v):Promise.resolve()}function h(f,d){if(n[f].isActive===d)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(f,d)),n[f].isActive=d;const g=u(f);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=vR()}}}function wH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VP(e,t):!1}function yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vR(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class La{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SH extends La{constructor(e){super(e),e.animationState||(e.animationState=TH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bH=0;class AH extends La{constructor(){super(...arguments),this.id=bH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const RH={animation:{Feature:SH},exit:{Feature:AH}};function dh(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Nh(t){return{point:{x:t.pageX,y:t.pageY}}}const CH=t=>e=>FE(e)&&t(e,Nh(e));function $c(t,e,n,i){return dh(t,e,CH(n),i)}const kP=1e-4,IH=1-kP,xH=1+kP,UP=.01,DH=0-UP,PH=0+UP;function Yn(t){return t.max-t.min}function NH(t,e,n){return Math.abs(t-e)<=n}function _R(t,e,n,i=.5){t.origin=i,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=Yn(n)/Yn(e),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IH&&t.scale<=xH||isNaN(t.scale))&&(t.scale=1),(t.translate>=DH&&t.translate<=PH||isNaN(t.translate))&&(t.translate=0)}function Wc(t,e,n,i){_R(t.x,e.x,n.x,i?i.originX:void 0),_R(t.y,e.y,n.y,i?i.originY:void 0)}function ER(t,e,n){t.min=n.min+e.min,t.max=t.min+Yn(e)}function MH(t,e,n){ER(t.x,e.x,n.x),ER(t.y,e.y,n.y)}function TR(t,e,n){t.min=e.min-n.min,t.max=t.min+Yn(e)}function Em(t,e,n){TR(t.x,e.x,n.x),TR(t.y,e.y,n.y)}function Hi(t){return[t("x"),t("y")]}const jP=({current:t})=>t?t.ownerDocument.defaultView:null,wR=(t,e)=>Math.abs(t-e);function OH(t,e){const n=wR(t.x,e.x),i=wR(t.y,e.y);return Math.sqrt(n**2+i**2)}class BP{constructor(e,n,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=zy(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,b=OH(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!b)return;const{point:O}=E,{timestamp:D}=Cn;this.history.push({...O,timestamp:D});const{onStart:L,onMove:H}=this.handlers;S||(L&&L(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Fy(S,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:b,onSessionEnd:O,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=zy(E.type==="pointercancel"?this.lastMoveEventInfo:Fy(S,this.transformPagePoint),this.history);this.startEvent&&b&&b(E,L),O&&O(E,L)},!FE(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=s||window;const h=Nh(e),f=Fy(h,this.transformPagePoint),{point:d}=f,{timestamp:g}=Cn;this.history=[{...d,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,zy(f,this.history)),this.removeListeners=xh($c(this.contextWindow,"pointermove",this.handlePointerMove),$c(this.contextWindow,"pointerup",this.handlePointerUp),$c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xa(this.updatePoint)}}function Fy(t,e){return e?{point:e(t.point)}:t}function SR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zy({point:t},e){return{point:t,delta:SR(t,FP(e)),offset:SR(t,VH(e)),velocity:LH(e,.1)}}function VH(t){return t[0]}function FP(t){return t[t.length-1]}function LH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const s=FP(t);for(;n>=0&&(i=t[n],!(s.timestamp-i.timestamp>zr(e)));)n--;if(!i)return{x:0,y:0};const o=$i(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function kH(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Lt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Lt(n,t,i.max):Math.min(t,n)),t}function bR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UH(t,{top:e,left:n,bottom:i,right:s}){return{x:bR(t.x,n,s),y:bR(t.y,e,i)}}function AR(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function jH(t,e){return{x:AR(t.x,e.x),y:AR(t.y,e.y)}}function BH(t,e){let n=.5;const i=Yn(t),s=Yn(e);return s>i?n=uh(e.min,e.max-i,t.min):i>s&&(n=uh(t.min,t.max-s,e.min)),Is(0,1,n)}function FH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const r_=.35;function zH(t=r_){return t===!1?t=0:t===!0&&(t=r_),{x:RR(t,"left","right"),y:RR(t,"top","bottom")}}function RR(t,e,n){return{min:CR(t,e),max:CR(t,n)}}function CR(t,e){return typeof t=="number"?t:t[e]||0}const HH=new WeakMap;class qH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nh(v).point)},u=(v,E)=>{const{drag:S,dragPropagation:b,onDragStart:O}=this.getProps();if(S&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=X5(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(L=>{let H=this.getAxisMotionValue(L).get()||0;if(Hr.test(H)){const{projection:k}=this.visualElement;if(k&&k.layout){const Z=k.layout.layoutBox[L];Z&&(H=Yn(Z)*(parseFloat(H)/100))}}this.originPoint[L]=H}),O&&Nt.postRender(()=>O(v,E)),n_(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:S,dragDirectionLock:b,onDirectionLock:O,onDrag:D}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:L}=E;if(b&&this.currentDirection===null){this.currentDirection=GH(L),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",E.point,L),this.updateAxis("y",E.point,L),this.visualElement.render(),D&&D(v,E)},f=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Hi(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new BP(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:jP(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Nt.postRender(()=>h(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:s}=this.getProps();if(!i||!fd(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=kH(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&jl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=UH(i.layoutBox,e):this.constraints=!1,this.elastic=zH(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Hi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=FH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jl(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Kz(i,s.root,this.visualElement.getTransformPagePoint());let u=jH(s.layout.layoutBox,o);if(n){const h=n(Hz(u));this.hasMutatedConstraints=!!h,h&&(u=bP(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=Hi(g=>{if(!fd(g,n,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const E=s?200:1e6,S=s?40:1e7,b={type:"inertia",velocity:i?e[g]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,b)});return Promise.all(d).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return n_(this.visualElement,e),i.start(QE(e,i,0,n,this.visualElement,!1))}stopAnimation(){Hi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[n];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Hi(n=>{const{drag:i}=this.getProps();if(!fd(n,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[n];o.set(e[n]-Lt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!jl(n)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=BH({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Hi(u=>{if(!fd(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(Lt(f,d,s[u]))})}addListeners(){if(!this.visualElement.current)return;HH.set(this.visualElement,this);const e=this.visualElement.current,n=$c(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();jl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Nt.read(i);const u=dh(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Hi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=r_,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function fd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KH extends La{constructor(e){super(e),this.removeGroupControls=Xi,this.removeListeners=Xi,this.controls=new qH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const IR=t=>(e,n)=>{t&&Nt.postRender(()=>t(e,n))};class $H extends La{constructor(){super(...arguments),this.removePointerDownListener=Xi}onPointerDown(e){this.session=new BP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:IR(e),onStart:IR(n),onMove:i,onEnd:(o,u)=>{delete this.session,s&&Nt.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=$c(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Hy=!1;class WH extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),i&&i.register&&s&&i.register(o),Hy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:s,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,Hy=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Nt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),BE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:s}=e;Hy=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zP(t){const[e,n]=cP(),i=V.useContext(_E);return R.jsx(WH,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(wP),isPresent:e,safeToRemove:n})}function YH(t,e,n){const i=jn(t)?t:ru(t);return i.start(QE("",i,e,n)),i.animation}const XH=(t,e)=>t.depth-e.depth;class QH{constructor(){this.children=[],this.isDirty=!1}add(e){wE(this.children,e),this.isDirty=!0}remove(e){SE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XH),this.isDirty=!1,this.children.forEach(e)}}function JH(t,e){const n=si.now(),i=({timestamp:s})=>{const o=s-n;o>=e&&(xa(i),t(o-e))};return Nt.setup(i,!0),()=>xa(i)}const HP=["TopLeft","TopRight","BottomLeft","BottomRight"],ZH=HP.length,xR=t=>typeof t=="string"?parseFloat(t):t,DR=t=>typeof t=="number"||je.test(t);function e7(t,e,n,i,s,o){s?(t.opacity=Lt(0,n.opacity??1,t7(i)),t.opacityExit=Lt(e.opacity??1,0,n7(i))):o&&(t.opacity=Lt(e.opacity??1,n.opacity??1,i));for(let u=0;u<ZH;u++){const h=`border${HP[u]}Radius`;let f=PR(e,h),d=PR(n,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||DR(f)===DR(d)?(t[h]=Math.max(Lt(xR(f),xR(d),i),0),(Hr.test(d)||Hr.test(f))&&(t[h]+="%")):t[h]=d}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,i))}function PR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const t7=qP(0,.5,xD),n7=qP(.5,.95,Xi);function qP(t,e,n){return i=>i<t?0:i>e?1:n(uh(t,e,i))}function NR(t,e){t.min=e.min,t.max=e.max}function mr(t,e){NR(t.x,e.x),NR(t.y,e.y)}function MR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OR(t,e,n,i,s){return t-=e,t=_m(t,1/n,i),s!==void 0&&(t=_m(t,1/s,i)),t}function i7(t,e=0,n=1,i=.5,s,o=t,u=t){if(Hr.test(e)&&(e=parseFloat(e),e=Lt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Lt(o.min,o.max,i);t===o&&(h-=e),t.min=OR(t.min,e,n,h,s),t.max=OR(t.max,e,n,h,s)}function VR(t,e,[n,i,s],o,u){i7(t,e[n],e[i],e[s],e.scale,o,u)}const r7=["x","scaleX","originX"],s7=["y","scaleY","originY"];function LR(t,e,n,i){VR(t.x,e,r7,n?n.x:void 0,i?i.x:void 0),VR(t.y,e,s7,n?n.y:void 0,i?i.y:void 0)}function kR(t){return t.translate===0&&t.scale===1}function GP(t){return kR(t.x)&&kR(t.y)}function UR(t,e){return t.min===e.min&&t.max===e.max}function a7(t,e){return UR(t.x,e.x)&&UR(t.y,e.y)}function jR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KP(t,e){return jR(t.x,e.x)&&jR(t.y,e.y)}function BR(t){return Yn(t.x)/Yn(t.y)}function FR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class o7{constructor(){this.members=[]}add(e){wE(this.members,e),e.scheduleRender()}remove(e){if(SE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let i;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function l7(t,e,n){let i="";const s=t.x.translate/e.x,o=t.y.translate/e.y,u=n?.z||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:v,rotateY:E,skewX:S,skewY:b}=n;d&&(i=`perspective(${d}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),S&&(i+=`skewX(${S}deg) `),b&&(i+=`skewY(${b}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const qy=["","X","Y","Z"],u7=1e3;let c7=0;function Gy(t,e,n,i){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),i&&(i[t]=0))}function $P(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=NP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(s||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&$P(i)}function WP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},h=e?.()){this.id=c7++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(d7),this.nodes.forEach(y7),this.nodes.forEach(v7),this.nodes.forEach(m7)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new QH)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new RE),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=uP(u)&&!nz(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const E=()=>this.root.updateBlockedByResize=!1;Nt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,g&&g(),g=JH(E,250),Nd.hasAnimatedSinceResize&&(Nd.hasAnimatedSinceResize=!1,this.nodes.forEach(qR)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||S7,{onLayoutAnimationStart:O,onLayoutAnimationComplete:D}=d.getProps(),L=!this.targetLayout||!KP(this.targetLayout,S),H=!v&&E;if(this.options.layoutRoot||this.resumeFrom||H||v&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...UE(b,"layout"),onPlay:O,onComplete:D};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,H)}else v||qR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_7),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$P(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(HR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(g7),this.nodes.forEach(h7),this.nodes.forEach(f7)):this.nodes.forEach(HR),this.clearAllSnapshots();const h=si.now();Cn.delta=Is(0,1e3/60,h-Cn.timestamp),Cn.timestamp=h,Cn.isProcessing=!0,My.update.process(Cn),My.preRender.process(Cn),My.render.process(Cn),Cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,BE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p7),this.sharedNodes.forEach(E7)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yn(this.snapshot.measuredBox.x)&&!Yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!GP(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||wo(this.latestValues)||g)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),b7(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return cn();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(A7))){const{scroll:d}=this.root;d&&(Bl(h.x,d.offset.x),Bl(h.y,d.offset.y))}return h}removeElementScroll(u){const h=cn();if(mr(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:v}=d;d!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&mr(h,u),Bl(h.x,g.offset.x),Bl(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=cn();mr(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Fl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),wo(g.latestValues)&&Fl(f,g.latestValues)}return wo(this.latestValues)&&Fl(f,this.latestValues),f}removeTransform(u){const h=cn();mr(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!wo(d.latestValues))continue;Jv(d.latestValues)&&d.updateSnapshot();const g=cn(),v=d.measurePageBox();mr(g,v),LR(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return wo(this.latestValues)&&LR(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Cn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mr(this.target,this.layout.layoutBox),RP(this.target,this.targetDelta)):mr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Jv(this.parent.latestValues)||AP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),Em(this.relativeTargetOrigin,h,f),mr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Cn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;mr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;Gz(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=cn());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MR(this.prevProjectionDelta.x,this.projectionDelta.x),MR(this.prevProjectionDelta.y,this.projectionDelta.y)),Wc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!FR(this.projectionDelta.x,this.prevProjectionDelta.x)||!FR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zl(),this.projectionDelta=zl(),this.projectionDeltaWithTransform=zl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},v=zl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=cn(),S=f?f.source:void 0,b=this.layout?this.layout.source:void 0,O=S!==b,D=this.getStack(),L=!D||D.members.length<=1,H=!!(O&&!L&&this.options.crossfade===!0&&!this.path.some(w7));this.animationProgress=0;let k;this.mixTargetDelta=Z=>{const K=Z/1e3;GR(v.x,u.x,K),GR(v.y,u.y,K),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Em(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T7(this.relativeTarget,this.relativeTargetOrigin,E,K),k&&a7(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=cn()),mr(k,this.relativeTarget)),O&&(this.animationValues=g,e7(g,d,this.latestValues,K,H,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{Nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ru(0)),this.currentAnimation=YH(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u7),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&YP(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||cn();const v=Yn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const E=Yn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}mr(h,f),Fl(h,g),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new o7),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&Gy("z",u,d,this.animationValues);for(let g=0;g<qy.length;g++)Gy(`rotate${qy[g]}`,u,d,this.animationValues),Gy(`skew${qy[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Pd(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Pd(h?.pointerEvents)||""),this.hasProjected&&!wo(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=l7(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:E,y:S}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in Qv){if(g[b]===void 0)continue;const{correct:O,applyTo:D,isCSSVariable:L}=Qv[b],H=v==="none"?g[b]:O(g[b],d);if(D){const k=D.length;for(let Z=0;Z<k;Z++)u[D[Z]]=H}else L?this.options.visualElement.renderState.vars[b]=H:u[b]=H}this.options.layoutId&&(u.pointerEvents=d===this?Pd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(zR),this.root.sharedNodes.clear()}}}function h7(t){t.updateLayout()}function f7(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Hi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],E=Yn(v);v.min=n[g].min,v.max=v.min+E}):YP(s,e.layoutBox,n)&&Hi(g=>{const v=o?e.measuredBox[g]:e.layoutBox[g],E=Yn(n[g]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const u=zl();Wc(u,n,e.layoutBox);const h=zl();o?Wc(h,t.applyTransform(i,!0),e.measuredBox):Wc(h,n,e.layoutBox);const f=!GP(u);let d=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:E}=g;if(v&&E){const S=cn();Em(S,e.layoutBox,v.layoutBox);const b=cn();Em(b,n,E.layoutBox),KP(S,b)||(d=!0),g.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function d7(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function m7(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function p7(t){t.clearSnapshot()}function zR(t){t.clearMeasurements()}function HR(t){t.isLayoutDirty=!1}function g7(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function y7(t){t.resolveTargetDelta()}function v7(t){t.calcProjection()}function _7(t){t.resetSkewAndRotation()}function E7(t){t.removeLeadSnapshot()}function GR(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function KR(t,e,n,i){t.min=Lt(e.min,n.min,i),t.max=Lt(e.max,n.max,i)}function T7(t,e,n,i){KR(t.x,e.x,n.x,i),KR(t.y,e.y,n.y,i)}function w7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const S7={duration:.45,ease:[.4,0,.1,1]},$R=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WR=$R("applewebkit/")&&!$R("chrome/")?Math.round:Xi;function YR(t){t.min=WR(t.min),t.max=WR(t.max)}function b7(t){YR(t.x),YR(t.y)}function YP(t,e,n){return t==="position"||t==="preserve-aspect"&&!NH(BR(e),BR(n),.2)}function A7(t){return t!==t.root&&t.scroll?.wasRoot}const R7=WP({attachResizeListener:(t,e)=>dh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ky={current:void 0},XP=WP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ky.current){const t=new R7({});t.mount(window),t.setOptions({layoutScroll:!0}),Ky.current=t}return Ky.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C7={pan:{Feature:$H},drag:{Feature:KH,ProjectionNode:XP,MeasureLayout:zP}};function XR(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=i[s];o&&Nt.postRender(()=>o(e,Nh(e)))}class I7 extends La{mount(){const{current:e}=this.node;e&&(this.unmount=Q5(e,(n,i)=>(XR(this.node,i,"Start"),s=>XR(this.node,s,"End"))))}unmount(){}}class x7 extends La{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xh(dh(this.node.current,"focus",()=>this.onFocus()),dh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QR(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=i[s];o&&Nt.postRender(()=>o(e,Nh(e)))}class D7 extends La{mount(){const{current:e}=this.node;e&&(this.unmount=tz(e,(n,i)=>(QR(this.node,i,"Start"),(s,{success:o})=>QR(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const s_=new WeakMap,$y=new WeakMap,P7=t=>{const e=s_.get(t.target);e&&e(t)},N7=t=>{t.forEach(P7)};function M7({root:t,...e}){const n=t||document;$y.has(n)||$y.set(n,{});const i=$y.get(n),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(N7,{root:t,...e})),i[s]}function O7(t,e,n){const i=M7(e);return s_.set(t,n),i.observe(t),()=>{s_.delete(t),i.unobserve(t)}}const V7={some:0,all:1};class L7 extends La{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:s="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:V7[s]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),E=d?g:v;E&&E(f)};return O7(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(k7(e,n))&&this.startObserver()}unmount(){}}function k7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const U7={inView:{Feature:L7},tap:{Feature:D7},focus:{Feature:x7},hover:{Feature:I7}},j7={layout:{ProjectionNode:XP,MeasureLayout:zP}},B7={...RH,...U7,...C7,...j7},Tm=zz(B7,tH);function _n({children:t,...e}){return R.jsx(R.Fragment,{children:R.jsx("button",{...e,children:t})})}function QP(t,e){return function(){return t.apply(e,arguments)}}const{toString:F7}=Object.prototype,{getPrototypeOf:JE}=Object,{iterator:ap,toStringTag:JP}=Symbol,op=(t=>e=>{const n=F7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),wr=t=>(t=t.toLowerCase(),e=>op(e)===t),lp=t=>e=>typeof e===t,{isArray:vu}=Array,au=lp("undefined");function Mh(t){return t!==null&&!au(t)&&t.constructor!==null&&!au(t.constructor)&&oi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ZP=wr("ArrayBuffer");function z7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZP(t.buffer),e}const H7=lp("string"),oi=lp("function"),eN=lp("number"),Oh=t=>t!==null&&typeof t=="object",q7=t=>t===!0||t===!1,Md=t=>{if(op(t)!=="object")return!1;const e=JE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JP in t)&&!(ap in t)},G7=t=>{if(!Oh(t)||Mh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},K7=wr("Date"),$7=wr("File"),W7=wr("Blob"),Y7=wr("FileList"),X7=t=>Oh(t)&&oi(t.pipe),Q7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||oi(t.append)&&((e=op(t))==="formdata"||e==="object"&&oi(t.toString)&&t.toString()==="[object FormData]"))},J7=wr("URLSearchParams"),[Z7,e8,t8,n8]=["ReadableStream","Request","Response","Headers"].map(wr),i8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),vu(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{if(Mh(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),u=o.length;let h;for(i=0;i<u;i++)h=o[i],e.call(null,t[h],h,t)}}function tN(t,e){if(Mh(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const Io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nN=t=>!au(t)&&t!==Io;function a_(){const{caseless:t,skipUndefined:e}=nN(this)&&this||{},n={},i=(s,o)=>{const u=t&&tN(n,o)||o;Md(n[u])&&Md(s)?n[u]=a_(n[u],s):Md(s)?n[u]=a_({},s):vu(s)?n[u]=s.slice():(!e||!au(s))&&(n[u]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Vh(arguments[s],i);return n}const r8=(t,e,n,{allOwnKeys:i}={})=>(Vh(e,(s,o)=>{n&&oi(s)?t[o]=QP(s,n):t[o]=s},{allOwnKeys:i}),t),s8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),a8=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},o8=(t,e,n,i)=>{let s,o,u;const h={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)u=s[o],(!i||i(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&JE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},l8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},u8=t=>{if(!t)return null;if(vu(t))return t;let e=t.length;if(!eN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},c8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&JE(Uint8Array)),h8=(t,e)=>{const i=(t&&t[ap]).call(t);let s;for(;(s=i.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},f8=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},d8=wr("HTMLFormElement"),m8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),JR=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),p8=wr("RegExp"),iN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Vh(n,(s,o)=>{let u;(u=e(s,o,t))!==!1&&(i[o]=u||s)}),Object.defineProperties(t,i)},g8=t=>{iN(t,(e,n)=>{if(oi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(oi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},y8=(t,e)=>{const n={},i=s=>{s.forEach(o=>{n[o]=!0})};return vu(t)?i(t):i(String(t).split(e)),n},v8=()=>{},_8=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function E8(t){return!!(t&&oi(t.append)&&t[JP]==="FormData"&&t[ap])}const T8=t=>{const e=new Array(10),n=(i,s)=>{if(Oh(i)){if(e.indexOf(i)>=0)return;if(Mh(i))return i;if(!("toJSON"in i)){e[s]=i;const o=vu(i)?[]:{};return Vh(i,(u,h)=>{const f=n(u,s+1);!au(f)&&(o[h]=f)}),e[s]=void 0,o}}return i};return n(t,0)},w8=wr("AsyncFunction"),S8=t=>t&&(Oh(t)||oi(t))&&oi(t.then)&&oi(t.catch),rN=((t,e)=>t?setImmediate:e?((n,i)=>(Io.addEventListener("message",({source:s,data:o})=>{s===Io&&o===n&&i.length&&i.shift()()},!1),s=>{i.push(s),Io.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",oi(Io.postMessage)),b8=typeof queueMicrotask<"u"?queueMicrotask.bind(Io):typeof process<"u"&&process.nextTick||rN,A8=t=>t!=null&&oi(t[ap]),re={isArray:vu,isArrayBuffer:ZP,isBuffer:Mh,isFormData:Q7,isArrayBufferView:z7,isString:H7,isNumber:eN,isBoolean:q7,isObject:Oh,isPlainObject:Md,isEmptyObject:G7,isReadableStream:Z7,isRequest:e8,isResponse:t8,isHeaders:n8,isUndefined:au,isDate:K7,isFile:$7,isBlob:W7,isRegExp:p8,isFunction:oi,isStream:X7,isURLSearchParams:J7,isTypedArray:c8,isFileList:Y7,forEach:Vh,merge:a_,extend:r8,trim:i8,stripBOM:s8,inherits:a8,toFlatObject:o8,kindOf:op,kindOfTest:wr,endsWith:l8,toArray:u8,forEachEntry:h8,matchAll:f8,isHTMLForm:d8,hasOwnProperty:JR,hasOwnProp:JR,reduceDescriptors:iN,freezeMethods:g8,toObjectSet:y8,toCamelCase:m8,noop:v8,toFiniteNumber:_8,findKey:tN,global:Io,isContextDefined:nN,isSpecCompliantForm:E8,toJSONObject:T8,isAsyncFn:w8,isThenable:S8,setImmediate:rN,asap:b8,isIterable:A8};function We(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}re.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const sN=We.prototype,aN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{aN[t]={value:t}});Object.defineProperties(We,aN);Object.defineProperty(sN,"isAxiosError",{value:!0});We.from=(t,e,n,i,s,o)=>{const u=Object.create(sN);re.toFlatObject(t,u,function(g){return g!==Error.prototype},d=>d!=="isAxiosError");const h=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return We.call(u,h,f,n,i,s),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",o&&Object.assign(u,o),u};const R8=null;function o_(t){return re.isPlainObject(t)||re.isArray(t)}function oN(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function ZR(t,e,n){return t?t.concat(e).map(function(s,o){return s=oN(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function C8(t){return re.isArray(t)&&!t.some(o_)}const I8=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function up(t,e,n){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,D){return!re.isUndefined(D[O])});const i=n.metaTokens,s=n.visitor||g,o=n.dots,u=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(s))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(re.isDate(b))return b.toISOString();if(re.isBoolean(b))return b.toString();if(!f&&re.isBlob(b))throw new We("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(b)||re.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,O,D){let L=b;if(b&&!D&&typeof b=="object"){if(re.endsWith(O,"{}"))O=i?O:O.slice(0,-2),b=JSON.stringify(b);else if(re.isArray(b)&&C8(b)||(re.isFileList(b)||re.endsWith(O,"[]"))&&(L=re.toArray(b)))return O=oN(O),L.forEach(function(k,Z){!(re.isUndefined(k)||k===null)&&e.append(u===!0?ZR([O],Z,o):u===null?O:O+"[]",d(k))}),!1}return o_(b)?!0:(e.append(ZR(D,O,o),d(b)),!1)}const v=[],E=Object.assign(I8,{defaultVisitor:g,convertValue:d,isVisitable:o_});function S(b,O){if(!re.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+O.join("."));v.push(b),re.forEach(b,function(L,H){(!(re.isUndefined(L)||L===null)&&s.call(e,L,re.isString(H)?H.trim():H,O,E))===!0&&S(L,O?O.concat(H):[H])}),v.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return S(t),e}function e1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ZE(t,e){this._pairs=[],t&&up(t,this,e)}const lN=ZE.prototype;lN.append=function(e,n){this._pairs.push([e,n])};lN.toString=function(e){const n=e?function(i){return e.call(this,i,e1)}:e1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function x8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uN(t,e,n){if(!e)return t;const i=n&&n.encode||x8;re.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=re.isURLSearchParams(e)?e.toString():new ZE(e,n).toString(i),o){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class t1{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(i){i!==null&&e(i)})}}const cN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D8=typeof URLSearchParams<"u"?URLSearchParams:ZE,P8=typeof FormData<"u"?FormData:null,N8=typeof Blob<"u"?Blob:null,M8={isBrowser:!0,classes:{URLSearchParams:D8,FormData:P8,Blob:N8},protocols:["http","https","file","blob","url","data"]},eT=typeof window<"u"&&typeof document<"u",l_=typeof navigator=="object"&&navigator||void 0,O8=eT&&(!l_||["ReactNative","NativeScript","NS"].indexOf(l_.product)<0),V8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L8=eT&&window.location.href||"http://localhost",k8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:eT,hasStandardBrowserEnv:O8,hasStandardBrowserWebWorkerEnv:V8,navigator:l_,origin:L8},Symbol.toStringTag,{value:"Module"})),Un={...k8,...M8};function U8(t,e){return up(t,new Un.classes.URLSearchParams,{visitor:function(n,i,s,o){return Un.isNode&&re.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function j8(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B8(t){const e={},n=Object.keys(t);let i;const s=n.length;let o;for(i=0;i<s;i++)o=n[i],e[o]=t[o];return e}function hN(t){function e(n,i,s,o){let u=n[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=n.length;return u=!u&&re.isArray(s)?s.length:u,f?(re.hasOwnProp(s,u)?s[u]=[s[u],i]:s[u]=i,!h):((!s[u]||!re.isObject(s[u]))&&(s[u]=[]),e(n,i,s[u],o)&&re.isArray(s[u])&&(s[u]=B8(s[u])),!h)}if(re.isFormData(t)&&re.isFunction(t.entries)){const n={};return re.forEachEntry(t,(i,s)=>{e(j8(i),s,n,0)}),n}return null}function F8(t,e,n){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Lh={transitional:cN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return s?JSON.stringify(hN(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return U8(e,this.formSerializer).toString();if((h=re.isFileList(e))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return up(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),F8(e)):e}],transformResponse:[function(e){const n=this.transitional||Lh.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(i&&!this.responseType||s)){const u=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?We.from(h,We.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Un.classes.FormData,Blob:Un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{Lh.headers[t]={}});const z8=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H8=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(u){s=u.indexOf(":"),n=u.substring(0,s).trim().toLowerCase(),i=u.substring(s+1).trim(),!(!n||e[n]&&z8[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},n1=Symbol("internals");function Ic(t){return t&&String(t).trim().toLowerCase()}function Od(t){return t===!1||t==null?t:re.isArray(t)?t.map(Od):String(t)}function q8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const G8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wy(t,e,n,i,s){if(re.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!re.isString(e)){if(re.isString(i))return e.indexOf(i)!==-1;if(re.isRegExp(i))return i.test(e)}}function K8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function $8(t,e){const n=re.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,o,u){return this[i].call(this,e,s,o,u)},configurable:!0})})}let li=class{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function o(h,f,d){const g=Ic(f);if(!g)throw new Error("header name must be a non-empty string");const v=re.findKey(s,g);(!v||s[v]===void 0||d===!0||d===void 0&&s[v]!==!1)&&(s[v||f]=Od(h))}const u=(h,f)=>re.forEach(h,(d,g)=>o(d,g,f));if(re.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(re.isString(e)&&(e=e.trim())&&!G8(e))u(H8(e),n);else if(re.isObject(e)&&re.isIterable(e)){let h={},f,d;for(const g of e){if(!re.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[d=g[0]]=(f=h[d])?re.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,n)}else e!=null&&o(n,e,i);return this}get(e,n){if(e=Ic(e),e){const i=re.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return q8(s);if(re.isFunction(n))return n.call(this,s,i);if(re.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ic(e),e){const i=re.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Wy(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function o(u){if(u=Ic(u),u){const h=re.findKey(i,u);h&&(!n||Wy(i,i[h],h,n))&&(delete i[h],s=!0)}}return re.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const o=n[i];(!e||Wy(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,i={};return re.forEach(this,(s,o)=>{const u=re.findKey(i,o);if(u){n[u]=Od(s),delete n[o];return}const h=e?K8(o):String(o).trim();h!==o&&delete n[o],n[h]=Od(s),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return re.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&re.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[n1]=this[n1]={accessors:{}}).accessors,s=this.prototype;function o(u){const h=Ic(u);i[h]||($8(s,u),i[h]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}};li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(li.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});re.freezeMethods(li);function Yy(t,e){const n=this||Lh,i=e||n,s=li.from(i.headers);let o=i.data;return re.forEach(t,function(h){o=h.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function fN(t){return!!(t&&t.__CANCEL__)}function _u(t,e,n){We.call(this,t??"canceled",We.ERR_CANCELED,e,n),this.name="CanceledError"}re.inherits(_u,We,{__CANCEL__:!0});function dN(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new We("Request failed with status code "+n.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function W8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y8(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=i[o];u||(u=d),n[s]=f,i[s]=d;let v=o,E=0;for(;v!==s;)E+=n[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),d-u<e)return;const S=g&&d-g;return S?Math.round(E*1e3/S):void 0}}function X8(t,e){let n=0,i=1e3/e,s,o;const u=(d,g=Date.now())=>{n=g,s=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const g=Date.now(),v=g-n;v>=i?u(d,g):(s=d,o||(o=setTimeout(()=>{o=null,u(s)},i-v)))},()=>s&&u(s)]}const wm=(t,e,n=3)=>{let i=0;const s=Y8(50,250);return X8(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-i,d=s(f),g=u<=h;i=u;const v={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&g?(h-u)/d:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(v)},n)},i1=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},r1=t=>(...e)=>re.asap(()=>t(...e)),Q8=Un.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Un.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Un.origin),Un.navigator&&/(msie|trident)/i.test(Un.navigator.userAgent)):()=>!0,J8=Un.hasStandardBrowserEnv?{write(t,e,n,i,s,o,u){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(e)}`];re.isNumber(n)&&h.push(`expires=${new Date(n).toUTCString()}`),re.isString(i)&&h.push(`path=${i}`),re.isString(s)&&h.push(`domain=${s}`),o===!0&&h.push("secure"),re.isString(u)&&h.push(`SameSite=${u}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Z8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eq(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mN(t,e,n){let i=!Z8(e);return t&&(i||n==!1)?eq(t,e):e}const s1=t=>t instanceof li?{...t}:t;function Fo(t,e){e=e||{};const n={};function i(d,g,v,E){return re.isPlainObject(d)&&re.isPlainObject(g)?re.merge.call({caseless:E},d,g):re.isPlainObject(g)?re.merge({},g):re.isArray(g)?g.slice():g}function s(d,g,v,E){if(re.isUndefined(g)){if(!re.isUndefined(d))return i(void 0,d,v,E)}else return i(d,g,v,E)}function o(d,g){if(!re.isUndefined(g))return i(void 0,g)}function u(d,g){if(re.isUndefined(g)){if(!re.isUndefined(d))return i(void 0,d)}else return i(void 0,g)}function h(d,g,v){if(v in e)return i(d,g);if(v in t)return i(void 0,d)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(d,g,v)=>s(s1(d),s1(g),v,!0)};return re.forEach(Object.keys({...t,...e}),function(g){const v=f[g]||s,E=v(t[g],e[g],g);re.isUndefined(E)&&v!==h||(n[g]=E)}),n}const pN=t=>{const e=Fo({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:h}=e;if(e.headers=u=li.from(u),e.url=uN(mN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),re.isFormData(n)){if(Un.hasStandardBrowserEnv||Un.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(re.isFunction(n.getHeaders)){const f=n.getHeaders(),d=["content-type","content-length"];Object.entries(f).forEach(([g,v])=>{d.includes(g.toLowerCase())&&u.set(g,v)})}}if(Un.hasStandardBrowserEnv&&(i&&re.isFunction(i)&&(i=i(e)),i||i!==!1&&Q8(e.url))){const f=s&&o&&J8.read(o);f&&u.set(s,f)}return e},tq=typeof XMLHttpRequest<"u",nq=tq&&function(t){return new Promise(function(n,i){const s=pN(t);let o=s.data;const u=li.from(s.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=s,g,v,E,S,b;function O(){S&&S(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function L(){if(!D)return;const k=li.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),K={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:k,config:t,request:D};dN(function(I){n(I),O()},function(I){i(I),O()},K),D=null}"onloadend"in D?D.onloadend=L:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(L)},D.onabort=function(){D&&(i(new We("Request aborted",We.ECONNABORTED,t,D)),D=null)},D.onerror=function(Z){const K=Z&&Z.message?Z.message:"Network Error",N=new We(K,We.ERR_NETWORK,t,D);N.event=Z||null,i(N),D=null},D.ontimeout=function(){let Z=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const K=s.transitional||cN;s.timeoutErrorMessage&&(Z=s.timeoutErrorMessage),i(new We(Z,K.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,t,D)),D=null},o===void 0&&u.setContentType(null),"setRequestHeader"in D&&re.forEach(u.toJSON(),function(Z,K){D.setRequestHeader(K,Z)}),re.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),h&&h!=="json"&&(D.responseType=s.responseType),d&&([E,b]=wm(d,!0),D.addEventListener("progress",E)),f&&D.upload&&([v,S]=wm(f),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=k=>{D&&(i(!k||k.type?new _u(null,t,D):k),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const H=W8(s.url);if(H&&Un.protocols.indexOf(H)===-1){i(new We("Unsupported protocol "+H+":",We.ERR_BAD_REQUEST,t));return}D.send(o||null)})},iq=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,s;const o=function(d){if(!s){s=!0,h();const g=d instanceof Error?d:this.reason;i.abort(g instanceof We?g:new _u(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>re.asap(h),f}},rq=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,s;for(;i<n;)s=i+e,yield t.slice(i,s),i=s},sq=async function*(t,e){for await(const n of aq(t))yield*rq(n,e)},aq=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},a1=(t,e,n,i)=>{const s=sq(t,e);let o=0,u,h=f=>{u||(u=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await s.next();if(d){h(),f.close();return}let v=g.byteLength;if(n){let E=o+=v;n(E)}f.enqueue(new Uint8Array(g))}catch(d){throw h(d),d}},cancel(f){return h(f),s.return()}},{highWaterMark:2})},o1=64*1024,{isFunction:dd}=re,oq=(({Request:t,Response:e})=>({Request:t,Response:e}))(re.global),{ReadableStream:l1,TextEncoder:u1}=re.global,c1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},lq=t=>{t=re.merge.call({skipUndefined:!0},oq,t);const{fetch:e,Request:n,Response:i}=t,s=e?dd(e):typeof fetch=="function",o=dd(n),u=dd(i);if(!s)return!1;const h=s&&dd(l1),f=s&&(typeof u1=="function"?(b=>O=>b.encode(O))(new u1):async b=>new Uint8Array(await new n(b).arrayBuffer())),d=o&&h&&c1(()=>{let b=!1;const O=new n(Un.origin,{body:new l1,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!O}),g=u&&h&&c1(()=>re.isReadableStream(new i("").body)),v={stream:g&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!v[b]&&(v[b]=(O,D)=>{let L=O&&O[b];if(L)return L.call(O);throw new We(`Response type '${b}' is not supported`,We.ERR_NOT_SUPPORT,D)})});const E=async b=>{if(b==null)return 0;if(re.isBlob(b))return b.size;if(re.isSpecCompliantForm(b))return(await new n(Un.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(re.isArrayBufferView(b)||re.isArrayBuffer(b))return b.byteLength;if(re.isURLSearchParams(b)&&(b=b+""),re.isString(b))return(await f(b)).byteLength},S=async(b,O)=>{const D=re.toFiniteNumber(b.getContentLength());return D??E(O)};return async b=>{let{url:O,method:D,data:L,signal:H,cancelToken:k,timeout:Z,onDownloadProgress:K,onUploadProgress:N,responseType:I,headers:C,withCredentials:P="same-origin",fetchOptions:j}=pN(b),F=e||fetch;I=I?(I+"").toLowerCase():"text";let G=iq([H,k&&k.toAbortSignal()],Z),M=null;const xe=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let Ke;try{if(N&&d&&D!=="get"&&D!=="head"&&(Ke=await S(C,L))!==0){let se=new n(O,{method:"POST",body:L,duplex:"half"}),ge;if(re.isFormData(L)&&(ge=se.headers.get("content-type"))&&C.setContentType(ge),se.body){const[pe,ve]=i1(Ke,wm(r1(N)));L=a1(se.body,o1,pe,ve)}}re.isString(P)||(P=P?"include":"omit");const Y=o&&"credentials"in n.prototype,he={...j,signal:G,method:D.toUpperCase(),headers:C.normalize().toJSON(),body:L,duplex:"half",credentials:Y?P:void 0};M=o&&new n(O,he);let me=await(o?F(M,j):F(O,he));const Pe=g&&(I==="stream"||I==="response");if(g&&(K||Pe&&xe)){const se={};["status","statusText","headers"].forEach(ze=>{se[ze]=me[ze]});const ge=re.toFiniteNumber(me.headers.get("content-length")),[pe,ve]=K&&i1(ge,wm(r1(K),!0))||[];me=new i(a1(me.body,o1,pe,()=>{ve&&ve(),xe&&xe()}),se)}I=I||"text";let B=await v[re.findKey(v,I)||"text"](me,b);return!Pe&&xe&&xe(),await new Promise((se,ge)=>{dN(se,ge,{data:B,headers:li.from(me.headers),status:me.status,statusText:me.statusText,config:b,request:M})})}catch(Y){throw xe&&xe(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,b,M),{cause:Y.cause||Y}):We.from(Y,Y&&Y.code,b,M)}}},uq=new Map,gN=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:s}=e,o=[i,s,n];let u=o.length,h=u,f,d,g=uq;for(;h--;)f=o[h],d=g.get(f),d===void 0&&g.set(f,d=h?new Map:lq(e)),g=d;return d};gN();const tT={http:R8,xhr:nq,fetch:{get:gN}};re.forEach(tT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const h1=t=>`- ${t}`,cq=t=>re.isFunction(t)||t===null||t===!1;function hq(t,e){t=re.isArray(t)?t:[t];const{length:n}=t;let i,s;const o={};for(let u=0;u<n;u++){i=t[u];let h;if(s=i,!cq(i)&&(s=tT[(h=String(i)).toLowerCase()],s===void 0))throw new We(`Unknown adapter '${h}'`);if(s&&(re.isFunction(s)||(s=s.get(e))))break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let h=n?u.length>1?`since :
`+u.map(h1).join(`
`):" "+h1(u[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s}const yN={getAdapter:hq,adapters:tT};function Xy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _u(null,t)}function f1(t){return Xy(t),t.headers=li.from(t.headers),t.data=Yy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yN.getAdapter(t.adapter||Lh.adapter,t)(t).then(function(i){return Xy(t),i.data=Yy.call(t,t.transformResponse,i),i.headers=li.from(i.headers),i},function(i){return fN(i)||(Xy(t),i&&i.response&&(i.response.data=Yy.call(t,t.transformResponse,i.response),i.response.headers=li.from(i.response.headers))),Promise.reject(i)})}const vN="1.13.2",cp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{cp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const d1={};cp.transitional=function(e,n,i){function s(o,u){return"[Axios v"+vN+"] Transitional option '"+o+"'"+u+(i?". "+i:"")}return(o,u,h)=>{if(e===!1)throw new We(s(u," has been removed"+(n?" in "+n:"")),We.ERR_DEPRECATED);return n&&!d1[u]&&(d1[u]=!0,console.warn(s(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,u,h):!0}};cp.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function fq(t,e,n){if(typeof t!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const o=i[s],u=e[o];if(u){const h=t[o],f=h===void 0||u(h,o,t);if(f!==!0)throw new We("option "+o+" must be "+f,We.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new We("Unknown option "+o,We.ERR_BAD_OPTION)}}const Vd={assertOptions:fq,validators:cp},Pr=Vd.validators;let No=class{constructor(e){this.defaults=e||{},this.interceptors={request:new t1,response:new t1}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Fo(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:o}=n;i!==void 0&&Vd.assertOptions(i,{silentJSONParsing:Pr.transitional(Pr.boolean),forcedJSONParsing:Pr.transitional(Pr.boolean),clarifyTimeoutError:Pr.transitional(Pr.boolean)},!1),s!=null&&(re.isFunction(s)?n.paramsSerializer={serialize:s}:Vd.assertOptions(s,{encode:Pr.function,serialize:Pr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Vd.assertOptions(n,{baseUrl:Pr.spelling("baseURL"),withXsrfToken:Pr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=o&&re.merge(o.common,o[n.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),n.headers=li.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(f=f&&O.synchronous,h.unshift(O.fulfilled,O.rejected))});const d=[];this.interceptors.response.forEach(function(O){d.push(O.fulfilled,O.rejected)});let g,v=0,E;if(!f){const b=[f1.bind(this),void 0];for(b.unshift(...h),b.push(...d),E=b.length,g=Promise.resolve(n);v<E;)g=g.then(b[v++],b[v++]);return g}E=h.length;let S=n;for(;v<E;){const b=h[v++],O=h[v++];try{S=b(S)}catch(D){O.call(this,D);break}}try{g=f1.call(this,S)}catch(b){return Promise.reject(b)}for(v=0,E=d.length;v<E;)g=g.then(d[v++],d[v++]);return g}getUri(e){e=Fo(this.defaults,e);const n=mN(e.baseURL,e.url,e.allowAbsoluteUrls);return uN(n,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){No.prototype[e]=function(n,i){return this.request(Fo(i||{},{method:e,url:n,data:(i||{}).data}))}});re.forEach(["post","put","patch"],function(e){function n(i){return function(o,u,h){return this.request(Fo(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}No.prototype[e]=n(),No.prototype[e+"Form"]=n(!0)});let dq=class _N{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(h=>{i.subscribe(h),o=h}).then(s);return u.cancel=function(){i.unsubscribe(o)},u},e(function(o,u,h){i.reason||(i.reason=new _u(o,u,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new _N(function(s){e=s}),cancel:e}}};function mq(t){return function(n){return t.apply(null,n)}}function pq(t){return re.isObject(t)&&t.isAxiosError===!0}const u_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(u_).forEach(([t,e])=>{u_[e]=t});function EN(t){const e=new No(t),n=QP(No.prototype.request,e);return re.extend(n,No.prototype,e,{allOwnKeys:!0}),re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return EN(Fo(t,s))},n}const Wt=EN(Lh);Wt.Axios=No;Wt.CanceledError=_u;Wt.CancelToken=dq;Wt.isCancel=fN;Wt.VERSION=vN;Wt.toFormData=up;Wt.AxiosError=We;Wt.Cancel=Wt.CanceledError;Wt.all=function(e){return Promise.all(e)};Wt.spread=mq;Wt.isAxiosError=pq;Wt.mergeConfig=Fo;Wt.AxiosHeaders=li;Wt.formToJSON=t=>hN(re.isHTMLForm(t)?new FormData(t):t);Wt.getAdapter=yN.getAdapter;Wt.HttpStatusCode=u_;Wt.default=Wt;const{Axios:SK,AxiosError:bK,CanceledError:AK,isCancel:RK,CancelToken:CK,VERSION:IK,all:xK,Cancel:DK,isAxiosError:PK,spread:NK,toFormData:MK,AxiosHeaders:OK,HttpStatusCode:VK,formToJSON:LK,getAdapter:kK,mergeConfig:UK}=Wt;function gq(){const[t,e]=V.useState(null),[n,i]=V.useState(null),[s,o]=V.useState("idle"),[u,h]=V.useState(0),f=ui(),d=tt(E=>E.auth.user.uid);function g(E){E.target.files&&e(E.target.files[0])}async function v(){if(!t)return;o("Uploading");const E=new FormData;E.append("file",t),E.append("upload_preset","ehljsu8d"),Wt.post("https://api.cloudinary.com/v1_1/duvpgswi7/image/upload",E).then(S=>{const b=S.data.secure_url,O=Yi(Xn,"Users",d);jr(O,{profileImgUrl:b}),f(Fd.uploadAvatar(b)),alert("Image uploaded!")})}return R.jsxs(R.Fragment,{children:[R.jsx("input",{type:"file",onChange:g}),R.jsxs("div",{children:[t&&R.jsxs("div",{children:[R.jsxs("p",{children:["File Name: ",t.name]}),R.jsxs("p",{children:["Size: ",(t.size/1024).toFixed(2)," KB"]}),R.jsxs("p",{children:["Type: ",t.type]})]}),s==="uploading"&&R.jsxs("div",{className:"space-y-2",children:[R.jsx("div",{className:"h-2.5 w-full rounded-full bg-gray-200",children:R.jsx("div",{className:"h-2.5 rounded-full bg-blue-600 transition-all duration-300",style:{width:`${u}%`}})}),R.jsxs("p",{className:"text-sm text-gray-600",children:[u,"% uploaded"]})]}),t&&s!=="uploading"&&R.jsx("button",{onClick:v,children:"Upload"}),s==="error"&&R.jsx("p",{children:"Upload Failed"}),s==="success"&&R.jsx("p",{children:"File uploaded successfully "}),R.jsx("p",{children:s})]})]})}const yq="_curWatchingWrapper_qlfa3_1",vq="_watchingList_qlfa3_19",m1={curWatchingWrapper:yq,watchingList:vq};function _q(){const t=tt(e=>e.shows.currentlyBinging);return console.log(t),R.jsx(R.Fragment,{children:R.jsxs("main",{className:m1.curWatchingWrapper,children:[R.jsx("h2",{children:"Currently Binging:"}),R.jsx("div",{className:m1.watchingList,children:t.map(e=>R.jsx("p",{children:e.show},e.id))})]})})}V.createContext({userAccount:{id:void 0,email:void 0,userName:void 0,password:void 0,myShows:[],friendList:[]},bingeFeed:[{userName:void 0,currBinge:[],recentlyWatchedEp:{epName:void 0,showName:void 0},recentlyFinishedShow:void 0}],addFriend:()=>{},isCreatingAccount:!1,createNewUser:async()=>{},startCreatingAccount:()=>{},stopCreatingAccount:()=>{},isLoggingIn:!1,isLoggedIn:!1,startLoggingIn:()=>{},stopLoggingIn:()=>{},verifyLogin:()=>{},logOut:()=>{}});V.createContext({bio:[],editingBio:[!1],updateBio:()=>{},editBio:()=>{},saveBio:()=>{},bioAvatar:[],uploadAvatar:()=>{},myShows:[],saveShow:()=>{},displayShows:()=>{},currentlyBinging:[],binging:()=>{},bingingChecked:[],areNotesOpen:[],openNotes:()=>{},isEditingEpNotes:[],editEpNotes:()=>{},updateEpNotes:()=>{},saveNotes:()=>{},epNotes:[],isEditingCharNotes:[],editCharNotes:()=>{},updateCharNotes:()=>{},saveCharNotes:()=>{},characterNotes:[]});const Eq="_bioTextBox_1yuvb_1",Tq={bioTextBox:Eq};function wq(){const[t,e]=V.useState(),[n,i]=V.useState(!1),s=ui(),o=tt(g=>g.profile.bio),u=tt(g=>g.auth.user.uid);function h(){i(!0),console.log(n)}function f(g){e(g)}async function d(){const g=t,v=Yi(Xn,"Users",u);await jr(v,{bio:g},s(Fd.updateBio(g))),alert("Bio Saved!"),i(!1)}return R.jsxs(R.Fragment,{children:[R.jsx("label",{children:"Upload Avatar"}),R.jsx(gq,{}),R.jsxs("div",{children:[o,n&&R.jsx("textarea",{className:Tq.bioTextBox,value:t??o,onChange:g=>f(g.target.value)}),R.jsx(_n,{onClick:()=>h(),children:"Edit Bio"}),R.jsx(_n,{onClick:()=>d(),children:"Save Bio"})]})]})}const Sq="_mainWrapper_cfe5a_1",bq="_header_cfe5a_15",Aq="_editBttn_cfe5a_27",Rq="_totalBinge_cfe5a_37",Cq="_bioBox_cfe5a_57",Iq="_avatar_cfe5a_81",vo={mainWrapper:Sq,header:bq,editBttn:Aq,totalBinge:Rq,bioBox:Cq,avatar:Iq};function xq({id:t}){const[e,n]=V.useState(!1);ui();function i(){n(!0),e&&n(!1)}const s=tt(d=>d.profile.bio),o=tt(d=>d.profile.profileImgUrl),u=tt(d=>d.auth.user.userName);tt(d=>d.auth.user.id);const h=tt(d=>d.shows.currentlyBinging),f=tt(d=>d.shows.finishedShows);return R.jsx(R.Fragment,{children:R.jsxs("main",{className:vo.mainWrapper,children:[R.jsxs("div",{className:vo.header,children:[R.jsx(_n,{className:vo.editBttn,onClick:()=>i(),children:e?"Save Profile":"Edit Profile"}),R.jsx(_n,{className:vo.editBttn,children:" Add Friend"}),R.jsx("img",{className:vo.avatar,src:o||"/BingeLog/DefaultAvatar.png",width:"75",height:"75"}),R.jsx("h3",{children:u}),R.jsx("h3",{children:"Binging since: 2025"}),R.jsx(ps,{to:"/friendsList",children:R.jsx("h2",{children:"Friends List"})}),e?R.jsx(wq,{}):R.jsx("div",{className:vo.bioBox,children:s}),R.jsxs("div",{className:vo.totalBinge,children:[R.jsxs("h4",{children:["Shows Finished: ",f.length," "]}),R.jsxs("h4",{children:["Currently Binging: ",h.length," shows"]})]})]}),R.jsx("a",{href:"http://localhost:5173/userPage/${userId}",to:"_blank",children:R.jsx("h4",{children:"Share Profile Link"})})]})})}const Dq="_mainWrapper_9mvwk_1",Pq="_menuBttns_9mvwk_19",Nq="_mainContent_9mvwk_41",Qy={mainWrapper:Dq,menuBttns:Pq,mainContent:Nq},Mq="_inputWrapper_15cja_1",Oq={inputWrapper:Mq};function Xl({label:t,id:e,attribute:n,...i}){return R.jsx(R.Fragment,{children:R.jsxs("div",{className:Oq.inputWrapper,children:[R.jsx("label",{htmlFor:n,children:t}),R.jsx("input",{id:e,...i})]})})}const Vq="_showNotesWrapper_easm0_1",Lq="_saveNotesBttn_easm0_47",kq="_noteBttnsDiv_easm0_63",Uq="_editBttn_easm0_77",jq="_viewNotesBttn_easm0_91",Bq="_closeNotesBttn_easm0_107",Fq="_showNotes_easm0_1",_o={showNotesWrapper:Vq,saveNotesBttn:Lq,noteBttnsDiv:kq,editBttn:Uq,viewNotesBttn:jq,closeNotesBttn:Bq,showNotes:Fq};function zq({epTitle:t,showTitle:e}){const n=ui(),i=tt(N=>N.auth.user.uid),s=tt(N=>N.notes.epNotes),o=tt(N=>N.notes.charNotes),u=tt(N=>N.shows.watchedEps),[h,f]=V.useState({}),[d,g]=V.useState({}),[v,E]=V.useState(),[S,b]=V.useState();function O(N){E(N)}function D(N,I){f(C=>({...C,[I]:N}))}function L(N,I){g(C=>({...C,[I]:N}))}async function H(N,I){const C=u.some(j=>j.epName===N&&j.showName===I);let P=null;C?P=u.filter(j=>!(j.epName===N&&j.showName===I)):(P=[...u,{epName:N,showName:I}],alert(`Watched ${N}!`));try{const j=Yi(Xn,"Users",i);await jr(j,{watchedEps:P}),n(Zt.updateWatchedEps(P))}catch(j){console.error(j)}}async function k(N){const I={...s,[N]:h[N]??s[N]},C={...o,[N]:d[N]??o[N]};try{const P=Yi(Xn,"Users",i);await jr(P,{epNotes:I||"",charNotes:C||""}),n(zd.updateEpNotes(I)),n(zd.updateCharNotes(C))}catch(P){console.error(P)}E()}function Z(N){b(N)}function K(){b()}return V.useEffect(()=>{const N=JSON.parse(localStorage.getItem("EpNotes: "+t));N&&D(N,t)},[t]),R.jsxs("main",{className:_o.showNotesWrapper,children:[R.jsxs("div",{className:_o.noteBttnsDiv,children:[v===t?R.jsx(_n,{className:_o.saveNotesBttn,onClick:()=>k(t),children:"Save Notes"}):R.jsx(_n,{className:_o.editBttn,onClick:()=>O(t),children:"Edit Notes"}),v!==t&&S===t?R.jsx(_n,{className:_o.closeNotesBttn,onClick:()=>K(),children:"Close Notes"}):R.jsx(_n,{className:_o.viewNotesBttn,onClick:()=>Z(t),children:"View Notes"}),R.jsx(Xl,{label:"Watched",type:"checkbox",value:t,checked:u.some(N=>N.epName===t&&N.showName===e),onChange:()=>H(t,e)})]}),v===t&&R.jsxs("div",{children:[R.jsx("p",{children:"Episode Notes"}),R.jsx("textarea",{value:h[t]??s[t],onChange:N=>D(N.target.value,t)}),R.jsx("p",{children:"Character Notes"}),R.jsx("textarea",{value:d[t]??o[t],onChange:N=>L(N.target.value,t)})]}),S===t&&R.jsxs("div",{className:_o.showNotes,children:[R.jsx("p",{children:"Episode Notes "}),s[t],R.jsx("hr",{}),R.jsx("p",{children:"CharacterNotes"}),o[t]]})]})}const Hq="_epWrapper_9zql4_1",qq="_epList_9zql4_63",Gq="_singleEp_9zql4_87",md={epWrapper:Hq,epList:qq,singleEp:Gq};function Kq({seasonTitle:t,show:e}){const n=e.seasons.find(i=>i.title===t);return R.jsxs("main",{className:md.epWrapper,children:[R.jsx("div",{children:R.jsx("p",{className:md.epList,children:"Episodes List"})}),n&&R.jsx("div",{children:n.episodes?.map(i=>R.jsxs("div",{className:md.singleEp,id:i.title,children:[R.jsxs("header",{children:[R.jsx("h3",{children:i.title}),R.jsx("div",{className:md.noteBttnsDiv,children:R.jsx(zq,{show:e,epTitle:i.title,showTitle:e.title})})]}),R.jsx("br",{})]},i.title))},n.title)]})}const $q="_seasonsWrapper_u2jy9_1",Wq="_seasonsTitle_u2jy9_15",p1={seasonsWrapper:$q,seasonsTitle:Wq};function Yq({show:t}){const[e,n]=V.useState("");function i(s){n(s),e===s&&n("")}return R.jsxs(Tm.main,{className:p1.seasonsWrapper,children:[R.jsx("p",{className:p1.seasonsTitle,children:"Seasons List"}),t&&R.jsxs("div",{children:[t.seasons?.map(s=>R.jsx("p",{onClick:()=>i(s.title),children:s.title},s.title)),R.jsx(ym,{children:e&&R.jsx(Tm.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:R.jsx(Kq,{seasonTitle:e,show:t})},t.id)})]},t.id)]})}const Xq="_showWrapper_glu6g_1",Qq="_showTitle_glu6g_19",Jq="_showStatus_glu6g_47",Jy={showWrapper:Xq,showTitle:Qq,showStatus:Jq},Zq="_reviewDivWrapper_5tcso_1",eG={reviewDivWrapper:Zq};function tG({showId:t,showTitle:e}){const[n,i]=V.useState(""),s=ui(),o=tt(g=>g.shows.reviews),u=tt(g=>g.auth.user.uid),h=Yi(Xn,"Users",u);function f(g){i(g)}async function d(){const g=n?.trim()??"",v={showId:t,title:e,text:g,createdAt:Date.now()},S=[...(Array.isArray(o)?o:[]).filter(b=>b.showID!==t),v];await jr(h,{reviews:S}),s(Zt.updateReviews(S)),alert("Review Saved!")}return R.jsxs("div",{className:eG.reviewDivWrapper,children:[R.jsx("textarea",{value:n,onChange:g=>f(g.target.value)}),R.jsx("button",{onClick:()=>d(),children:"Save Review"})]})}function g1({id:t}){const e=ui(),[n,i]=V.useState(""),s=tt(H=>H.shows.myShows),o=tt(H=>H.shows.currentlyBinging),u=tt(H=>H.shows.finishedShows),h=tt(H=>H.auth.user.uid),f=tt(H=>H.shows.isReviewing),d=tt(H=>H.shows.reviewingShowId);function g(H){i(H),n===H&&i("")}async function v(H,k){const Z=s.map(I=>I.id===k?{...I,isFinished:!I.isFinished}:I),K=u.some(I=>I.id===k);let N;K?N=u.filter(I=>I.id!==k):(N=[...u,{show:H,id:k}],alert(`Finished ${H}!`));try{const I=Yi(Xn,"Users",h);await jr(I,{finishedShows:N,myShows:Z}),e(Zt.updateFinishedShows(N)),e(Zt.updateMyShows(Z))}catch(I){console.log(I)}}async function E(H,k){const Z=s.map(I=>I.id===k?{...I,isBinging:!I.isBinging}:I),K=o.some(I=>I.id===k);let N;K?N=o.filter(I=>I.id!==k):N=[...o,{show:H,id:k}];try{const I=Yi(Xn,"Users",h);await jr(I,{currentlyBinging:N,myShows:Z}),e(Zt.updateBinging(N)),e(Zt.updateMyShows(Z))}catch(I){console.error(I)}}async function S(H){const k=s.filter(N=>N.id!==H),Z=o.filter(N=>N.id!==H),K=u.filter(N=>N.id!==H);try{const N=Yi(Xn,"Users",h);await jr(N,{myShows:k,currentlyBinging:Z,finishedShows:K}),e(Zt.updateMyShows(k)),e(Zt.updateBinging(Z)),e(Zt.updateFinishedShows(K))}catch(N){console.error(N)}console.log(k),console.log(Z),console.log(K)}function b(H){e(Zt.reviewingShow(H)),e(Zt.toggleReviewing())}function O(H){const k=[...H].sort((Z,K)=>Z.title.localeCompare(K.title));e(Zt.updateMyShows(k))}function D(H){const k=[...H].sort((Z,K)=>K.isBinging-Z.isBinging);e(Zt.updateMyShows(k))}function L(H){const k=[...H].sort((Z,K)=>K.isFinished-Z.isFinished);e(Zt.updateMyShows(k))}return R.jsxs("main",{...t,className:Jy.showWrapper,children:[R.jsxs("div",{children:[R.jsx("h2",{children:"Show Sorting Options"}),R.jsx("button",{onClick:()=>O(s),children:"Sort by show name"})," ---",R.jsx("button",{onClick:()=>D(s),children:"Sort by binge status"})," ---",R.jsx("button",{onClick:()=>L(s),children:"Sort by finished status"})]}),R.jsx(ym,{children:s.map(H=>R.jsxs("div",{className:Jy.showTitle,children:[R.jsx("p",{onClick:()=>g(H.id),children:H.title}),R.jsxs("div",{className:Jy.showStatus,children:[R.jsx("button",{onClick:()=>b(H.id),children:"Add Review"})," ",R.jsx("br",{}),R.jsx("button",{onClick:()=>S(H.id),children:"Remove Show"})," ",R.jsx("br",{}),R.jsxs("label",{children:[" Finished",R.jsx("input",{type:"checkbox",value:H.id,checked:u.some(k=>k.id===H.id),onChange:()=>v(H.title,H.id)})]})," ||",R.jsxs("label",{children:[" Currently Binging",R.jsx("input",{type:"checkbox",value:H.id,checked:o.some(k=>k.id===H.id),onChange:()=>E(H.title,H.id)})]})]}),f&&d===H.id&&R.jsx(tG,{showId:H.id,showTitle:H.title}),R.jsx(ym,{children:n===H.id&&R.jsx(Tm.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:R.jsx(Yq,{show:H,animate:{y:3}})})})]},H.id))})]})}const nG="_reviewsWrapperDiv_69dcg_1",iG="_showTitle_69dcg_11",rG="_showReview_69dcg_19",Zy={reviewsWrapperDiv:nG,showTitle:iG,showReview:rG};function sG(){ui();const t=tt(e=>e.shows.reviews);return R.jsx(R.Fragment,{children:R.jsxs("main",{className:Zy.reviewsWrapperDiv,children:[R.jsx("h1",{children:"Reviews"}),t.map(e=>R.jsxs("div",{children:[R.jsx("h1",{className:Zy.showTitle,children:e.title}),R.jsx("div",{className:Zy.showReview,children:e.text})]}))]})})}function aG(){const[t,e]=V.useState(R.jsx(g1,{})),[n,i]=V.useState("displayShows"),[s,o]=V.useState("displayShows"),h=hC().id;if(!tt(g=>g.auth.isLoggedIn))return R.jsx(HV,{to:"/",replace:!0});function d(g){i(g),o(g)}return R.jsx(R.Fragment,{children:R.jsxs("main",{className:Qy.mainWrapper,id:h,children:[R.jsx(xq,{id:h}),R.jsxs("div",{className:Qy.menuBttns,children:[R.jsx(_n,{onClick:()=>d("displayShows"),children:"My Shows"})," |",R.jsx(_n,{onClick:()=>d("displayReviews"),children:"My Reviews"})," |",R.jsx(_n,{onClick:()=>d("displayWatching"),children:"Currently Watching"})]}),R.jsx(ym,{mode:"wait",children:R.jsxs(Tm.div,{initial:{x:-300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},transition:{duration:.2,ease:"easeOut"},className:Qy.mainContent,children:[n==="displayShows"&&R.jsx(g1,{}),n==="displayReviews"&&R.jsx(sG,{}),n==="displayWatching"&&R.jsx(_q,{})]},s)})]})})}const oG="_showWrapper_t071u_1",lG="_showDetails_t071u_65",uG="_genres_t071u_93",cG="_seasonInfo_t071u_115",hG="_showOverview_t071u_125",fG="_streamingOptionsWrapper_t071u_137",dG="_streamingService_t071u_153",aa={showWrapper:oG,showDetails:lG,genres:uG,seasonInfo:cG,showOverview:hG,streamingOptionsWrapper:fG,streamingService:dG};function mG({showDetails:t}){console.log(t);const e=ui(),n=tt(u=>u.shows.myShows),i=tt(u=>u.auth.user.uid);async function s(u){if(n.some(v=>v.id===u.imdbId)){alert("Show is already added in your list!");return}const f={id:u.imdbId,title:u.title,seasons:u.seasons?.map(v=>({title:v.title,episodes:v.episodes?.map(E=>({title:E.title,isWatched:!1}))})),isBinging:!1,isFinished:!1},d=[...n,f];if(!i){console.error("No user logged in!");return}const g=Yi(Xn,"Users",i);await jr(g,{myShows:d}),e(Zt.updateMyShows(d)),alert(`${u.title} has been added to your list!`)}function o(u){s(u)}return console.log(t),console.log(t.streamingOptions.us),R.jsx("main",{className:aa.showWrapper,children:t&&R.jsxs("div",{className:aa.showInfo,children:[R.jsx("header",{children:R.jsx("img",{src:t.imageSet.horizontalPoster.w360})}),R.jsxs("div",{className:aa.showDetails,children:[R.jsx("div",{children:R.jsx(_n,{onClick:()=>o(t),children:"Save Show"})}),R.jsxs("div",{className:aa.genres,children:[R.jsx("p",{children:t.genres[0].name}),"|",R.jsx("p",{children:t?.genres[1]?.name}),"|",R.jsx("p",{children:t?.genres[2]?.name}),R.jsxs("div",{className:aa.seasonInfo,children:["-",R.jsxs("p",{children:[t?.seasonCount," Seasons"]}),"-",R.jsxs("p",{children:[t.episodeCount," Episodes"]})]})]}),R.jsx("p",{className:aa.showOverview,children:t.overview}),R.jsx("hr",{}),R.jsx("p",{children:"Watch Options"}),R.jsx("div",{className:aa.streamingOptionsWrapper,children:t.streamingOptions.us?.map(u=>R.jsxs("div",{className:aa.streamingService,children:[R.jsx("p",{children:u.type}),R.jsx("a",{href:u.link,target:"_blank",children:R.jsx("img",{src:u.service.imageSet.darkThemeImage})})]}))})]})]},t.imdbId)})}const pG="_mainDropdownWrapper_wnbkx_1",gG="_showDetails_wnbkx_27",y1={mainDropdownWrapper:pG,showDetails:gG};function yG({searchResults:t,query:e}){const[n,i]=V.useState(null);function s(o){i(o)}return console.log(t),R.jsxs(R.Fragment,{children:[R.jsx("div",{className:y1.mainDropdownWrapper,children:R.jsx("div",{children:t.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())).map(o=>R.jsxs("div",{className:y1.showDetails,onClick:()=>s(o),children:[R.jsx("p",{children:o.title},o.imdbId),R.jsx("img",{src:o.imageSet.horizontalPoster.w360})]}))})}),R.jsx("div",{children:n&&R.jsx(mG,{showDetails:n})})]})}const vG="_mainWrapper_vwg4t_1",_G={mainWrapper:vG};function EG(){const[t,e]=V.useState(""),[n,i]=V.useState(null);return V.useEffect(()=>{if(!t)return;const s=setTimeout(()=>{async function o(u){try{const h=`https://streaming-availability.p.rapidapi.com/shows/search/title?title=${u}&country=us&series_granularity=episode&output_language=en`,g=await(await fetch(h,{method:"GET",headers:{"x-rapidapi-key":"a89fb87d38msh09f056f5c014528p1a7f90jsn35606eacd94f","x-rapidapi-host":"streaming-availability.p.rapidapi.com"}})).json();i(g),console.log(g)}catch(h){console.error(h)}}o(t)},500);return()=>clearTimeout(s)},[t]),R.jsxs("div",{className:_G.mainWrapper,children:[R.jsx("input",{type:"search",placeholder:"Seach a show",value:t,onChange:s=>e(s.target.value)}),n&&R.jsx(yG,{searchResults:n,query:t})]})}const TG="_mainWrapper_1yzt3_1",wG={mainWrapper:TG};function SG(){return R.jsx(R.Fragment,{children:R.jsx("main",{className:wG.mainWrapper,children:R.jsxs("header",{children:[R.jsx("h1",{children:"Shows List Page"}),R.jsx(EG,{})]})})})}const bG="_actionBarWrapper_4hbr0_1",AG="_actionBarIconRow_4hbr0_17",v1={actionBarWrapper:bG,actionBarIconRow:AG},RG="_commentBoxWrapper_109pc_1",CG={commentBoxWrapper:RG};function c_(){function t(){}return R.jsxs("main",{children:[R.jsx("div",{className:CG.commentBoxWrapper,children:R.jsx("textarea",{})}),R.jsx("button",{onClick:t,children:"Post"})]})}const IG="_commentChatChainWrapper_138ms_1",xG="_commentChatChain_138ms_1",_1={commentChatChainWrapper:IG,commentChatChain:xG};function DG(){const[t,e]=V.useState(!1);function n(){e(!0)}return R.jsxs("main",{className:_1.commentChatChainWrapper,children:[R.jsx("h3",{children:"COMMENT CHAT CHAINS"}),R.jsxs("div",{className:_1.commentChatChain,children:[R.jsx("textarea",{defaultValue:"User B Comment"}),R.jsx("button",{onClick:n,children:"Reply (user a to b)"}),t&&R.jsx(c_,{}),R.jsx("textarea",{defaultValue:"User A Reply"}),R.jsx("button",{onClick:n,children:"Reply (user b to a)"}),t&&R.jsx(c_,{})]})]})}function PG(){const[t,e]=V.useState(!1),[n,i]=V.useState(null),[s,o]=V.useState(!1);function u(){e(!0),t&&e(!1)}function h(){o(!0),s&&o(!1)}function f(){i(n+1)}return R.jsxs("main",{className:v1.actionBarWrapper,children:[R.jsxs("div",{className:v1.actionBarIconRow,children:[R.jsx("img",{width:"30x",onClick:u,src:"/BingeLog/LeaveComment.png"}),R.jsx("img",{width:"30x",onClick:f,src:"/BingeLog/HeartReact.png"}),n,R.jsx("img",{width:"30x",onClick:h,src:"/BingeLog/CommentChats.png"})]}),R.jsxs("div",{children:[t&&R.jsx(c_,{}),s&&R.jsx(DG,{})]})]})}const NG="_mainStatusWrapper_xg5if_1",MG="_feedHeader_xg5if_19",OG="_feedContent_xg5if_55",ev={mainStatusWrapper:NG,feedHeader:MG,feedContent:OG};function TN({friend:t,key:e}){return console.log(t),R.jsxs("main",{className:ev.mainStatusWrapper,children:[R.jsxs("article",{children:[R.jsxs("header",{className:ev.feedHeader,children:[R.jsx("img",{src:t?.profileImgUrl||"/BingeLog/DefaultAvatar.png"}),R.jsx("p",{children:t?.userName})]}),R.jsxs("div",{className:ev.feedContent,children:[R.jsxs("p",{children:["Currently Binging: ","",t.currentlyBinging?.length>0?t.currentlyBinging.map(n=>n.show).join(", "):`${t.userName} is not currently binging anything`]})," ",R.jsx("br",{}),R.jsxs("p",{children:["Recently Watched: ","",t.watchedEps?.length>0?`${t.watchedEps[t.watchedEps.length-1].epName} -
                      ${t.watchedEps[t.watchedEps.length-1].showName}`:`${t.userName} has not recently watched anything`]}),R.jsx("br",{}),R.jsxs("p",{children:["Recently Finished: ","",t.finishedShows?.length>0?t.finishedShows[t.finishedShows.length-1].show:`${t.userName} has not recently finshed anything`]})]})]}),R.jsx(PG,{})]},e)}const VG="_sortingDiv_igypd_17",E1={sortingDiv:VG};function LG({globalUsers:t}){const e=tt(n=>n.friends.friendsList);return console.log(t),console.log(e),R.jsxs("main",{className:E1.mainAutoFeedWrappe,children:[R.jsx("h1",{children:"BingeLog Feed - Auto Updates "}),R.jsxs("div",{className:E1.sortingDiv,children:[R.jsx("p",{children:"Sort by username"}),R.jsx("p",{children:"Sort by most recently updated"})]}),e?.map(n=>{const i=t.find(s=>s.id===n);return i?R.jsx(TN,{friend:i},i.id):null})]})}const kG="_mainManualFeedWrapper_r64it_1",UG="_sortingDiv_r64it_17",T1={mainManualFeedWrapper:kG,sortingDiv:UG};function jG({globalUsers:t}){const e=tt(n=>n.friends.friendsList);return R.jsxs("main",{className:T1.mainManualFeedWrapper,children:[R.jsx("h1",{children:"BingeLog Feed - Manual Updates"}),R.jsxs("div",{className:T1.sortingDiv,children:[R.jsx("p",{children:"Sort by username"}),R.jsx("p",{children:"Sort by most recently updated"})]}),e?.map(n=>{const i=t.find(s=>s.id===n);return i?R.jsx(TN,{friend:i},i.id):null})]})}const BG="_mainFeedPageWrapper_bm8ym_1",FG={mainFeedPageWrapper:BG};function zG(){const[t,e]=V.useState([]),[n,i]=V.useState("auto");function s(){i("manual")}function o(){i("auto")}return V.useEffect(()=>{async function u(){try{const f=(await lE(nE(Xn,"Users"))).docs.map(d=>({id:d.id,...d.data()}));e(f)}catch(h){console.error("Can't find global users",h)}}u()},[]),console.log(t),R.jsxs("main",{className:FG.mainFeedPageWrapper,children:[R.jsxs("div",{children:[R.jsx("button",{onClick:o,children:"View Auto Updates"}),R.jsx("button",{onClick:s,children:"View Manuel Updates"})]}),n==="auto"?R.jsx(LG,{globalUsers:t}):R.jsx(jG,{globalUsers:t})]})}const HG="_mainWrapper_1q5s2_1",qG={mainWrapper:HG},GG="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAAAxCAYAAABQzoWlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAyqSURBVHhe7Z09axtLF8fzVQT+AoYUT3sFaQRuAreIIEUwT/EgXATj4iLSBPEUF+EiiBRGpDDoFgalCMhFwG4MSmFQCoNcGOQihQoXW7jYwsW5Z1YraXfmPzuzaynROufAD8xodnZ3Xv47c+bFz9hIEAThiQEDBUEQygwMFARBKDMwUBAEoczAQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUINvUODqj0dWYxpdn1N3bBnEEYc08b1D3fERjroej8y41noM4AgwUDCrUvgwpbSGNj6og7hNhq0q7/+9S77i3oPPXS6pugbir4nmN6q/rKWrScJdstWlkVMMxdV+AuCulQtU/0+VS/7NKFRh3I4CBgkGXxnE9Stl1F8QtOxVqHI8peIjfUbdwRB143Qr4ZOby+BOI97sC8kfZ+vNon86C+GZzC85oH8bdCGCght6oH9NTqVHvJk5mbqUQB4uwXT01YavQ/rlegzX73lnfl/oJCFv3On7wud2xAPj0ct+ekZHzetuwCdtRIs5a+C2EjY2/2u0CQ5LK4YhlUbNSCBsaigZ0dlABcUvMmwFN47ez2eiD7zs3aHAbUnif4HZADRg35ikKG1twvu/+GPgIGxqK+grno1iPsDW+TNL1435Cgz0cNycwUAP3VrwKK8lWi4b38cVJK81w7ulPHqDeWngzoNZenep7Lepf9KkJrsMUaAxPVNiiUc6nGoy/wEfYFL9k8mA9wmbWN+4svMVxcwIDNSzDMP62D96g+Jj9r2ajiaw0wvb0MRrlw4g6hXsDImxpc/TwfYXtl/BbCRvbbZ9q8BqNnT5N4ksM8y28aMasSZ3FDB33InZsvSYwi/O6RtswbpJtqqWuqdPLP2aVsfLHy1R4/bXfDGF03V+deGaxG/V+1jfTN3vvxnw286hFDc/nXFnlXcxstmlopDekdioPtTJxCNv2Tp2aH+JZ2g/NjPJ3oJ6Re6DdRF2al/NjsQsbm5rB3MHX+QlbwdnJrSq9XLyvqoPpOqHyNTtNR91wpJ9m2cba30xhG/6dfpaCbQUGamQIG9v4k2sioZpd2JnCxgV50KPRD8Mzt7T7KY0+t6ieysgKdb7Hvy8spOG7ZByTyvuh5gMMaXQ4q/D5vi4Vqh8OaHwXRwUW/hhRb1XD2ee71DnNmMlkC64tw+ePo4WPA9nS/6HwmBG1OLixcUN3XDv+pPLyjCbIjaHsbkyDvx3DvJjtPUddUmkd1h81OZJZ15XZfGJewpbv41N51aazWyPVhQVXvWgoazyzkablvjws7l1Z0n8IaXrJ6Rvvmq0nuhXsscNADceDOCYS4IRB0mzCtlWnzqW9UAwLuNG9Snx13+kixZY5o1c1Z2ynA9qNf/cWtq0G9W8y3zhhXPinTY+epJ3tdwOa+N4O3e8xQoRYsbCFgU8dcPmwatS+cE2LLC3gepL+UPrjFDa2kOu8MdJZqbBVqHEyyW53c+Ne5PhH/PfcfITtIaDA5waGkJdF2NjCby2LYIAM0Q0KW40riHdrXVqqq79LA6Mu8++2CgtmBCf/LHujXsK2xe/r334WlnsiJqZyABqDh6Xut+HC5m+2HjTXpav8dQmKjwc+wqbMKPMVCluN87FA61maj7DlsPCqS9VFWiUSNlul2v2itXI0VALCZp1oCCY0Ou9T7+SMRrYudqKXVf3H9OwlxSpJ80KrCprj3EfY4HOHExoeK1+X8hk0qPUZDRltjTKDF1wusPZyr+x6SIPjHg0uxjSFQ7jlEHvlQ9E3rZkP7JiH4vq973moF/02p7UoqwiHsIV3ExpzuYe2ITfokVePQCPn3sb4tEPN2I/TPBrCXq/bzWJiCltIwR3KW62XuSphy/BnB7cjOjvhfD8dci8Nl3dkeYUtDLjOcV2zduGSE4271IrLf2B0XjhPTpP1o0etHBOUCWCghilswfnAXE+jTyTs9GiiVcDJSd8USb3wVIM1Km7I1zaMSlv5HxciyMvFWqutDo30tBLCtwDECy+aqThOYXvB7xv/sjCbP2UHiNJNL/FVc2M+D9vdkNqGc5qHYYaTls3IB7/egD8F0rMIW3jT15Y1bFMTvT9/jNrJ9J41zSVGNge+6m3rPtH7YY7lLTNMYeN6cgDSjkz9FtfVFQmb8YFWxu/cS7ppYrb3cPvxF7aAhppPsvKqBz+40y/1RHozvN07+YGBGkjY9qkKKuHkeP4FqlD7u/Z2qpGj3p9WeKiXFX5vG6I2x7bodx7fLGhzEsG8p7mUxVUI1RM9jezJCvOeGcNkA9BgM5ffoGG5XokKCFEmBdJDwsbi0oL5ghob58HrRBxjMsjeY48w/LL5GxoUNpUG+pgpmwvtSoQN5QnfP2OZCWw/nsI2OcF+zQoqR27DeryNFDbVE+jfxgFziycS0Ozi8L3KXLewtdFs5vvk8+iAhb/JgkGr6VNDFtDoQe/JVQjmc095CJruVqc41YdIqgKm72nlNXgn7jFn9fhM4VUfomSFLyBEmRRIDzSIWV0DcZnWN71JpsukrrtCOMf1oU6aoZGv6TxyYxU2/s3qE1UfffRbbmED7YvTztzt4Wo/EUjYJtSzfYhfgOGw8S4bK2z8GxCN8Fvf6HYve1xuYTMrRkYGRlTM2Uy+y9IpDWY7VZrzExHA7CnaNuQqBPO585u3oxR83bMEIAI0nPQ1mylsWXniKhPz9/zmzFeNLGFT2Bz74V1ghq9C2ICgpPEpp7xl6fccmytsLCrOyvPAIrLwaaxD2KpmzzElbPyl/DCKw5c2Pd3l38B6N4tf5acIm+9m5iLCBoZlImxuC742Uvd04RI2rzYzt1UIm7MM26Yf2rjmtxM2xrYHNLbpFyUg9rT0FzaHF9yDOlz+buJTMMAnpQQMOPxngpe8doarEMznntLgbXoVdTY5zjpDXf3pgOoobow5LNOHWU9P2JDfc3SE8t5O3pXvbmFTeC5nyi1sdeBLTcyAA2rHpovCLKffUdgY6yJc4+XdLwwdjxlbt2DBgGn/3VPT3zK5MTwqyyGqhqsQ0HOrfLJNejwOUNH4fWZ+TBBfzfgZ8fXJhgJClAlIT00EwLgxKxY26JC/6RVan+aLn7Ax6KQO3XILG6rnbA9TY/ZS9Rzrh0Mzf5T9MmFz+dO9gYEabmFTXyDTj4UaGujd6S9sKfDgW9vYNoULxvKFQssxdMvYmeBsRPC5WTw/N+DOArW9ZxxMszdGZ2CsEVQWTqivb5t6btkJsfblHqiRZ83cMqsWNjgbjOrSjGgL0o+A7+m3RQvhLWyMc4F1AWHLFMwwoIk6neZ6mr1r4CcJGypv24gpJzBQw0fYGG1hYHq18RyQQeCFrSunH2YLAdWRLVNLjbCvGEf7R5PGQpyxPMPdiCy9R2X83FGFikk/O6dTRNzQuqvYooWs6l7WxazonqsXNjPP2MIpjS8G8eJhrYe8cmHLEA+1lzGuS4pJahGtxzFDFvIImyJzl0ARYWOK7khZ2M8SNtSj5tyIFpirRcRT7hhkLc+xAwM1PIWN2edu8GyF+jgxYZDET9hUDxAuKnWZbUHsHLR/dG5o4W4Cn0ZU+LnVcdv/0dNyY1ugnG22Rrt6YfM5uHJykqi4axA29UHz3jeZMu5d/ldPy01eYcucTCgobAq1h5h1wW1TFnVnmmsSNkuPOmWOZUwWYKCGv7C58RU2xTY1T/0rpDqdtel09IK1d7G5vgx+jUiR77kj/4fn6RSIyqsOjfRHsxn3HEcfbadXrEHYVKP96qi5yQ/KWoRNUaH6x1Hm6SdpwztdfMgvbArLZMIjhC1ifuoLqow8LB1Hp+KANI21b+sStlnvcppZLg73BQYGavwqYZtRedWi/uXUWikDdfzPgf9/zEFLP3wOVPRvRDMqf+xT72Ji92WoirWyE1Bnp/uO4Z5ENnWv0w7tZt5rHcKmyDjCKTrapvsThC0mbug2N0bk6rjsUwtsP/KlmLAxyLXwWGFLkDxPMHX2HJphN/6Xx/qETaF8m4NrXCjqeK/ueoRtc0gd9rjZ//4rjfZv5db7L+XSh2Vu1L+vS+bDry4/dThiIp9WddDkplA9aHl9NNEsKtrX+XNI1t0cy59MYKAgCGVmvrZUnWLCo4J9JNos7Pufkcuk0NBv04CBgiCUGLwUKKQwmM6WeqgJPotrJ+vAiRIBAwVBKCvw2C9Pc60qKA8wUBCE0uL4HxEWM8+8KzUwUBCE0qP+EVJnthA6wEPP8D6gycWAOk/vf+TCQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUBEEoMzBQEAShzMBAQRCEkvKM/gU6XAPgx+NWUwAAAABJRU5ErkJggg==";function KG(){return R.jsx(R.Fragment,{children:R.jsxs("footer",{className:qG.mainWrapper,children:[R.jsx("h4",{children:"Credits"}),R.jsxs("p",{children:[R.jsx("a",{href:"https://www.movieofthenight.com/about/api",children:R.jsx("img",{width:"110px",src:GG})})," | Show and Movie Data"]})]})})}function $G(){return R.jsxs(R.Fragment,{children:[R.jsx("h2",{children:"About Page"}),R.jsx(KG,{})]})}function WG(){ui();const t=tt(i=>i.friends.friendsList),[e,n]=V.useState([]);return V.useEffect(()=>{async function i(){try{const o=(await lE(nE(Xn,"Users"))).docs.map(u=>({id:u.id,...u.data()}));n(o)}catch(s){console.error("Can't find global users",s)}}i()},[]),console.log("Global Users",e),console.log("Friend List",t),R.jsxs(R.Fragment,{children:[R.jsx("h1",{children:"Friends List"}),t.map(i=>{const s=e.find(o=>o.id===i);return R.jsx("div",{children:R.jsx("p",{children:s?.userName||"Unknown User"})},i)})]})}const YG="_showWrapper_ok71v_1",XG="_showInfo_ok71v_35",w1={showWrapper:YG,showInfo:XG};function QG({userDetails:t}){console.log("User Details",t);const e=ui(),n=tt(u=>u.auth.user.uid),i=tt(u=>u.friends.friendsList);hC().id;async function o(u){const h=[...i,u];try{const f=Yi(Xn,"Users",n);await jr(f,{friendsList:h}),e(q1.addFriend(i)),alert("Friend Added!")}catch(f){console.log(f),alert(f.message)}}return R.jsx("main",{className:w1.showWrapper,children:t&&R.jsx("div",{className:w1.showInfo,children:R.jsxs("header",{children:[R.jsx(ps,{to:`/userPage/:${t.id}`,children:R.jsx("h2",{children:t.userName})}),R.jsx(_n,{onClick:()=>o(t.id),children:"Save User"})]})},t.id)})}const JG="_mainDropdownWrapper_15h6a_1",ZG={mainDropdownWrapper:JG};function eK({searchResults:t}){console.log("Search Results in Dropdown",t);const[e,n]=V.useState(null);function i(s){n(s)}return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:ZG.mainDropdownWrapper,children:R.jsx("div",{children:t.map(s=>R.jsx("p",{onClick:()=>i(s),children:s.userName},s.uid))})}),R.jsx("div",{children:e&&R.jsx(QG,{userDetails:e})})]})}const tK="_mainWrapper_vwg4t_1",nK={mainWrapper:tK};function iK(){const[t,e]=V.useState(""),[n,i]=V.useState(null);return V.useEffect(()=>{async function s(o){if(o)try{const f=(await lE(nE(Xn,"Users"))).docs.map(d=>({id:d.id,...d.data()})).filter(d=>d.userName?.toLowerCase().includes(o.toLowerCase()));i(f),console.log("Query Data",f)}catch(u){console.error("Can't find global users",u)}}s(t)},[t]),R.jsxs("div",{className:nK.mainWrapper,children:[R.jsx("input",{type:"search",placeholder:"Seach a user",value:t,onChange:s=>e(s.target.value)}),n&&R.jsx(eK,{searchResults:n})]})}const rK="_mainWrapper_1yzt3_1",sK={mainWrapper:rK};function aK(){return R.jsx(R.Fragment,{children:R.jsx("main",{className:sK.mainWrapper,children:R.jsxs("header",{children:[R.jsx("h1",{children:"User Search"}),R.jsx(iK,{})]})})})}const oK="_mainWrapper_1b53b_1",lK="_nav_1b53b_75",S1={mainWrapper:oK,nav:lK},uK="_inputWrapper_mikpn_3",Sm={inputWrapper:uK};function cK({type:t,onSubmit:e}){return R.jsx("form",{onSubmit:e,className:Sm.formWrapper,children:R.jsxs("div",{className:Sm.inputWrapper,children:[R.jsx(Xl,{label:"User Name",htmlFor:"username",id:"username",name:"username"}),R.jsx(Xl,{label:"Password",htmlFor:"password",id:"password",name:"password"}),R.jsx(Xl,{label:"Email",htmlFor:"email",id:"email",name:"email"}),R.jsx(_n,{type:t,children:"Sign Up"})]})})}const hK={};function wN({children:t,open:e,handleClose:n}){const i=V.useRef();return V.useEffect(()=>{const s=i.current;return e&&s.showModal(),()=>{s.open&&s.close()}},[e]),_C.createPortal(R.jsxs("dialog",{onClose:n,ref:i,className:hK.dialog,children:[" ",t," "]}),document.getElementById("modal"))}function fK(){const t=ui(),e=tt(o=>o.auth.isCreatingAccount),n=()=>t(_s.stopCreatingAccount());async function i(o){try{const h=(await z6(vE,o.email,o.password)).user.uid,f=Yi(Xn,"Users",h);await HB(f,{email:o.email,userName:o.userName,bio:"",bioAvatar:null,friendsList:[],myShows:[],epNotes:[],charNotes:[],currentlyBinging:[],watchedEps:[],finishedShows:[],reviews:[]}),t(_s.login({uid:h,email:o.email,userName:o.userName})),t(_s.stopCreatingAccount())}catch(u){console.error(u)}}function s(o){o.preventDefault();const u=new FormData(o.target),h=u.get("email"),f=u.get("username"),d=u.get("password");i({email:h,userName:f,password:d})}return R.jsx(R.Fragment,{children:R.jsx(wN,{open:e,handleClose:n,children:R.jsx(cK,{onSubmit:s,type:"submit"})})})}function dK({type:t,onSubmit:e}){return R.jsx("form",{onSubmit:e,className:Sm.formWrapper,children:R.jsxs("div",{className:Sm.inputWrapper,children:[R.jsx(Xl,{label:"Email",htmlFor:"email",id:"email",name:"email"}),R.jsx(Xl,{label:"Password",htmlFor:"password",id:"password",name:"password"}),R.jsx(_n,{type:t,children:"Sign In"})]})})}function mK(){const t=ui(),e=tt(s=>s.auth.isLoggingIn);function n(){t(_s.stopLoggingIn())}async function i(s){s.preventDefault();const o=new FormData(s.target),u=o.get("email"),h=o.get("password");try{const d=(await H6(vE,u,h)).user;t(_s.login({uid:d.uid,email:d.email}))}catch(f){console.error("Login failed:",f)}}return R.jsx(R.Fragment,{children:R.jsx(wN,{open:e,onClose:n,children:R.jsx(dK,{onSubmit:i,type:"submit"})})})}function pK(){const t=ui(),e=tt(u=>u.auth.isLoggedIn),n=tt(u=>u.auth.user?.uid);function i(){t(_s.startLoggingIn())}function s(){t(_s.logOut())}function o(){t(_s.startCreatingAccount())}return R.jsx("header",{className:S1.mainWrapper,children:R.jsxs("nav",{className:S1.nav,children:[R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx(ps,{to:"/",children:R.jsx("img",{width:"35px",src:"/BingeLog/HomeIcon.png"})})}),!e&&R.jsx("li",{children:R.jsx(_n,{onClick:i,children:R.jsx("img",{width:"35px",src:"/BingeLog/LogIn.png"})})}),!e&&R.jsx("li",{children:R.jsx(_n,{onClick:o,children:"Create Account"})}),R.jsx("li",{children:e&&R.jsx(ps,{to:"/bingelog",children:R.jsx("img",{width:"35px",src:"/BingeLog/BingeLog.png"})})}),R.jsx("li",{children:e&&n&&R.jsx(ps,{to:`/userPage/${n}`,children:R.jsx("img",{width:"35px",src:"/BingeLog/UserPage.png"})})}),R.jsx("li",{children:e&&R.jsx(ps,{to:"/shows",children:R.jsx("img",{width:"35px",src:"/BingeLog/TvIcon.png"})})}),R.jsx("li",{children:e&&R.jsx(ps,{to:"/userSearch",children:R.jsx("img",{width:"35px",src:"/BingeLog/UserSearchIcon.png"})})}),R.jsx("li",{children:e&&R.jsx(_n,{onClick:s,children:R.jsx("img",{width:"35px",src:"/BingeLog/LogOut.png"})})})]}),R.jsx(fK,{}),R.jsx(mK,{})]})})}function gK(){return R.jsxs(R.Fragment,{children:[R.jsx("main",{children:R.jsx(qV,{})}),R.jsx(pK,{})]})}function yK(){const t=ui();tt(s=>s.shows.myShows),tt(s=>s.auth.isLoggedIn);const[e,n]=V.useState(!1);if(V.useEffect(()=>{const s=K6(vE,async o=>{if(!o){n(!0);return}try{const u=Yi(Xn,"Users",o?.uid),h=await zB(u);if(h.exists()){const f=h.data();t(_s.login({uid:o.uid,userName:f.userName,email:f.email})),t(Fd.uploadAvatar(f.profileImgUrl||"/BingeLog/DefaultAvatar.png")),t(Fd.updateBio(f.bio)),t(Zt.updateMyShows(f.myShows||[])),t(Zt.updateBinging(f.currentlyBinging||[])),t(Zt.updateFinishedShows(f.finishedShows||[])),t(Zt.updateWatchedEps(f.watchedEps||[])),t(Zt.updateReviews(f.reviews||[])),t(zd.updateEpNotes(f.epNotes||[])),t(zd.updateCharNotes(f.charNotes||[])),t(q1.addFriend(f.friendsList||[]))}}catch(u){console.error("Auth restore failed:",u)}finally{n(!0)}});return()=>s},[t]),!e)return R.jsx("div",{children:"Loading..."});const i=mL([{path:"/",element:R.jsx(gK,{}),children:[{index:!0,element:R.jsx(lF,{})},{path:"userPage/:uid",element:R.jsx(aG,{})},{path:"friendsList",element:R.jsx(WG,{})},{path:"bingelog",element:R.jsx(zG,{})},{path:"userSearch",element:R.jsx(aK,{})},{path:"shows",element:R.jsx(SG,{})},{path:"about",element:R.jsx($G,{})}]}]);return R.jsx(R.Fragment,{children:R.jsx(AL,{router:i})})}rO.createRoot(document.getElementById("root")).render(R.jsx(V.StrictMode,{children:R.jsx(TO,{store:y2,children:R.jsx(yK,{})})}));
