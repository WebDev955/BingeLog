(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var ap={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function K1(){if(qE)return Tu;qE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Tu.Fragment=e,Tu.jsx=n,Tu.jsxs=n,Tu}var GE;function Y1(){return GE||(GE=1,ap.exports=K1()),ap.exports}var A=Y1(),op={exports:{}},wu={},lp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function W1(){return KE||(KE=1,function(t){function e($,fe){var ge=$.length;$.push(fe);e:for(;0<ge;){var je=ge-1>>>1,M=$[je];if(0<a(M,fe))$[je]=fe,$[ge]=M,ge=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var fe=$[0],ge=$.pop();if(ge!==fe){$[0]=ge;e:for(var je=0,M=$.length,ne=M>>>1;je<ne;){var pe=2*(je+1)-1,de=$[pe],Ee=pe+1,qe=$[Ee];if(0>a(de,ge))Ee<M&&0>a(qe,de)?($[je]=qe,$[Ee]=ge,je=Ee):($[je]=de,$[pe]=ge,je=pe);else if(Ee<M&&0>a(qe,ge))$[je]=qe,$[Ee]=ge,je=Ee;else break e}}return fe}function a($,fe){var ge=$.sortIndex-fe.sortIndex;return ge!==0?ge:$.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,T=null,w=3,D=!1,z=!1,j=!1,U=!1,W=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function he($){for(var fe=n(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=$)s(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(g)}}function le($){if(j=!1,he($),!z)if(n(m)!==null)z=!0,P||(P=!0,B());else{var fe=n(g);fe!==null&&$e(le,fe.startTime-$)}}var P=!1,N=-1,R=5,C=-1;function L(){return U?!0:!(t.unstable_now()-C<R)}function V(){if(U=!1,P){var $=t.unstable_now();C=$;var fe=!0;try{e:{z=!1,j&&(j=!1,oe(N),N=-1),D=!0;var ge=w;try{t:{for(he($),T=n(m);T!==null&&!(T.expirationTime>$&&L());){var je=T.callback;if(typeof je=="function"){T.callback=null,w=T.priorityLevel;var M=je(T.expirationTime<=$);if($=t.unstable_now(),typeof M=="function"){T.callback=M,he($),fe=!0;break t}T===n(m)&&s(m),he($)}else s(m);T=n(m)}if(T!==null)fe=!0;else{var ne=n(g);ne!==null&&$e(le,ne.startTime-$),fe=!1}}break e}finally{T=null,w=ge,D=!1}fe=void 0}}finally{fe?B():P=!1}}}var B;if(typeof X=="function")B=function(){X(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=V,B=function(){Ve.postMessage(null)}}else B=function(){W(V,0)};function $e($,fe){N=W(function(){$(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function($){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ge=w;w=fe;try{return $()}finally{w=ge}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function($,fe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=w;w=$;try{return fe()}finally{w=ge}},t.unstable_scheduleCallback=function($,fe,ge){var je=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,$={id:_++,callback:fe,priorityLevel:$,startTime:ge,expirationTime:M,sortIndex:-1},ge>je?($.sortIndex=ge,e(g,$),n(m)===null&&$===n(g)&&(j?(oe(N),N=-1):j=!0,$e(le,ge-je))):($.sortIndex=M,e(m,$),z||D||(z=!0,P||(P=!0,B()))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var fe=w;return function(){var ge=w;w=fe;try{return $.apply(this,arguments)}finally{w=ge}}}}(up)),up}var YE;function $1(){return YE||(YE=1,lp.exports=W1()),lp.exports}var cp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function Q1(){if(WE)return Ge;WE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,j={};function U(M,ne,pe){this.props=M,this.context=ne,this.refs=j,this.updater=pe||D}U.prototype.isReactComponent={},U.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=U.prototype;function oe(M,ne,pe){this.props=M,this.context=ne,this.refs=j,this.updater=pe||D}var X=oe.prototype=new W;X.constructor=oe,z(X,U.prototype),X.isPureReactComponent=!0;var he=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function N(M,ne,pe,de,Ee,qe){return pe=qe.ref,{$$typeof:t,type:M,key:ne,ref:pe!==void 0?pe:null,props:qe}}function R(M,ne){return N(M.type,ne,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function L(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return ne[pe]})}var V=/\/+/g;function B(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):ne.toString(36)}function I(){}function Ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $e(M,ne,pe,de,Ee){var qe=typeof M;(qe==="undefined"||qe==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(qe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case t:case e:De=!0;break;case _:return De=M._init,$e(De(M._payload),ne,pe,de,Ee)}}if(De)return Ee=Ee(M),De=de===""?"."+B(M,0):de,he(Ee)?(pe="",De!=null&&(pe=De.replace(V,"$&/")+"/"),$e(Ee,ne,pe,"",function(Kn){return Kn})):Ee!=null&&(C(Ee)&&(Ee=R(Ee,pe+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+De)),ne.push(Ee)),1;De=0;var Wt=de===""?".":de+":";if(he(M))for(var ot=0;ot<M.length;ot++)de=M[ot],qe=Wt+B(de,ot),De+=$e(de,ne,pe,qe,Ee);else if(ot=w(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(de=M.next()).done;)de=de.value,qe=Wt+B(de,ot++),De+=$e(de,ne,pe,qe,Ee);else if(qe==="object"){if(typeof M.then=="function")return $e(Ve(M),ne,pe,de,Ee);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return De}function $(M,ne,pe){if(M==null)return M;var de=[],Ee=0;return $e(M,de,"","",function(qe){return ne.call(pe,qe,Ee++)}),de}function fe(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function je(){}return Ge.Children={map:$,forEach:function(M,ne,pe){$(M,function(){ne.apply(this,arguments)},pe)},count:function(M){var ne=0;return $(M,function(){ne++}),ne},toArray:function(M){return $(M,function(ne){return ne})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ge.Component=U,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=oe,Ge.StrictMode=s,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(M){return le.H.useMemoCache(M)}},Ge.cache=function(M){return function(){return M.apply(null,arguments)}},Ge.cloneElement=function(M,ne,pe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=z({},M.props),Ee=M.key,qe=void 0;if(ne!=null)for(De in ne.ref!==void 0&&(qe=void 0),ne.key!==void 0&&(Ee=""+ne.key),ne)!P.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(de[De]=ne[De]);var De=arguments.length-2;if(De===1)de.children=pe;else if(1<De){for(var Wt=Array(De),ot=0;ot<De;ot++)Wt[ot]=arguments[ot+2];de.children=Wt}return N(M.type,Ee,void 0,void 0,qe,de)},Ge.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ge.createElement=function(M,ne,pe){var de,Ee={},qe=null;if(ne!=null)for(de in ne.key!==void 0&&(qe=""+ne.key),ne)P.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=ne[de]);var De=arguments.length-2;if(De===1)Ee.children=pe;else if(1<De){for(var Wt=Array(De),ot=0;ot<De;ot++)Wt[ot]=arguments[ot+2];Ee.children=Wt}if(M&&M.defaultProps)for(de in De=M.defaultProps,De)Ee[de]===void 0&&(Ee[de]=De[de]);return N(M,qe,void 0,void 0,null,Ee)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(M){return{$$typeof:d,render:M}},Ge.isValidElement=C,Ge.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:fe}},Ge.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},Ge.startTransition=function(M){var ne=le.T,pe={};le.T=pe;try{var de=M(),Ee=le.S;Ee!==null&&Ee(pe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(je,ge)}catch(qe){ge(qe)}finally{le.T=ne}},Ge.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ge.use=function(M){return le.H.use(M)},Ge.useActionState=function(M,ne,pe){return le.H.useActionState(M,ne,pe)},Ge.useCallback=function(M,ne){return le.H.useCallback(M,ne)},Ge.useContext=function(M){return le.H.useContext(M)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(M,ne){return le.H.useDeferredValue(M,ne)},Ge.useEffect=function(M,ne,pe){var de=le.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(M,ne)},Ge.useId=function(){return le.H.useId()},Ge.useImperativeHandle=function(M,ne,pe){return le.H.useImperativeHandle(M,ne,pe)},Ge.useInsertionEffect=function(M,ne){return le.H.useInsertionEffect(M,ne)},Ge.useLayoutEffect=function(M,ne){return le.H.useLayoutEffect(M,ne)},Ge.useMemo=function(M,ne){return le.H.useMemo(M,ne)},Ge.useOptimistic=function(M,ne){return le.H.useOptimistic(M,ne)},Ge.useReducer=function(M,ne,pe){return le.H.useReducer(M,ne,pe)},Ge.useRef=function(M){return le.H.useRef(M)},Ge.useState=function(M){return le.H.useState(M)},Ge.useSyncExternalStore=function(M,ne,pe){return le.H.useSyncExternalStore(M,ne,pe)},Ge.useTransition=function(){return le.H.useTransition()},Ge.version="19.1.1",Ge}var $E;function kf(){return $E||($E=1,cp.exports=Q1()),cp.exports}var hp={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function X1(){if(QE)return bn;QE=1;var t=kf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},bn.flushSync=function(m){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=_,s.d.f()}},bn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},bn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},bn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:D}):_==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},bn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},bn.requestFormReset=function(m){s.d.r(m)},bn.unstable_batchedUpdates=function(m,g){return m(g)},bn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.1.1",bn}var XE;function w0(){if(XE)return hp.exports;XE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hp.exports=X1(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function Z1(){if(ZE)return wu;ZE=1;var t=$1(),e=kf(),n=w0();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,u=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),r;if(p===u)return d(f),i;p=p.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=p;break}if(S===u){E=!0,u=f,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,u=f;break}if(S===u){E=!0,u=p,o=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),oe=Symbol.for("react.consumer"),X=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case U:return"Profiler";case j:return"StrictMode";case le:return"Suspense";case P:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case X:return(r.displayName||"Context")+".Provider";case oe:return(r._context.displayName||"Context")+".Consumer";case he:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return i=r.displayName||null,i!==null?i:Ve(r.type)||"Memo";case R:i=r._payload,r=r._init;try{return Ve(r(i))}catch{}}return null}var $e=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],M=-1;function ne(r){return{current:r}}function pe(r){0>M||(r.current=je[M],je[M]=null,M--)}function de(r,i){M++,je[M]=r.current,r.current=i}var Ee=ne(null),qe=ne(null),De=ne(null),Wt=ne(null);function ot(r,i){switch(de(De,i),de(qe,r),de(Ee,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?_E(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=_E(i),r=vE(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Ee),de(Ee,r)}function Kn(){pe(Ee),pe(qe),pe(De)}function Mt(r){r.memoizedState!==null&&de(Wt,r);var i=Ee.current,o=vE(i,r.type);i!==o&&(de(qe,r),de(Ee,o))}function Yn(r){qe.current===r&&(pe(Ee),pe(qe)),Wt.current===r&&(pe(Wt),gu._currentValue=ge)}var Ei=Object.prototype.hasOwnProperty,Ti=t.unstable_scheduleCallback,kn=t.unstable_cancelCallback,vl=t.unstable_shouldYield,ia=t.unstable_requestPaint,cn=t.unstable_now,ao=t.unstable_getCurrentPriorityLevel,kt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,Mr=t.unstable_NormalPriority,Pr=t.unstable_LowPriority,Lr=t.unstable_IdlePriority,oo=t.log,Vr=t.unstable_setDisableYieldValue,hn=null,_t=null;function Dn(r){if(typeof oo=="function"&&Vr(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(hn,r)}catch{}}var $t=Math.clz32?Math.clz32:sa,El=Math.log,Wn=Math.LN2;function sa(r){return r>>>=0,r===0?32:31-(El(r)/Wn|0)|0}var $n=256,kr=4194304;function Qn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Nn(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=Qn(u):(E&=S,E!==0?f=Qn(E):o||(o=S&~r,o!==0&&(f=Qn(o))))):(S=u&~p,S!==0?f=Qn(S):E!==0?f=Qn(E):o||(o=u&~r,o!==0&&(f=Qn(o)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:f}function Xn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function wi(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(){var r=$n;return $n<<=1,($n&4194048)===0&&($n=256),r}function ei(){var r=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),r}function bi(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Dt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function aa(r,i,o,u,f,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,x=r.expirationTimes,Y=r.hiddenUpdates;for(o=E&~o;0<o;){var te=31-$t(o),se=1<<te;S[te]=0,x[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var Z=Q[te];Z!==null&&(Z.lane&=-536870913)}o&=~se}u!==0&&Zn(r,u,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function Zn(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-$t(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Jn(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-$t(o),f=1<<u;f&i|r[u]&i&&(r[u]|=i),o&=~f}}function oa(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function la(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function O(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:UE(r.type))}function q(r,i){var o=fe.p;try{return fe.p=r,i()}finally{fe.p=o}}var J=Math.random().toString(36).slice(2),ie="__reactFiber$"+J,ce="__reactProps$"+J,ve="__reactContainer$"+J,Se="__reactEvents$"+J,_e="__reactListeners$"+J,Ce="__reactHandles$"+J,Re="__reactResources$"+J,Te="__reactMarker$"+J;function Ae(r){delete r[ie],delete r[ce],delete r[Se],delete r[_e],delete r[Ce]}function ze(r){var i=r[ie];if(i)return i;for(var o=r.parentNode;o;){if(i=o[ve]||o[ie]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=SE(r);r!==null;){if(o=r[ie])return o;r=SE(r)}return i}r=o,o=r.parentNode}return null}function it(r){if(r=r[ie]||r[ve]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function wt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Rt(r){var i=r[Re];return i||(i=r[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(r){r[Te]=!0}var lt=new Set,xn={};function Tn(r,i){Qt(r,i),Qt(r+"Capture",i)}function Qt(r,i){for(xn[r]=i,r=0;r<i.length;r++)lt.add(i[r])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Un={},mr={};function Ur(r){return Ei.call(mr,r)?!0:Ei.call(Un,r)?!1:nn.test(r)?mr[r]=!0:(Un[r]=!0,!1)}function pr(r,i,o){if(Ur(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function gr(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function He(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}var Ct,jr;function On(r){if(Ct===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ct=i&&i[1]||"",jr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+r+jr}var vt=!1;function zr(r,i){if(!r||vt)return"";vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Q=Z}Reflect.construct(r,[],se)}else{try{se.call()}catch(Z){Q=Z}r.call(se.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var x=E.split(`
`),Y=S.split(`
`);for(f=u=0;u<x.length&&!x[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===x.length||f===Y.length)for(u=x.length-1,f=Y.length-1;1<=u&&0<=f&&x[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(x[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||x[u]!==Y[f]){var te=`
`+x[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{vt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?On(o):""}function lo(r){switch(r.tag){case 26:case 27:case 5:return On(r.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return zr(r.type,!1);case 11:return zr(r.type.render,!1);case 1:return zr(r.type,!0);case 31:return On("Activity");default:return""}}function er(r){try{var i="";do i+=lo(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Nt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function rs(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ua(r){var i=rs(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function is(r){r._valueTracker||(r._valueTracker=ua(r))}function dt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=rs(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function Ai(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ca=/[\n"\\]/g;function rn(r){return r.replace(ca,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tl(r,i,o,u,f,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Nt(i)):r.value!==""+Nt(i)&&(r.value=""+Nt(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?Sl(r,E,Nt(i)):o!=null?Sl(r,E,Nt(o)):u!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Nt(S):r.removeAttribute("name")}function wl(r,i,o,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+Nt(o):"",i=i!=null?""+Nt(i):o,S||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Sl(r,i,o){i==="number"&&Ai(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ss(r,i,o,u){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Nt(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function _c(r,i,o){if(i!=null&&(i=""+Nt(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+Nt(o):""}function vc(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if($e(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Nt(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function yr(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||Ri.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function Al(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&bl(r,f,u)}else for(var p in i)i.hasOwnProperty(p)&&bl(r,p,i[p])}function uo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(r){return Tc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Rl=null;function Cl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var as=null,Mn=null;function wc(r){var i=it(r);if(i&&(r=i.stateNode)){var o=r[ce]||null;e:switch(r=i.stateNode,i.type){case"input":if(Tl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var f=u[ce]||null;if(!f)throw Error(s(90));Tl(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&dt(u)}break e;case"textarea":_c(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ss(r,!!o.multiple,i,!1)}}}var ha=!1;function fa(r,i,o){if(ha)return r(i,o);ha=!0;try{var u=r(i);return u}finally{if(ha=!1,(as!==null||Mn!==null)&&(hh(),as&&(i=as,r=Mn,Mn=as=null,wc(i),r)))for(i=0;i<r.length;i++)wc(r[i])}}function os(r,i){var o=r.stateNode;if(o===null)return null;var u=o[ce]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ci=!1;if(Pn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Ci=!1}var _r=null,Et=null,co=null;function Sc(){if(co)return co;var r,i=Et,o=i.length,u,f="value"in _r?_r.value:_r.textContent,p=f.length;for(r=0;r<o&&i[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&i[o-u]===f[p-u];u++);return co=f.slice(r,1<u?1-u:void 0)}function da(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ma(){return!0}function Il(){return!1}function Xt(r){function i(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ma:Il,this.isPropagationStopped=Il,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),i}var wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Xt(wn),ga=_({},wn,{view:0,detail:0}),ya=Xt(ga),ho,_a,ti,va=_({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ti&&(ti&&r.type==="mousemove"?(ho=r.screenX-ti.screenX,_a=r.screenY-ti.screenY):_a=ho=0,ti=r),ho)},movementY:function(r){return"movementY"in r?r.movementY:_a}}),Ea=Xt(va),pd=_({},va,{dataTransfer:0}),bc=Xt(pd),Ta=_({},ga,{relatedTarget:0}),fo=Xt(Ta),Ac=_({},wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dl=Xt(Ac),Nl=_({},wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rc=Xt(Nl),mo=_({},wn,{data:0}),xl=Xt(mo),Cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ii={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ic[r])?!!i[r]:!1}function po(){return Dc}var Nc=_({},ga,{key:function(r){if(r.key){var i=Cc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ii[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(r){return r.type==="keypress"?da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),go=Xt(Nc),Ln=_({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Xt(Ln),xc=_({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),us=Xt(xc),h=_({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Xt(h),v=_({},va,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),b=Xt(v),K=_({},wn,{newState:0,oldState:0}),ee=Xt(K),me=[9,13,27,32],Be=Pn&&"CompositionEvent"in window,St=null;Pn&&"documentMode"in document&&(St=document.documentMode);var ct=Pn&&"TextEvent"in window&&!St,Ut=Pn&&(!Be||St&&8<St&&11>=St),tr=" ",ni=!1;function Fr(r,i){switch(r){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var qr=!1;function Ml(r,i){switch(r){case"compositionend":return Hr(i);case"keypress":return i.which!==32?null:(ni=!0,tr);case"textInput":return r=i.data,r===tr&&ni?null:r;default:return null}}function vR(r,i){if(qr)return r==="compositionend"||!Be&&Fr(r,i)?(r=Sc(),co=Et=_r=null,qr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ut&&i.locale!=="ko"?null:i.data;default:return null}}var ER={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ER[r.type]:i==="textarea"}function My(r,i,o,u){as?Mn?Mn.push(u):Mn=[u]:as=u,i=yh(i,"onChange"),0<i.length&&(o=new pa("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var Pl=null,Ll=null;function TR(r){dE(r,0)}function Oc(r){var i=wt(r);if(dt(i))return r}function Py(r,i){if(r==="change")return i}var Ly=!1;if(Pn){var gd;if(Pn){var yd="oninput"in document;if(!yd){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),yd=typeof Vy.oninput=="function"}gd=yd}else gd=!1;Ly=gd&&(!document.documentMode||9<document.documentMode)}function ky(){Pl&&(Pl.detachEvent("onpropertychange",Uy),Ll=Pl=null)}function Uy(r){if(r.propertyName==="value"&&Oc(Ll)){var i=[];My(i,Ll,r,Cl(r)),fa(TR,i)}}function wR(r,i,o){r==="focusin"?(ky(),Pl=i,Ll=o,Pl.attachEvent("onpropertychange",Uy)):r==="focusout"&&ky()}function SR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oc(Ll)}function bR(r,i){if(r==="click")return Oc(i)}function AR(r,i){if(r==="input"||r==="change")return Oc(i)}function RR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var nr=typeof Object.is=="function"?Object.is:RR;function Vl(r,i){if(nr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ei.call(i,f)||!nr(r[f],i[f]))return!1}return!0}function jy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zy(r,i){var o=jy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jy(o)}}function By(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?By(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Fy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ai(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Ai(r.document)}return i}function _d(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var CR=Pn&&"documentMode"in document&&11>=document.documentMode,yo=null,vd=null,kl=null,Ed=!1;function Hy(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ed||yo==null||yo!==Ai(u)||(u=yo,"selectionStart"in u&&_d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kl&&Vl(kl,u)||(kl=u,u=yh(vd,"onSelect"),0<u.length&&(i=new pa("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=yo)))}function wa(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var _o={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Td={},qy={};Pn&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Sa(r){if(Td[r])return Td[r];if(!_o[r])return r;var i=_o[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in qy)return Td[r]=i[o];return r}var Gy=Sa("animationend"),Ky=Sa("animationiteration"),Yy=Sa("animationstart"),IR=Sa("transitionrun"),DR=Sa("transitionstart"),NR=Sa("transitioncancel"),Wy=Sa("transitionend"),$y=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function Gr(r,i){$y.set(r,i),Tn(i,[r])}var Qy=new WeakMap;function vr(r,i){if(typeof r=="object"&&r!==null){var o=Qy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:er(i)},Qy.set(r,i),i)}return{value:r,source:i,stack:er(i)}}var Er=[],vo=0,Sd=0;function Mc(){for(var r=vo,i=Sd=vo=0;i<r;){var o=Er[i];Er[i++]=null;var u=Er[i];Er[i++]=null;var f=Er[i];Er[i++]=null;var p=Er[i];if(Er[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&Xy(o,f,p)}}function Pc(r,i,o,u){Er[vo++]=r,Er[vo++]=i,Er[vo++]=o,Er[vo++]=u,Sd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function bd(r,i,o,u){return Pc(r,i,o,u),Lc(r)}function Eo(r,i){return Pc(r,null,null,i),Lc(r)}function Xy(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-$t(o),r=p.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=o|536870912),p):null}function Lc(r){if(50<lu)throw lu=0,Nm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var To={};function xR(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(r,i,o,u){return new xR(r,i,o,u)}function Ad(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Di(r,i){var o=r.alternate;return o===null?(o=rr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Zy(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Vc(r,i,o,u,f,p){var E=0;if(u=r,typeof r=="function")Ad(r)&&(E=1);else if(typeof r=="string")E=M1(r,o,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=rr(31,o,i,f),r.elementType=C,r.lanes=p,r;case z:return ba(o.children,f,p,i);case j:E=8,f|=24;break;case U:return r=rr(12,o,i,f|2),r.elementType=U,r.lanes=p,r;case le:return r=rr(13,o,i,f),r.elementType=le,r.lanes=p,r;case P:return r=rr(19,o,i,f),r.elementType=P,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case W:case X:E=10;break e;case oe:E=9;break e;case he:E=11;break e;case N:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=rr(E,o,i,f),i.elementType=r,i.type=u,i.lanes=p,i}function ba(r,i,o,u){return r=rr(7,r,u,i),r.lanes=o,r}function Rd(r,i,o){return r=rr(6,r,null,i),r.lanes=o,r}function Cd(r,i,o){return i=rr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var wo=[],So=0,kc=null,Uc=0,Tr=[],wr=0,Aa=null,Ni=1,xi="";function Ra(r,i){wo[So++]=Uc,wo[So++]=kc,kc=r,Uc=i}function Jy(r,i,o){Tr[wr++]=Ni,Tr[wr++]=xi,Tr[wr++]=Aa,Aa=r;var u=Ni;r=xi;var f=32-$t(u)-1;u&=~(1<<f),o+=1;var p=32-$t(i)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ni=1<<32-$t(i)+f|o<<f|u,xi=p+r}else Ni=1<<p|o<<f|u,xi=r}function Id(r){r.return!==null&&(Ra(r,1),Jy(r,1,0))}function Dd(r){for(;r===kc;)kc=wo[--So],wo[So]=null,Uc=wo[--So],wo[So]=null;for(;r===Aa;)Aa=Tr[--wr],Tr[wr]=null,xi=Tr[--wr],Tr[wr]=null,Ni=Tr[--wr],Tr[wr]=null}var Vn=null,Pt=null,at=!1,Ca=null,ri=!1,Nd=Error(s(519));function Ia(r){var i=Error(s(418,""));throw zl(vr(i,r)),Nd}function e_(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[ie]=r,i[ce]=u,o){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(o=0;o<cu.length;o++)Xe(cu[o],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),wl(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),is(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),vc(i,u.value,u.defaultValue,u.children),is(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||yE(i.textContent,o)?(u.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),u.onScroll!=null&&Xe("scroll",i),u.onScrollEnd!=null&&Xe("scrollend",i),u.onClick!=null&&(i.onclick=_h),i=!0):i=!1,i||Ia(r)}function t_(r){for(Vn=r.return;Vn;)switch(Vn.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Vn=Vn.return}}function Ul(r){if(r!==Vn)return!1;if(!at)return t_(r),at=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Km(r.type,r.memoizedProps)),o=!o),o&&Pt&&Ia(r),t_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){Pt=Yr(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}Pt=null}}else i===27?(i=Pt,As(r.type)?(r=Qm,Qm=null,Pt=r):Pt=i):Pt=Vn?Yr(r.stateNode.nextSibling):null;return!0}function jl(){Pt=Vn=null,at=!1}function n_(){var r=Ca;return r!==null&&(Bn===null?Bn=r:Bn.push.apply(Bn,r),Ca=null),r}function zl(r){Ca===null?Ca=[r]:Ca.push(r)}var xd=ne(null),Da=null,Oi=null;function cs(r,i,o){de(xd,i._currentValue),i._currentValue=o}function Mi(r){r._currentValue=xd.current,pe(xd)}function Od(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function Md(r,i,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var x=0;x<i.length;x++)if(S.context===i[x]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Od(p.return,o,r),u||(E=null);break e}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Od(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Bl(r,i,o,u){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;nr(f.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(f===Wt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}f=f.return}r!==null&&Md(i,r,o,u),i.flags|=262144}function jc(r){for(r=r.firstContext;r!==null;){if(!nr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Na(r){Da=r,Oi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Sn(r){return r_(Da,r)}function zc(r,i){return Da===null&&Na(r),r_(r,i)}function r_(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Oi===null){if(r===null)throw Error(s(308));Oi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Oi=Oi.next=i;return o}var OR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},MR=t.unstable_scheduleCallback,PR=t.unstable_NormalPriority,Zt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new OR,data:new Map,refCount:0}}function Fl(r){r.refCount--,r.refCount===0&&MR(PR,function(){r.controller.abort()})}var Hl=null,Ld=0,bo=0,Ao=null;function LR(r,i){if(Hl===null){var o=Hl=[];Ld=0,bo=km(),Ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ld++,i.then(i_,i_),i}function i_(){if(--Ld===0&&Hl!==null){Ao!==null&&(Ao.status="fulfilled");var r=Hl;Hl=null,bo=0,Ao=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function VR(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var s_=$.S;$.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&LR(r,i),s_!==null&&s_(r,i)};var xa=ne(null);function Vd(){var r=xa.current;return r!==null?r:Tt.pooledCache}function Bc(r,i){i===null?de(xa,xa.current):de(xa,i.pool)}function a_(){var r=Vd();return r===null?null:{parent:Zt._currentValue,pool:r}}var ql=Error(s(460)),o_=Error(s(474)),Fc=Error(s(542)),kd={then:function(){}};function l_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Hc(){}function u_(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Hc,Hc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,h_(r),r;default:if(typeof i.status=="string")i.then(Hc,Hc);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,h_(r),r}throw Gl=i,ql}}var Gl=null;function c_(){if(Gl===null)throw Error(s(459));var r=Gl;return Gl=null,r}function h_(r){if(r===ql||r===Fc)throw Error(s(483))}var hs=!1;function Ud(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function fs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ds(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Lc(r),Xy(r,null,o),i}return Pc(r,u,i,o),Lc(r)}function Kl(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Jn(r,o)}}function zd(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Bd=!1;function Yl(){if(Bd){var r=Ao;if(r!==null)throw r}}function Wl(r,i,o,u){Bd=!1;var f=r.updateQueue;hs=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,Y=x.next;x.next=null,E===null?p=Y:E.next=Y,E=x;var te=r.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==E&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=x))}if(p!==null){var se=f.baseState;E=0,te=Y=x=null,S=p;do{var Q=S.lane&-536870913,Z=Q!==S.lane;if(Z?(nt&Q)===Q:(u&Q)===Q){Q!==0&&Q===bo&&(Bd=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Le=r,xe=S;Q=i;var gt=o;switch(xe.tag){case 1:if(Le=xe.payload,typeof Le=="function"){se=Le.call(gt,se,Q);break e}se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=xe.payload,Q=typeof Le=="function"?Le.call(gt,se,Q):Le,Q==null)break e;se=_({},se,Q);break e;case 2:hs=!0}}Q=S.callback,Q!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=Z,x=se):te=te.next=Z,E|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(x=se),f.baseState=x,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),Ts|=E,r.lanes=E,r.memoizedState=se}}function f_(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function d_(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)f_(o[r],i)}var Ro=ne(null),qc=ne(0);function m_(r,i){r=zi,de(qc,r),de(Ro,i),zi=r|i.baseLanes}function Fd(){de(qc,zi),de(Ro,Ro.current)}function Hd(){zi=qc.current,pe(Ro),pe(qc)}var ms=0,Ke=null,mt=null,Ht=null,Gc=!1,Co=!1,Oa=!1,Kc=0,$l=0,Io=null,kR=0;function jt(){throw Error(s(321))}function qd(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!nr(r[o],i[o]))return!1;return!0}function Gd(r,i,o,u,f,p){return ms=p,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?X_:Z_,Oa=!1,p=o(u,f),Oa=!1,Co&&(p=g_(i,o,u,f)),p_(r),p}function p_(r){$.H=Zc;var i=mt!==null&&mt.next!==null;if(ms=0,Ht=mt=Ke=null,Gc=!1,$l=0,Io=null,i)throw Error(s(300));r===null||sn||(r=r.dependencies,r!==null&&jc(r)&&(sn=!0))}function g_(r,i,o,u){Ke=r;var f=0;do{if(Co&&(Io=null),$l=0,Co=!1,25<=f)throw Error(s(301));if(f+=1,Ht=mt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=qR,p=i(o,u)}while(Co);return p}function UR(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?Ql(i):i,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(Ke.flags|=1024),i}function Kd(){var r=Kc!==0;return Kc=0,r}function Yd(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Wd(r){if(Gc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gc=!1}ms=0,Ht=mt=Ke=null,Co=!1,$l=Kc=0,Io=null}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ke.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function qt(){if(mt===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=Ht===null?Ke.memoizedState:Ht.next;if(i!==null)Ht=i,mt=r;else{if(r===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ht===null?Ke.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(r){var i=$l;return $l+=1,Io===null&&(Io=[]),r=u_(Io,r,i),i=Ke,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?X_:Z_),r}function Yc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ql(r);if(r.$$typeof===X)return Sn(r)}throw Error(s(438,String(r)))}function Qd(r){var i=null,o=Ke.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=$d(),Ke.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=L;return i.index++,o}function Pi(r,i){return typeof i=="function"?i(r):i}function Wc(r){var i=qt();return Xd(i,mt,r)}function Xd(r,i,o){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=r.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,u.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var S=E=null,x=null,Y=i,te=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(nt&se)===se:(ms&se)===se){var Q=Y.revertLane;if(Q===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===bo&&(te=!0);else if((ms&Q)===Q){Y=Y.next,Q===bo&&(te=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(S=x=se,E=p):x=x.next=se,Ke.lanes|=Q,Ts|=Q;se=Y.action,Oa&&o(p,se),p=Y.hasEagerState?Y.eagerState:o(p,se)}else Q={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},x===null?(S=x=Q,E=p):x=x.next=Q,Ke.lanes|=se,Ts|=se;Y=Y.next}while(Y!==null&&Y!==i);if(x===null?E=p:x.next=S,!nr(p,r.memoizedState)&&(sn=!0,te&&(o=Ao,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=x,u.lastRenderedState=p}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Zd(r){var i=qt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);nr(p,i.memoizedState)||(sn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function y_(r,i,o){var u=Ke,f=qt(),p=at;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!nr((mt||f).memoizedState,o);E&&(f.memoizedState=o,sn=!0),f=f.queue;var S=E_.bind(null,u,f,r);if(Xl(2048,8,S,[r]),f.getSnapshot!==i||E||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Do(9,$c(),v_.bind(null,u,f,o,i),null),Tt===null)throw Error(s(349));p||(ms&124)!==0||__(u,i,o)}return o}function __(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Ke.updateQueue,i===null?(i=$d(),Ke.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function v_(r,i,o,u){i.value=o,i.getSnapshot=u,T_(i)&&w_(r)}function E_(r,i,o){return o(function(){T_(i)&&w_(r)})}function T_(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!nr(r,o)}catch{return!0}}function w_(r){var i=Eo(r,2);i!==null&&lr(i,r,2)}function Jd(r){var i=jn();if(typeof r=="function"){var o=r;if(r=o(),Oa){Dn(!0);try{o()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},i}function S_(r,i,o,u){return r.baseState=o,Xd(r,mt,typeof u=="function"?u:Pi)}function jR(r,i,o,u,f){if(Xc(r))throw Error(s(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};$.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,b_(i,p)):(p.next=o.next,i.pending=o.next=p)}}function b_(r,i){var o=i.action,u=i.payload,f=r.state;if(i.isTransition){var p=$.T,E={};$.T=E;try{var S=o(f,u),x=$.S;x!==null&&x(E,S),A_(r,i,S)}catch(Y){em(r,i,Y)}finally{$.T=p}}else try{p=o(f,u),A_(r,i,p)}catch(Y){em(r,i,Y)}}function A_(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R_(r,i,u)},function(u){return em(r,i,u)}):R_(r,i,o)}function R_(r,i,o){i.status="fulfilled",i.value=o,C_(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,b_(r,o)))}function em(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,C_(i),i=i.next;while(i!==u)}r.action=null}function C_(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function I_(r,i){return i}function D_(r,i){if(at){var o=Tt.formState;if(o!==null){e:{var u=Ke;if(at){if(Pt){t:{for(var f=Pt,p=ri;f.nodeType!==8;){if(!p){f=null;break t}if(f=Yr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Pt=Yr(f.nextSibling),u=f.data==="F!";break e}}Ia(u)}u=!1}u&&(i=o[0])}}return o=jn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:i},o.queue=u,o=W_.bind(null,Ke,u),u.dispatch=o,u=Jd(!1),p=sm.bind(null,Ke,!1,u.queue),u=jn(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,o=jR.bind(null,Ke,f,p,o),f.dispatch=o,u.memoizedState=r,[i,o,!1]}function N_(r){var i=qt();return x_(i,mt,r)}function x_(r,i,o){if(i=Xd(r,i,I_)[0],r=Wc(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Ql(i)}catch(E){throw E===ql?Fc:E}else u=i;i=qt();var f=i.queue,p=f.dispatch;return o!==i.memoizedState&&(Ke.flags|=2048,Do(9,$c(),zR.bind(null,f,o),null)),[u,p,r]}function zR(r,i){r.action=i}function O_(r){var i=qt(),o=mt;if(o!==null)return x_(i,o,r);qt(),i=i.memoizedState,o=qt();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function Do(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=$d(),Ke.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function $c(){return{destroy:void 0,resource:void 0}}function M_(){return qt().memoizedState}function Qc(r,i,o,u){var f=jn();u=u===void 0?null:u,Ke.flags|=r,f.memoizedState=Do(1|i,$c(),o,u)}function Xl(r,i,o,u){var f=qt();u=u===void 0?null:u;var p=f.memoizedState.inst;mt!==null&&u!==null&&qd(u,mt.memoizedState.deps)?f.memoizedState=Do(i,p,o,u):(Ke.flags|=r,f.memoizedState=Do(1|i,p,o,u))}function P_(r,i){Qc(8390656,8,r,i)}function L_(r,i){Xl(2048,8,r,i)}function V_(r,i){return Xl(4,2,r,i)}function k_(r,i){return Xl(4,4,r,i)}function U_(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function j_(r,i,o){o=o!=null?o.concat([r]):null,Xl(4,4,U_.bind(null,i,r),o)}function tm(){}function z_(r,i){var o=qt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&qd(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function B_(r,i){var o=qt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&qd(i,u[1]))return u[0];if(u=r(),Oa){Dn(!0);try{r()}finally{Dn(!1)}}return o.memoizedState=[u,i],u}function nm(r,i,o){return o===void 0||(ms&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=qv(),Ke.lanes|=r,Ts|=r,o)}function F_(r,i,o,u){return nr(o,i)?o:Ro.current!==null?(r=nm(r,o,u),nr(r,i)||(sn=!0),r):(ms&42)===0?(sn=!0,r.memoizedState=o):(r=qv(),Ke.lanes|=r,Ts|=r,i)}function H_(r,i,o,u,f){var p=fe.p;fe.p=p!==0&&8>p?p:8;var E=$.T,S={};$.T=S,sm(r,!1,i,o);try{var x=f(),Y=$.S;if(Y!==null&&Y(S,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var te=VR(x,u);Zl(r,i,te,or(r))}else Zl(r,i,u,or(r))}catch(se){Zl(r,i,{then:function(){},status:"rejected",reason:se},or())}finally{fe.p=p,$.T=E}}function BR(){}function rm(r,i,o,u){if(r.tag!==5)throw Error(s(476));var f=q_(r).queue;H_(r,f,i,ge,o===null?BR:function(){return G_(r),o(u)})}function q_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ge},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function G_(r){var i=q_(r).next.queue;Zl(r,i,{},or())}function im(){return Sn(gu)}function K_(){return qt().memoizedState}function Y_(){return qt().memoizedState}function FR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=or();r=fs(o);var u=ds(i,r,o);u!==null&&(lr(u,i,o),Kl(u,i,o)),i={cache:Pd()},r.payload=i;return}i=i.return}}function HR(r,i,o){var u=or();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Xc(r)?$_(i,o):(o=bd(r,i,o,u),o!==null&&(lr(o,r,u),Q_(o,i,u)))}function W_(r,i,o){var u=or();Zl(r,i,o,u)}function Zl(r,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xc(r))$_(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,S=p(E,o);if(f.hasEagerState=!0,f.eagerState=S,nr(S,E))return Pc(r,i,f,0),Tt===null&&Mc(),!1}catch{}finally{}if(o=bd(r,i,f,u),o!==null)return lr(o,r,u),Q_(o,i,u),!0}return!1}function sm(r,i,o,u){if(u={lane:2,revertLane:km(),action:u,hasEagerState:!1,eagerState:null,next:null},Xc(r)){if(i)throw Error(s(479))}else i=bd(r,o,u,2),i!==null&&lr(i,r,2)}function Xc(r){var i=r.alternate;return r===Ke||i!==null&&i===Ke}function $_(r,i){Co=Gc=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Q_(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Jn(r,o)}}var Zc={readContext:Sn,use:Yc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},X_={readContext:Sn,use:Yc,useCallback:function(r,i){return jn().memoizedState=[r,i===void 0?null:i],r},useContext:Sn,useEffect:P_,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Qc(4194308,4,U_.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Qc(4194308,4,r,i)},useInsertionEffect:function(r,i){Qc(4,2,r,i)},useMemo:function(r,i){var o=jn();i=i===void 0?null:i;var u=r();if(Oa){Dn(!0);try{r()}finally{Dn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=jn();if(o!==void 0){var f=o(i);if(Oa){Dn(!0);try{o(i)}finally{Dn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=HR.bind(null,Ke,r),[u.memoizedState,r]},useRef:function(r){var i=jn();return r={current:r},i.memoizedState=r},useState:function(r){r=Jd(r);var i=r.queue,o=W_.bind(null,Ke,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:tm,useDeferredValue:function(r,i){var o=jn();return nm(o,r,i)},useTransition:function(){var r=Jd(!1);return r=H_.bind(null,Ke,r.queue,!0,!1),jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Ke,f=jn();if(at){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Tt===null)throw Error(s(349));(nt&124)!==0||__(u,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,P_(E_.bind(null,u,p,r),[r]),u.flags|=2048,Do(9,$c(),v_.bind(null,u,p,o,i),null),o},useId:function(){var r=jn(),i=Tt.identifierPrefix;if(at){var o=xi,u=Ni;o=(u&~(1<<32-$t(u)-1)).toString(32)+o,i=""+i+"R"+o,o=Kc++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=kR++,i=""+i+"r"+o.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:im,useFormState:D_,useActionState:D_,useOptimistic:function(r){var i=jn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=sm.bind(null,Ke,!0,o),o.dispatch=i,[r,i]},useMemoCache:Qd,useCacheRefresh:function(){return jn().memoizedState=FR.bind(null,Ke)}},Z_={readContext:Sn,use:Yc,useCallback:z_,useContext:Sn,useEffect:L_,useImperativeHandle:j_,useInsertionEffect:V_,useLayoutEffect:k_,useMemo:B_,useReducer:Wc,useRef:M_,useState:function(){return Wc(Pi)},useDebugValue:tm,useDeferredValue:function(r,i){var o=qt();return F_(o,mt.memoizedState,r,i)},useTransition:function(){var r=Wc(Pi)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Ql(r),i]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:im,useFormState:N_,useActionState:N_,useOptimistic:function(r,i){var o=qt();return S_(o,mt,r,i)},useMemoCache:Qd,useCacheRefresh:Y_},qR={readContext:Sn,use:Yc,useCallback:z_,useContext:Sn,useEffect:L_,useImperativeHandle:j_,useInsertionEffect:V_,useLayoutEffect:k_,useMemo:B_,useReducer:Zd,useRef:M_,useState:function(){return Zd(Pi)},useDebugValue:tm,useDeferredValue:function(r,i){var o=qt();return mt===null?nm(o,r,i):F_(o,mt.memoizedState,r,i)},useTransition:function(){var r=Zd(Pi)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Ql(r),i]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:im,useFormState:O_,useActionState:O_,useOptimistic:function(r,i){var o=qt();return mt!==null?S_(o,mt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:Y_},No=null,Jl=0;function Jc(r){var i=Jl;return Jl+=1,No===null&&(No=[]),u_(No,r,i)}function eu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function eh(r,i){throw i.$$typeof===T?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function J_(r){var i=r._init;return i(r._payload)}function ev(r){function i(H,k){if(r){var G=H.deletions;G===null?(H.deletions=[k],H.flags|=16):G.push(k)}}function o(H,k){if(!r)return null;for(;k!==null;)i(H,k),k=k.sibling;return null}function u(H){for(var k=new Map;H!==null;)H.key!==null?k.set(H.key,H):k.set(H.index,H),H=H.sibling;return k}function f(H,k){return H=Di(H,k),H.index=0,H.sibling=null,H}function p(H,k,G){return H.index=G,r?(G=H.alternate,G!==null?(G=G.index,G<k?(H.flags|=67108866,k):G):(H.flags|=67108866,k)):(H.flags|=1048576,k)}function E(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function S(H,k,G,re){return k===null||k.tag!==6?(k=Rd(G,H.mode,re),k.return=H,k):(k=f(k,G),k.return=H,k)}function x(H,k,G,re){var we=G.type;return we===z?te(H,k,G.props.children,re,G.key):k!==null&&(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&J_(we)===k.type)?(k=f(k,G.props),eu(k,G),k.return=H,k):(k=Vc(G.type,G.key,G.props,null,H.mode,re),eu(k,G),k.return=H,k)}function Y(H,k,G,re){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?(k=Cd(G,H.mode,re),k.return=H,k):(k=f(k,G.children||[]),k.return=H,k)}function te(H,k,G,re,we){return k===null||k.tag!==7?(k=ba(G,H.mode,re,we),k.return=H,k):(k=f(k,G),k.return=H,k)}function se(H,k,G){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Rd(""+k,H.mode,G),k.return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return G=Vc(k.type,k.key,k.props,null,H.mode,G),eu(G,k),G.return=H,G;case D:return k=Cd(k,H.mode,G),k.return=H,k;case R:var re=k._init;return k=re(k._payload),se(H,k,G)}if($e(k)||B(k))return k=ba(k,H.mode,G,null),k.return=H,k;if(typeof k.then=="function")return se(H,Jc(k),G);if(k.$$typeof===X)return se(H,zc(H,k),G);eh(H,k)}return null}function Q(H,k,G,re){var we=k!==null?k.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return we!==null?null:S(H,k,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===we?x(H,k,G,re):null;case D:return G.key===we?Y(H,k,G,re):null;case R:return we=G._init,G=we(G._payload),Q(H,k,G,re)}if($e(G)||B(G))return we!==null?null:te(H,k,G,re,null);if(typeof G.then=="function")return Q(H,k,Jc(G),re);if(G.$$typeof===X)return Q(H,k,zc(H,G),re);eh(H,G)}return null}function Z(H,k,G,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return H=H.get(G)||null,S(k,H,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return H=H.get(re.key===null?G:re.key)||null,x(k,H,re,we);case D:return H=H.get(re.key===null?G:re.key)||null,Y(k,H,re,we);case R:var Ye=re._init;return re=Ye(re._payload),Z(H,k,G,re,we)}if($e(re)||B(re))return H=H.get(G)||null,te(k,H,re,we,null);if(typeof re.then=="function")return Z(H,k,G,Jc(re),we);if(re.$$typeof===X)return Z(H,k,G,zc(k,re),we);eh(k,re)}return null}function Le(H,k,G,re){for(var we=null,Ye=null,Ie=k,Oe=k=0,on=null;Ie!==null&&Oe<G.length;Oe++){Ie.index>Oe?(on=Ie,Ie=null):on=Ie.sibling;var st=Q(H,Ie,G[Oe],re);if(st===null){Ie===null&&(Ie=on);break}r&&Ie&&st.alternate===null&&i(H,Ie),k=p(st,k,Oe),Ye===null?we=st:Ye.sibling=st,Ye=st,Ie=on}if(Oe===G.length)return o(H,Ie),at&&Ra(H,Oe),we;if(Ie===null){for(;Oe<G.length;Oe++)Ie=se(H,G[Oe],re),Ie!==null&&(k=p(Ie,k,Oe),Ye===null?we=Ie:Ye.sibling=Ie,Ye=Ie);return at&&Ra(H,Oe),we}for(Ie=u(Ie);Oe<G.length;Oe++)on=Z(Ie,H,Oe,G[Oe],re),on!==null&&(r&&on.alternate!==null&&Ie.delete(on.key===null?Oe:on.key),k=p(on,k,Oe),Ye===null?we=on:Ye.sibling=on,Ye=on);return r&&Ie.forEach(function(Ns){return i(H,Ns)}),at&&Ra(H,Oe),we}function xe(H,k,G,re){if(G==null)throw Error(s(151));for(var we=null,Ye=null,Ie=k,Oe=k=0,on=null,st=G.next();Ie!==null&&!st.done;Oe++,st=G.next()){Ie.index>Oe?(on=Ie,Ie=null):on=Ie.sibling;var Ns=Q(H,Ie,st.value,re);if(Ns===null){Ie===null&&(Ie=on);break}r&&Ie&&Ns.alternate===null&&i(H,Ie),k=p(Ns,k,Oe),Ye===null?we=Ns:Ye.sibling=Ns,Ye=Ns,Ie=on}if(st.done)return o(H,Ie),at&&Ra(H,Oe),we;if(Ie===null){for(;!st.done;Oe++,st=G.next())st=se(H,st.value,re),st!==null&&(k=p(st,k,Oe),Ye===null?we=st:Ye.sibling=st,Ye=st);return at&&Ra(H,Oe),we}for(Ie=u(Ie);!st.done;Oe++,st=G.next())st=Z(Ie,H,Oe,st.value,re),st!==null&&(r&&st.alternate!==null&&Ie.delete(st.key===null?Oe:st.key),k=p(st,k,Oe),Ye===null?we=st:Ye.sibling=st,Ye=st);return r&&Ie.forEach(function(G1){return i(H,G1)}),at&&Ra(H,Oe),we}function gt(H,k,G,re){if(typeof G=="object"&&G!==null&&G.type===z&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var we=G.key;k!==null;){if(k.key===we){if(we=G.type,we===z){if(k.tag===7){o(H,k.sibling),re=f(k,G.props.children),re.return=H,H=re;break e}}else if(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===R&&J_(we)===k.type){o(H,k.sibling),re=f(k,G.props),eu(re,G),re.return=H,H=re;break e}o(H,k);break}else i(H,k);k=k.sibling}G.type===z?(re=ba(G.props.children,H.mode,re,G.key),re.return=H,H=re):(re=Vc(G.type,G.key,G.props,null,H.mode,re),eu(re,G),re.return=H,H=re)}return E(H);case D:e:{for(we=G.key;k!==null;){if(k.key===we)if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){o(H,k.sibling),re=f(k,G.children||[]),re.return=H,H=re;break e}else{o(H,k);break}else i(H,k);k=k.sibling}re=Cd(G,H.mode,re),re.return=H,H=re}return E(H);case R:return we=G._init,G=we(G._payload),gt(H,k,G,re)}if($e(G))return Le(H,k,G,re);if(B(G)){if(we=B(G),typeof we!="function")throw Error(s(150));return G=we.call(G),xe(H,k,G,re)}if(typeof G.then=="function")return gt(H,k,Jc(G),re);if(G.$$typeof===X)return gt(H,k,zc(H,G),re);eh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,k!==null&&k.tag===6?(o(H,k.sibling),re=f(k,G),re.return=H,H=re):(o(H,k),re=Rd(G,H.mode,re),re.return=H,H=re),E(H)):o(H,k)}return function(H,k,G,re){try{Jl=0;var we=gt(H,k,G,re);return No=null,we}catch(Ie){if(Ie===ql||Ie===Fc)throw Ie;var Ye=rr(29,Ie,null,H.mode);return Ye.lanes=re,Ye.return=H,Ye}finally{}}}var xo=ev(!0),tv=ev(!1),Sr=ne(null),ii=null;function ps(r){var i=r.alternate;de(Jt,Jt.current&1),de(Sr,r),ii===null&&(i===null||Ro.current!==null||i.memoizedState!==null)&&(ii=r)}function nv(r){if(r.tag===22){if(de(Jt,Jt.current),de(Sr,r),ii===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ii=r)}}else gs()}function gs(){de(Jt,Jt.current),de(Sr,Sr.current)}function Li(r){pe(Sr),ii===r&&(ii=null),pe(Jt)}var Jt=ne(0);function th(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$m(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function am(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var om={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=or(),f=fs(u);f.payload=i,o!=null&&(f.callback=o),i=ds(r,f,u),i!==null&&(lr(i,r,u),Kl(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=or(),f=fs(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=ds(r,f,u),i!==null&&(lr(i,r,u),Kl(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=or(),u=fs(o);u.tag=2,i!=null&&(u.callback=i),i=ds(r,u,o),i!==null&&(lr(i,r,o),Kl(i,r,o))}};function rv(r,i,o,u,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):i.prototype&&i.prototype.isPureReactComponent?!Vl(o,u)||!Vl(f,p):!0}function iv(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&om.enqueueReplaceState(i,i.state,null)}function Ma(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=_({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var nh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function sv(r){nh(r)}function av(r){console.error(r)}function ov(r){nh(r)}function rh(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function lv(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lm(r,i,o){return o=fs(o),o.tag=3,o.payload={element:null},o.callback=function(){rh(r,i)},o}function uv(r){return r=fs(r),r.tag=3,r}function cv(r,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;r.payload=function(){return f(p)},r.callback=function(){lv(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){lv(i,o,u),typeof f!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function GR(r,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Bl(i,o,f,!0),o=Sr.current,o!==null){switch(o.tag){case 13:return ii===null?Om():o.alternate===null&&Lt===0&&(Lt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===kd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Pm(r,u,f)),!1;case 22:return o.flags|=65536,u===kd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Pm(r,u,f)),!1}throw Error(s(435,o.tag))}return Pm(r,u,f),Om(),!1}if(at)return i=Sr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Nd&&(r=Error(s(422),{cause:u}),zl(vr(r,o)))):(u!==Nd&&(i=Error(s(423),{cause:u}),zl(vr(i,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=vr(u,o),f=lm(r.stateNode,u,f),zd(r,f),Lt!==4&&(Lt=2)),!1;var p=Error(s(520),{cause:u});if(p=vr(p,o),ou===null?ou=[p]:ou.push(p),Lt!==4&&(Lt=2),i===null)return!0;u=vr(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=lm(o.stateNode,u,r),zd(o,r),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ws===null||!ws.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=uv(f),cv(f,r,o,u),zd(o,f),!1}o=o.return}while(o!==null);return!1}var hv=Error(s(461)),sn=!1;function fn(r,i,o,u){i.child=r===null?tv(i,null,o,u):xo(i,r.child,o,u)}function fv(r,i,o,u,f){o=o.render;var p=i.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Na(i),u=Gd(r,i,o,E,p,f),S=Kd(),r!==null&&!sn?(Yd(r,i,f),Vi(r,i,f)):(at&&S&&Id(i),i.flags|=1,fn(r,i,u,f),i.child)}function dv(r,i,o,u,f){if(r===null){var p=o.type;return typeof p=="function"&&!Ad(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,mv(r,i,p,u,f)):(r=Vc(o.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!gm(r,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(E,u)&&r.ref===i.ref)return Vi(r,i,f)}return i.flags|=1,r=Di(p,u),r.ref=i.ref,r.return=i,i.child=r}function mv(r,i,o,u,f){if(r!==null){var p=r.memoizedProps;if(Vl(p,u)&&r.ref===i.ref)if(sn=!1,i.pendingProps=u=p,gm(r,f))(r.flags&131072)!==0&&(sn=!0);else return i.lanes=r.lanes,Vi(r,i,f)}return um(r,i,o,u,f)}function pv(r,i,o){var u=i.pendingProps,f=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(f=i.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return gv(r,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bc(i,p!==null?p.cachePool:null),p!==null?m_(i,p):Fd(),nv(i);else return i.lanes=i.childLanes=536870912,gv(r,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(Bc(i,p.cachePool),m_(i,p),gs(),i.memoizedState=null):(r!==null&&Bc(i,null),Fd(),gs());return fn(r,i,f,o),i.child}function gv(r,i,o,u){var f=Vd();return f=f===null?null:{parent:Zt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},r!==null&&Bc(i,null),Fd(),nv(i),r!==null&&Bl(r,i,u,!0),null}function ih(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function um(r,i,o,u,f){return Na(i),o=Gd(r,i,o,u,void 0,f),u=Kd(),r!==null&&!sn?(Yd(r,i,f),Vi(r,i,f)):(at&&u&&Id(i),i.flags|=1,fn(r,i,o,f),i.child)}function yv(r,i,o,u,f,p){return Na(i),i.updateQueue=null,o=g_(i,u,o,f),p_(r),u=Kd(),r!==null&&!sn?(Yd(r,i,p),Vi(r,i,p)):(at&&u&&Id(i),i.flags|=1,fn(r,i,o,p),i.child)}function _v(r,i,o,u,f){if(Na(i),i.stateNode===null){var p=To,E=o.contextType;typeof E=="object"&&E!==null&&(p=Sn(E)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=om,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Ud(i),E=o.contextType,p.context=typeof E=="object"&&E!==null?Sn(E):To,p.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(am(i,o,E,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&om.enqueueReplaceState(p,p.state,null),Wl(i,u,p,f),Yl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){p=i.stateNode;var S=i.memoizedProps,x=Ma(o,S);p.props=x;var Y=p.context,te=o.contextType;E=To,typeof te=="object"&&te!==null&&(E=Sn(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==E)&&iv(i,p,u,E),hs=!1;var Q=i.memoizedState;p.state=Q,Wl(i,u,p,f),Yl(),Y=i.memoizedState,S||Q!==Y||hs?(typeof se=="function"&&(am(i,o,se,u),Y=i.memoizedState),(x=hs||rv(i,o,x,u,Q,Y,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Y),p.props=u,p.state=Y,p.context=E,u=x):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,jd(r,i),E=i.memoizedProps,te=Ma(o,E),p.props=te,se=i.pendingProps,Q=p.context,Y=o.contextType,x=To,typeof Y=="object"&&Y!==null&&(x=Sn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==se||Q!==x)&&iv(i,p,u,x),hs=!1,Q=i.memoizedState,p.state=Q,Wl(i,u,p,f),Yl();var Z=i.memoizedState;E!==se||Q!==Z||hs||r!==null&&r.dependencies!==null&&jc(r.dependencies)?(typeof S=="function"&&(am(i,o,S,u),Z=i.memoizedState),(te=hs||rv(i,o,te,u,Q,Z,x)||r!==null&&r.dependencies!==null&&jc(r.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,x)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),p.props=u,p.state=Z,p.context=x,u=te):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),u=!1)}return p=u,ih(r,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&u?(i.child=xo(i,r.child,null,f),i.child=xo(i,null,o,f)):fn(r,i,o,f),i.memoizedState=p.state,r=i.child):r=Vi(r,i,f),r}function vv(r,i,o,u){return jl(),i.flags|=256,fn(r,i,o,u),i.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(r){return{baseLanes:r,cachePool:a_()}}function fm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=br),r}function Ev(r,i,o){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Jt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(at){if(f?ps(i):gs(),at){var S=Pt,x;if(x=S){e:{for(x=S,S=ri;x.nodeType!==8;){if(!S){S=null;break e}if(x=Yr(x.nextSibling),x===null){S=null;break e}}S=x}S!==null?(i.memoizedState={dehydrated:S,treeContext:Aa!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},x=rr(18,null,null,0),x.stateNode=S,x.return=i,i.child=x,Vn=i,Pt=null,x=!0):x=!1}x||Ia(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $m(S)?i.lanes=32:i.lanes=536870912,null;Li(i)}return S=u.children,u=u.fallback,f?(gs(),f=i.mode,S=sh({mode:"hidden",children:S},f),u=ba(u,f,o,null),S.return=i,u.return=i,S.sibling=u,i.child=S,f=i.child,f.memoizedState=hm(o),f.childLanes=fm(r,E,o),i.memoizedState=cm,u):(ps(i),dm(i,S))}if(x=r.memoizedState,x!==null&&(S=x.dehydrated,S!==null)){if(p)i.flags&256?(ps(i),i.flags&=-257,i=mm(r,i,o)):i.memoizedState!==null?(gs(),i.child=r.child,i.flags|=128,i=null):(gs(),f=u.fallback,S=i.mode,u=sh({mode:"visible",children:u.children},S),f=ba(f,S,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,xo(i,r.child,null,o),u=i.child,u.memoizedState=hm(o),u.childLanes=fm(r,E,o),i.memoizedState=cm,i=f);else if(ps(i),$m(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(s(419)),u.stack="",u.digest=E,zl({value:u,source:null,stack:null}),i=mm(r,i,o)}else if(sn||Bl(r,i,o,!1),E=(o&r.childLanes)!==0,sn||E){if(E=Tt,E!==null&&(u=o&-o,u=(u&42)!==0?1:oa(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==x.retryLane))throw x.retryLane=u,Eo(r,u),lr(E,r,u),hv;S.data==="$?"||Om(),i=mm(r,i,o)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=x.treeContext,Pt=Yr(S.nextSibling),Vn=i,at=!0,Ca=null,ri=!1,r!==null&&(Tr[wr++]=Ni,Tr[wr++]=xi,Tr[wr++]=Aa,Ni=r.id,xi=r.overflow,Aa=i),i=dm(i,u.children),i.flags|=4096);return i}return f?(gs(),f=u.fallback,S=i.mode,x=r.child,Y=x.sibling,u=Di(x,{mode:"hidden",children:u.children}),u.subtreeFlags=x.subtreeFlags&65011712,Y!==null?f=Di(Y,f):(f=ba(f,S,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,S=r.child.memoizedState,S===null?S=hm(o):(x=S.cachePool,x!==null?(Y=Zt._currentValue,x=x.parent!==Y?{parent:Y,pool:Y}:x):x=a_(),S={baseLanes:S.baseLanes|o,cachePool:x}),f.memoizedState=S,f.childLanes=fm(r,E,o),i.memoizedState=cm,u):(ps(i),o=r.child,r=o.sibling,o=Di(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=o,i.memoizedState=null,o)}function dm(r,i){return i=sh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function sh(r,i){return r=rr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function mm(r,i,o){return xo(i,r.child,null,o),r=dm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Tv(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Od(r.return,i,o)}function pm(r,i,o,u,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function wv(r,i,o){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(fn(r,i,u.children,o),u=Jt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Tv(r,o,i);else if(r.tag===19)Tv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(de(Jt,u),f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&th(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),pm(i,!1,f,o,p);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&th(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}pm(i,!0,o,null,p);break;case"together":pm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vi(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Ts|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Bl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Di(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Di(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function gm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&jc(r)))}function KR(r,i,o){switch(i.tag){case 3:ot(i,i.stateNode.containerInfo),cs(i,Zt,r.memoizedState.cache),jl();break;case 27:case 5:Mt(i);break;case 4:ot(i,i.stateNode.containerInfo);break;case 10:cs(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ps(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ev(r,i,o):(ps(i),r=Vi(r,i,o),r!==null?r.sibling:null);ps(i);break;case 19:var f=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Bl(r,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return wv(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(Jt,Jt.current),u)break;return null;case 22:case 23:return i.lanes=0,pv(r,i,o);case 24:cs(i,Zt,r.memoizedState.cache)}return Vi(r,i,o)}function Sv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)sn=!0;else{if(!gm(r,o)&&(i.flags&128)===0)return sn=!1,KR(r,i,o);sn=(r.flags&131072)!==0}else sn=!1,at&&(i.flags&1048576)!==0&&Jy(i,Uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Ad(u)?(r=Ma(u,r),i.tag=1,i=_v(null,i,u,r,o)):(i.tag=0,i=um(null,i,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===he){i.tag=11,i=fv(null,i,u,r,o);break e}else if(f===N){i.tag=14,i=dv(null,i,u,r,o);break e}}throw i=Ve(u)||u,Error(s(306,i,""))}}return i;case 0:return um(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=Ma(u,i.pendingProps),_v(r,i,u,f,o);case 3:e:{if(ot(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,jd(r,i),Wl(i,u,null,o);var E=i.memoizedState;if(u=E.cache,cs(i,Zt,u),u!==p.cache&&Md(i,[Zt],o,!0),Yl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=vv(r,i,u,o);break e}else if(u!==f){f=vr(Error(s(424)),i),zl(f),i=vv(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Pt=Yr(r.firstChild),Vn=i,at=!0,Ca=null,ri=!0,o=tv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(jl(),u===f){i=Vi(r,i,o);break e}fn(r,i,u,o)}i=i.child}return i;case 26:return ih(r,i),r===null?(o=CE(i.type,null,i.pendingProps,null))?i.memoizedState=o:at||(o=i.type,r=i.pendingProps,u=vh(De.current).createElement(o),u[ie]=i,u[ce]=r,mn(u,o,r),ke(u),i.stateNode=u):i.memoizedState=CE(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Mt(i),r===null&&at&&(u=i.stateNode=bE(i.type,i.pendingProps,De.current),Vn=i,ri=!0,f=Pt,As(i.type)?(Qm=f,Pt=Yr(u.firstChild)):Pt=f),fn(r,i,i.pendingProps.children,o),ih(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&at&&((f=u=Pt)&&(u=E1(u,i.type,i.pendingProps,ri),u!==null?(i.stateNode=u,Vn=i,Pt=Yr(u.firstChild),ri=!1,f=!0):f=!1),f||Ia(i)),Mt(i),f=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,Km(f,p)?u=null:E!==null&&Km(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Gd(r,i,UR,null,null,o),gu._currentValue=f),ih(r,i),fn(r,i,u,o),i.child;case 6:return r===null&&at&&((r=o=Pt)&&(o=T1(o,i.pendingProps,ri),o!==null?(i.stateNode=o,Vn=i,Pt=null,r=!0):r=!1),r||Ia(i)),null;case 13:return Ev(r,i,o);case 4:return ot(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=xo(i,null,u,o):fn(r,i,u,o),i.child;case 11:return fv(r,i,i.type,i.pendingProps,o);case 7:return fn(r,i,i.pendingProps,o),i.child;case 8:return fn(r,i,i.pendingProps.children,o),i.child;case 12:return fn(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,cs(i,i.type,u.value),fn(r,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Na(i),f=Sn(f),u=u(f),i.flags|=1,fn(r,i,u,o),i.child;case 14:return dv(r,i,i.type,i.pendingProps,o);case 15:return mv(r,i,i.type,i.pendingProps,o);case 19:return wv(r,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},r===null?(o=sh(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Di(r.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return pv(r,i,o);case 24:return Na(i),u=Sn(Zt),r===null?(f=Vd(),f===null&&(f=Tt,p=Pd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),i.memoizedState={parent:u,cache:f},Ud(i),cs(i,Zt,f)):((r.lanes&o)!==0&&(jd(r,i),Wl(i,null,null,o),Yl()),f=r.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),cs(i,Zt,u)):(u=p.cache,cs(i,Zt,u),u!==f.cache&&Md(i,[Zt],o,!0))),fn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ki(r){r.flags|=4}function bv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!OE(i)){if(i=Sr.current,i!==null&&((nt&4194048)===nt?ii!==null:(nt&62914560)!==nt&&(nt&536870912)===0||i!==ii))throw Gl=kd,o_;r.flags|=8192}}function ah(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?ei():536870912,r.lanes|=i,Lo|=i)}function tu(r,i){if(!at)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function xt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function YR(r,i,o){var u=i.pendingProps;switch(Dd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return xt(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Mi(Zt),Kn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ul(i)?ki(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,n_())),xt(i),null;case 26:return o=i.memoizedState,r===null?(ki(i),o!==null?(xt(i),bv(i,o)):(xt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(ki(i),xt(i),bv(i,o)):(xt(i),i.flags&=-16777217):(r.memoizedProps!==u&&ki(i),xt(i),i.flags&=-16777217),null;case 27:Yn(i),o=De.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ki(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return xt(i),null}r=Ee.current,Ul(i)?e_(i):(r=bE(f,u,o),i.stateNode=r,ki(i))}return xt(i),null;case 5:if(Yn(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&ki(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return xt(i),null}if(r=Ee.current,Ul(i))e_(i);else{switch(f=vh(De.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[ie]=i,r[ce]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(mn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ki(i)}}return xt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&ki(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=De.current,Ul(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,f=Vn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[ie]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yE(r.nodeValue,o)),r||Ia(i)}else r=vh(r).createTextNode(u),r[ie]=i,i.stateNode=r}return xt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ul(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ie]=i}else jl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),f=!1}else f=n_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),ah(i,i.updateQueue),xt(i),null;case 4:return Kn(),r===null&&Bm(i.stateNode.containerInfo),xt(i),null;case 10:return Mi(i.type),xt(i),null;case 19:if(pe(Jt),f=i.memoizedState,f===null)return xt(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)tu(f,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=th(r),p!==null){for(i.flags|=128,tu(f,!1),r=p.updateQueue,i.updateQueue=r,ah(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Zy(o,r),o=o.sibling;return de(Jt,Jt.current&1|2),i.child}r=r.sibling}f.tail!==null&&cn()>uh&&(i.flags|=128,u=!0,tu(f,!1),i.lanes=4194304)}else{if(!u)if(r=th(p),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,ah(i,r),tu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!at)return xt(i),null}else 2*cn()-f.renderingStartTime>uh&&o!==536870912&&(i.flags|=128,u=!0,tu(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(r=f.last,r!==null?r.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=cn(),i.sibling=null,r=Jt.current,de(Jt,u?r&1|2:r&1),i):(xt(i),null);case 22:case 23:return Li(i),Hd(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),o=i.updateQueue,o!==null&&ah(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&pe(xa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Mi(Zt),xt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function WR(r,i){switch(Dd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Mi(Zt),Kn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Yn(i),null;case 13:if(Li(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));jl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pe(Jt),null;case 4:return Kn(),null;case 10:return Mi(i.type),null;case 22:case 23:return Li(i),Hd(),r!==null&&pe(xa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Mi(Zt),null;case 25:return null;default:return null}}function Av(r,i){switch(Dd(i),i.tag){case 3:Mi(Zt),Kn();break;case 26:case 27:case 5:Yn(i);break;case 4:Kn();break;case 13:Li(i);break;case 19:pe(Jt);break;case 10:Mi(i.type);break;case 22:case 23:Li(i),Hd(),r!==null&&pe(xa);break;case 24:Mi(Zt)}}function nu(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){yt(i,i.return,S)}}function ys(r,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var x=o,Y=S;try{Y()}catch(te){yt(f,x,te)}}}u=u.next}while(u!==p)}}catch(te){yt(i,i.return,te)}}function Rv(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{d_(i,o)}catch(u){yt(r,r.return,u)}}}function Cv(r,i,o){o.props=Ma(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){yt(r,i,u)}}function ru(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){yt(r,i,f)}}function si(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){yt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){yt(r,i,f)}else o.current=null}function Iv(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){yt(r,r.return,f)}}function ym(r,i,o){try{var u=r.stateNode;p1(u,r.type,o,i),u[ce]=i}catch(f){yt(r,r.return,f)}}function Dv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&As(r.type)||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Dv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&As(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vm(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=_h));else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(vm(r,i,o),r=r.sibling;r!==null;)vm(r,i,o),r=r.sibling}function oh(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&As(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(oh(r,i,o),r=r.sibling;r!==null;)oh(r,i,o),r=r.sibling}function Nv(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);mn(i,u,o),i[ie]=r,i[ce]=o}catch(p){yt(r,r.return,p)}}var Ui=!1,zt=!1,Em=!1,xv=typeof WeakSet=="function"?WeakSet:Set,an=null;function $R(r,i){if(r=r.containerInfo,qm=Ah,r=Fy(r),_d(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,S=-1,x=-1,Y=0,te=0,se=r,Q=null;t:for(;;){for(var Z;se!==o||f!==0&&se.nodeType!==3||(S=E+f),se!==p||u!==0&&se.nodeType!==3||(x=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(Z=se.firstChild)!==null;)Q=se,se=Z;for(;;){if(se===r)break t;if(Q===o&&++Y===f&&(S=E),Q===p&&++te===u&&(x=E),(Z=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=Z}o=S===-1||x===-1?null:{start:S,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gm={focusedElem:r,selectionRange:o},Ah=!1,an=i;an!==null;)if(i=an,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,an=r;else for(;an!==null;){switch(i=an,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=i,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Le=Ma(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Le,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(xe){yt(o,o.return,xe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Wm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,an=r;break}an=i.return}}function Ov(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_s(r,o),u&4&&nu(5,o);break;case 1:if(_s(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(E){yt(o,o.return,E)}else{var f=Ma(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){yt(o,o.return,E)}}u&64&&Rv(o),u&512&&ru(o,o.return);break;case 3:if(_s(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{d_(r,i)}catch(E){yt(o,o.return,E)}}break;case 27:i===null&&u&4&&Nv(o);case 26:case 5:_s(r,o),i===null&&u&4&&Iv(o),u&512&&ru(o,o.return);break;case 12:_s(r,o);break;case 13:_s(r,o),u&4&&Lv(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=i1.bind(null,o),w1(r,o))));break;case 22:if(u=o.memoizedState!==null||Ui,!u){i=i!==null&&i.memoizedState!==null||zt,f=Ui;var p=zt;Ui=u,(zt=i)&&!p?vs(r,o,(o.subtreeFlags&8772)!==0):_s(r,o),Ui=f,zt=p}break;case 30:break;default:_s(r,o)}}function Mv(r){var i=r.alternate;i!==null&&(r.alternate=null,Mv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ae(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var It=null,zn=!1;function ji(r,i,o){for(o=o.child;o!==null;)Pv(r,i,o),o=o.sibling}function Pv(r,i,o){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(hn,o)}catch{}switch(o.tag){case 26:zt||si(o,i),ji(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||si(o,i);var u=It,f=zn;As(o.type)&&(It=o.stateNode,zn=!1),ji(r,i,o),fu(o.stateNode),It=u,zn=f;break;case 5:zt||si(o,i);case 6:if(u=It,f=zn,It=null,ji(r,i,o),It=u,zn=f,It!==null)if(zn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(o.stateNode)}catch(p){yt(o,i,p)}else try{It.removeChild(o.stateNode)}catch(p){yt(o,i,p)}break;case 18:It!==null&&(zn?(r=It,wE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Eu(r)):wE(It,o.stateNode));break;case 4:u=It,f=zn,It=o.stateNode.containerInfo,zn=!0,ji(r,i,o),It=u,zn=f;break;case 0:case 11:case 14:case 15:zt||ys(2,o,i),zt||ys(4,o,i),ji(r,i,o);break;case 1:zt||(si(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Cv(o,i,u)),ji(r,i,o);break;case 21:ji(r,i,o);break;case 22:zt=(u=zt)||o.memoizedState!==null,ji(r,i,o),zt=u;break;default:ji(r,i,o)}}function Lv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Eu(r)}catch(o){yt(i,i.return,o)}}function QR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new xv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new xv),i;default:throw Error(s(435,r.tag))}}function Tm(r,i){var o=QR(r);i.forEach(function(u){var f=s1.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function ir(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=r,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(As(S.type)){It=S.stateNode,zn=!1;break e}break;case 5:It=S.stateNode,zn=!1;break e;case 3:case 4:It=S.stateNode.containerInfo,zn=!0;break e}S=S.return}if(It===null)throw Error(s(160));Pv(p,E,f),It=null,zn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vv(i,r),i=i.sibling}var Kr=null;function Vv(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ir(i,r),sr(r),u&4&&(ys(3,r,r.return),nu(3,r),ys(5,r,r.return));break;case 1:ir(i,r),sr(r),u&512&&(zt||o===null||si(o,o.return)),u&64&&Ui&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Kr;if(ir(i,r),sr(r),u&512&&(zt||o===null||si(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Te]||p[ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),mn(p,u,o),p[ie]=r,ke(p),u=p;break e;case"link":var E=NE("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}p=f.createElement(u),mn(p,u,o),f.head.appendChild(p);break;case"meta":if(E=NE("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}p=f.createElement(u),mn(p,u,o),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[ie]=r,ke(p),u=p}r.stateNode=u}else xE(f,r.type,r.stateNode);else r.stateNode=DE(f,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?xE(f,r.type,r.stateNode):DE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&ym(r,r.memoizedProps,o.memoizedProps)}break;case 27:ir(i,r),sr(r),u&512&&(zt||o===null||si(o,o.return)),o!==null&&u&4&&ym(r,r.memoizedProps,o.memoizedProps);break;case 5:if(ir(i,r),sr(r),u&512&&(zt||o===null||si(o,o.return)),r.flags&32){f=r.stateNode;try{yr(f,"")}catch(Z){yt(r,r.return,Z)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,ym(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Em=!0);break;case 6:if(ir(i,r),sr(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Z){yt(r,r.return,Z)}}break;case 3:if(wh=null,f=Kr,Kr=Eh(i.containerInfo),ir(i,r),Kr=f,sr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Eu(i.containerInfo)}catch(Z){yt(r,r.return,Z)}Em&&(Em=!1,kv(r));break;case 4:u=Kr,Kr=Eh(r.stateNode.containerInfo),ir(i,r),sr(r),Kr=u;break;case 12:ir(i,r),sr(r);break;case 13:ir(i,r),sr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cm=cn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tm(r,u)));break;case 22:f=r.memoizedState!==null;var x=o!==null&&o.memoizedState!==null,Y=Ui,te=zt;if(Ui=Y||f,zt=te||x,ir(i,r),zt=te,Ui=Y,sr(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||x||Ui||zt||Pa(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){x=o=i;try{if(p=x.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=x.stateNode;var se=x.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Z){yt(x,x.return,Z)}}}else if(i.tag===6){if(o===null){x=i;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(Z){yt(x,x.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Tm(r,o))));break;case 19:ir(i,r),sr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tm(r,u)));break;case 30:break;case 21:break;default:ir(i,r),sr(r)}}function sr(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(Dv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=_m(r);oh(r,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(yr(E,""),o.flags&=-33);var S=_m(r);oh(r,S,E);break;case 3:case 4:var x=o.stateNode.containerInfo,Y=_m(r);vm(r,Y,x);break;default:throw Error(s(161))}}catch(te){yt(r,r.return,te)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function kv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;kv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function _s(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ov(r,i.alternate,i),i=i.sibling}function Pa(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ys(4,i,i.return),Pa(i);break;case 1:si(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Cv(i,i.return,o),Pa(i);break;case 27:fu(i.stateNode);case 26:case 5:si(i,i.return),Pa(i);break;case 22:i.memoizedState===null&&Pa(i);break;case 30:Pa(i);break;default:Pa(i)}r=r.sibling}}function vs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:vs(f,p,o),nu(4,p);break;case 1:if(vs(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){yt(u,u.return,Y)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)f_(x[f],S)}catch(Y){yt(u,u.return,Y)}}o&&E&64&&Rv(p),ru(p,p.return);break;case 27:Nv(p);case 26:case 5:vs(f,p,o),o&&u===null&&E&4&&Iv(p),ru(p,p.return);break;case 12:vs(f,p,o);break;case 13:vs(f,p,o),o&&E&4&&Lv(f,p);break;case 22:p.memoizedState===null&&vs(f,p,o),ru(p,p.return);break;case 30:break;default:vs(f,p,o)}i=i.sibling}}function wm(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Fl(o))}function Sm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Fl(r))}function ai(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uv(r,i,o,u),i=i.sibling}function Uv(r,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(r,i,o,u),f&2048&&nu(9,i);break;case 1:ai(r,i,o,u);break;case 3:ai(r,i,o,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Fl(r)));break;case 12:if(f&2048){ai(r,i,o,u),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(x){yt(i,i.return,x)}}else ai(r,i,o,u);break;case 13:ai(r,i,o,u);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?ai(r,i,o,u):iu(r,i):p._visibility&2?ai(r,i,o,u):(p._visibility|=2,Oo(r,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&wm(E,i);break;case 24:ai(r,i,o,u),f&2048&&Sm(i.alternate,i);break;default:ai(r,i,o,u)}}function Oo(r,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,S=o,x=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Oo(p,E,S,x,f),nu(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Oo(p,E,S,x,f):iu(p,E):(te._visibility|=2,Oo(p,E,S,x,f)),f&&Y&2048&&wm(E.alternate,E);break;case 24:Oo(p,E,S,x,f),f&&Y&2048&&Sm(E.alternate,E);break;default:Oo(p,E,S,x,f)}i=i.sibling}}function iu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,f=u.flags;switch(u.tag){case 22:iu(o,u),f&2048&&wm(u.alternate,u);break;case 24:iu(o,u),f&2048&&Sm(u.alternate,u);break;default:iu(o,u)}i=i.sibling}}var su=8192;function Mo(r){if(r.subtreeFlags&su)for(r=r.child;r!==null;)jv(r),r=r.sibling}function jv(r){switch(r.tag){case 26:Mo(r),r.flags&su&&r.memoizedState!==null&&L1(Kr,r.memoizedState,r.memoizedProps);break;case 5:Mo(r);break;case 3:case 4:var i=Kr;Kr=Eh(r.stateNode.containerInfo),Mo(r),Kr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=su,su=16777216,Mo(r),su=i):Mo(r));break;default:Mo(r)}}function zv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function au(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];an=u,Fv(u,r)}zv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Bv(r),r=r.sibling}function Bv(r){switch(r.tag){case 0:case 11:case 15:au(r),r.flags&2048&&ys(9,r,r.return);break;case 3:au(r);break;case 12:au(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,lh(r)):au(r);break;default:au(r)}}function lh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];an=u,Fv(u,r)}zv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ys(8,i,i.return),lh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,lh(i));break;default:lh(i)}r=r.sibling}}function Fv(r,i){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:ys(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,an=u;else e:for(o=r;an!==null;){u=an;var f=u.sibling,p=u.return;if(Mv(u),u===o){an=null;break e}if(f!==null){f.return=p,an=f;break e}an=p}}}var XR={getCacheForType:function(r){var i=Sn(Zt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},ZR=typeof WeakMap=="function"?WeakMap:Map,ht=0,Tt=null,Qe=null,nt=0,ft=0,ar=null,Es=!1,Po=!1,bm=!1,zi=0,Lt=0,Ts=0,La=0,Am=0,br=0,Lo=0,ou=null,Bn=null,Rm=!1,Cm=0,uh=1/0,ch=null,ws=null,dn=0,Ss=null,Vo=null,ko=0,Im=0,Dm=null,Hv=null,lu=0,Nm=null;function or(){if((ht&2)!==0&&nt!==0)return nt&-nt;if($.T!==null){var r=bo;return r!==0?r:km()}return O()}function qv(){br===0&&(br=(nt&536870912)===0||at?Si():536870912);var r=Sr.current;return r!==null&&(r.flags|=32),br}function lr(r,i,o){(r===Tt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(Uo(r,0),bs(r,nt,br,!1)),Dt(r,o),((ht&2)===0||r!==Tt)&&(r===Tt&&((ht&2)===0&&(La|=o),Lt===4&&bs(r,nt,br,!1)),oi(r))}function Gv(r,i,o){if((ht&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&r.expiredLanes)===0||Xn(r,i),f=u?t1(r,i):Mm(r,i,!0),p=u;do{if(f===0){Po&&!u&&bs(r,i,0,!1);break}else{if(o=r.current.alternate,p&&!JR(o)){f=Mm(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=r;f=ou;var x=S.current.memoizedState.isDehydrated;if(x&&(Uo(S,E).flags|=256),E=Mm(S,E,!1),E!==2){if(bm&&!x){S.errorRecoveryDisabledLanes|=p,La|=p,f=4;break e}p=Bn,Bn=f,p!==null&&(Bn===null?Bn=p:Bn.push.apply(Bn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Uo(r,0),bs(r,i,0,!0);break}e:{switch(u=r,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:bs(u,i,br,!Es);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Cm+300-cn(),10<f)){if(bs(u,i,br,!Es),Nn(u,0,!0)!==0)break e;u.timeoutHandle=EE(Kv.bind(null,u,o,Bn,ch,Rm,i,br,La,Lo,Es,p,2,-0,0),f);break e}Kv(u,o,Bn,ch,Rm,i,br,La,Lo,Es,p,0,-0,0)}}break}while(!0);oi(r)}function Kv(r,i,o,u,f,p,E,S,x,Y,te,se,Q,Z){if(r.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:P1},jv(i),se=V1(),se!==null)){r.cancelPendingCommit=se(Jv.bind(null,r,i,p,o,u,f,E,S,x,te,1,Q,Z)),bs(r,p,E,!Y);return}Jv(r,i,p,o,u,f,E,S,x)}function JR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!nr(p(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function bs(r,i,o,u){i&=~Am,i&=~La,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var p=31-$t(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&Zn(r,o,i)}function hh(){return(ht&6)===0?(uu(0),!1):!0}function xm(){if(Qe!==null){if(ft===0)var r=Qe.return;else r=Qe,Oi=Da=null,Wd(r),No=null,Jl=0,r=Qe;for(;r!==null;)Av(r.alternate,r),r=r.return;Qe=null}}function Uo(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,y1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),xm(),Tt=r,Qe=o=Di(r.current,null),nt=i,ft=0,ar=null,Es=!1,Po=Xn(r,i),bm=!1,Lo=br=Am=La=Ts=Lt=0,Bn=ou=null,Rm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-$t(u),p=1<<f;i|=r[f],u&=~p}return zi=i,Mc(),o}function Yv(r,i){Ke=null,$.H=Zc,i===ql||i===Fc?(i=c_(),ft=3):i===o_?(i=c_(),ft=4):ft=i===hv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ar=i,Qe===null&&(Lt=1,rh(r,vr(i,r.current)))}function Wv(){var r=$.H;return $.H=Zc,r===null?Zc:r}function $v(){var r=$.A;return $.A=XR,r}function Om(){Lt=4,Es||(nt&4194048)!==nt&&Sr.current!==null||(Po=!0),(Ts&134217727)===0&&(La&134217727)===0||Tt===null||bs(Tt,nt,br,!1)}function Mm(r,i,o){var u=ht;ht|=2;var f=Wv(),p=$v();(Tt!==r||nt!==i)&&(ch=null,Uo(r,i)),i=!1;var E=Lt;e:do try{if(ft!==0&&Qe!==null){var S=Qe,x=ar;switch(ft){case 8:xm(),E=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(i=!0);var Y=ft;if(ft=0,ar=null,jo(r,S,x,Y),o&&Po){E=0;break e}break;default:Y=ft,ft=0,ar=null,jo(r,S,x,Y)}}e1(),E=Lt;break}catch(te){Yv(r,te)}while(!0);return i&&r.shellSuspendCounter++,Oi=Da=null,ht=u,$.H=f,$.A=p,Qe===null&&(Tt=null,nt=0,Mc()),E}function e1(){for(;Qe!==null;)Qv(Qe)}function t1(r,i){var o=ht;ht|=2;var u=Wv(),f=$v();Tt!==r||nt!==i?(ch=null,uh=cn()+500,Uo(r,i)):Po=Xn(r,i);e:do try{if(ft!==0&&Qe!==null){i=Qe;var p=ar;t:switch(ft){case 1:ft=0,ar=null,jo(r,i,p,1);break;case 2:case 9:if(l_(p)){ft=0,ar=null,Xv(i);break}i=function(){ft!==2&&ft!==9||Tt!==r||(ft=7),oi(r)},p.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:l_(p)?(ft=0,ar=null,Xv(i)):(ft=0,ar=null,jo(r,i,p,7));break;case 5:var E=null;switch(Qe.tag){case 26:E=Qe.memoizedState;case 5:case 27:var S=Qe;if(!E||OE(E)){ft=0,ar=null;var x=S.sibling;if(x!==null)Qe=x;else{var Y=S.return;Y!==null?(Qe=Y,fh(Y)):Qe=null}break t}}ft=0,ar=null,jo(r,i,p,5);break;case 6:ft=0,ar=null,jo(r,i,p,6);break;case 8:xm(),Lt=6;break e;default:throw Error(s(462))}}n1();break}catch(te){Yv(r,te)}while(!0);return Oi=Da=null,$.H=u,$.A=f,ht=o,Qe!==null?0:(Tt=null,nt=0,Mc(),Lt)}function n1(){for(;Qe!==null&&!vl();)Qv(Qe)}function Qv(r){var i=Sv(r.alternate,r,zi);r.memoizedProps=r.pendingProps,i===null?fh(r):Qe=i}function Xv(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=yv(o,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=yv(o,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:Wd(i);default:Av(o,i),i=Qe=Zy(i,zi),i=Sv(o,i,zi)}r.memoizedProps=r.pendingProps,i===null?fh(r):Qe=i}function jo(r,i,o,u){Oi=Da=null,Wd(i),No=null,Jl=0;var f=i.return;try{if(GR(r,f,i,o,nt)){Lt=1,rh(r,vr(o,r.current)),Qe=null;return}}catch(p){if(f!==null)throw Qe=f,p;Lt=1,rh(r,vr(o,r.current)),Qe=null;return}i.flags&32768?(at||u===1?r=!0:Po||(nt&536870912)!==0?r=!1:(Es=r=!0,(u===2||u===9||u===3||u===6)&&(u=Sr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Zv(i,r)):fh(i)}function fh(r){var i=r;do{if((i.flags&32768)!==0){Zv(i,Es);return}r=i.return;var o=YR(i.alternate,i,zi);if(o!==null){Qe=o;return}if(i=i.sibling,i!==null){Qe=i;return}Qe=i=r}while(i!==null);Lt===0&&(Lt=5)}function Zv(r,i){do{var o=WR(r.alternate,r);if(o!==null){o.flags&=32767,Qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Qe=r;return}Qe=r=o}while(r!==null);Lt=6,Qe=null}function Jv(r,i,o,u,f,p,E,S,x){r.cancelPendingCommit=null;do dh();while(dn!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=Sd,aa(r,o,p,E,S,x),r===Tt&&(Qe=Tt=null,nt=0),Vo=i,Ss=r,ko=o,Im=p,Dm=f,Hv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,a1(Mr,function(){return iE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=fe.p,fe.p=2,E=ht,ht|=4;try{$R(r,i,o)}finally{ht=E,fe.p=f,$.T=u}}dn=1,eE(),tE(),nE()}}function eE(){if(dn===1){dn=0;var r=Ss,i=Vo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{Vv(i,r);var p=Gm,E=Fy(r.containerInfo),S=p.focusedElem,x=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&By(S.ownerDocument.documentElement,S)){if(x!==null&&_d(S)){var Y=x.start,te=x.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),Le=S.textContent.length,xe=Math.min(x.start,Le),gt=x.end===void 0?xe:Math.min(x.end,Le);!Z.extend&&xe>gt&&(E=gt,gt=xe,xe=E);var H=zy(S,xe),k=zy(S,gt);if(H&&k&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==k.node||Z.focusOffset!==k.offset)){var G=se.createRange();G.setStart(H.node,H.offset),Z.removeAllRanges(),xe>gt?(Z.addRange(G),Z.extend(k.node,k.offset)):(G.setEnd(k.node,k.offset),Z.addRange(G))}}}}for(se=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ah=!!qm,Gm=qm=null}finally{ht=f,fe.p=u,$.T=o}}r.current=i,dn=2}}function tE(){if(dn===2){dn=0;var r=Ss,i=Vo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{Ov(r,i.alternate,i)}finally{ht=f,fe.p=u,$.T=o}}dn=3}}function nE(){if(dn===4||dn===3){dn=0,ia();var r=Ss,i=Vo,o=ko,u=Hv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,Vo=Ss=null,rE(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(ws=null),la(o),i=i.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(hn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,f=fe.p,fe.p=2,$.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{$.T=i,fe.p=f}}(ko&3)!==0&&dh(),oi(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Nm?lu++:(lu=0,Nm=r):lu=0,uu(0)}}function rE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Fl(i)))}function dh(r){return eE(),tE(),nE(),iE()}function iE(){if(dn!==5)return!1;var r=Ss,i=Im;Im=0;var o=la(ko),u=$.T,f=fe.p;try{fe.p=32>o?32:o,$.T=null,o=Dm,Dm=null;var p=Ss,E=ko;if(dn=0,Vo=Ss=null,ko=0,(ht&6)!==0)throw Error(s(331));var S=ht;if(ht|=4,Bv(p.current),Uv(p,p.current,E,o),ht=S,uu(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(hn,p)}catch{}return!0}finally{fe.p=f,$.T=u,rE(r,i)}}function sE(r,i,o){i=vr(o,i),i=lm(r.stateNode,i,2),r=ds(r,i,2),r!==null&&(Dt(r,2),oi(r))}function yt(r,i,o){if(r.tag===3)sE(r,r,o);else for(;i!==null;){if(i.tag===3){sE(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ws===null||!ws.has(u))){r=vr(o,r),o=uv(2),u=ds(i,o,2),u!==null&&(cv(o,u,i,r),Dt(u,2),oi(u));break}}i=i.return}}function Pm(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new ZR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(bm=!0,f.add(o),r=r1.bind(null,r,i,o),i.then(r,r))}function r1(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Tt===r&&(nt&o)===o&&(Lt===4||Lt===3&&(nt&62914560)===nt&&300>cn()-Cm?(ht&2)===0&&Uo(r,0):Am|=o,Lo===nt&&(Lo=0)),oi(r)}function aE(r,i){i===0&&(i=ei()),r=Eo(r,i),r!==null&&(Dt(r,i),oi(r))}function i1(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),aE(r,o)}function s1(r,i){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),aE(r,o)}function a1(r,i){return Ti(r,i)}var mh=null,zo=null,Lm=!1,ph=!1,Vm=!1,Va=0;function oi(r){r!==zo&&r.next===null&&(zo===null?mh=zo=r:zo=zo.next=r),ph=!0,Lm||(Lm=!0,l1())}function uu(r,i){if(!Vm&&ph){Vm=!0;do for(var o=!1,u=mh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-$t(42|r)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,cE(u,p))}else p=nt,p=Nn(u,u===Tt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Xn(u,p)||(o=!0,cE(u,p));u=u.next}while(o);Vm=!1}}function o1(){oE()}function oE(){ph=Lm=!1;var r=0;Va!==0&&(g1()&&(r=Va),Va=0);for(var i=cn(),o=null,u=mh;u!==null;){var f=u.next,p=lE(u,i);p===0?(u.next=null,o===null?mh=f:o.next=f,f===null&&(zo=o)):(o=u,(r!==0||(p&3)!==0)&&(ph=!0)),u=f}uu(r)}function lE(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-$t(p),S=1<<E,x=f[E];x===-1?((S&o)===0||(S&u)!==0)&&(f[E]=wi(S,i)):x<=i&&(r.expiredLanes|=S),p&=~S}if(i=Tt,o=nt,o=Nn(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&kn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Xn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&kn(u),la(o)){case 2:case 8:o=Ft;break;case 32:o=Mr;break;case 268435456:o=Lr;break;default:o=Mr}return u=uE.bind(null,r),o=Ti(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&kn(u),r.callbackPriority=2,r.callbackNode=null,2}function uE(r,i){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(dh()&&r.callbackNode!==o)return null;var u=nt;return u=Nn(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Gv(r,u,i),lE(r,cn()),r.callbackNode!=null&&r.callbackNode===o?uE.bind(null,r):null)}function cE(r,i){if(dh())return null;Gv(r,i,!0)}function l1(){_1(function(){(ht&6)!==0?Ti(kt,o1):oE()})}function km(){return Va===0&&(Va=Si()),Va}function hE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Br(""+r)}function fE(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function u1(r,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var p=hE((f[ce]||null).action),E=u.submitter;E&&(i=(i=E[ce]||null)?hE(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var S=new pa("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Va!==0){var x=E?fE(f,E):new FormData(f);rm(o,{pending:!0,data:x,method:f.method,action:p},null,x)}}else typeof p=="function"&&(S.preventDefault(),x=E?fE(f,E):new FormData(f),rm(o,{pending:!0,data:x,method:f.method,action:p},p,x))},currentTarget:f}]})}}for(var Um=0;Um<wd.length;Um++){var jm=wd[Um],c1=jm.toLowerCase(),h1=jm[0].toUpperCase()+jm.slice(1);Gr(c1,"on"+h1)}Gr(Gy,"onAnimationEnd"),Gr(Ky,"onAnimationIteration"),Gr(Yy,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(IR,"onTransitionRun"),Gr(DR,"onTransitionStart"),Gr(NR,"onTransitionCancel"),Gr(Wy,"onTransitionEnd"),Qt("onMouseEnter",["mouseout","mouseover"]),Qt("onMouseLeave",["mouseout","mouseover"]),Qt("onPointerEnter",["pointerout","pointerover"]),Qt("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function dE(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var E=u.length-1;0<=E;E--){var S=u[E],x=S.instance,Y=S.currentTarget;if(S=S.listener,x!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=Y;try{p(f)}catch(te){nh(te)}f.currentTarget=null,p=x}else for(E=0;E<u.length;E++){if(S=u[E],x=S.instance,Y=S.currentTarget,S=S.listener,x!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=Y;try{p(f)}catch(te){nh(te)}f.currentTarget=null,p=x}}}}function Xe(r,i){var o=i[Se];o===void 0&&(o=i[Se]=new Set);var u=r+"__bubble";o.has(u)||(mE(i,r,2,!1),o.add(u))}function zm(r,i,o){var u=0;i&&(u|=4),mE(o,r,u,i)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Bm(r){if(!r[gh]){r[gh]=!0,lt.forEach(function(o){o!=="selectionchange"&&(f1.has(o)||zm(o,!1,r),zm(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[gh]||(i[gh]=!0,zm("selectionchange",!1,i))}}function mE(r,i,o,u){switch(UE(i)){case 2:var f=j1;break;case 8:f=z1;break;default:f=tp}o=f.bind(null,i,o,r),f=void 0,!Ci||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function Fm(r,i,o,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ze(S),E===null)return;if(x=E.tag,x===5||x===6||x===26||x===27){u=p=E;continue e}S=S.parentNode}}u=u.return}fa(function(){var Y=p,te=Cl(o),se=[];e:{var Q=$y.get(r);if(Q!==void 0){var Z=pa,Le=r;switch(r){case"keypress":if(da(o)===0)break e;case"keydown":case"keyup":Z=go;break;case"focusin":Le="focus",Z=fo;break;case"focusout":Le="blur",Z=fo;break;case"beforeblur":case"afterblur":Z=fo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=us;break;case Gy:case Ky:case Yy:Z=Dl;break;case Wy:Z=y;break;case"scroll":case"scrollend":Z=ya;break;case"wheel":Z=b;break;case"copy":case"cut":case"paste":Z=Rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ol;break;case"toggle":case"beforetoggle":Z=ee}var xe=(i&4)!==0,gt=!xe&&(r==="scroll"||r==="scrollend"),H=xe?Q!==null?Q+"Capture":null:Q;xe=[];for(var k=Y,G;k!==null;){var re=k;if(G=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||G===null||H===null||(re=os(k,H),re!=null&&xe.push(hu(k,re,G))),gt)break;k=k.return}0<xe.length&&(Q=new Z(Q,Le,null,o,te),se.push({event:Q,listeners:xe}))}}if((i&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",Q&&o!==Rl&&(Le=o.relatedTarget||o.fromElement)&&(ze(Le)||Le[ve]))break e;if((Z||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(Le=o.relatedTarget||o.toElement,Z=Y,Le=Le?ze(Le):null,Le!==null&&(gt=l(Le),xe=Le.tag,Le!==gt||xe!==5&&xe!==27&&xe!==6)&&(Le=null)):(Z=null,Le=Y),Z!==Le)){if(xe=Ea,re="onMouseLeave",H="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(xe=Ol,re="onPointerLeave",H="onPointerEnter",k="pointer"),gt=Z==null?Q:wt(Z),G=Le==null?Q:wt(Le),Q=new xe(re,k+"leave",Z,o,te),Q.target=gt,Q.relatedTarget=G,re=null,ze(te)===Y&&(xe=new xe(H,k+"enter",Le,o,te),xe.target=G,xe.relatedTarget=gt,re=xe),gt=re,Z&&Le)t:{for(xe=Z,H=Le,k=0,G=xe;G;G=Bo(G))k++;for(G=0,re=H;re;re=Bo(re))G++;for(;0<k-G;)xe=Bo(xe),k--;for(;0<G-k;)H=Bo(H),G--;for(;k--;){if(xe===H||H!==null&&xe===H.alternate)break t;xe=Bo(xe),H=Bo(H)}xe=null}else xe=null;Z!==null&&pE(se,Q,Z,xe,!1),Le!==null&&gt!==null&&pE(se,gt,Le,xe,!0)}}e:{if(Q=Y?wt(Y):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var we=Py;else if(Oy(Q))if(Ly)we=AR;else{we=SR;var Ye=wR}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&uo(Y.elementType)&&(we=Py):we=bR;if(we&&(we=we(r,Y))){My(se,we,o,te);break e}Ye&&Ye(r,Q,Y),r==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Sl(Q,"number",Q.value)}switch(Ye=Y?wt(Y):window,r){case"focusin":(Oy(Ye)||Ye.contentEditable==="true")&&(yo=Ye,vd=Y,kl=null);break;case"focusout":kl=vd=yo=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Hy(se,o,te);break;case"selectionchange":if(CR)break;case"keydown":case"keyup":Hy(se,o,te)}var Ie;if(Be)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else qr?Fr(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ut&&o.locale!=="ko"&&(qr||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&qr&&(Ie=Sc()):(_r=te,Et="value"in _r?_r.value:_r.textContent,qr=!0)),Ye=yh(Y,Oe),0<Ye.length&&(Oe=new xl(Oe,r,null,o,te),se.push({event:Oe,listeners:Ye}),Ie?Oe.data=Ie:(Ie=Hr(o),Ie!==null&&(Oe.data=Ie)))),(Ie=ct?Ml(r,o):vR(r,o))&&(Oe=yh(Y,"onBeforeInput"),0<Oe.length&&(Ye=new xl("onBeforeInput","beforeinput",null,o,te),se.push({event:Ye,listeners:Oe}),Ye.data=Ie)),u1(se,r,Y,o,te)}dE(se,i)})}function hu(r,i,o){return{instance:r,listener:i,currentTarget:o}}function yh(r,i){for(var o=i+"Capture",u=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=os(r,o),f!=null&&u.unshift(hu(r,f,p)),f=os(r,i),f!=null&&u.push(hu(r,f,p))),r.tag===3)return u;r=r.return}return[]}function Bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pE(r,i,o,u,f){for(var p=i._reactName,E=[];o!==null&&o!==u;){var S=o,x=S.alternate,Y=S.stateNode;if(S=S.tag,x!==null&&x===u)break;S!==5&&S!==26&&S!==27||Y===null||(x=Y,f?(Y=os(o,p),Y!=null&&E.unshift(hu(o,Y,x))):f||(Y=os(o,p),Y!=null&&E.push(hu(o,Y,x)))),o=o.return}E.length!==0&&r.push({event:i,listeners:E})}var d1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function gE(r){return(typeof r=="string"?r:""+r).replace(d1,`
`).replace(m1,"")}function yE(r,i){return i=gE(i),gE(r)===i}function _h(){}function pt(r,i,o,u,f,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||yr(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&yr(r,""+u);break;case"className":gr(r,"class",u);break;case"tabIndex":gr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(r,o,u);break;case"style":Al(r,u,p);break;case"data":if(i!=="object"){gr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Br(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&pt(r,i,"name",f.name,f,null),pt(r,i,"formEncType",f.formEncType,f,null),pt(r,i,"formMethod",f.formMethod,f,null),pt(r,i,"formTarget",f.formTarget,f,null)):(pt(r,i,"encType",f.encType,f,null),pt(r,i,"method",f.method,f,null),pt(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Br(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=_h);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Br(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),pr(r,"popover",u);break;case"xlinkActuate":He(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ec.get(o)||o,pr(r,o,u))}}function Hm(r,i,o,u,f,p){switch(o){case"style":Al(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof u=="string"?yr(r,u):(typeof u=="number"||typeof u=="bigint")&&yr(r,""+u);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),p=r[ce]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):pr(r,o,u)}}}function mn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,p,E,o,null)}}f&&pt(r,i,"srcSet",o.srcSet,o,null),u&&pt(r,i,"src",o.src,o,null);return;case"input":Xe("invalid",r);var S=p=E=f=null,x=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":x=te;break;case"defaultChecked":Y=te;break;case"value":p=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:pt(r,i,u,te,o,null)}}wl(r,p,S,x,Y,E,f,!1),is(r);return;case"select":Xe("invalid",r),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:pt(r,i,f,S,o,null)}i=p,o=E,r.multiple=!!u,i!=null?ss(r,!!u,i,!1):o!=null&&ss(r,!!u,o,!0);return;case"textarea":Xe("invalid",r),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:pt(r,i,E,S,o,null)}vc(r,u,f,p),is(r);return;case"option":for(x in o)if(o.hasOwnProperty(x)&&(u=o[x],u!=null))switch(x){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(r,i,x,u,o,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(u=0;u<cu.length;u++)Xe(cu[u],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,Y,u,o,null)}return;default:if(uo(i)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Hm(r,i,te,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&pt(r,i,S,u,o,null))}function p1(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,x=null,Y=null,te=null;for(Z in o){var se=o[Z];if(o.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":x=se;default:u.hasOwnProperty(Z)||pt(r,i,Z,null,u,se)}}for(var Q in u){var Z=u[Q];if(se=o[Q],u.hasOwnProperty(Q)&&(Z!=null||se!=null))switch(Q){case"type":p=Z;break;case"name":f=Z;break;case"checked":Y=Z;break;case"defaultChecked":te=Z;break;case"value":E=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Z!==se&&pt(r,i,Q,Z,u,se)}}Tl(r,E,S,x,Y,te,p,f);return;case"select":Z=E=S=Q=null;for(p in o)if(x=o[p],o.hasOwnProperty(p)&&x!=null)switch(p){case"value":break;case"multiple":Z=x;default:u.hasOwnProperty(p)||pt(r,i,p,null,u,x)}for(f in u)if(p=u[f],x=o[f],u.hasOwnProperty(f)&&(p!=null||x!=null))switch(f){case"value":Q=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==x&&pt(r,i,f,p,u,x)}i=S,o=E,u=Z,Q!=null?ss(r,!!o,Q,!1):!!u!=!!o&&(i!=null?ss(r,!!o,i,!0):ss(r,!!o,o?[]:"",!1));return;case"textarea":Z=Q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(r,i,S,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Q=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&pt(r,i,E,f,u,p)}_c(r,Q,Z);return;case"option":for(var Le in o)if(Q=o[Le],o.hasOwnProperty(Le)&&Q!=null&&!u.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:pt(r,i,Le,null,u,Q)}for(x in u)if(Q=u[x],Z=o[x],u.hasOwnProperty(x)&&Q!==Z&&(Q!=null||Z!=null))switch(x){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:pt(r,i,x,Q,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)Q=o[xe],o.hasOwnProperty(xe)&&Q!=null&&!u.hasOwnProperty(xe)&&pt(r,i,xe,null,u,Q);for(Y in u)if(Q=u[Y],Z=o[Y],u.hasOwnProperty(Y)&&Q!==Z&&(Q!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:pt(r,i,Y,Q,u,Z)}return;default:if(uo(i)){for(var gt in o)Q=o[gt],o.hasOwnProperty(gt)&&Q!==void 0&&!u.hasOwnProperty(gt)&&Hm(r,i,gt,void 0,u,Q);for(te in u)Q=u[te],Z=o[te],!u.hasOwnProperty(te)||Q===Z||Q===void 0&&Z===void 0||Hm(r,i,te,Q,u,Z);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&pt(r,i,H,null,u,Q);for(se in u)Q=u[se],Z=o[se],!u.hasOwnProperty(se)||Q===Z||Q==null&&Z==null||pt(r,i,se,Q,u,Z)}var qm=null,Gm=null;function vh(r){return r.nodeType===9?r:r.ownerDocument}function _E(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Km(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ym=null;function g1(){var r=window.event;return r&&r.type==="popstate"?r===Ym?!1:(Ym=r,!0):(Ym=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,y1=typeof clearTimeout=="function"?clearTimeout:void 0,TE=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof TE<"u"?function(r){return TE.resolve(null).then(r).catch(v1)}:EE;function v1(r){setTimeout(function(){throw r})}function As(r){return r==="head"}function wE(r,i){var o=i,u=0,f=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&fu(E.documentElement),o&2&&fu(E.body),o&4)for(o=E.head,fu(o),E=o.firstChild;E;){var S=E.nextSibling,x=E.nodeName;E[Te]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(f===0){r.removeChild(p),Eu(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Eu(i)}function Wm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wm(o),Ae(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function E1(r,i,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Te])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Yr(r.nextSibling),r===null)break}return null}function T1(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Yr(r.nextSibling),r===null))return null;return r}function $m(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function w1(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Yr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Qm=null;function SE(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function bE(r,i,o){switch(i=vh(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function fu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ae(r)}var Ar=new Map,AE=new Set;function Eh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Bi=fe.d;fe.d={f:S1,r:b1,D:A1,C:R1,L:C1,m:I1,X:N1,S:D1,M:x1};function S1(){var r=Bi.f(),i=hh();return r||i}function b1(r){var i=it(r);i!==null&&i.tag===5&&i.type==="form"?G_(i):Bi.r(r)}var Fo=typeof document>"u"?null:document;function RE(r,i,o){var u=Fo;if(u&&typeof i=="string"&&i){var f=rn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),AE.has(f)||(AE.add(f),r={rel:r,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),mn(i,"link",r),ke(i),u.head.appendChild(i)))}}function A1(r){Bi.D(r),RE("dns-prefetch",r,null)}function R1(r,i){Bi.C(r,i),RE("preconnect",r,i)}function C1(r,i,o){Bi.L(r,i,o);var u=Fo;if(u&&r&&i){var f='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+rn(o.imageSizes)+'"]')):f+='[href="'+rn(r)+'"]';var p=f;switch(i){case"style":p=Ho(r);break;case"script":p=qo(r)}Ar.has(p)||(r=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Ar.set(p,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(du(p))||i==="script"&&u.querySelector(mu(p))||(i=u.createElement("link"),mn(i,"link",r),ke(i),u.head.appendChild(i)))}}function I1(r,i){Bi.m(r,i);var o=Fo;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(r)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=qo(r)}if(!Ar.has(p)&&(r=_({rel:"modulepreload",href:r},i),Ar.set(p,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(p)))return}u=o.createElement("link"),mn(u,"link",r),ke(u),o.head.appendChild(u)}}}function D1(r,i,o){Bi.S(r,i,o);var u=Fo;if(u&&r){var f=Rt(u).hoistableStyles,p=Ho(r);i=i||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(du(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Ar.get(p))&&Xm(r,o);var x=E=u.createElement("link");ke(x),mn(x,"link",r),x._p=new Promise(function(Y,te){x.onload=Y,x.onerror=te}),x.addEventListener("load",function(){S.loading|=1}),x.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Th(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function N1(r,i){Bi.X(r,i);var o=Fo;if(o&&r){var u=Rt(o).hoistableScripts,f=qo(r),p=u.get(f);p||(p=o.querySelector(mu(f)),p||(r=_({src:r,async:!0},i),(i=Ar.get(f))&&Zm(r,i),p=o.createElement("script"),ke(p),mn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function x1(r,i){Bi.M(r,i);var o=Fo;if(o&&r){var u=Rt(o).hoistableScripts,f=qo(r),p=u.get(f);p||(p=o.querySelector(mu(f)),p||(r=_({src:r,async:!0,type:"module"},i),(i=Ar.get(f))&&Zm(r,i),p=o.createElement("script"),ke(p),mn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function CE(r,i,o,u){var f=(f=De.current)?Eh(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ho(o.href),o=Rt(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ho(o.href);var p=Rt(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(du(r)))&&!p._p&&(E.instance=p,E.state.loading=5),Ar.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ar.set(r,o),p||O1(f,r,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qo(o),o=Rt(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ho(r){return'href="'+rn(r)+'"'}function du(r){return'link[rel="stylesheet"]['+r+"]"}function IE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function O1(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),mn(i,"link",o),ke(i),r.head.appendChild(i))}function qo(r){return'[src="'+rn(r)+'"]'}function mu(r){return"script[async]"+r}function DE(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+rn(o.href)+'"]');if(u)return i.instance=u,ke(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ke(u),mn(u,"style",f),Th(u,o.precedence,r),i.instance=u;case"stylesheet":f=Ho(o.href);var p=r.querySelector(du(f));if(p)return i.state.loading|=4,i.instance=p,ke(p),p;u=IE(o),(f=Ar.get(f))&&Xm(u,f),p=(r.ownerDocument||r).createElement("link"),ke(p);var E=p;return E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),mn(p,"link",u),i.state.loading|=4,Th(p,o.precedence,r),i.instance=p;case"script":return p=qo(o.src),(f=r.querySelector(mu(p)))?(i.instance=f,ke(f),f):(u=o,(f=Ar.get(p))&&(u=_({},o),Zm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),ke(f),mn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Th(u,o.precedence,r));return i.instance}function Th(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===i)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Xm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Zm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var wh=null;function NE(r,i,o){if(wh===null){var u=new Map,f=wh=new Map;f.set(o,u)}else f=wh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var p=o[f];if(!(p[Te]||p[ie]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function xE(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function M1(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function OE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pu=null;function P1(){}function L1(r,i,o){if(pu===null)throw Error(s(475));var u=pu;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ho(o.href),p=r.querySelector(du(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Sh.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=p,ke(p);return}p=r.ownerDocument||r,o=IE(o),(f=Ar.get(f))&&Xm(o,f),p=p.createElement("link"),ke(p);var E=p;E._p=new Promise(function(S,x){E.onload=S,E.onerror=x}),mn(p,"link",o),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Sh.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function V1(){if(pu===null)throw Error(s(475));var r=pu;return r.stylesheets&&r.count===0&&Jm(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Jm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)Jm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var bh=null;function Jm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,bh=new Map,i.forEach(k1,r),bh=null,Sh.call(r))}function k1(r,i){if(!(i.state.loading&4)){var o=bh.get(r);if(o)var u=o.get(null);else{o=new Map,bh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Sh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var gu={$$typeof:X,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function U1(r,i,o,u,f,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function ME(r,i,o,u,f,p,E,S,x,Y,te,se){return r=new U1(r,i,o,E,S,x,Y,se),i=1,p===!0&&(i|=24),p=rr(3,null,null,i),r.current=p,p.stateNode=r,i=Pd(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},Ud(p),r}function PE(r){return r?(r=To,r):To}function LE(r,i,o,u,f,p){f=PE(f),u.context===null?u.context=f:u.pendingContext=f,u=fs(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=ds(r,u,i),o!==null&&(lr(o,r,i),Kl(o,r,i))}function VE(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function ep(r,i){VE(r,i),(r=r.alternate)&&VE(r,i)}function kE(r){if(r.tag===13){var i=Eo(r,67108864);i!==null&&lr(i,r,67108864),ep(r,67108864)}}var Ah=!0;function j1(r,i,o,u){var f=$.T;$.T=null;var p=fe.p;try{fe.p=2,tp(r,i,o,u)}finally{fe.p=p,$.T=f}}function z1(r,i,o,u){var f=$.T;$.T=null;var p=fe.p;try{fe.p=8,tp(r,i,o,u)}finally{fe.p=p,$.T=f}}function tp(r,i,o,u){if(Ah){var f=np(u);if(f===null)Fm(r,i,u,Rh,o),jE(r,u);else if(F1(f,r,i,o,u))u.stopPropagation();else if(jE(r,u),i&4&&-1<B1.indexOf(r)){for(;f!==null;){var p=it(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Qn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var x=1<<31-$t(E);S.entanglements[1]|=x,E&=~x}oi(p),(ht&6)===0&&(uh=cn()+500,uu(0))}}break;case 13:S=Eo(p,2),S!==null&&lr(S,p,2),hh(),ep(p,2)}if(p=np(u),p===null&&Fm(r,i,u,Rh,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Fm(r,i,u,null,o)}}function np(r){return r=Cl(r),rp(r)}var Rh=null;function rp(r){if(Rh=null,r=ze(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Rh=r,null}function UE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ao()){case kt:return 2;case Ft:return 8;case Mr:case Pr:return 32;case Lr:return 268435456;default:return 32}default:return 32}}var ip=!1,Rs=null,Cs=null,Is=null,yu=new Map,_u=new Map,Ds=[],B1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jE(r,i){switch(r){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":yu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(i.pointerId)}}function vu(r,i,o,u,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=it(i),i!==null&&kE(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function F1(r,i,o,u,f){switch(i){case"focusin":return Rs=vu(Rs,r,i,o,u,f),!0;case"dragenter":return Cs=vu(Cs,r,i,o,u,f),!0;case"mouseover":return Is=vu(Is,r,i,o,u,f),!0;case"pointerover":var p=f.pointerId;return yu.set(p,vu(yu.get(p)||null,r,i,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,_u.set(p,vu(_u.get(p)||null,r,i,o,u,f)),!0}return!1}function zE(r){var i=ze(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,q(r.priority,function(){if(o.tag===13){var u=or();u=oa(u);var f=Eo(o,u);f!==null&&lr(f,o,u),ep(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ch(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=np(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Rl=u,o.target.dispatchEvent(u),Rl=null}else return i=it(o),i!==null&&kE(i),r.blockedOn=o,!1;i.shift()}return!0}function BE(r,i,o){Ch(r)&&o.delete(i)}function H1(){ip=!1,Rs!==null&&Ch(Rs)&&(Rs=null),Cs!==null&&Ch(Cs)&&(Cs=null),Is!==null&&Ch(Is)&&(Is=null),yu.forEach(BE),_u.forEach(BE)}function Ih(r,i){r.blockedOn===i&&(r.blockedOn=null,ip||(ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,H1)))}var Dh=null;function FE(r){Dh!==r&&(Dh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dh===r&&(Dh=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(rp(u||o)===null)continue;break}var p=it(o);p!==null&&(r.splice(i,3),i-=3,rm(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Eu(r){function i(x){return Ih(x,r)}Rs!==null&&Ih(Rs,r),Cs!==null&&Ih(Cs,r),Is!==null&&Ih(Is,r),yu.forEach(i),_u.forEach(i);for(var o=0;o<Ds.length;o++){var u=Ds[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ds.length&&(o=Ds[0],o.blockedOn===null);)zE(o),o.blockedOn===null&&Ds.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[ce]||null;if(typeof p=="function")E||FE(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ce]||null)S=E.formAction;else if(rp(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),FE(o)}}}function sp(r){this._internalRoot=r}Nh.prototype.render=sp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=or();LE(o,u,r,i,null,null)},Nh.prototype.unmount=sp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;LE(r.current,2,null,r,null,null),hh(),i[ve]=null}};function Nh(r){this._internalRoot=r}Nh.prototype.unstable_scheduleHydration=function(r){if(r){var i=O();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Ds.length&&i!==0&&i<Ds[o].priority;o++);Ds.splice(o,0,r),o===0&&zE(r)}};var HE=e.version;if(HE!=="19.1.1")throw Error(s(527,HE,"19.1.1"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var q1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{hn=xh.inject(q1),_t=xh}catch{}}return wu.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,u="",f=sv,p=av,E=ov,S=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=ME(r,1,!1,null,null,o,u,f,p,E,S,null),r[ve]=i.current,Bm(r),new sp(i)},wu.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var u=!1,f="",p=sv,E=av,S=ov,x=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(x=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),i=ME(r,1,!0,i,o??null,u,f,p,E,S,x,Y),i.context=PE(null),o=i.current,u=or(),u=oa(u),f=fs(u),f.callback=null,ds(o,f,u),o=u,i.current.lanes=o,Dt(i,o),oi(i),r[ve]=i.current,Bm(r),new Nh(i)},wu.version="19.1.1",wu}var JE;function J1(){if(JE)return op.exports;JE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=Z1(),op.exports}var eC=J1(),F=kf(),fp={exports:{}},dp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function tC(){if(eT)return dp;eT=1;var t=kf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return dp.useSyncExternalStoreWithSelector=function(m,g,_,T,w){var D=a(null);if(D.current===null){var z={hasValue:!1,value:null};D.current=z}else z=D.current;D=c(function(){function U(le){if(!W){if(W=!0,oe=le,le=T(le),w!==void 0&&z.hasValue){var P=z.value;if(w(P,le))return X=P}return X=le}if(P=X,n(oe,le))return P;var N=T(le);return w!==void 0&&w(P,N)?(oe=le,P):(oe=le,X=N)}var W=!1,oe,X,he=_===void 0?null:_;return[function(){return U(g())},he===null?void 0:function(){return U(he())}]},[g,_,T,w]);var j=s(m,D[0],D[1]);return l(function(){z.hasValue=!0,z.value=j},[j]),d(j),j},dp}var tT;function nC(){return tT||(tT=1,fp.exports=tC()),fp.exports}var rC=nC();function iC(t){t()}function sC(){let t=null,e=null;return{clear(){t=null,e=null},notify(){iC(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!s||t===null||(s=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var nT={notify(){},get:()=>[]};function aC(t,e){let n,s=nT,a=0,l=!1;function c(j){_();const U=s.subscribe(j);let W=!1;return()=>{W||(W=!0,U(),T())}}function d(){s.notify()}function m(){z.onStateChange&&z.onStateChange()}function g(){return l}function _(){a++,n||(n=t.subscribe(m),s=sC())}function T(){a--,n&&a===0&&(n(),n=void 0,s.clear(),s=nT)}function w(){l||(l=!0,_())}function D(){l&&(l=!1,T())}const z={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:w,tryUnsubscribe:D,getListeners:()=>s};return z}var oC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lC=oC(),uC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cC=uC(),hC=()=>lC||cC?F.useLayoutEffect:F.useEffect,fC=hC(),dC=Symbol.for("react-redux-context"),mC=typeof globalThis<"u"?globalThis:{};function pC(){if(!F.createContext)return{};const t=mC[dC]??=new Map;let e=t.get(F.createContext);return e||(e=F.createContext(null),t.set(F.createContext,e)),e}var qs=pC();function gC(t){const{children:e,context:n,serverState:s,store:a}=t,l=F.useMemo(()=>{const m=aC(a);return{store:a,subscription:m,getServerState:s?()=>s:void 0}},[a,s]),c=F.useMemo(()=>a.getState(),[a]);fC(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=n||qs;return F.createElement(d.Provider,{value:l},e)}var yC=gC;function bg(t=qs){return function(){return F.useContext(t)}}var S0=bg();function b0(t=qs){const e=t===qs?S0:bg(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var _C=b0();function vC(t=qs){const e=t===qs?_C:b0(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var En=vC(),EC=(t,e)=>t===e;function TC(t=qs){const e=t===qs?S0:bg(t),n=(s,a={})=>{const{equalityFn:l=EC}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:m,getServerState:g}=c;F.useRef(!0);const _=F.useCallback({[s.name](w){return s(w)}}[s.name],[s]),T=rC.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,_,l);return F.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var Ze=TC();function pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wC=typeof Symbol=="function"&&Symbol.observable||"@@observable",rT=wC,mp=()=>Math.random().toString(36).substring(7).split("").join("."),SC={INIT:`@@redux/INIT${mp()}`,REPLACE:`@@redux/REPLACE${mp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mp()}`},sf=SC;function Ag(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function A0(t,e,n){if(typeof t!="function")throw new Error(pn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pn(1));return n(A0)(t,e)}let s=t,a=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((U,W)=>{c.set(W,U)}))}function _(){if(m)throw new Error(pn(3));return a}function T(U){if(typeof U!="function")throw new Error(pn(4));if(m)throw new Error(pn(5));let W=!0;g();const oe=d++;return c.set(oe,U),function(){if(W){if(m)throw new Error(pn(6));W=!1,g(),c.delete(oe),l=null}}}function w(U){if(!Ag(U))throw new Error(pn(7));if(typeof U.type>"u")throw new Error(pn(8));if(typeof U.type!="string")throw new Error(pn(17));if(m)throw new Error(pn(9));try{m=!0,a=s(a,U)}finally{m=!1}return(l=c).forEach(oe=>{oe()}),U}function D(U){if(typeof U!="function")throw new Error(pn(10));s=U,w({type:sf.REPLACE})}function z(){const U=T;return{subscribe(W){if(typeof W!="object"||W===null)throw new Error(pn(11));function oe(){const he=W;he.next&&he.next(_())}return oe(),{unsubscribe:U(oe)}},[rT](){return this}}}return w({type:sf.INIT}),{dispatch:w,subscribe:T,getState:_,replaceReducer:D,[rT]:z}}function bC(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:sf.INIT})>"u")throw new Error(pn(12));if(typeof n(void 0,{type:sf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pn(13))})}function AC(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const s=Object.keys(n);let a;try{bC(n)}catch(l){a=l}return function(c={},d){if(a)throw a;let m=!1;const g={};for(let _=0;_<s.length;_++){const T=s[_],w=n[T],D=c[T],z=w(D,d);if(typeof z>"u")throw d&&d.type,new Error(pn(14));g[T]=z,m=m||z!==D}return m=m||s.length!==Object.keys(c).length,m?g:c}}function af(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function RC(...t){return e=>(n,s)=>{const a=e(n,s);let l=()=>{throw new Error(pn(15))};const c={getState:a.getState,dispatch:(m,...g)=>l(m,...g)},d=t.map(m=>m(c));return l=af(...d)(a.dispatch),{...a,dispatch:l}}}function CC(t){return Ag(t)&&"type"in t&&typeof t.type=="string"}var R0=Symbol.for("immer-nothing"),iT=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Wr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var il=Object.getPrototypeOf;function Ga(t){return!!t&&!!t[dr]}function $i(t){return t?C0(t)||Array.isArray(t)||!!t[iT]||!!t.constructor?.[iT]||rc(t)||jf(t):!1}var IC=Object.prototype.constructor.toString();function C0(t){if(!t||typeof t!="object")return!1;const e=il(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===IC}function of(t,e){Uf(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,s)=>e(s,n,t))}function Uf(t){const e=t[dr];return e?e.type_:Array.isArray(t)?1:rc(t)?2:jf(t)?3:0}function Bp(t,e){return Uf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function I0(t,e,n){const s=Uf(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function DC(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rc(t){return t instanceof Map}function jf(t){return t instanceof Set}function ja(t){return t.copy_||t.base_}function Fp(t,e){if(rc(t))return new Map(t);if(jf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=C0(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[dr];let a=Reflect.ownKeys(s);for(let l=0;l<a.length;l++){const c=a[l],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(il(t),s)}else{const s=il(t);if(s!==null&&n)return{...t};const a=Object.create(s);return Object.assign(a,t)}}function Rg(t,e=!1){return zf(t)||Ga(t)||!$i(t)||(Uf(t)>1&&Object.defineProperties(t,{set:{value:Oh},add:{value:Oh},clear:{value:Oh},delete:{value:Oh}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Rg(n,!0))),t}function Oh(){Wr(2)}function zf(t){return Object.isFrozen(t)}var NC={};function Ka(t){const e=NC[t];return e||Wr(0,t),e}var Fu;function D0(){return Fu}function xC(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sT(t,e){e&&(Ka("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Hp(t){qp(t),t.drafts_.forEach(OC),t.drafts_=null}function qp(t){t===Fu&&(Fu=t.parent_)}function aT(t){return Fu=xC(Fu,t)}function OC(t){const e=t[dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[dr].modified_&&(Hp(e),Wr(4)),$i(t)&&(t=lf(e,t),e.parent_||uf(e,t)),e.patches_&&Ka("Patches").generateReplacementPatches_(n[dr].base_,t,e.patches_,e.inversePatches_)):t=lf(e,n,[]),Hp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==R0?t:void 0}function lf(t,e,n){if(zf(e))return e;const s=e[dr];if(!s)return of(e,(a,l)=>lT(t,s,e,a,l,n)),e;if(s.scope_!==t)return e;if(!s.modified_)return uf(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let l=a,c=!1;s.type_===3&&(l=new Set(a),a.clear(),c=!0),of(l,(d,m)=>lT(t,s,a,d,m,n,c)),uf(t,a,!1),n&&t.patches_&&Ka("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function lT(t,e,n,s,a,l,c){if(Ga(a)){const d=l&&e&&e.type_!==3&&!Bp(e.assigned_,s)?l.concat(s):void 0,m=lf(t,a,d);if(I0(n,s,m),Ga(m))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if($i(a)&&!zf(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;lf(t,a),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(rc(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&uf(t,a)}}function uf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Rg(e,n)}function MC(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:D0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,l=Cg;n&&(a=[s],l=Hu);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return s.draft_=d,s.revoke_=c,d}var Cg={get(t,e){if(e===dr)return t;const n=ja(t);if(!Bp(n,e))return PC(t,n,e);const s=n[e];return t.finalized_||!$i(s)?s:s===pp(t.base_,e)?(gp(t),t.copy_[e]=Kp(s,t)):s},has(t,e){return e in ja(t)},ownKeys(t){return Reflect.ownKeys(ja(t))},set(t,e,n){const s=N0(ja(t),e);if(s?.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const a=pp(ja(t),e),l=a?.[dr];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(DC(n,a)&&(n!==void 0||Bp(t.base_,e)))return!0;gp(t),Gp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return pp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,gp(t),Gp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ja(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){Wr(11)},getPrototypeOf(t){return il(t.base_)},setPrototypeOf(){Wr(12)}},Hu={};of(Cg,(t,e)=>{Hu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Hu.deleteProperty=function(t,e){return Hu.set.call(this,t,e,void 0)};Hu.set=function(t,e,n){return Cg.set.call(this,t[0],e,n,t[0])};function pp(t,e){const n=t[dr];return(n?ja(n):t)[e]}function PC(t,e,n){const s=N0(e,n);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function N0(t,e){if(!(e in t))return;let n=il(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=il(n)}}function Gp(t){t.modified_||(t.modified_=!0,t.parent_&&Gp(t.parent_))}function gp(t){t.copy_||(t.copy_=Fp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LC=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(m=l,...g){return c.produce(m,_=>n.call(this,_,...g))}}typeof n!="function"&&Wr(6),s!==void 0&&typeof s!="function"&&Wr(7);let a;if($i(e)){const l=aT(this),c=Kp(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?Hp(l):qp(l)}return sT(l,s),oT(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===R0&&(a=void 0),this.autoFreeze_&&Rg(a,!0),s){const l=[],c=[];Ka("Patches").generateReplacementPatches_(e,a,l,c),s(l,c)}return a}else Wr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let s,a;return[this.produce(e,n,(c,d)=>{s=c,a=d}),s,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){$i(t)||Wr(8),Ga(t)&&(t=VC(t));const e=aT(this),n=Kp(t,void 0);return n[dr].isManual_=!0,qp(e),n}finishDraft(t,e){const n=t&&t[dr];(!n||!n.isManual_)&&Wr(9);const{scope_:s}=n;return sT(s,e),oT(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const s=Ka("Patches").applyPatches_;return Ga(t)?s(t,e):this.produce(t,a=>s(a,e))}};function Kp(t,e){const n=rc(t)?Ka("MapSet").proxyMap_(t,e):jf(t)?Ka("MapSet").proxySet_(t,e):MC(t,e);return(e?e.scope_:D0()).drafts_.push(n),n}function VC(t){return Ga(t)||Wr(10,t),x0(t)}function x0(t){if(!$i(t)||zf(t))return t;const e=t[dr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Fp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Fp(t,!0);return of(n,(s,a)=>{I0(n,s,x0(a))}),e&&(e.finalized_=!1),n}var kC=new LC,O0=kC.produce;function M0(t){return({dispatch:n,getState:s})=>a=>l=>typeof l=="function"?l(n,s,t):a(l)}var UC=M0(),jC=M0,zC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?af:af.apply(null,arguments)};function uT(t,e){function n(...s){if(e){let a=e(...s);if(!a)throw new Error(Gi(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>CC(s)&&s.type===t,n}var P0=class Cu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cu.prototype)}static get[Symbol.species](){return Cu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cu(...e[0].concat(this)):new Cu(...e.concat(this))}};function cT(t){return $i(t)?O0(t,()=>{}):t}function Mh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function BC(t){return typeof t=="boolean"}var FC=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new P0;return n&&(BC(n)?c.push(UC):c.push(jC(n.extraArgument))),c},HC="RTK_autoBatch",hT=t=>e=>{setTimeout(e,t)},qC=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let a=!0,l=!1,c=!1;const d=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:hT(10):t.type==="callback"?t.queueNotification:hT(t.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const T=()=>a&&_(),w=s.subscribe(T);return d.add(_),()=>{w(),d.delete(_)}},dispatch(_){try{return a=!_?.meta?.[HC],l=!a,l&&(c||(c=!0,m(g))),s.dispatch(_)}finally{a=!0}}})},GC=t=>function(n){const{autoBatch:s=!0}=n??{};let a=new P0(t);return s&&a.push(qC(typeof s=="object"?s:void 0)),a};function KC(t){const e=FC(),{reducer:n=void 0,middleware:s,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(Ag(n))d=AC(n);else throw new Error(Gi(1));let m;typeof s=="function"?m=s(e):m=e();let g=af;a&&(g=zC({trace:!1,...typeof a=="object"&&a}));const _=RC(...m),T=GC(_);let w=typeof c=="function"?c(T):T();const D=g(...w);return A0(d,l,D)}function L0(t){const e={},n=[];let s;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Gi(28));if(d in e)throw new Error(Gi(29));return e[d]=c,a},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return s=l,a}};return t(a),[e,n,s]}function YC(t){return typeof t=="function"}function WC(t,e){let[n,s,a]=L0(e),l;if(YC(t))l=()=>cT(t());else{const d=cT(t);l=()=>d}function c(d=l(),m){let g=[n[m.type],...s.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[a]),g.reduce((_,T)=>{if(T)if(Ga(_)){const D=T(_,m);return D===void 0?_:D}else{if($i(_))return O0(_,w=>T(w,m));{const w=T(_,m);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},d)}return c.getInitialState=l,c}var $C=Symbol.for("rtk-slice-createasyncthunk");function QC(t,e){return`${t}/${e}`}function XC({creators:t}={}){const e=t?.asyncThunk?.[$C];return function(s){const{name:a,reducerPath:l=a}=s;if(!a)throw new Error(Gi(11));const c=(typeof s.reducers=="function"?s.reducers(JC()):s.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(X,he){const le=typeof X=="string"?X:X.type;if(!le)throw new Error(Gi(12));if(le in m.sliceCaseReducersByType)throw new Error(Gi(13));return m.sliceCaseReducersByType[le]=he,g},addMatcher(X,he){return m.sliceMatchers.push({matcher:X,reducer:he}),g},exposeAction(X,he){return m.actionCreators[X]=he,g},exposeCaseReducer(X,he){return m.sliceCaseReducersByName[X]=he,g}};d.forEach(X=>{const he=c[X],le={reducerName:X,type:QC(a,X),createNotation:typeof s.reducers=="function"};tI(he)?rI(le,he,g,e):eI(le,he,g)});function _(){const[X={},he=[],le=void 0]=typeof s.extraReducers=="function"?L0(s.extraReducers):[s.extraReducers],P={...X,...m.sliceCaseReducersByType};return WC(s.initialState,N=>{for(let R in P)N.addCase(R,P[R]);for(let R of m.sliceMatchers)N.addMatcher(R.matcher,R.reducer);for(let R of he)N.addMatcher(R.matcher,R.reducer);le&&N.addDefaultCase(le)})}const T=X=>X,w=new Map,D=new WeakMap;let z;function j(X,he){return z||(z=_()),z(X,he)}function U(){return z||(z=_()),z.getInitialState()}function W(X,he=!1){function le(N){let R=N[X];return typeof R>"u"&&he&&(R=Mh(D,le,U)),R}function P(N=T){const R=Mh(w,he,()=>new WeakMap);return Mh(R,N,()=>{const C={};for(const[L,V]of Object.entries(s.selectors??{}))C[L]=ZC(V,N,()=>Mh(D,N,U),he);return C})}return{reducerPath:X,getSelectors:P,get selectors(){return P(le)},selectSlice:le}}const oe={name:a,reducer:j,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:U,...W(l),injectInto(X,{reducerPath:he,...le}={}){const P=he??l;return X.inject({reducerPath:P,reducer:j},le),{...oe,...W(P,!0)}}};return oe}}function ZC(t,e,n,s){function a(l,...c){let d=e(l);return typeof d>"u"&&s&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var ic=XC();function JC(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function eI({type:t,reducerName:e,createNotation:n},s,a){let l,c;if("reducer"in s){if(n&&!nI(s))throw new Error(Gi(17));l=s.reducer,c=s.prepare}else l=s;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?uT(t,c):uT(t))}function tI(t){return t._reducerDefinitionType==="asyncThunk"}function nI(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rI({type:t,reducerName:e},n,s,a){if(!a)throw new Error(Gi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:_}=n,T=a(t,l,_);s.exposeAction(e,T),c&&s.addCase(T.fulfilled,c),d&&s.addCase(T.pending,d),m&&s.addCase(T.rejected,m),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:c||Ph,pending:d||Ph,rejected:m||Ph,settled:g||Ph})}function Ph(){}function Gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const V0={user:null,isCreatingAccount:!1,isLoggedIn:!1,isLoggingIn:!1};console.log(V0.user);const k0=ic({name:"auth",initialState:V0,reducers:{startCreatingAccount(t){t.isCreatingAccount=!0},stopCreatingAccount(t){t.isCreatingAccount=!1},startLoggingIn(t){t.isLoggingIn=!0},stopLoggingIn(t){t.isLoggingIn=!1},login(t,e){const{uid:n,email:s,userName:a}=e.payload;t.user={uid:n,email:s,userName:a},t.isLoggedIn=!0,t.isLoggingIn=!1},logOut(t){t.user=null,t.isLoggedIn=!1}}}),Ki=k0.actions,iI=k0.reducer,sI={bio:"Set bio here!",isEditingBio:!1},U0=ic({name:"profile",initialState:sI,reducers:{editBio(t){t.isEditingBio=!0},saveBio(t){t.isEditingBio=!1},updateBio(t,e){t.bio=e.payload},uploadAvatar(t,e){t.bioAvatar=e.payload}}}),qu=U0.actions,aI=U0.reducer,oI={myShows:[],currentlyBinging:[],watchedEps:[],finishedShows:[],isReviewing:!1,reviews:[],reviewingShowId:null},j0=ic({name:"shows",initialState:oI,reducers:{updateMyShows(t,e){t.myShows=e.payload},updateBinging(t,e){t.currentlyBinging=e.payload},updateWatchedEps(t,e){t.watchedEps=e.payload},updateFinishedShows(t,e){t.finishedShows=e.payload},reviewingShow(t,e){t.reviewingShowId=e.payload},toggleReviewing(t){t.isReviewing=!t.isReviewing},updateReviews(t,e){t.reviews=e.payload}}}),cr=j0.actions,lI=j0.reducer,uI={epNotes:[],charNotes:[]},z0=ic({name:"notes",initialState:uI,reducers:{updateEpNotes(t,e){t.epNotes=e.payload},updateCharNotes(t,e){t.charNotes=e.payload}}}),cf=z0.actions,cI=z0.reducer,hI={friendsList:[]},B0=ic({name:"friends",initialState:hI,reducers:{addFriend(t,e){t.friendsList=e.payload}}}),F0=B0.actions,fI=B0.reducer,dI=KC({reducer:{auth:iI,profile:aI,shows:lI,notes:cI,friends:fI}});/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var H0=t=>{throw TypeError(t)},mI=(t,e,n)=>e.has(t)||H0("Cannot "+n),yp=(t,e,n)=>(mI(t,e,"read from private field"),n?n.call(t):e.get(t)),pI=(t,e,n)=>e.has(t)?H0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fT="popstate";function gI(t={}){function e(a,l){let{pathname:c="/",search:d="",hash:m=""}=ns(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Gu("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=a.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Gs(l))}function s(a,l){Vt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return _I(e,n,s,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yI(){return Math.random().toString(36).substring(2,10)}function dT(t,e){return{usr:t.state,key:t.key,idx:e}}function Gu(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ns(e):e,state:n,key:e&&e.key||s||yI()}}function Gs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function _I(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let U=_(),W=U==null?null:U-g;g=U,m&&m({action:d,location:j.location,delta:W})}function w(U,W){d="PUSH";let oe=Gu(j.location,U,W);n&&n(oe,U),g=_()+1;let X=dT(oe,g),he=j.createHref(oe);try{c.pushState(X,"",he)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(he)}l&&m&&m({action:d,location:j.location,delta:1})}function D(U,W){d="REPLACE";let oe=Gu(j.location,U,W);n&&n(oe,U),g=_();let X=dT(oe,g),he=j.createHref(oe);c.replaceState(X,"",he),l&&m&&m({action:d,location:j.location,delta:0})}function z(U){return q0(U)}let j={get action(){return d},get location(){return t(a,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(fT,T),m=U,()=>{a.removeEventListener(fT,T),m=null}},createHref(U){return e(a,U)},createURL:z,encodeLocation(U){let W=z(U);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:D,go(U){return c.go(U)}};return j}function q0(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),We(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Gs(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Iu,mT=class{constructor(t){if(pI(this,Iu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(yp(this,Iu).has(t))return yp(this,Iu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){yp(this,Iu).set(t,e)}};Iu=new WeakMap;var vI=new Set(["lazy","caseSensitive","path","id","index","children"]);function EI(t){return vI.has(t)}var TI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function wI(t){return TI.has(t)}function SI(t){return t.index===!0}function Ku(t,e,n=[],s={},a=!1){return t.map((l,c)=>{let d=[...n,String(c)],m=typeof l.id=="string"?l.id:d.join("-");if(We(l.index!==!0||!l.children,"Cannot specify children on an index route"),We(a||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),SI(l)){let g={...l,...e(l),id:m};return s[m]=g,g}else{let g={...l,...e(l),id:m,children:void 0};return s[m]=g,l.children&&(g.children=Ku(l.children,e,d,s,a)),g}})}function Ms(t,e,n="/"){return qh(t,e,n,!1)}function qh(t,e,n,s){let a=typeof e=="string"?ns(e):e,l=Nr(a.pathname||"/",n);if(l==null)return null;let c=G0(t);AI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=VI(l);d=PI(c[m],g,s)}return d}function bI(t,e){let{route:n,pathname:s,params:a}=t;return{id:n.id,pathname:s,params:a,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function G0(t,e=[],n=[],s=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(We(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=ui([s,m.relativePath]),_=n.concat(m);l.children&&l.children.length>0&&(We(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),G0(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:OI(g,l.index),routesMeta:_})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of K0(l.path))a(l,c,d)}),e}function K0(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=K0(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function AI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RI=/^:[\w-]+$/,CI=3,II=2,DI=1,NI=10,xI=-2,pT=t=>t==="*";function OI(t,e){let n=t.split("/"),s=n.length;return n.some(pT)&&(s+=xI),e&&(s+=II),n.filter(a=>!pT(a)).reduce((a,l)=>a+(RI.test(l)?CI:l===""?DI:NI),s)}function MI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function PI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ui([l,T.pathname]),pathnameBase:zI(ui([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=ui([l,T.pathnameBase]))}return c}function hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=LI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let z=d[w]||"";c=l.slice(0,l.length-z.length).replace(/(.)\/+$/,"$1")}const D=d[w];return T&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function LI(t,e=!1,n=!0){Vt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function VI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Nr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function kI({basename:t,pathname:e}){return e==="/"?t:ui([t,e])}function UI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ns(t):t;return{pathname:n?n.startsWith("/")?n:jI(n,e):e,search:BI(s),hash:FI(a)}}function jI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bf(t){let e=Y0(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ff(t,e,n,s=!1){let a;typeof t=="string"?a=ns(t):(a={...t},We(!a.pathname||!a.pathname.includes("?"),_p("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),_p("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),_p("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}d=T>=0?e[T]:"/"}let m=UI(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ui=t=>t.join("/").replace(/\/\/+/g,"/"),zI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ff=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Yu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var W0=["POST","PUT","PATCH","DELETE"],HI=new Set(W0),qI=["GET",...W0],GI=new Set(qI),KI=new Set([301,302,303,307,308]),YI=new Set([307,308]),vp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Su={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=t=>$I.test(t),QI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$0="remix-router-transitions",Q0=Symbol("ResetLoaderData");function XI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],a=t.mapRouteProperties||QI,l={},c=Ku(t.routes,a,void 0,l),d,m=t.basename||"/",g=t.dataStrategy||nD,_={unstable_middleware:!1,...t.future},T=null,w=new Set,D=null,z=null,j=null,U=t.hydrationData!=null,W=Ms(c,t.history.location,m),oe=!1,X=null,he;if(W==null&&!t.patchRoutesOnNavigation){let O=Rr(404,{pathname:t.history.location.pathname}),{matches:q,route:J}=CT(c);he=!0,W=q,X={[J.id]:O}}else if(W&&!t.hydrationData&&Zn(W,c,t.history.location.pathname).active&&(W=null),W)if(W.some(O=>O.route.lazy))he=!1;else if(!W.some(O=>O.route.loader))he=!0;else{let O=t.hydrationData?t.hydrationData.loaderData:null,q=t.hydrationData?t.hydrationData.errors:null;if(q){let J=W.findIndex(ie=>q[ie.route.id]!==void 0);he=W.slice(0,J+1).every(ie=>!Wp(ie.route,O,q))}else he=W.every(J=>!Wp(J.route,O,q))}else{he=!1,W=[];let O=Zn(null,c,t.history.location.pathname);O.active&&O.matches&&(oe=!0,W=O.matches)}let le,P={historyAction:t.history.action,location:t.history.location,matches:W,initialized:he,navigation:vp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||X,fetchers:new Map,blockers:new Map},N="POP",R=!1,C,L=!1,V=new Map,B=null,I=!1,Ve=!1,$e=new Set,$=new Map,fe=0,ge=-1,je=new Map,M=new Set,ne=new Map,pe=new Map,de=new Set,Ee=new Map,qe,De=null;function Wt(){if(T=t.history.listen(({action:O,location:q,delta:J})=>{if(qe){qe(),qe=void 0;return}Vt(Ee.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=wi({currentLocation:P.location,nextLocation:q,historyAction:O});if(ie&&J!=null){let ce=new Promise(ve=>{qe=ve});t.history.go(J*-1),Xn(ie,{state:"blocked",location:q,proceed(){Xn(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),ce.then(()=>t.history.go(J))},reset(){let ve=new Map(P.blockers);ve.set(ie,Su),Mt({blockers:ve})}});return}return kn(O,q)}),n){dD(e,V);let O=()=>mD(e,V);e.addEventListener("pagehide",O),B=()=>e.removeEventListener("pagehide",O)}return P.initialized||kn("POP",P.location,{initialHydration:!0}),le}function ot(){T&&T(),B&&B(),w.clear(),C&&C.abort(),P.fetchers.forEach((O,q)=>$t(q)),P.blockers.forEach((O,q)=>Nn(q))}function Kn(O){return w.add(O),()=>w.delete(O)}function Mt(O,q={}){O.matches&&(O.matches=O.matches.map(ce=>{let ve=l[ce.route.id],Se=ce.route;return Se.element!==ve.element||Se.errorElement!==ve.errorElement||Se.hydrateFallbackElement!==ve.hydrateFallbackElement?{...ce,route:ve}:ce})),P={...P,...O};let J=[],ie=[];P.fetchers.forEach((ce,ve)=>{ce.state==="idle"&&(de.has(ve)?J.push(ve):ie.push(ve))}),de.forEach(ce=>{!P.fetchers.has(ce)&&!$.has(ce)&&J.push(ce)}),[...w].forEach(ce=>ce(P,{deletedFetchers:J,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),J.forEach(ce=>$t(ce)),ie.forEach(ce=>P.fetchers.delete(ce))}function Yn(O,q,{flushSync:J}={}){let ie=P.actionData!=null&&P.navigation.formMethod!=null&&Hn(P.navigation.formMethod)&&P.navigation.state==="loading"&&O.state?._isRedirect!==!0,ce;q.actionData?Object.keys(q.actionData).length>0?ce=q.actionData:ce=null:ie?ce=P.actionData:ce=null;let ve=q.loaderData?AT(P.loaderData,q.loaderData,q.matches||[],q.errors):P.loaderData,Se=P.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Te,Ae)=>Se.set(Ae,Su)));let _e=I?!1:aa(O,q.matches||P.matches),Ce=R===!0||P.navigation.formMethod!=null&&Hn(P.navigation.formMethod)&&O.state?._isRedirect!==!0;d&&(c=d,d=void 0),I||N==="POP"||(N==="PUSH"?t.history.push(O,O.state):N==="REPLACE"&&t.history.replace(O,O.state));let Re;if(N==="POP"){let Te=V.get(P.location.pathname);Te&&Te.has(O.pathname)?Re={currentLocation:P.location,nextLocation:O}:V.has(O.pathname)&&(Re={currentLocation:O,nextLocation:P.location})}else if(L){let Te=V.get(P.location.pathname);Te?Te.add(O.pathname):(Te=new Set([O.pathname]),V.set(P.location.pathname,Te)),Re={currentLocation:P.location,nextLocation:O}}Mt({...q,actionData:ce,loaderData:ve,historyAction:N,location:O,initialized:!0,navigation:vp,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:Ce,blockers:Se},{viewTransitionOpts:Re,flushSync:J===!0}),N="POP",R=!1,L=!1,I=!1,Ve=!1,De?.resolve(),De=null}async function Ei(O,q){if(typeof O=="number"){t.history.go(O);return}let J=Yp(P.location,P.matches,m,O,q?.fromRouteId,q?.relative),{path:ie,submission:ce,error:ve}=gT(!1,J,q),Se=P.location,_e=Gu(P.location,ie,q&&q.state);_e={..._e,...t.history.encodeLocation(_e)};let Ce=q&&q.replace!=null?q.replace:void 0,Re="PUSH";Ce===!0?Re="REPLACE":Ce===!1||ce!=null&&Hn(ce.formMethod)&&ce.formAction===P.location.pathname+P.location.search&&(Re="REPLACE");let Te=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,Ae=(q&&q.flushSync)===!0,ze=wi({currentLocation:Se,nextLocation:_e,historyAction:Re});if(ze){Xn(ze,{state:"blocked",location:_e,proceed(){Xn(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Ei(O,q)},reset(){let it=new Map(P.blockers);it.set(ze,Su),Mt({blockers:it})}});return}await kn(Re,_e,{submission:ce,pendingError:ve,preventScrollReset:Te,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:Ae})}function Ti(){De||(De=pD()),Vr(),Mt({revalidation:"loading"});let O=De.promise;return P.navigation.state==="submitting"?O:P.navigation.state==="idle"?(kn(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),O):(kn(N||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:L===!0}),O)}async function kn(O,q,J){C&&C.abort(),C=null,N=O,I=(J&&J.startUninterruptedRevalidation)===!0,Dt(P.location,P.matches),R=(J&&J.preventScrollReset)===!0,L=(J&&J.enableViewTransition)===!0;let ie=d||c,ce=J&&J.overrideNavigation,ve=J?.initialHydration&&P.matches&&P.matches.length>0&&!oe?P.matches:Ms(ie,q,m),Se=(J&&J.flushSync)===!0;if(ve&&P.initialized&&!Ve&&lD(P.location,q)&&!(J&&J.submission&&Hn(J.submission.formMethod))){Yn(q,{matches:ve},{flushSync:Se});return}let _e=Zn(ve,ie,q.pathname);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){let{error:Rt,notFoundMatches:ke,route:lt}=Si(q.pathname);Yn(q,{matches:ke,loaderData:{},errors:{[lt.id]:Rt}},{flushSync:Se});return}C=new AbortController;let Ce=Go(t.history,q,C.signal,J&&J.submission),Re=t.unstable_getContext?await t.unstable_getContext():new mT,Te;if(J&&J.pendingError)Te=[Ps(ve).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Hn(J.submission.formMethod)){let Rt=await vl(Ce,q,J.submission,ve,Re,_e.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Se});if(Rt.shortCircuited)return;if(Rt.pendingActionResult){let[ke,lt]=Rt.pendingActionResult;if(ur(lt)&&Yu(lt.error)&&lt.error.status===404){C=null,Yn(q,{matches:Rt.matches,loaderData:{},errors:{[ke]:lt.error}});return}}ve=Rt.matches||ve,Te=Rt.pendingActionResult,ce=Ep(q,J.submission),Se=!1,_e.active=!1,Ce=Go(t.history,Ce.url,Ce.signal)}let{shortCircuited:Ae,matches:ze,loaderData:it,errors:wt}=await ia(Ce,q,ve,Re,_e.active,ce,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Se,Te);Ae||(C=null,Yn(q,{matches:ze||ve,...RT(Te),loaderData:it,errors:wt}))}async function vl(O,q,J,ie,ce,ve,Se,_e={}){Vr();let Ce=hD(q,J);if(Mt({navigation:Ce},{flushSync:_e.flushSync===!0}),ve){let Ae=await Jn(ie,q.pathname,O.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let ze=Ps(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[ze,{type:"error",error:Ae.error}]}}else if(Ae.matches)ie=Ae.matches;else{let{notFoundMatches:ze,error:it,route:wt}=Si(q.pathname);return{matches:ze,pendingActionResult:[wt.id,{type:"error",error:it}]}}}let Re,Te=Gh(ie,q);if(!Te.route.action&&!Te.route.lazy)Re={type:"error",error:Rr(405,{method:O.method,pathname:q.pathname,routeId:Te.route.id})};else{let Ae=Xo(a,l,O,ie,Te,Se?[]:s,ce),ze=await Lr(O,Ae,ce,null);if(Re=ze[Te.route.id],!Re){for(let it of ie)if(ze[it.route.id]){Re=ze[it.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(Ba(Re)){let Ae;return _e&&_e.replace!=null?Ae=_e.replace:Ae=wT(Re.response.headers.get("Location"),new URL(O.url),m)===P.location.pathname+P.location.search,await Pr(O,Re,!0,{submission:J,replace:Ae}),{shortCircuited:!0}}if(ur(Re)){let Ae=Ps(ie,Te.route.id);return(_e&&_e.replace)!==!0&&(N="PUSH"),{matches:ie,pendingActionResult:[Ae.route.id,Re,Te.route.id]}}return{matches:ie,pendingActionResult:[Te.route.id,Re]}}async function ia(O,q,J,ie,ce,ve,Se,_e,Ce,Re,Te,Ae){let ze=ve||Ep(q,Se),it=Se||_e||DT(ze),wt=!I&&!Re;if(ce){if(wt){let Ct=cn(Ae);Mt({navigation:ze,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:Te})}let He=await Jn(J,q.pathname,O.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Ct=Ps(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[Ct]:He.error}}}else if(He.matches)J=He.matches;else{let{error:Ct,notFoundMatches:jr,route:On}=Si(q.pathname);return{matches:jr,loaderData:{},errors:{[On.id]:Ct}}}}let Rt=d||c,{dsMatches:ke,revalidatingFetchers:lt}=yT(O,ie,a,l,t.history,P,J,it,q,Re?[]:s,Re===!0,Ve,$e,de,ne,M,Rt,m,t.patchRoutesOnNavigation!=null,Ae);if(ge=++fe,!t.dataStrategy&&!ke.some(He=>He.shouldLoad)&&!ke.some(He=>He.route.unstable_middleware)&&lt.length===0){let He=$n();return Yn(q,{matches:J,loaderData:{},errors:Ae&&ur(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...RT(Ae),...He?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(wt){let He={};if(!ce){He.navigation=ze;let Ct=cn(Ae);Ct!==void 0&&(He.actionData=Ct)}lt.length>0&&(He.fetchers=ao(lt)),Mt(He,{flushSync:Te})}lt.forEach(He=>{Wn(He.key),He.controller&&$.set(He.key,He.controller)});let xn=()=>lt.forEach(He=>Wn(He.key));C&&C.signal.addEventListener("abort",xn);let{loaderResults:Tn,fetcherResults:Qt}=await oo(ke,lt,O,ie);if(O.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",xn),lt.forEach(He=>$.delete(He.key));let nn=Lh(Tn);if(nn)return await Pr(O,nn.result,!0,{replace:Ce}),{shortCircuited:!0};if(nn=Lh(Qt),nn)return M.add(nn.key),await Pr(O,nn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Un,errors:mr}=bT(P,J,Tn,Ae,lt,Qt);Re&&P.errors&&(mr={...P.errors,...mr});let Ur=$n(),pr=kr(ge),gr=Ur||pr||lt.length>0;return{matches:J,loaderData:Un,errors:mr,...gr?{fetchers:new Map(P.fetchers)}:{}}}function cn(O){if(O&&!ur(O[1]))return{[O[0]]:O[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function ao(O){return O.forEach(q=>{let J=P.fetchers.get(q.key),ie=bu(void 0,J?J.data:void 0);P.fetchers.set(q.key,ie)}),new Map(P.fetchers)}async function kt(O,q,J,ie){Wn(O);let ce=(ie&&ie.flushSync)===!0,ve=d||c,Se=Yp(P.location,P.matches,m,J,q,ie?.relative),_e=Ms(ve,Se,m),Ce=Zn(_e,ve,Se);if(Ce.active&&Ce.matches&&(_e=Ce.matches),!_e){_t(O,q,Rr(404,{pathname:Se}),{flushSync:ce});return}let{path:Re,submission:Te,error:Ae}=gT(!0,Se,ie);if(Ae){_t(O,q,Ae,{flushSync:ce});return}let ze=t.unstable_getContext?await t.unstable_getContext():new mT,it=(ie&&ie.preventScrollReset)===!0;if(Te&&Hn(Te.formMethod)){await Ft(O,q,Re,_e,ze,Ce.active,ce,it,Te);return}ne.set(O,{routeId:q,path:Re}),await Mr(O,q,Re,_e,ze,Ce.active,ce,it,Te)}async function Ft(O,q,J,ie,ce,ve,Se,_e,Ce){Vr(),ne.delete(O);let Re=P.fetchers.get(O);hn(O,fD(Ce,Re),{flushSync:Se});let Te=new AbortController,Ae=Go(t.history,J,Te.signal,Ce);if(ve){let vt=await Jn(ie,new URL(Ae.url).pathname,Ae.signal,O);if(vt.type==="aborted")return;if(vt.type==="error"){_t(O,q,vt.error,{flushSync:Se});return}else if(vt.matches)ie=vt.matches;else{_t(O,q,Rr(404,{pathname:J}),{flushSync:Se});return}}let ze=Gh(ie,J);if(!ze.route.action&&!ze.route.lazy){let vt=Rr(405,{method:Ce.formMethod,pathname:J,routeId:q});_t(O,q,vt,{flushSync:Se});return}$.set(O,Te);let it=fe,wt=Xo(a,l,Ae,ie,ze,s,ce),ke=(await Lr(Ae,wt,ce,O))[ze.route.id];if(Ae.signal.aborted){$.get(O)===Te&&$.delete(O);return}if(de.has(O)){if(Ba(ke)||ur(ke)){hn(O,Os(void 0));return}}else{if(Ba(ke))if($.delete(O),ge>it){hn(O,Os(void 0));return}else return M.add(O),hn(O,bu(Ce)),Pr(Ae,ke,!1,{fetcherSubmission:Ce,preventScrollReset:_e});if(ur(ke)){_t(O,q,ke.error);return}}let lt=P.navigation.location||P.location,xn=Go(t.history,lt,Te.signal),Tn=d||c,Qt=P.navigation.state!=="idle"?Ms(Tn,P.navigation.location,m):P.matches;We(Qt,"Didn't find any matches after fetcher action");let nn=++fe;je.set(O,nn);let Un=bu(Ce,ke.data);P.fetchers.set(O,Un);let{dsMatches:mr,revalidatingFetchers:Ur}=yT(xn,ce,a,l,t.history,P,Qt,Ce,lt,s,!1,Ve,$e,de,ne,M,Tn,m,t.patchRoutesOnNavigation!=null,[ze.route.id,ke]);Ur.filter(vt=>vt.key!==O).forEach(vt=>{let zr=vt.key,lo=P.fetchers.get(zr),er=bu(void 0,lo?lo.data:void 0);P.fetchers.set(zr,er),Wn(zr),vt.controller&&$.set(zr,vt.controller)}),Mt({fetchers:new Map(P.fetchers)});let pr=()=>Ur.forEach(vt=>Wn(vt.key));Te.signal.addEventListener("abort",pr);let{loaderResults:gr,fetcherResults:He}=await oo(mr,Ur,xn,ce);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",pr),je.delete(O),$.delete(O),Ur.forEach(vt=>$.delete(vt.key)),P.fetchers.has(O)){let vt=Os(ke.data);P.fetchers.set(O,vt)}let Ct=Lh(gr);if(Ct)return Pr(xn,Ct.result,!1,{preventScrollReset:_e});if(Ct=Lh(He),Ct)return M.add(Ct.key),Pr(xn,Ct.result,!1,{preventScrollReset:_e});let{loaderData:jr,errors:On}=bT(P,Qt,gr,void 0,Ur,He);kr(nn),P.navigation.state==="loading"&&nn>ge?(We(N,"Expected pending action"),C&&C.abort(),Yn(P.navigation.location,{matches:Qt,loaderData:jr,errors:On,fetchers:new Map(P.fetchers)})):(Mt({errors:On,loaderData:AT(P.loaderData,jr,Qt,On),fetchers:new Map(P.fetchers)}),Ve=!1)}async function Mr(O,q,J,ie,ce,ve,Se,_e,Ce){let Re=P.fetchers.get(O);hn(O,bu(Ce,Re?Re.data:void 0),{flushSync:Se});let Te=new AbortController,Ae=Go(t.history,J,Te.signal);if(ve){let lt=await Jn(ie,new URL(Ae.url).pathname,Ae.signal,O);if(lt.type==="aborted")return;if(lt.type==="error"){_t(O,q,lt.error,{flushSync:Se});return}else if(lt.matches)ie=lt.matches;else{_t(O,q,Rr(404,{pathname:J}),{flushSync:Se});return}}let ze=Gh(ie,J);$.set(O,Te);let it=fe,wt=Xo(a,l,Ae,ie,ze,s,ce),ke=(await Lr(Ae,wt,ce,O))[ze.route.id];if($.get(O)===Te&&$.delete(O),!Ae.signal.aborted){if(de.has(O)){hn(O,Os(void 0));return}if(Ba(ke))if(ge>it){hn(O,Os(void 0));return}else{M.add(O),await Pr(Ae,ke,!1,{preventScrollReset:_e});return}if(ur(ke)){_t(O,q,ke.error);return}hn(O,Os(ke.data))}}async function Pr(O,q,J,{submission:ie,fetcherSubmission:ce,preventScrollReset:ve,replace:Se}={}){q.response.headers.has("X-Remix-Revalidate")&&(Ve=!0);let _e=q.response.headers.get("Location");We(_e,"Expected a Location header on the redirect Response"),_e=wT(_e,new URL(O.url),m);let Ce=Gu(P.location,_e,{_isRedirect:!0});if(n){let wt=!1;if(q.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(Ig(_e)){const Rt=q0(_e,!0);wt=Rt.origin!==e.location.origin||Nr(Rt.pathname,m)==null}if(wt){Se?e.location.replace(_e):e.location.assign(_e);return}}C=null;let Re=Se===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Ae,formEncType:ze}=P.navigation;!ie&&!ce&&Te&&Ae&&ze&&(ie=DT(P.navigation));let it=ie||ce;if(YI.has(q.response.status)&&it&&Hn(it.formMethod))await kn(Re,Ce,{submission:{...it,formAction:_e},preventScrollReset:ve||R,enableViewTransition:J?L:void 0});else{let wt=Ep(Ce,ie);await kn(Re,Ce,{overrideNavigation:wt,fetcherSubmission:ce,preventScrollReset:ve||R,enableViewTransition:J?L:void 0})}}async function Lr(O,q,J,ie){let ce,ve={};try{ce=await rD(g,O,q,ie,J,!1)}catch(Se){return q.filter(_e=>_e.shouldLoad).forEach(_e=>{ve[_e.route.id]={type:"error",error:Se}}),ve}if(O.signal.aborted)return ve;for(let[Se,_e]of Object.entries(ce))if(uD(_e)){let Ce=_e.result;ve[Se]={type:"redirect",response:aD(Ce,O,Se,q,m)}}else ve[Se]=await sD(_e);return ve}async function oo(O,q,J,ie){let ce=Lr(J,O,ie,null),ve=Promise.all(q.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let Te=(await Lr(Ce.request,Ce.matches,ie,Ce.key))[Ce.match.route.id];return{[Ce.key]:Te}}else return Promise.resolve({[Ce.key]:{type:"error",error:Rr(404,{pathname:Ce.path})}})})),Se=await ce,_e=(await ve).reduce((Ce,Re)=>Object.assign(Ce,Re),{});return{loaderResults:Se,fetcherResults:_e}}function Vr(){Ve=!0,ne.forEach((O,q)=>{$.has(q)&&$e.add(q),Wn(q)})}function hn(O,q,J={}){P.fetchers.set(O,q),Mt({fetchers:new Map(P.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function _t(O,q,J,ie={}){let ce=Ps(P.matches,q);$t(O),Mt({errors:{[ce.route.id]:J},fetchers:new Map(P.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Dn(O){return pe.set(O,(pe.get(O)||0)+1),de.has(O)&&de.delete(O),P.fetchers.get(O)||WI}function $t(O){let q=P.fetchers.get(O);$.has(O)&&!(q&&q.state==="loading"&&je.has(O))&&Wn(O),ne.delete(O),je.delete(O),M.delete(O),de.delete(O),$e.delete(O),P.fetchers.delete(O)}function El(O){let q=(pe.get(O)||0)-1;q<=0?(pe.delete(O),de.add(O)):pe.set(O,q),Mt({fetchers:new Map(P.fetchers)})}function Wn(O){let q=$.get(O);q&&(q.abort(),$.delete(O))}function sa(O){for(let q of O){let J=Dn(q),ie=Os(J.data);P.fetchers.set(q,ie)}}function $n(){let O=[],q=!1;for(let J of M){let ie=P.fetchers.get(J);We(ie,`Expected fetcher: ${J}`),ie.state==="loading"&&(M.delete(J),O.push(J),q=!0)}return sa(O),q}function kr(O){let q=[];for(let[J,ie]of je)if(ie<O){let ce=P.fetchers.get(J);We(ce,`Expected fetcher: ${J}`),ce.state==="loading"&&(Wn(J),je.delete(J),q.push(J))}return sa(q),q.length>0}function Qn(O,q){let J=P.blockers.get(O)||Su;return Ee.get(O)!==q&&Ee.set(O,q),J}function Nn(O){P.blockers.delete(O),Ee.delete(O)}function Xn(O,q){let J=P.blockers.get(O)||Su;We(J.state==="unblocked"&&q.state==="blocked"||J.state==="blocked"&&q.state==="blocked"||J.state==="blocked"&&q.state==="proceeding"||J.state==="blocked"&&q.state==="unblocked"||J.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${q.state}`);let ie=new Map(P.blockers);ie.set(O,q),Mt({blockers:ie})}function wi({currentLocation:O,nextLocation:q,historyAction:J}){if(Ee.size===0)return;Ee.size>1&&Vt(!1,"A router only supports one blocker at a time");let ie=Array.from(Ee.entries()),[ce,ve]=ie[ie.length-1],Se=P.blockers.get(ce);if(!(Se&&Se.state==="proceeding")&&ve({currentLocation:O,nextLocation:q,historyAction:J}))return ce}function Si(O){let q=Rr(404,{pathname:O}),J=d||c,{matches:ie,route:ce}=CT(J);return{notFoundMatches:ie,route:ce,error:q}}function ei(O,q,J){if(D=O,j=q,z=J||null,!U&&P.navigation===vp){U=!0;let ie=aa(P.location,P.matches);ie!=null&&Mt({restoreScrollPosition:ie})}return()=>{D=null,j=null,z=null}}function bi(O,q){return z&&z(O,q.map(ie=>bI(ie,P.loaderData)))||O.key}function Dt(O,q){if(D&&j){let J=bi(O,q);D[J]=j()}}function aa(O,q){if(D){let J=bi(O,q),ie=D[J];if(typeof ie=="number")return ie}return null}function Zn(O,q,J){if(t.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:qh(q,J,m,!0)}}else return{active:!0,matches:qh(q,J,m,!0)||[]};return{active:!1,matches:null}}async function Jn(O,q,J,ie){if(!t.patchRoutesOnNavigation)return{type:"success",matches:O};let ce=O;for(;;){let ve=d==null,Se=d||c,_e=l;try{await t.patchRoutesOnNavigation({signal:J,path:q,matches:ce,fetcherKey:ie,patch:(Te,Ae)=>{J.aborted||_T(Te,Ae,Se,_e,a,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:ce}}finally{ve&&!J.aborted&&(c=[...c])}if(J.aborted)return{type:"aborted"};let Ce=Ms(Se,q,m);if(Ce)return{type:"success",matches:Ce};let Re=qh(Se,q,m,!0);if(!Re||ce.length===Re.length&&ce.every((Te,Ae)=>Te.route.id===Re[Ae].route.id))return{type:"success",matches:null};ce=Re}}function oa(O){l={},d=Ku(O,a,void 0,l)}function la(O,q,J=!1){let ie=d==null;_T(O,q,d||c,l,a,J),ie&&(c=[...c],Mt({}))}return le={get basename(){return m},get future(){return _},get state(){return P},get routes(){return c},get window(){return e},initialize:Wt,subscribe:Kn,enableScrollRestoration:ei,navigate:Ei,fetch:kt,revalidate:Ti,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:Dn,deleteFetcher:El,dispose:ot,getBlocker:Qn,deleteBlocker:Nn,patchRoutes:la,_internalFetchControllers:$,_internalSetRoutes:oa,_internalSetStateDoNotUseOrYouWillBreakYourApp(O){Mt(O)}},le}function ZI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Yp(t,e,n,s,a,l){let c,d;if(a){c=[];for(let g of e)if(c.push(g),g.route.id===a){d=g;break}}else c=e,d=e[e.length-1];let m=Ff(s||".",Bf(c),Nr(t.pathname,n)||t.pathname,l==="path");if(s==null&&(m.search=t.search,m.hash=t.hash),(s==null||s===""||s===".")&&d){let g=Dg(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(m.search),T=_.getAll("index");_.delete("index"),T.filter(D=>D).forEach(D=>_.append("index",D));let w=_.toString();m.search=w?`?${w}`:""}}return n!=="/"&&(m.pathname=kI({basename:n,pathname:m.pathname})),Gs(m)}function gT(t,e,n){if(!n||!ZI(n))return{path:e};if(n.formMethod&&!cD(n.formMethod))return{path:e,error:Rr(405,{method:n.formMethod})};let s=()=>({path:e,error:Rr(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=rS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Hn(l))return s();let T=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[D,z])=>`${w}${D}=${z}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:T}}}else if(n.formEncType==="application/json"){if(!Hn(l))return s();try{let T=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}We(typeof FormData=="function","FormData is not available in this environment");let d,m;if(n.formData)d=Qp(n.formData),m=n.formData;else if(n.body instanceof FormData)d=Qp(n.body),m=n.body;else if(n.body instanceof URLSearchParams)d=n.body,m=ST(d);else if(n.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(n.body),m=ST(d)}catch{return s()}let g={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Hn(g.formMethod))return{path:e,submission:g};let _=ns(e);return t&&_.search&&Dg(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Gs(_),submission:g}}function yT(t,e,n,s,a,l,c,d,m,g,_,T,w,D,z,j,U,W,oe,X){let he=X?ur(X[1])?X[1].error:X[1].data:void 0,le=a.createURL(l.location),P=a.createURL(m),N;if(_&&l.errors){let I=Object.keys(l.errors)[0];N=c.findIndex(Ve=>Ve.route.id===I)}else if(X&&ur(X[1])){let I=X[0];N=c.findIndex(Ve=>Ve.route.id===I)-1}let R=X?X[1].statusCode:void 0,C=R&&R>=400,L={currentUrl:le,currentParams:l.matches[0]?.params||{},nextUrl:P,nextParams:c[0].params,...d,actionResult:he,actionStatus:R},V=c.map((I,Ve)=>{let{route:$e}=I,$=null;if(N!=null&&Ve>N?$=!1:$e.lazy?$=!0:$e.loader==null?$=!1:_?$=Wp($e,l.loaderData,l.errors):JI(l.loaderData,l.matches[Ve],I)&&($=!0),$!==null)return $p(n,s,t,I,g,e,$);let fe=C?!1:T||le.pathname+le.search===P.pathname+P.search||le.search!==P.search||eD(l.matches[Ve],I),ge={...L,defaultShouldRevalidate:fe},je=df(I,ge);return $p(n,s,t,I,g,e,je,ge)}),B=[];return z.forEach((I,Ve)=>{if(_||!c.some(pe=>pe.route.id===I.routeId)||D.has(Ve))return;let $e=l.fetchers.get(Ve),$=$e&&$e.state!=="idle"&&$e.data===void 0,fe=Ms(U,I.path,W);if(!fe){if(oe&&$)return;B.push({key:Ve,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(j.has(Ve))return;let ge=Gh(fe,I.path),je=new AbortController,M=Go(a,I.path,je.signal),ne=null;if(w.has(Ve))w.delete(Ve),ne=Xo(n,s,M,fe,ge,g,e);else if($)T&&(ne=Xo(n,s,M,fe,ge,g,e));else{let pe={...L,defaultShouldRevalidate:C?!1:T};df(ge,pe)&&(ne=Xo(n,s,M,fe,ge,g,e,pe))}ne&&B.push({key:Ve,routeId:I.routeId,path:I.path,matches:ne,match:ge,request:M,controller:je})}),{dsMatches:V,revalidatingFetchers:B}}function Wp(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!s&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!a}function JI(t,e,n){let s=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return s||a}function eD(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function df(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function _T(t,e,n,s,a,l){let c;if(t){let g=s[t];We(g,`No route found to patch children into: routeId = ${t}`),g.children||(g.children=[]),c=g.children}else c=n;let d=[],m=[];if(e.forEach(g=>{let _=c.find(T=>X0(g,T));_?m.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=Ku(d,a,[t||"_","patch",String(c?.length||"0")],s);c.push(...g)}if(l&&m.length>0)for(let g=0;g<m.length;g++){let{existingRoute:_,newRoute:T}=m[g],w=_,[D]=Ku([T],a,[],{},!0);Object.assign(w,{element:D.element?D.element:w.element,errorElement:D.errorElement?D.errorElement:w.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:w.hydrateFallbackElement})}}function X0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>e.children?.some(a=>X0(n,a))):!1}var vT=new WeakMap,Z0=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let a=n[e.id];if(We(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let c=vT.get(a);c||(c={},vT.set(a,c));let d=c[t];if(d)return d;let m=(async()=>{let g=EI(t),T=a[t]!==void 0&&t!=="hasErrorBoundary";if(g)Vt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(T)Vt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await l();w!=null&&(Object.assign(a,{[t]:w}),Object.assign(a,s(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(w=>w===void 0)&&(a.lazy=void 0))})();return c[t]=m,m},ET=new WeakMap;function tD(t,e,n,s,a){let l=n[t.id];if(We(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let _=ET.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let T=(async()=>{We(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),D={};for(let z in w){let j=w[z];if(j===void 0)continue;let U=wI(z),oe=l[z]!==void 0&&z!=="hasErrorBoundary";U?Vt(!U,"Route property "+z+" is not a supported property to be returned from a lazy route function. This property will be ignored."):oe?Vt(!oe,`Route "${l.id}" has a static property "${z}" defined but its lazy function is also returning a value for this property. The lazy route property "${z}" will be ignored.`):D[z]=j}Object.assign(l,D),Object.assign(l,{...s(l),lazy:void 0})})();return ET.set(l,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(t.lazy),d=[],m;for(let _ of c){if(a&&a.includes(_))continue;let T=Z0({key:_,route:t,manifest:n,mapRouteProperties:s});T&&(d.push(T),_===e&&(m=T))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function TT(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function nD(t){if(!t.matches.some(n=>n.route.unstable_middleware))return TT(t);let e=!1;return eS(t,()=>(e=!0,TT(t)),(n,s)=>J0(n,s,t.matches,e))}function J0(t,e,n,s){return s?{[e]:{type:"error",result:t}}:{[Ps(n,n.find(l=>l.route.id===e||l.route.loader)?.route.id||e).route.id]:{type:"error",result:t}}}async function eS(t,e,n){let{matches:s,request:a,params:l,context:c}=t,d=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(_=>[g.route.id,_]):[]),m={};return await tS({request:a,params:l,context:c},d,e,n,m),m}async function tS(t,e,n,s,a={},l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d){let w=await n();Object.assign(a,w);return}let[m,g]=d,_=!1,T=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0;try{let w=await tS(t,e,n,s,a,l+1);Object.assign(a,w)}catch(w){let D=await s(w,m);Object.assign(a,D)}};try{let w=await g({request:t.request,params:t.params,context:t.context},T);typeof w<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",w),_||await T()}catch(w){let D=await s(w,m);Object.assign(a,D)}}function nS(t,e,n,s,a){let l=Z0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:t}),c=tD(s.route,Hn(n.method)?"action":"loader",e,t,a);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function $p(t,e,n,s,a,l,c,d=null){let m=!1,g=nS(t,e,n,s,a);return{...s,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(_){return m=!0,d?typeof _=="boolean"?df(s,{...d,defaultShouldRevalidate:_}):df(s,d):c},resolve(_){return m||c||_&&!Hn(n.method)&&(s.route.lazy||s.route.loader)?iD({request:n,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Xo(t,e,n,s,a,l,c,d=null){return s.map(m=>m.route.id!==a.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:nS(t,e,n,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:$p(t,e,n,m,l,c,!0,d))}async function rD(t,e,n,s,a,l){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let c={request:e,params:n[0].params,context:a,matches:n},m=await t({...c,fetcherKey:s,unstable_runClientMiddleware:g=>{let _=c,T=!1;return eS(_,()=>(T=!0,g({..._,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(w,D)=>J0(w,D,n,T))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return m}async function iD({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,d,m=Hn(t.method),g=m?"action":"loader",_=T=>{let w,D=new Promise((U,W)=>w=W);d=()=>w(),t.signal.addEventListener("abort",d);let z=U=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):T({request:t,params:e.params,context:l},...U!==void 0?[U]:[]),j=(async()=>{try{return{type:"data",result:await(a?a(W=>z(W)):z())}}catch(U){return{type:"error",result:U}}})();return Promise.race([j,D])};try{let T=m?e.route.action:e.route.loader;if(n||s)if(T){let w,[D]=await Promise.all([_(T).catch(z=>{w=z}),n,s]);if(w!==void 0)throw w;c=D}else{await n;let w=m?e.route.action:e.route.loader;if(w)[c]=await Promise.all([_(w),s]);else if(g==="action"){let D=new URL(t.url),z=D.pathname+D.search;throw Rr(405,{method:t.method,pathname:z,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)c=await _(T);else{let w=new URL(t.url),D=w.pathname+w.search;throw Rr(404,{pathname:D})}}catch(T){return{type:"error",result:T}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function sD(t){let{result:e,type:n}=t;if(iS(e)){let s;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new ff(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return n==="error"?IT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ff(e.init?.status||500,void 0,e.data),statusCode:Yu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yu(e)?e.status:void 0}:IT(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function aD(t,e,n,s,a){let l=t.headers.get("Location");if(We(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ig(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===n)+1);l=Yp(new URL(e.url),c,a,l),t.headers.set("Location",l)}return t}function wT(t,e,n){if(Ig(t)){let s=t,a=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=Nr(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function Go(t,e,n,s){let a=t.createURL(rS(e)).toString(),l={signal:n};if(s&&Hn(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=Qp(s.formData):l.body=s.formData}return new Request(a,l)}function Qp(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function ST(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function oD(t,e,n,s=!1,a=!1){let l={},c=null,d,m=!1,g={},_=n&&ur(n[1])?n[1].error:void 0;return t.forEach(T=>{if(!(T.route.id in e))return;let w=T.route.id,D=e[w];if(We(!Ba(D),"Cannot handle redirect results in processLoaderData"),ur(D)){let z=D.error;if(_!==void 0&&(z=_,_=void 0),c=c||{},a)c[w]=z;else{let j=Ps(t,w);c[j.route.id]==null&&(c[j.route.id]=z)}s||(l[w]=Q0),m||(m=!0,d=Yu(D.error)?D.error.status:500),D.headers&&(g[w]=D.headers)}else l[w]=D.data,D.statusCode&&D.statusCode!==200&&!m&&(d=D.statusCode),D.headers&&(g[w]=D.headers)}),_!==void 0&&n&&(c={[n[0]]:_},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function bT(t,e,n,s,a,l){let{loaderData:c,errors:d}=oD(e,n,s);return a.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:_,controller:T}=m;if(T&&T.signal.aborted)return;let w=l[g];if(We(w,"Did not find corresponding fetcher result"),ur(w)){let D=Ps(t.matches,_?.route.id);d&&d[D.route.id]||(d={...d,[D.route.id]:w.error}),t.fetchers.delete(g)}else if(Ba(w))We(!1,"Unhandled fetcher revalidation redirect");else{let D=Os(w.data);t.fetchers.set(g,D)}}),{loaderData:c,errors:d}}function AT(t,e,n,s){let a=Object.entries(e).filter(([,l])=>l!==Q0).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(a[c]=t[c]),s&&s.hasOwnProperty(c))break}return a}function RT(t){return t?ur(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ps(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function CT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rr(t,{pathname:e,routeId:n,method:s,type:a,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new ff(t||500,c,new Error(d),!0)}function Lh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,a]=e[n];if(Ba(a))return{key:s,result:a}}}function rS(t){let e=typeof t=="string"?ns(t):t;return Gs({...e,hash:""})}function lD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function uD(t){return iS(t.result)&&KI.has(t.result.status)}function ur(t){return t.type==="error"}function Ba(t){return(t&&t.type)==="redirect"}function IT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function iS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function cD(t){return GI.has(t.toUpperCase())}function Hn(t){return HI.has(t.toUpperCase())}function Dg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Gh(t,e){let n=typeof e=="string"?ns(e).search:e.search;if(t[t.length-1].route.index&&Dg(n||""))return t[t.length-1];let s=Y0(t);return s[s.length-1]}function DT(t){let{formMethod:e,formAction:n,formEncType:s,text:a,formData:l,json:c}=t;if(!(!e||!n||!s)){if(a!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function Ep(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Os(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function dD(t,e){try{let n=t.sessionStorage.getItem($0);if(n){let s=JSON.parse(n);for(let[a,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function mD(t,e){if(e.size>0){let n={};for(let[s,a]of e)n[s]=[...a];try{t.sessionStorage.setItem($0,JSON.stringify(n))}catch(s){Vt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function pD(){let t,e,n=new Promise((s,a)=>{t=async l=>{s(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var eo=F.createContext(null);eo.displayName="DataRouter";var sc=F.createContext(null);sc.displayName="DataRouterState";F.createContext(!1);var Ng=F.createContext({isTransitioning:!1});Ng.displayName="ViewTransition";var sS=F.createContext(new Map);sS.displayName="Fetchers";var gD=F.createContext(null);gD.displayName="Await";var Zr=F.createContext(null);Zr.displayName="Navigation";var Hf=F.createContext(null);Hf.displayName="Location";var Or=F.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var xg=F.createContext(null);xg.displayName="RouteError";function yD(t,{relative:e}={}){We(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Zr),{hash:a,pathname:l,search:c}=ac(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:ui([n,l])),s.createHref({pathname:d,search:c,hash:a})}function hl(){return F.useContext(Hf)!=null}function Js(){return We(hl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Hf).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oS(t){F.useContext(Zr).static||F.useLayoutEffect(t)}function lS(){let{isDataRoute:t}=F.useContext(Or);return t?OD():_D()}function _D(){We(hl(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(eo),{basename:e,navigator:n}=F.useContext(Zr),{matches:s}=F.useContext(Or),{pathname:a}=Js(),l=JSON.stringify(Bf(s)),c=F.useRef(!1);return oS(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Vt(c.current,aS),!c.current)return;if(typeof m=="number"){n.go(m);return}let _=Ff(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ui([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,a,t])}var vD=F.createContext(null);function ED(t){let e=F.useContext(Or).outlet;return e&&F.createElement(vD.Provider,{value:t},e)}function uS(){let{matches:t}=F.useContext(Or),e=t[t.length-1];return e?e.params:{}}function ac(t,{relative:e}={}){let{matches:n}=F.useContext(Or),{pathname:s}=Js(),a=JSON.stringify(Bf(n));return F.useMemo(()=>Ff(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function TD(t,e,n,s){We(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Zr),{matches:l}=F.useContext(Or),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let W=_&&_.path||"";cS(m,!_||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=Js(),w;w=T;let D=w.pathname||"/",z=D;if(g!=="/"){let W=g.replace(/^\//,"").split("/");z="/"+D.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=Ms(t,{pathname:z});return Vt(_||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Vt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),RD(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},d,W.params),pathname:ui([g,a.encodeLocation?a.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?g:ui([g,a.encodeLocation?a.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),l,n,s)}function wD(){let t=xD(),e=Yu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:a},n):null,c)}var SD=F.createElement(wD,null),bD=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Or.Provider,{value:this.props.routeContext},F.createElement(xg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AD({routeContext:t,match:e,children:n}){let s=F.useContext(eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Or.Provider,{value:t},n)}function RD(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);We(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:T}=n,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,_)=>{let T,w=!1,D=null,z=null;n&&(T=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||SD,c&&(d<0&&_===0?(cS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,z=null):d===_&&(w=!0,z=g.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,_+1)),U=()=>{let W;return T?W=D:w?W=z:g.route.Component?W=F.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=m,F.createElement(AD,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?F.createElement(bD,{location:n.location,revalidation:n.revalidation,component:D,error:T,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}function Og(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CD(t){let e=F.useContext(eo);return We(e,Og(t)),e}function ID(t){let e=F.useContext(sc);return We(e,Og(t)),e}function DD(t){let e=F.useContext(Or);return We(e,Og(t)),e}function Mg(t){let e=DD(t),n=e.matches[e.matches.length-1];return We(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ND(){return Mg("useRouteId")}function xD(){let t=F.useContext(xg),e=ID("useRouteError"),n=Mg("useRouteError");return t!==void 0?t:e.errors?.[n]}function OD(){let{router:t}=CD("useNavigate"),e=Mg("useNavigate"),n=F.useRef(!1);return oS(()=>{n.current=!0}),F.useCallback(async(a,l={})=>{Vt(n.current,aS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var NT={};function cS(t,e,n){!e&&!NT[t]&&(NT[t]=!0,Vt(!1,n))}var xT={};function OT(t,e){!t&&!xT[e]&&(xT[e]=!0,console.warn(e))}function MD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var PD=["HydrateFallback","hydrateFallbackElement"],LD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function VD({router:t,flushSync:e}){let[n,s]=F.useState(t.state),[a,l]=F.useState(),[c,d]=F.useState({isTransitioning:!1}),[m,g]=F.useState(),[_,T]=F.useState(),[w,D]=F.useState(),z=F.useRef(new Map),j=F.useCallback((X,{deletedFetchers:he,flushSync:le,viewTransitionOpts:P})=>{X.fetchers.forEach((R,C)=>{R.data!==void 0&&z.current.set(C,R.data)}),he.forEach(R=>z.current.delete(R)),OT(le===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(OT(P==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!N){e&&le?e(()=>s(X)):F.startTransition(()=>s(X));return}if(e&&le){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let R=t.window.document.startViewTransition(()=>{e(()=>s(X))});R.finished.finally(()=>{e(()=>{g(void 0),T(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>T(R));return}_?(m&&m.resolve(),_.skipTransition(),D({state:X,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(l(X),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[t.window,e,_,m]);F.useLayoutEffect(()=>t.subscribe(j),[t,j]),F.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new LD)},[c]),F.useEffect(()=>{if(m&&a&&t.window){let X=a,he=m.promise,le=t.window.document.startViewTransition(async()=>{F.startTransition(()=>s(X)),await he});le.finished.finally(()=>{g(void 0),T(void 0),l(void 0),d({isTransitioning:!1})}),T(le)}},[a,m,t.window]),F.useEffect(()=>{m&&a&&n.location.key===a.location.key&&m.resolve()},[m,_,n.location,a]),F.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),D(void 0))},[c.isTransitioning,w]);let U=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:X=>t.navigate(X),push:(X,he,le)=>t.navigate(X,{state:he,preventScrollReset:le?.preventScrollReset}),replace:(X,he,le)=>t.navigate(X,{replace:!0,state:he,preventScrollReset:le?.preventScrollReset})}),[t]),W=t.basename||"/",oe=F.useMemo(()=>({router:t,navigator:U,static:!1,basename:W}),[t,U,W]);return F.createElement(F.Fragment,null,F.createElement(eo.Provider,{value:oe},F.createElement(sc.Provider,{value:n},F.createElement(sS.Provider,{value:z.current},F.createElement(Ng.Provider,{value:c},F.createElement(BD,{basename:W,location:n.location,navigationType:n.historyAction,navigator:U},F.createElement(kD,{routes:t.routes,future:t.future,state:n})))))),null)}var kD=F.memo(UD);function UD({routes:t,future:e,state:n}){return TD(t,void 0,n,e)}function jD({to:t,replace:e,state:n,relative:s}){We(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(Zr);Vt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Or),{pathname:c}=Js(),d=lS(),m=Ff(t,Bf(l),c,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function zD(t){return ED(t.context)}function BD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){We(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ns(n));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:w="default"}=n,D=F.useMemo(()=>{let z=Nr(m,c);return z==null?null:{location:{pathname:z,search:g,hash:_,state:T,key:w},navigationType:s}},[c,m,g,_,T,w,s]);return Vt(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(Zr.Provider,{value:d},F.createElement(Hf.Provider,{children:e,value:D}))}var Kh="get",Yh="application/x-www-form-urlencoded";function qf(t){return t!=null&&typeof t.tagName=="string"}function FD(t){return qf(t)&&t.tagName.toLowerCase()==="button"}function HD(t){return qf(t)&&t.tagName.toLowerCase()==="form"}function qD(t){return qf(t)&&t.tagName.toLowerCase()==="input"}function GD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KD(t,e){return t.button===0&&(!e||e==="_self")&&!GD(t)}var Vh=null;function YD(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var WD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(t){return t!=null&&!WD.has(t)?(Vt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):t}function $D(t,e){let n,s,a,l,c;if(HD(t)){let d=t.getAttribute("action");s=d?Nr(d,e):null,n=t.getAttribute("method")||Kh,a=Tp(t.getAttribute("enctype"))||Yh,l=new FormData(t)}else if(FD(t)||qD(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Nr(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Kh,a=Tp(t.getAttribute("formenctype"))||Tp(d.getAttribute("enctype"))||Yh,l=new FormData(d,t),!YD()){let{name:g,type:_,value:T}=t;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(qf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,s=null,a=Yh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Nr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function XD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function JD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await XD(l,n);return c.links?c.links():[]}return[]}));return rN(s.flat(1).filter(ZD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function MT(t,e,n,s,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function eN(t,e,{includeHydrateFallback:n}={}){return tN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function tN(t){return[...new Set(t)]}function nN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function rN(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(nN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function hS(){let t=F.useContext(eo);return Pg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iN(){let t=F.useContext(sc);return Pg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lg=F.createContext(void 0);Lg.displayName="FrameworkContext";function fS(){let t=F.useContext(Lg);return Pg(t,"You must render this element inside a <HydratedRouter> element"),t}function sN(t,e){let n=F.useContext(Lg),[s,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=W=>{W.forEach(oe=>{c(oe.isIntersecting)})},U=new IntersectionObserver(j,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[t]),F.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let D=()=>{a(!0)},z=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Au(d,D),onBlur:Au(m,z),onMouseEnter:Au(g,D),onMouseLeave:Au(_,z),onTouchStart:Au(T,D)}]:[!1,w,{}]}function Au(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aN({page:t,...e}){let{router:n}=hS(),s=F.useMemo(()=>Ms(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?F.createElement(lN,{page:t,matches:s,...e}):null}function oN(t){let{manifest:e,routeModules:n}=fS(),[s,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return JD(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function lN({page:t,matches:e,...n}){let s=Js(),{manifest:a,routeModules:l}=fS(),{basename:c}=hS(),{loaderData:d,matches:m}=iN(),g=F.useMemo(()=>MT(t,e,m,a,s,"data"),[t,e,m,a,s]),_=F.useMemo(()=>MT(t,e,m,a,s,"assets"),[t,e,m,a,s]),T=F.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let z=new Set,j=!1;if(e.forEach(W=>{let oe=a.routes[W.route.id];!oe||!oe.hasLoader||(!g.some(X=>X.route.id===W.route.id)&&W.route.id in d&&l[W.route.id]?.shouldRevalidate||oe.hasClientLoader?j=!0:z.add(W.route.id))}),z.size===0)return[];let U=QD(t,c,"data");return j&&z.size>0&&U.searchParams.set("_routes",e.filter(W=>z.has(W.route.id)).map(W=>W.route.id).join(",")),[U.pathname+U.search]},[c,d,s,a,g,e,t,l]),w=F.useMemo(()=>eN(_,a),[_,a]),D=oN(_);return F.createElement(F.Fragment,null,T.map(z=>F.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),w.map(z=>F.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),D.map(({key:z,link:j})=>F.createElement("link",{key:z,nonce:n.nonce,...j})))}function uN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dS&&(window.__reactRouterVersion="7.8.0")}catch{}function cN(t,e){return XI({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:gI({window:e?.window}),hydrationData:hN(),routes:t,mapRouteProperties:MD,hydrationRouteProperties:PD,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function hN(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:fN(t.errors)}),t}function fN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,a]of e)if(a&&a.__type==="RouteErrorResponse")n[s]=new ff(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let c=new l(a.message);c.stack="",n[s]=c}catch{}}if(n[s]==null){let l=new Error(a.message);l.stack="",n[s]=l}}else n[s]=a;return n}var mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pS=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...w},D){let{basename:z}=F.useContext(Zr),j=typeof g=="string"&&mS.test(g),U,W=!1;if(typeof g=="string"&&j&&(U=g,dS))try{let C=new URL(window.location.href),L=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=Nr(L.pathname,z);L.origin===C.origin&&V!=null?g=V+L.search+L.hash:W=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let oe=yD(g,{relative:a}),[X,he,le]=sN(s,w),P=pN(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:T});function N(C){e&&e(C),C.defaultPrevented||P(C)}let R=F.createElement("a",{...w,...le,href:U||oe,onClick:W||l?e:N,ref:uN(D,he),target:m,"data-discover":!j&&n==="render"?"true":void 0});return X&&!j?F.createElement(F.Fragment,null,R,F.createElement(aN,{page:oe})):R});pS.displayName="Link";var Fi=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let T=ac(c,{relative:g.relative}),w=Js(),D=F.useContext(sc),{navigator:z,basename:j}=F.useContext(Zr),U=D!=null&&EN(T)&&d===!0,W=z.encodeLocation?z.encodeLocation(T).pathname:T.pathname,oe=w.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(oe=oe.toLowerCase(),X=X?X.toLowerCase():null,W=W.toLowerCase()),X&&j&&(X=Nr(X,j)||X);const he=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let le=oe===W||!a&&oe.startsWith(W)&&oe.charAt(he)==="/",P=X!=null&&(X===W||!a&&X.startsWith(W)&&X.charAt(W.length)==="/"),N={isActive:le,isPending:P,isTransitioning:U},R=le?e:void 0,C;typeof s=="function"?C=s(N):C=[s,le?"active":null,P?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return F.createElement(pS,{...g,"aria-current":R,className:C,ref:_,style:L,to:c,viewTransition:d},typeof m=="function"?m(N):m)});Fi.displayName="NavLink";var dN=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Kh,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...w},D)=>{let z=_N(),j=vN(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&mS.test(d),oe=X=>{if(m&&m(X),X.defaultPrevented)return;X.preventDefault();let he=X.nativeEvent.submitter,le=he?.getAttribute("formmethod")||c;z(he||X.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return F.createElement("form",{ref:D,method:U,action:j,onSubmit:s?m:oe,...w,"data-discover":!W&&t==="render"?"true":void 0})});dN.displayName="Form";function mN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gS(t){let e=F.useContext(eo);return We(e,mN(t)),e}function pN(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=lS(),m=Js(),g=ac(t,{relative:l});return F.useCallback(_=>{if(KD(_,e)){_.preventDefault();let T=n!==void 0?n:Gs(m)===Gs(g);d(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,n,s,e,t,a,l,c])}var gN=0,yN=()=>`__${String(++gN)}__`;function _N(){let{router:t}=gS("useSubmit"),{basename:e}=F.useContext(Zr),n=ND();return F.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=$D(s,e);if(a.navigate===!1){let _=a.fetcherKey||yN();await t.fetch(_,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function vN(t,{relative:e}={}){let{basename:n}=F.useContext(Zr),s=F.useContext(Or);We(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...ac(t||".",{relative:e})},c=Js();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ui([n,l.pathname])),Gs(l)}function EN(t,{relative:e}={}){let n=F.useContext(Ng);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gS("useViewTransitionState"),a=ac(t,{relative:e});if(!n.isTransitioning)return!1;let l=Nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hf(a.pathname,c)!=null||hf(a.pathname,l)!=null}var yS=w0();function TN(t){return F.createElement(VD,{flushSync:yS.flushSync,...t})}const wN=()=>{};var PT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},SN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,D=g&63;m||(D=64,c||(w=64)),s.push(n[_],n[T],n[w],n[D])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const T=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new bN;const w=l<<2|d>>4;if(s.push(w),g!==64){const D=d<<4&240|g>>2;if(s.push(D),T!==64){const z=g<<6&192|T;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AN=function(t){const e=_S(t);return vS.encodeByteArray(e,!0)},mf=function(t){return AN(t).replace(/\./g,"")},ES=function(t){try{return vS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>RN().__FIREBASE_DEFAULTS__,IN=()=>{if(typeof process>"u"||typeof PT>"u")return;const t=PT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ES(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return wN()||CN()||IN()||DN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TS=t=>Gf()?.emulatorHosts?.[t],NN=t=>{const e=TS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},wS=()=>Gf()?.config,SS=t=>Gf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mf(JSON.stringify(n)),mf(JSON.stringify(c)),""].join(".")}const Lu={};function MN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function PN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let LT=!1;function AS(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Lu[t]===e||Lu[t]||LT)return;Lu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=MN().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{LT=!0,c()},w}function _(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=PN(s),D=n("text"),z=document.getElementById(D)||document.createElement("span"),j=n("learnmore"),U=document.getElementById(j)||document.createElement("a"),W=n("preprendIcon"),oe=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const X=w.element;d(X),_(U,j);const he=g();m(oe,W),X.append(oe,z,U,he),document.body.appendChild(X)}l?(z.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function VN(){const t=Gf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jN(){const t=In();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zN(){return!VN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CS(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function BN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="FirebaseError";class Jr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FN,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?HN(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Jr(a,d,s)}}function HN(t,e){return t.replace(qN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const qN=/\{\$([^}]+)}/g;function GN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(VT(l)&&VT(c)){if(!Ks(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function VT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Du(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Nu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KN(t,e){const n=new YN(t,e);return n.subscribe.bind(n)}class YN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=wp),a.error===void 0&&(a.error=wp),a.complete===void 0&&(a.complete=wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=1e3,QN=2,XN=14400*1e3,ZN=.5;function kT(t,e=$N,n=QN){const s=e*Math.pow(n,t),a=Math.round(ZN*s*(Math.random()-.5)*2);return Math.min(XN,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new xN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tx(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ex(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ex(t){return t===za?void 0:t}function tx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const rx={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},ix=Je.INFO,sx={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},ax=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=sx[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kf{constructor(e){this.name=e,this._logLevel=ix,this._logHandler=ax,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const ox=(t,e)=>e.some(n=>t instanceof n);let UT,jT;function lx(){return UT||(UT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ux(){return jT||(jT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DS=new WeakMap,Xp=new WeakMap,NS=new WeakMap,Sp=new WeakMap,Vg=new WeakMap;function cx(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(zs(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&DS.set(n,t)}).catch(()=>{}),Vg.set(e,t),e}function hx(t){if(Xp.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Xp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fx(t){Zp=t(Zp)}function dx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(bp(this),e,...n);return NS.set(s,e.sort?e.sort():[e]),zs(s)}:ux().includes(t)?function(...e){return t.apply(bp(this),e),zs(DS.get(this))}:function(...e){return zs(t.apply(bp(this),e))}}function mx(t){return typeof t=="function"?dx(t):(t instanceof IDBTransaction&&hx(t),ox(t,lx())?new Proxy(t,Zp):t)}function zs(t){if(t instanceof IDBRequest)return cx(t);if(Sp.has(t))return Sp.get(t);const e=mx(t);return e!==t&&(Sp.set(t,e),Vg.set(e,t)),e}const bp=t=>Vg.get(t);function xS(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=zs(c);return s&&c.addEventListener("upgradeneeded",m=>{s(zs(c.result),m.oldVersion,m.newVersion,zs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const px=["get","getKey","getAll","getAllKeys","count"],gx=["put","add","delete","clear"],Ap=new Map;function zT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=gx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||px.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Ap.set(e,l),l}fx(t=>({...t,get:(e,n,s)=>zT(e,n)||t.get(e,n,s),has:(e,n)=>!!zT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_x(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _x(t){return t.getComponent()?.type==="VERSION"}const Jp="@firebase/app",BT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Kf("@firebase/app"),vx="@firebase/app-compat",Ex="@firebase/analytics-compat",Tx="@firebase/analytics",wx="@firebase/app-check-compat",Sx="@firebase/app-check",bx="@firebase/auth",Ax="@firebase/auth-compat",Rx="@firebase/database",Cx="@firebase/data-connect",Ix="@firebase/database-compat",Dx="@firebase/functions",Nx="@firebase/functions-compat",xx="@firebase/installations",Ox="@firebase/installations-compat",Mx="@firebase/messaging",Px="@firebase/messaging-compat",Lx="@firebase/performance",Vx="@firebase/performance-compat",kx="@firebase/remote-config",Ux="@firebase/remote-config-compat",jx="@firebase/storage",zx="@firebase/storage-compat",Bx="@firebase/firestore",Fx="@firebase/ai",Hx="@firebase/firestore-compat",qx="firebase",Gx="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",Kx={[Jp]:"fire-core",[vx]:"fire-core-compat",[Tx]:"fire-analytics",[Ex]:"fire-analytics-compat",[Sx]:"fire-app-check",[wx]:"fire-app-check-compat",[bx]:"fire-auth",[Ax]:"fire-auth-compat",[Rx]:"fire-rtdb",[Cx]:"fire-data-connect",[Ix]:"fire-rtdb-compat",[Dx]:"fire-fn",[Nx]:"fire-fn-compat",[xx]:"fire-iid",[Ox]:"fire-iid-compat",[Mx]:"fire-fcm",[Px]:"fire-fcm-compat",[Lx]:"fire-perf",[Vx]:"fire-perf-compat",[kx]:"fire-rc",[Ux]:"fire-rc-compat",[jx]:"fire-gcs",[zx]:"fire-gcs-compat",[Bx]:"fire-fst",[Hx]:"fire-fst-compat",[Fx]:"fire-vertex","fire-js":"fire-js",[qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Map,Yx=new Map,tg=new Map;function FT(t,e){try{t.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){const e=t.name;if(tg.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const n of pf.values())FT(n,t);for(const n of Yx.values())FT(n,t);return!0}function no(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new to("app","Firebase",Wx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=Gx;function OS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:eg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(n||(n=wS()),!n)throw Bs.create("no-options");const l=pf.get(a);if(l){if(Ks(n,l.options)&&Ks(s,l.config))return l;throw Bs.create("duplicate-app",{appName:a})}const c=new nx(a);for(const m of tg.values())c.addComponent(m);const d=new $x(n,s,c);return pf.set(a,d),d}function kg(t=eg){const e=pf.get(t);if(!e&&t===eg&&wS())return OS();if(!e)throw Bs.create("no-app",{appName:t});return e}function Dr(t,e,n){let s=Kx[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(c.join(" "));return}yi(new Qr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="firebase-heartbeat-database",Xx=1,Wu="firebase-heartbeat-store";let Rp=null;function MS(){return Rp||(Rp=xS(Qx,Xx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function Zx(t){try{const n=(await MS()).transaction(Wu),s=await n.objectStore(Wu).get(PS(t));return await n.done,s}catch(e){if(e instanceof Jr)Qi.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function HT(t,e){try{const s=(await MS()).transaction(Wu,"readwrite");await s.objectStore(Wu).put(e,PS(t)),await s.done}catch(n){if(n instanceof Jr)Qi.warn(n.message);else{const s=Bs.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(s.message)}}}function PS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=1024,e2=30;class t2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>e2){const a=i2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qT(),{heartbeatsToSend:n,unsentEntries:s}=n2(this._heartbeatsCache.heartbeats),a=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qi.warn(e),""}}}function qT(){return new Date().toISOString().substring(0,10)}function n2(t,e=Jx){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),GT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),GT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class r2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CS()?IS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function GT(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}function i2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){yi(new Qr("platform-logger",e=>new yx(e),"PRIVATE")),yi(new Qr("heartbeat",e=>new t2(e),"PRIVATE")),Dr(Jp,BT,t),Dr(Jp,BT,"esm2020"),Dr("fire-js","")}s2("");var a2="firebase",o2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(a2,o2,"app");const LS="@firebase/installations",Ug="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1e4,kS=`w:${Ug}`,US="FIS_v2",l2="https://firebaseinstallations.googleapis.com/v1",u2=3600*1e3,c2="installations",h2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ya=new to(c2,h2,f2);function jS(t){return t instanceof Jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS({projectId:t}){return`${l2}/projects/${t}/installations`}function BS(t){return{token:t.token,requestStatus:2,expiresIn:m2(t.expiresIn),creationTime:Date.now()}}async function FS(t,e){const s=(await e.json()).error;return Ya.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function HS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function d2(t,{refreshToken:e}){const n=HS(t);return n.append("Authorization",p2(e)),n}async function qS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function m2(t){return Number(t.replace("s","000"))}function p2(t){return`${US} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=zS(t),a=HS(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:n,authVersion:US,appId:t.appId,sdkVersion:kS},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await qS(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:BS(g.authToken)}}else throw await FS("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^[cdef][\w-]{21}$/,ng="";function v2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=E2(t);return _2.test(n)?n:ng}catch{return ng}}function E2(t){return y2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Map;function YS(t,e){const n=Yf(t);WS(n,e),T2(n,e)}function WS(t,e){const n=KS.get(t);if(n)for(const s of n)s(e)}function T2(t,e){const n=w2();n&&n.postMessage({key:t,fid:e}),S2()}let Fa=null;function w2(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=t=>{WS(t.data.key,t.data.fid)}),Fa}function S2(){KS.size===0&&Fa&&(Fa.close(),Fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="firebase-installations-database",A2=1,Wa="firebase-installations-store";let Cp=null;function jg(){return Cp||(Cp=xS(b2,A2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wa)}}})),Cp}async function gf(t,e){const n=Yf(t),a=(await jg()).transaction(Wa,"readwrite"),l=a.objectStore(Wa),c=await l.get(n);return await l.put(e,n),await a.done,(!c||c.fid!==e.fid)&&YS(t,e.fid),e}async function $S(t){const e=Yf(t),s=(await jg()).transaction(Wa,"readwrite");await s.objectStore(Wa).delete(e),await s.done}async function Wf(t,e){const n=Yf(t),a=(await jg()).transaction(Wa,"readwrite"),l=a.objectStore(Wa),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await a.done,d&&(!c||c.fid!==d.fid)&&YS(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(t){let e;const n=await Wf(t.appConfig,s=>{const a=R2(s),l=C2(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===ng?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function R2(t){const e=t||{fid:v2(),registrationStatus:0};return QS(e)}function C2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ya.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=I2(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:D2(t)}:{installationEntry:e}}async function I2(t,e){try{const n=await g2(t,e);return gf(t.appConfig,n)}catch(n){throw jS(n)&&n.customData.serverCode===409?await $S(t.appConfig):await gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function D2(t){let e=await KT(t.appConfig);for(;e.registrationStatus===1;)await GS(100),e=await KT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await zg(t);return s||n}return e}function KT(t){return Wf(t,e=>{if(!e)throw Ya.create("installation-not-found");return QS(e)})}function QS(t){return N2(t)?{fid:t.fid,registrationStatus:0}:t}function N2(t){return t.registrationStatus===1&&t.registrationTime+VS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2({appConfig:t,heartbeatServiceProvider:e},n){const s=O2(t,n),a=d2(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:kS,appId:t.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},m=await qS(()=>fetch(s,d));if(m.ok){const g=await m.json();return BS(g)}else throw await FS("Generate Auth Token",m)}function O2(t,{fid:e}){return`${zS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e=!1){let n;const s=await Wf(t.appConfig,l=>{if(!XS(l))throw Ya.create("not-registered");const c=l.authToken;if(!e&&L2(c))return l;if(c.requestStatus===1)return n=M2(t,e),l;{if(!navigator.onLine)throw Ya.create("app-offline");const d=k2(l);return n=P2(t,d),d}});return n?await n:s.authToken}async function M2(t,e){let n=await YT(t.appConfig);for(;n.authToken.requestStatus===1;)await GS(100),n=await YT(t.appConfig);const s=n.authToken;return s.requestStatus===0?Bg(t,e):s}function YT(t){return Wf(t,e=>{if(!XS(e))throw Ya.create("not-registered");const n=e.authToken;return U2(n)?{...e,authToken:{requestStatus:0}}:e})}async function P2(t,e){try{const n=await x2(t,e),s={...e,authToken:n};return await gf(t.appConfig,s),n}catch(n){if(jS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $S(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await gf(t.appConfig,s)}throw n}}function XS(t){return t!==void 0&&t.registrationStatus===2}function L2(t){return t.requestStatus===2&&!V2(t)}function V2(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+u2}function k2(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function U2(t){return t.requestStatus===1&&t.requestTime+VS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t){const e=t,{installationEntry:n,registrationPromise:s}=await zg(e);return s?s.catch(console.error):Bg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e=!1){const n=t;return await B2(n),(await Bg(n,e)).token}async function B2(t){const{registrationPromise:e}=await zg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){if(!t||!t.options)throw Ip("App Configuration");if(!t.name)throw Ip("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ip(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ip(t){return Ya.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="installations",H2="installations-internal",q2=t=>{const e=t.getProvider("app").getImmediate(),n=F2(e),s=no(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},G2=t=>{const e=t.getProvider("app").getImmediate(),n=no(e,ZS).getImmediate();return{getId:()=>j2(n),getToken:a=>z2(n,a)}};function K2(){yi(new Qr(ZS,q2,"PUBLIC")),yi(new Qr(H2,G2,"PRIVATE"))}K2();Dr(LS,Ug);Dr(LS,Ug,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="analytics",Y2="firebase_id",W2="origin",$2=60*1e3,Q2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new Kf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fr=new to("analytics","Analytics",X2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){if(!t.startsWith(Fg)){const e=fr.create("invalid-gtag-resource",{gtagURL:t});return Gn.warn(e.message),""}return t}function JS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function J2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eO(t,e){const n=J2("firebase-js-sdk-policy",{createScriptURL:Z2}),s=document.createElement("script"),a=`${Fg}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function tO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nO(t,e,n,s,a,l){const c=s[a];try{if(c)await e[c];else{const m=(await JS(n)).find(g=>g.measurementId===a);m&&await e[m.appId]}}catch(d){Gn.error(d)}t("config",a,l)}async function rO(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await JS(n);for(const m of c){const g=d.find(T=>T.measurementId===m),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Gn.error(l)}}function iO(t,e,n,s){async function a(l,...c){try{if(l==="event"){const[d,m]=c;await rO(t,e,n,d,m)}else if(l==="config"){const[d,m]=c;await nO(t,e,n,s,d,m)}else if(l==="consent"){const[d,m]=c;t("consent",d,m)}else if(l==="get"){const[d,m,g]=c;t("get",d,m,g)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){Gn.error(d)}}return a}function sO(t,e,n,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=iO(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function aO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Fg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=30,lO=1e3;class uO{constructor(e={},n=lO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eb=new uO;function cO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function hO(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:cO(n)},a=Q2.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function fO(t,e=eb,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw fr.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw fr.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new pO;return setTimeout(async()=>{d.abort()},$2),tb({appId:s,apiKey:a,measurementId:l},c,d,e)}async function tb(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=eb){const{appId:l,measurementId:c}=t;try{await dO(s,e)}catch(d){if(c)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await hO(t);return a.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!mO(m)){if(a.deleteThrottleMetadata(l),c)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?kT(n,a.intervalMillis,oO):kT(n,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return a.setThrottleMetadata(l,_),Gn.debug(`Calling attemptFetch again in ${g} millis`),tb(t,_,s,a)}}function dO(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mO(t){if(!(t instanceof Jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class pO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gO(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,c={...s,send_to:l};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(){if(CS())try{await IS()}catch(t){return Gn.warn(fr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Gn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _O(t,e,n,s,a,l,c){const d=fO(t);d.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Gn.error(w)),e.push(d);const m=yO().then(w=>{if(w)return s.getId()}),[g,_]=await Promise.all([d,m]);aO(l)||eO(l,g.measurementId),a("js",new Date);const T=c?.config??{};return T[W2]="firebase",T.update=!0,_!=null&&(T[Y2]=_),a("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.app=e}_delete(){return delete Vu[this.app.options.appId],Promise.resolve()}}let Vu={},WT=[];const $T={};let Dp="dataLayer",EO="gtag",QT,nb,XT=!1;function TO(){const t=[];if(RS()&&t.push("This is a browser extension environment."),BN()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=fr.create("invalid-analytics-context",{errorInfo:e});Gn.warn(n.message)}}function wO(t,e,n){TO();const s=t.options.appId;if(!s)throw fr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fr.create("no-api-key");if(Vu[s]!=null)throw fr.create("already-exists",{id:s});if(!XT){tO(Dp);const{wrappedGtag:l,gtagCore:c}=sO(Vu,WT,$T,Dp,EO);nb=l,QT=c,XT=!0}return Vu[s]=_O(t,WT,$T,e,QT,Dp,n),new vO(t)}function SO(t=kg()){t=un(t);const e=no(t,yf);return e.isInitialized()?e.getImmediate():bO(t)}function bO(t,e={}){const n=no(t,yf);if(n.isInitialized()){const a=n.getImmediate();if(Ks(e,n.getOptions()))return a;throw fr.create("already-initialized")}return n.initialize({options:e})}function AO(t,e,n,s){t=un(t),gO(nb,Vu[t.app.options.appId],e,n,s).catch(a=>Gn.error(a))}const ZT="@firebase/analytics",JT="0.10.18";function RO(){yi(new Qr(yf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return wO(s,a,n)},"PUBLIC")),yi(new Qr("analytics-internal",t,"PRIVATE")),Dr(ZT,JT),Dr(ZT,JT,"esm2020");function t(e){try{const n=e.getProvider(yf).getImmediate();return{logEvent:(s,a,l)=>AO(n,s,a,l)}}catch(n){throw fr.create("interop-component-reg-failed",{reason:n})}}}RO();var ew=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,rb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function C(){}C.prototype=R.prototype,N.F=R.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(L,V,B){for(var I=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)I[Ve-2]=arguments[Ve];return R.prototype[V].apply(L,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)L[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;V<16;++V)L[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=N.g[0],C=N.g[1],V=N.g[2];let B=N.g[3],I;I=R+(B^C&(V^B))+L[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+L[1]+3905402710&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+L[2]+606105819&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+L[3]+3250441966&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(B^C&(V^B))+L[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+L[5]+1200080426&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+L[6]+2821735955&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+L[7]+4249261313&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(B^C&(V^B))+L[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+L[9]+2336552879&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+L[10]+4294925233&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+L[11]+2304563134&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(B^C&(V^B))+L[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=B+(V^R&(C^V))+L[13]+4254626195&4294967295,B=R+(I<<12&4294967295|I>>>20),I=V+(C^B&(R^C))+L[14]+2792965006&4294967295,V=B+(I<<17&4294967295|I>>>15),I=C+(R^V&(B^R))+L[15]+1236535329&4294967295,C=V+(I<<22&4294967295|I>>>10),I=R+(V^B&(C^V))+L[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+L[6]+3225465664&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+L[11]+643717713&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+L[0]+3921069994&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(V^B&(C^V))+L[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+L[10]+38016083&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+L[15]+3634488961&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+L[4]+3889429448&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(V^B&(C^V))+L[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+L[14]+3275163606&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+L[3]+4107603335&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+L[8]+1163531501&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(V^B&(C^V))+L[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=B+(C^V&(R^C))+L[2]+4243563512&4294967295,B=R+(I<<9&4294967295|I>>>23),I=V+(R^C&(B^R))+L[7]+1735328473&4294967295,V=B+(I<<14&4294967295|I>>>18),I=C+(B^R&(V^B))+L[12]+2368359562&4294967295,C=V+(I<<20&4294967295|I>>>12),I=R+(C^V^B)+L[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+L[8]+2272392833&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+L[11]+1839030562&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+L[14]+4259657740&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(C^V^B)+L[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+L[4]+1272893353&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+L[7]+4139469664&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+L[10]+3200236656&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(C^V^B)+L[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+L[0]+3936430074&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+L[3]+3572445317&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+L[6]+76029189&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(C^V^B)+L[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=B+(R^C^V)+L[12]+3873151461&4294967295,B=R+(I<<11&4294967295|I>>>21),I=V+(B^R^C)+L[15]+530742520&4294967295,V=B+(I<<16&4294967295|I>>>16),I=C+(V^B^R)+L[2]+3299628645&4294967295,C=V+(I<<23&4294967295|I>>>9),I=R+(V^(C|~B))+L[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+L[7]+1126891415&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+L[14]+2878612391&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+L[5]+4237533241&4294967295,C=V+(I<<21&4294967295|I>>>11),I=R+(V^(C|~B))+L[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+L[3]+2399980690&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+L[10]+4293915773&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+L[1]+2240044497&4294967295,C=V+(I<<21&4294967295|I>>>11),I=R+(V^(C|~B))+L[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+L[15]+4264355552&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+L[6]+2734768916&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+L[13]+1309151649&4294967295,C=V+(I<<21&4294967295|I>>>11),I=R+(V^(C|~B))+L[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=B+(C^(R|~V))+L[11]+3174756917&4294967295,B=R+(I<<10&4294967295|I>>>22),I=V+(R^(B|~C))+L[2]+718787259&4294967295,V=B+(I<<15&4294967295|I>>>17),I=C+(B^(V|~R))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const C=R-this.blockSize,L=this.C;let V=this.h,B=0;for(;B<R;){if(V==0)for(;B<=C;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<R;)if(L[V++]=N.charCodeAt(B++),V==this.blockSize){a(this,L),V=0;break}}else for(;B<R;)if(L[V++]=N[B++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)N[R++]=this.g[C]>>>L&255;return N};function l(N,R){var C=d;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=R(N)}function c(N,R){this.h=R;const C=[];let L=!0;for(let V=N.length-1;V>=0;V--){const B=N[V]|0;L&&B==R||(C[V]=B,L=!1)}this.g=C}var d={};function m(N){return-128<=N&&N<128?l(N,function(R){return new c([R|0],R<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return U(g(-N));const R=[];let C=1;for(let L=0;N>=C;L++)R[L]=N/C|0,C*=4294967296;return new c(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return U(_(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let L=T;for(let B=0;B<N.length;B+=8){var V=Math.min(8,N.length-B);const I=parseInt(N.substring(B,B+V),R);V<8?(V=g(Math.pow(R,V)),L=L.j(V).add(g(I))):(L=L.j(C),L=L.add(g(I)))}return L}var T=m(0),w=m(1),D=m(16777216);t=c.prototype,t.m=function(){if(j(this))return-U(this).m();let N=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);N+=(L>=0?L:4294967296+L)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(z(this))return"0";if(j(this))return"-"+U(this).toString(N);const R=g(Math.pow(N,6));var C=this;let L="";for(;;){const V=he(C,R).g;C=W(C,V.j(R));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=V,z(C))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function z(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function j(N){return N.h==-1}t.l=function(N){return N=W(this,N),j(N)?-1:z(N)?0:1};function U(N){const R=N.g.length,C=[];for(let L=0;L<R;L++)C[L]=~N.g[L];return new c(C,~N.h).add(w)}t.abs=function(){return j(this)?U(this):this},t.add=function(N){const R=Math.max(this.g.length,N.g.length),C=[];let L=0;for(let V=0;V<=R;V++){let B=L+(this.i(V)&65535)+(N.i(V)&65535),I=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);L=I>>>16,B&=65535,I&=65535,C[V]=I<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function W(N,R){return N.add(U(R))}t.j=function(N){if(z(this)||z(N))return T;if(j(this))return j(N)?U(this).j(U(N)):U(U(this).j(N));if(j(N))return U(this.j(U(N)));if(this.l(D)<0&&N.l(D)<0)return g(this.m()*N.m());const R=this.g.length+N.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<N.g.length;V++){const B=this.i(L)>>>16,I=this.i(L)&65535,Ve=N.i(V)>>>16,$e=N.i(V)&65535;C[2*L+2*V]+=I*$e,oe(C,2*L+2*V),C[2*L+2*V+1]+=B*$e,oe(C,2*L+2*V+1),C[2*L+2*V+1]+=I*Ve,oe(C,2*L+2*V+1),C[2*L+2*V+2]+=B*Ve,oe(C,2*L+2*V+2)}for(N=0;N<R;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=R;N<2*R;N++)C[N]=0;return new c(C,0)};function oe(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function X(N,R){this.g=N,this.h=R}function he(N,R){if(z(R))throw Error("division by zero");if(z(N))return new X(T,T);if(j(N))return R=he(U(N),R),new X(U(R.g),U(R.h));if(j(R))return R=he(N,U(R)),new X(U(R.g),R.h);if(N.g.length>30){if(j(N)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=R;L.l(N)<=0;)C=le(C),L=le(L);var V=P(C,1),B=P(L,1);for(L=P(L,2),C=P(C,2);!z(L);){var I=B.add(L);I.l(N)<=0&&(V=V.add(C),B=I),L=P(L,1),C=P(C,1)}return R=W(N,V.j(R)),new X(V,R)}for(V=T;N.l(R)>=0;){for(C=Math.max(1,Math.floor(N.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=g(C),I=B.j(R);j(I)||I.l(N)>0;)C-=L,B=g(C),I=B.j(R);z(B)&&(B=w),V=V.add(B),N=W(N,I)}return new X(V,N)}t.B=function(N){return he(this,N).h},t.and=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&N.i(L);return new c(C,this.h&N.h)},t.or=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|N.i(L);return new c(C,this.h|N.h)},t.xor=function(N){const R=Math.max(this.g.length,N.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^N.i(L);return new c(C,this.h^N.h)};function le(N){const R=N.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(C,N.h)}function P(N,R){const C=R>>5;R%=32;const L=N.g.length-C,V=[];for(let B=0;B<L;B++)V[B]=R>0?N.i(B+C)>>>R|N.i(B+C+1)<<32-R:N.i(B+C);return new c(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,rb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Fs=c}).apply(typeof ew<"u"?ew:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ib,xu,sb,Wh,rg,ab,ob,lb;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function a(h,y){if(y)e:{var v=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var K=h[b];if(!(K in v))break e;v=v[K]}h=h[h.length-1],b=v[h],y=y(b),y!=b&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=m,g.apply(null,arguments)}function _(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(b,K,ee){for(var me=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)me[Be-2]=arguments[Be];return y.prototype[K].apply(b,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=h[b];return v}return[]}function z(h,y){for(let b=1;b<arguments.length;b++){const K=arguments[b];var v=typeof K;if(v=v!="object"?v:K?Array.isArray(K)?"array":v:"null",v=="array"||v=="object"&&typeof K.length=="number"){v=h.length||0;const ee=K.length||0;h.length=v+ee;for(let me=0;me<ee;me++)h[v+me]=K[me]}else h.push(K)}}class j{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function W(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class oe{constructor(){this.h=this.g=null}add(y,v){const b=X.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var X=new j(()=>new he,h=>h.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,P=!1,N=new oe,R=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(C)}};function C(){for(var h;h=W();){try{h.h.call(h.g)}catch(v){U(v)}var y=X;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}P=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h}();function I(h){return/^[\s\xa0]*$/.test(h)}function Ve(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ve,V),Ve.prototype.init=function(h,y){const v=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),$=0;function fe(h,y,v,b,K){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=K,this.key=++$,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,y,v){for(const b in h)y.call(v,h[b],b,h)}function M(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function ne(h){const y={};for(const v in h)y[v]=h[v];return y}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,y){let v,b;for(let K=1;K<arguments.length;K++){b=arguments[K];for(v in b)h[v]=b[v];for(let ee=0;ee<pe.length;ee++)v=pe[ee],Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,y,v,b,K){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const me=De(h,y,b,K);return me>-1?(y=h[me],v||(y.fa=!1)):(y=new fe(y,this.src,ee,!!b,K),y.fa=v,h.push(y)),y};function qe(h,y){const v=y.type;if(v in h.g){var b=h.g[v],K=Array.prototype.indexOf.call(b,y,void 0),ee;(ee=K>=0)&&Array.prototype.splice.call(b,K,1),ee&&(ge(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function De(h,y,v,b){for(let K=0;K<h.length;++K){const ee=h[K];if(!ee.da&&ee.listener==y&&ee.capture==!!v&&ee.ha==b)return K}return-1}var Wt="closure_lm_"+(Math.random()*1e6|0),ot={};function Kn(h,y,v,b,K){if(Array.isArray(y)){for(let ee=0;ee<y.length;ee++)Kn(h,y[ee],v,b,K);return null}return v=ao(v),h&&h[$e]?h.J(y,v,d(b)?!!b.capture:!1,K):Mt(h,y,v,!1,b,K)}function Mt(h,y,v,b,K,ee){if(!y)throw Error("Invalid event type");const me=d(K)?!!K.capture:!!K;let Be=ia(h);if(Be||(h[Wt]=Be=new Ee(h)),v=Be.add(y,v,b,me,ee),v.proxy)return v;if(b=Yn(),v.proxy=b,b.src=h,b.listener=v,h.addEventListener)B||(K=me),K===void 0&&(K=!1),h.addEventListener(y.toString(),b,K);else if(h.attachEvent)h.attachEvent(kn(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Yn(){function h(v){return y.call(h.src,h.listener,v)}const y=vl;return h}function Ei(h,y,v,b,K){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)Ei(h,y[ee],v,b,K);else b=d(b)?!!b.capture:!!b,v=ao(v),h&&h[$e]?(h=h.i,ee=String(y).toString(),ee in h.g&&(y=h.g[ee],v=De(y,v,b,K),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[ee],h.h--)))):h&&(h=ia(h))&&(y=h.g[y.toString()],h=-1,y&&(h=De(y,v,b,K)),(v=h>-1?y[h]:null)&&Ti(v))}function Ti(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[$e])qe(y.i,h);else{var v=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(v,b,h.capture):y.detachEvent?y.detachEvent(kn(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ia(y))?(qe(v,h),v.h==0&&(v.src=null,y[Wt]=null)):ge(h)}}}function kn(h){return h in ot?ot[h]:ot[h]="on"+h}function vl(h,y){if(h.da)h=!0;else{y=new Ve(y,this);const v=h.listener,b=h.ha||h.src;h.fa&&Ti(h),h=v.call(b,y)}return h}function ia(h){return h=h[Wt],h instanceof Ee?h:null}var cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ao(h){return typeof h=="function"?h:(h[cn]||(h[cn]=function(y){return h.handleEvent(y)}),h[cn])}function kt(){L.call(this),this.i=new Ee(this),this.M=this,this.G=null}T(kt,L),kt.prototype[$e]=!0,kt.prototype.removeEventListener=function(h,y,v,b){Ei(this,h,y,v,b)};function Ft(h,y){var v,b=h.G;if(b)for(v=[];b;b=b.G)v.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var K=y;y=new V(b,h),de(y,K)}K=!0;let ee,me;if(v)for(me=v.length-1;me>=0;me--)ee=y.g=v[me],K=Mr(ee,b,!0,y)&&K;if(ee=y.g=h,K=Mr(ee,b,!0,y)&&K,K=Mr(ee,b,!1,y)&&K,v)for(me=0;me<v.length;me++)ee=y.g=v[me],K=Mr(ee,b,!1,y)&&K}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let b=0;b<v.length;b++)ge(v[b]);delete h.g[y],h.h--}}this.G=null},kt.prototype.J=function(h,y,v,b){return this.i.add(String(h),y,!1,v,b)},kt.prototype.K=function(h,y,v,b){return this.i.add(String(h),y,!0,v,b)};function Mr(h,y,v,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let K=!0;for(let ee=0;ee<y.length;++ee){const me=y[ee];if(me&&!me.da&&me.capture==v){const Be=me.listener,St=me.ha||me.src;me.fa&&qe(h.i,me),K=Be.call(St,b)!==!1&&K}}return K&&!b.defaultPrevented}function Pr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Lr(h){h.g=Pr(()=>{h.g=null,h.i&&(h.i=!1,Lr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class oo extends L{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){L.call(this),this.h=h,this.g={}}T(Vr,L);var hn=[];function _t(h){je(h.g,function(y,v){this.g.hasOwnProperty(v)&&Ti(y)},h),h.g={}}Vr.prototype.N=function(){Vr.Z.N.call(this),_t(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=c.JSON.stringify,$t=c.JSON.parse,El=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Wn(){}function sa(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kr(){V.call(this,"d")}T(kr,V);function Qn(){V.call(this,"c")}T(Qn,V);var Nn={},Xn=null;function wi(){return Xn=Xn||new kt}Nn.Ia="serverreachability";function Si(h){V.call(this,Nn.Ia,h)}T(Si,V);function ei(h){const y=wi();Ft(y,new Si(y))}Nn.STAT_EVENT="statevent";function bi(h,y){V.call(this,Nn.STAT_EVENT,h),this.stat=y}T(bi,V);function Dt(h){const y=wi();Ft(y,new bi(y,h))}Nn.Ja="timingevent";function aa(h,y){V.call(this,Nn.Ja,h),this.size=y}T(aa,V);function Zn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function oa(h,y,v,b,K,ee){h.info(function(){if(h.g)if(ee){var me="",Be=ee.split("&");for(let ct=0;ct<Be.length;ct++){var St=Be[ct].split("=");if(St.length>1){const Ut=St[0];St=St[1];const tr=Ut.split("_");me=tr.length>=2&&tr[1]=="type"?me+(Ut+"="+St+"&"):me+(Ut+"=redacted&")}}}else me=null;else me=ee;return"XMLHTTP REQ ("+b+") [attempt "+K+"]: "+y+`
`+v+`
`+me})}function la(h,y,v,b,K,ee,me){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+K+"]: "+y+`
`+v+`
`+ee+" "+me})}function O(h,y,v,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+J(h,v)+(b?" "+b:"")})}function q(h,y){h.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function J(h,y){if(!h.g)return y;if(!y)return null;try{const ee=JSON.parse(y);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var v=ee[h];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var K=b[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<b.length;me++)b[me]=""}}}}return Dn(ee)}catch{return y}}var ie={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ve;function Se(){}T(Se,Wn),Se.prototype.g=function(){return new XMLHttpRequest},ve=new Se;function _e(h){return encodeURIComponent(String(h))}function Ce(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Re(h,y,v,b){this.j=h,this.i=y,this.l=v,this.S=b||1,this.V=new Vr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Ae={},ze={};function it(h,y,v){h.M=1,h.A=Ai(Nt(y)),h.u=v,h.R=!0,wt(h,null)}function wt(h,y){h.F=Date.now(),xn(h),h.B=Nt(h.A);var v=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Ec(v.i,"t",b),h.C=0,v=h.j.L,h.h=new Te,h.g=po(h.j,v?y:null,!h.u),h.P>0&&(h.O=new oo(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,b=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(hn[0]=K.toString()),K=hn);for(let ee=0;ee<K.length;ee++){const me=Kn(v,K[ee],b||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?ne(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),ei(),oa(h.i,h.v,h.B,h.l,h.S,h.u)}Re.prototype.ba=function(h){h=h.target;const y=this.O;y&&wn(h)==3?y.j():this.Y(h)},Re.prototype.Y=function(h){try{if(h==this.g)e:{const Be=wn(this.g),St=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||pa(this.g)))){this.K||Be!=4||St==7||(St==8||ct<=0?ei(3):ei(2)),Qt(this);var y=this.g.ca();this.X=y;var v=Rt(this);if(this.o=y==200,la(this.i,this.v,this.B,this.l,this.S,Be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,K=this.g;if((b=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var ee=b;break t}}ee=null}if(h=ee)O(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mr(this,h);else{this.o=!1,this.m=3,Dt(12),Un(this),nn(this);break e}}if(this.R){h=!0;let Ut;for(;!this.K&&this.C<v.length;)if(Ut=lt(this,v),Ut==ze){Be==4&&(this.m=4,Dt(14),h=!1),O(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Ae){this.m=4,Dt(15),O(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else O(this.i,this.l,Ut,null),mr(this,Ut);if(ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||v.length!=0||this.h.h||(this.m=1,Dt(16),h=!1),this.o=this.o&&h,!h)O(this.i,this.l,v,"[Invalid Chunked Response]"),Un(this),nn(this);else if(v.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Nl(me),me.P=!0,Dt(11))}}else O(this.i,this.l,v,null),mr(this,v);Be==4&&Un(this),this.o&&!this.K&&(Be==4?xl(this.j,this):(this.o=!1,xn(this)))}else ga(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),Un(this),nn(this)}}}catch{}finally{}};function Rt(h){if(!ke(h))return h.g.la();const y=pa(h.g);if(y==="")return"";let v="";const b=y.length,K=wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Un(h),nn(h),"";h.h.i=new c.TextDecoder}for(let ee=0;ee<b;ee++)h.h.h=!0,v+=h.h.i.decode(y[ee],{stream:!(K&&ee==b-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function ke(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function lt(h,y){var v=h.C,b=y.indexOf(`
`,v);return b==-1?ze:(v=Number(y.substring(v,b)),isNaN(v)?Ae:(b+=1,b+v>y.length?ze:(y=y.slice(b,b+v),h.C=b+v,y)))}Re.prototype.cancel=function(){this.K=!0,Un(this)};function xn(h){h.T=Date.now()+h.H,Tn(h,h.H)}function Tn(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Zn(g(h.aa,h),y)}function Qt(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Re.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(q(this.i,this.B),this.M!=2&&(ei(),Dt(17)),Un(this),this.m=2,nn(this)):Tn(this,this.T-h)};function nn(h){h.j.I==0||h.K||xl(h.j,h)}function Un(h){Qt(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,_t(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function mr(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Ct(v.h,h))){if(!h.L&&Ct(v.h,h)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var K=b;if(K[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)mo(v),ti(v);else break e;Dl(v),Dt(18)}}else v.xa=K[1],0<v.xa-v.K&&K[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Zn(g(v.Va,v),6e3));He(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((h.L||v.g==h)&&mo(v),!I(y))for(K=v.Ba.g.parse(y),y=0;y<K.length;y++){let ct=K[y];const Ut=ct[0];if(!(Ut<=v.K))if(v.K=Ut,ct=ct[1],v.I==2)if(ct[0]=="c"){v.M=ct[1],v.ba=ct[2];const tr=ct[3];tr!=null&&(v.ka=tr,v.j.info("VER="+v.ka));const ni=ct[4];ni!=null&&(v.za=ni,v.j.info("SVER="+v.za));const Fr=ct[5];Fr!=null&&typeof Fr=="number"&&Fr>0&&(b=1.5*Fr,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Hr=h.g;if(Hr){const qr=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var ee=b.h;ee.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(jr(ee,ee.h),ee.h=null))}if(b.G){const Ml=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(b.wa=Ml,dt(b.J,b.G,Ml))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var me=h;if(b.na=Dc(b,b.L?b.ba:null,b.W),me.L){On(b.h,me);var Be=me,St=b.O;St&&(Be.H=St),Be.D&&(Qt(Be),xn(Be)),b.g=me}else Ac(b);v.i.length>0&&Ea(v)}else ct[0]!="stop"&&ct[0]!="close"||Ii(v,7);else v.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ii(v,7):_a(v):ct[0]!="noop"&&v.l&&v.l.qa(ct),v.A=0)}}ei(4)}catch{}}var Ur=class{constructor(h,y){this.g=h,this.map=y}};function pr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function He(h){return h.h?1:h.g?h.g.size:0}function Ct(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function jr(h,y){h.g?h.g.add(y):h.h=y}function On(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}pr.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vt(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return D(h.i)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lo(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const b=h[v].indexOf("=");let K,ee=null;b>=0?(K=h[v].substring(0,b),ee=h[v].substring(b+1)):K=h[v],y(K,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function er(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof er?(this.l=h.l,rs(this,h.j),this.o=h.o,this.g=h.g,ua(this,h.u),this.h=h.h,is(this,Tc(h.i)),this.m=h.m):h&&(y=String(h).match(zr))?(this.l=!1,rs(this,y[1]||"",!0),this.o=ca(y[2]||""),this.g=ca(y[3]||"",!0),ua(this,y[4]),this.h=ca(y[5]||"",!0),is(this,y[6]||"",!0),this.m=ca(y[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}er.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(rn(y,wl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(rn(y,wl,!0),"@"),h.push(_e(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(rn(v,v.charAt(0)=="/"?ss:Sl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",rn(v,vc)),h.join("")},er.prototype.resolve=function(h){const y=Nt(this);let v=!!h.j;v?rs(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var b=h.h;if(v)ua(y,h.u);else if(v=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var K=y.h.lastIndexOf("/");K!=-1&&(b=y.h.slice(0,K+1)+b)}if(K=b,K==".."||K==".")b="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){b=K.lastIndexOf("/",0)==0,K=K.split("/");const ee=[];for(let me=0;me<K.length;){const Be=K[me++];Be=="."?b&&me==K.length&&ee.push(""):Be==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),b&&me==K.length&&ee.push("")):(ee.push(Be),b=!0)}b=ee.join("/")}else b=K}return v?y.h=b:v=h.i.toString()!=="",v?is(y,Tc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Nt(h){return new er(h)}function rs(h,y,v){h.j=v?ca(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ua(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function is(h,y,v){y instanceof yr?(h.i=y,Rl(h.i,h.l)):(v||(y=rn(y,_c)),h.i=new yr(y,h.l))}function dt(h,y,v){h.i.set(y,v)}function Ai(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ca(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rn(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Tl),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wl=/[#\/\?@]/g,Sl=/[#\?:]/g,ss=/[#\?]/g,_c=/[#\?@]/g,vc=/#/g;function yr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ri(h){h.g||(h.g=new Map,h.h=0,h.i&&lo(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}t=yr.prototype,t.add=function(h,y){Ri(this),this.i=null,h=Br(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function bl(h,y){Ri(h),y=Br(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Al(h,y){return Ri(h),y=Br(h,y),h.g.has(y)}t.forEach=function(h,y){Ri(this),this.g.forEach(function(v,b){v.forEach(function(K){h.call(y,K,b,this)},this)},this)};function uo(h,y){Ri(h);let v=[];if(typeof y=="string")Al(h,y)&&(v=v.concat(h.g.get(Br(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}t.set=function(h,y){return Ri(this),this.i=null,h=Br(this,h),Al(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=uo(this,h),h.length>0?String(h[0]):y):y};function Ec(h,y,v){bl(h,y),v.length>0&&(h.i=null,h.g.set(Br(h,y),D(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const K=_e(v);v=uo(this,v);for(let ee=0;ee<v.length;ee++){let me=K;v[ee]!==""&&(me+="="+_e(v[ee])),h.push(me)}}return this.i=h.join("&")};function Tc(h){const y=new yr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Br(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Rl(h,y){y&&!h.j&&(Ri(h),h.i=null,h.g.forEach(function(v,b){const K=b.toLowerCase();b!=K&&(bl(this,b),Ec(this,K,v))},h)),h.j=y}function Cl(h,y){const v=new Jn;if(c.Image){const b=new Image;b.onload=_(Mn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Mn,v,"TestLoadImage: error",!1,y,b),b.onabort=_(Mn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Mn,v,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function as(h,y){const v=new Jn,b=new AbortController,K=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(ee=>{clearTimeout(K),ee.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),Mn(v,"TestPingServer: error",!1,y)})}function Mn(h,y,v,b,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),b(v)}catch{}}function wc(){this.g=new El}function ha(h){this.i=h.Sb||null,this.h=h.ab||!1}T(ha,Wn),ha.prototype.g=function(){return new fa(this.i,this.h)};function fa(h,y){kt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(fa,kt),t=fa.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ci(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;os(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function os(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Pn(this):Ci(this),this.readyState==3&&os(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Pn(this))},t.Na=function(h){this.g&&(this.response=h,Pn(this))},t.ga=function(){this.g&&Pn(this)};function Pn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ci(h)}t.setRequestHeader=function(h,y){this.A.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function Ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ls(h){let y="";return je(h,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function _r(h,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=ls(v),typeof h=="string"?v!=null&&_e(v):dt(h,y,v))}function Et(h){kt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Et,kt);var co=/^https?$/i,Sc=["POST","PUT"];t=Et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ve.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ee){da(this,ee);return}if(h=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var K in b)v.set(K,b[K]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const ee of b.keys())v.set(ee,b.get(ee));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(ee=>ee.toLowerCase()=="content-type"),K=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Sc,y,void 0)>=0)||b||K||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of v)this.g.setRequestHeader(ee,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){da(this,ee)}};function da(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ma(h),Xt(h)}function ma(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),Xt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(h){if(h.h&&typeof l<"u"){if(h.v&&wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),wn(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=ee===0){let me=String(h.D).match(zr)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),b=!co.test(me?me.toLowerCase():"")}v=b}if(v)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var K=wn(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",ma(h)}}finally{Xt(h)}}}}function Xt(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Ft(h,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wn(h){return h.g?h.g.readyState:0}t.ca=function(){try{return wn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),$t(y)}};function pa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ga(h){const y={};h=(h.g&&wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(I(h[b]))continue;var v=Ce(h[b]);const K=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const ee=y[K]||[];y[K]=ee,ee.push(v)}M(y,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function ho(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ya("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ya("baseRetryDelayMs",5e3,h),this.Za=ya("retryDelaySeedMs",1e4,h),this.Ta=ya("forwardChannelMaxRetries",2,h),this.va=ya("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new pr(h&&h.concurrentRequestLimit),this.Ba=new wc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ho.prototype,t.ka=8,t.I=1,t.connect=function(h,y,v,b){Dt(0),this.W=h,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Dc(this,null,this.W),Ea(this)};function _a(h){if(va(h),h.I==3){var y=h.V++,v=Nt(h.J);if(dt(v,"SID",h.M),dt(v,"RID",y),dt(v,"TYPE","terminate"),Ta(h,v),y=new Re(h,h.j,y),y.M=2,y.A=Ai(Nt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=po(y.j,null),y.g.ea(y.A)),y.F=Date.now(),xn(y)}Ic(h)}function ti(h){h.g&&(Nl(h),h.g.cancel(),h.g=null)}function va(h){ti(h),h.v&&(c.clearTimeout(h.v),h.v=null),mo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ea(h){if(!gr(h.h)&&!h.m){h.m=!0;var y=h.Ea;le||R(),P||(le(),P=!0),N.add(y,h),h.D=0}}function pd(h,y){return He(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Zn(g(h.Ea,h,y),Cc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new Re(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=ne(ee),de(ee,this.U)):ee=this.U),this.u!==null||this.R||(K.J=ee,ee=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=fo(this,K,y),v=Nt(this.J),dt(v,"RID",h),dt(v,"CVER",22),this.G&&dt(v,"X-HTTP-Session-Id",this.G),Ta(this,v),ee&&(this.R?y="headers="+_e(ls(ee))+"&"+y:this.u&&_r(v,this.u,ee)),jr(this.h,K),this.Ra&&dt(v,"TYPE","init"),this.S?(dt(v,"$req",y),dt(v,"SID","null"),K.U=!0,it(K,v,null)):it(K,v,y),this.I=2}}else this.I==3&&(h?bc(this,h):this.i.length==0||gr(this.h)||bc(this))};function bc(h,y){var v;y?v=y.l:v=h.V++;const b=Nt(h.J);dt(b,"SID",h.M),dt(b,"RID",v),dt(b,"AID",h.K),Ta(h,b),h.u&&h.o&&_r(b,h.u,h.o),v=new Re(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=fo(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),jr(h.h,v),it(v,b,y)}function Ta(h,y){h.H&&je(h.H,function(v,b){dt(y,b,v)}),h.l&&je({},function(v,b){dt(y,b,v)})}function fo(h,y,v){v=Math.min(h.i.length,v);const b=h.l?g(h.l.Ka,h.l,h):null;e:{var K=h.i;let Be=-1;for(;;){const St=["count="+v];Be==-1?v>0?(Be=K[0].g,St.push("ofs="+Be)):Be=0:St.push("ofs="+Be);let ct=!0;for(let Ut=0;Ut<v;Ut++){var ee=K[Ut].g;const tr=K[Ut].map;if(ee-=Be,ee<0)Be=Math.max(0,K[Ut].g-100),ct=!1;else try{ee="req"+ee+"_"||"";try{var me=tr instanceof Map?tr:Object.entries(tr);for(const[ni,Fr]of me){let Hr=Fr;d(Fr)&&(Hr=Dn(Fr)),St.push(ee+ni+"="+encodeURIComponent(Hr))}}catch(ni){throw St.push(ee+"type="+encodeURIComponent("_badmap")),ni}}catch{b&&b(tr)}}if(ct){me=St.join("&");break e}}me=void 0}return h=h.i.splice(0,v),y.G=h,me}function Ac(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;le||R(),P||(le(),P=!0),N.add(y,h),h.A=0}}function Dl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Zn(g(h.Da,h),Cc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Zn(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),ti(this),Rc(this))};function Nl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Rc(h){h.g=new Re(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Nt(h.na);dt(y,"RID","rpc"),dt(y,"SID",h.M),dt(y,"AID",h.K),dt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(y,"TO",h.ia),dt(y,"TYPE","xmlhttp"),Ta(h,y),h.u&&h.o&&_r(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Ai(Nt(y)),v.u=null,v.R=!0,wt(v,h)}t.Va=function(){this.C!=null&&(this.C=null,ti(this),Dl(this),Dt(19))};function mo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function xl(h,y){var v=null;if(h.g==y){mo(h),Nl(h),h.g=null;var b=2}else if(Ct(h.h,y))v=y.G,On(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var K=h.D;b=wi(),Ft(b,new aa(b,v)),Ea(h)}else Ac(h);else if(K=y.m,K==3||K==0&&y.X>0||!(b==1&&pd(h,y)||b==2&&Dl(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),K){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function Cc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ii(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),b=h.Ua;const K=!b;b=new er(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rs(b,"https"),Ai(b),K?Cl(b.toString(),v):as(b.toString(),v)}else Dt(2);h.I=0,h.l&&h.l.pa(y),Ic(h),va(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ic(h){if(h.I=0,h.ja=[],h.l){const y=vt(h.h);(y.length!=0||h.i.length!=0)&&(z(h.ja,y),z(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function Dc(h,y,v){var b=v instanceof er?Nt(v):new er(v);if(b.g!="")y&&(b.g=y+"."+b.g),ua(b,b.u);else{var K=c.location;b=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;const ee=new er(null);b&&rs(ee,b),y&&(ee.g=y),K&&ua(ee,K),v&&(ee.h=v),b=ee}return v=h.G,y=h.wa,v&&y&&dt(b,v,y),dt(b,"VER",h.ka),Ta(h,b),b}function po(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Et(new ha({ab:v})):new Et(h.ma),y.Fa(h.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}t=Nc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function go(){}go.prototype.g=function(h,y){return new Ln(h,y)};function Ln(h,y){kt.call(this),this.g=new ho(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new us(this)}T(Ln,kt),Ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){_a(this.g)},Ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Dn(h),h=v);y.i.push(new Ur(y.Ya++,h)),y.I==3&&Ea(y)},Ln.prototype.N=function(){this.g.l=null,delete this.j,_a(this.g),delete this.g,Ln.Z.N.call(this)};function Ol(h){kr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Ol,kr);function xc(){Qn.call(this),this.status=1}T(xc,Qn);function us(h){this.g=h}T(us,Nc),us.prototype.ra=function(){Ft(this.g,"a")},us.prototype.qa=function(h){Ft(this.g,new Ol(h))},us.prototype.pa=function(h){Ft(this.g,new xc)},us.prototype.oa=function(){Ft(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,lb=function(){return new go},ob=function(){return wi()},ab=Nn,rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,Wh=ie,ce.COMPLETE="complete",sb=ce,sa.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",kt.prototype.listen=kt.prototype.J,xu=sa,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,ib=Et}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const tw="@firebase/firestore",nw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Kf("@firebase/firestore");function Ko(){return $a.logLevel}function ye(t,...e){if($a.logLevel<=Je.DEBUG){const n=e.map(Hg);$a.debug(`Firestore (${ml}): ${t}`,...n)}}function Xi(t,...e){if($a.logLevel<=Je.ERROR){const n=e.map(Hg);$a.error(`Firestore (${ml}): ${t}`,...n)}}function sl(t,...e){if($a.logLevel<=Je.WARN){const n=e.map(Hg);$a.warn(`Firestore (${ml}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ub(t,s,n)}function ub(t,e,n){let s=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xi(s),new Error(s)}function ut(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||ub(e,a,s)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class IO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DO{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new cb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class NO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new NO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=MO(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function et(t,e){return t<e?-1:t>e?1:0}function ig(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Np(a)===Np(l)?et(a,l):Np(a)?1:-1}return et(t.length,e.length)}const PO=55296,LO=57343;function Np(t){const e=t.charCodeAt(0);return e>=PO&&e<=LO}function al(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__name__";class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Pe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=li.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return et(e.length,n.length)}static compareSegments(e,n){const s=li.isNumericId(e),a=li.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?li.extractNumericId(e).compare(li.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class bt extends li{construct(e,n,s){return new bt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new be(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const VO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends li{construct(e,n,s){return new yn(e,n,s)}static isValidIdentifier(e){return VO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iw}static keyField(){return new yn([iw])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new be(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new be(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new be(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(bt.fromString(e))}static fromName(e){return new Ne(bt.fromString(e).popFirst(5))}static empty(){return new Ne(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e,n){if(!n)throw new be(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kO(t,e,n,s){if(e===!0&&s===!0)throw new be(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sw(t){if(!Ne.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aw(t){if(Ne.isDocumentKey(t))throw new be(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(t);throw new be(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function lc(t,e){if(!fb(t))throw new be(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new be(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=-62135596800,lw=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*lw);return new At(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ow)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lw}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ow;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Kt("string",At._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new At(0,0))}static max(){return new Ue(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function UO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ue.fromTimestamp(s===1e9?new At(n+1,0):new At(n,s));return new Ys(a,Ne.empty(),e)}function jO(t){return new Ys(t.readTime,t.key,$u)}class Ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ys(Ue.min(),Ne.empty(),$u)}static max(){return new Ys(Ue.max(),Ne.empty(),$u)}}function zO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==BO)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(a=>a?ae.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(_=>{c[g]=_,++d,d===l&&s(c)},_=>a(_))}})}static doWhile(e,n){return new ae((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function HO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$f.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=-1;function Qf(t){return t==null}function _f(t){return t===0&&1/t==-1/0}function qO(t){return typeof t=="number"&&Number.isInteger(t)&&!_f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="";function GO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uw(e)),e=KO(t.get(n),e);return uw(e)}function KO(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case db:n+="";break;default:n+=l}}return n}function uw(t){return t+db+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new gn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hw(this.data.getIterator())}getIteratorFrom(e){return new hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new hr([])}unionWith(e){let n=new tn(yn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new pb("Invalid base64 string: "+l):l}}(e);return new vn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const YO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=YO.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="server_timestamp",yb="__type__",_b="__previous_value__",vb="__local_write_time__";function Yg(t){return(t?.mapValue?.fields||{})[yb]?.stringValue===gb}function Xf(t){const e=t.mapValue.fields[_b];return Yg(e)?Xf(e):e}function Qu(t){const e=Ws(t.mapValue.fields[vb].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,s,a,l,c,d,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const vf="(default)";class Xu{constructor(e,n){this.projectId=e,this.database=n||vf}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===vf}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="__type__",$O="__max__",jh={mapValue:{}},Tb="__vector__",Ef="value";function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yg(t)?4:XO(t)?9007199254740991:QO(t)?10:11:Pe(28295,{value:t})}function _i(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ws(a.timestampValue),d=Ws(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return $s(a.bytesValue).isEqual($s(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Bt(a.doubleValue),d=Bt(l.doubleValue);return c===d?_f(c)===_f(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return al(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(cw(c)!==cw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!_i(c[m],d[m])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find(n=>_i(n,e))!==void 0}function ol(t,e){if(t===e)return 0;const n=Qs(t),s=Qs(e);if(n!==s)return et(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Bt(l.integerValue||l.doubleValue),m=Bt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return fw(t.timestampValue,e.timestampValue);case 4:return fw(Qu(t),Qu(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return function(l,c){const d=$s(l),m=$s(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=et(d[g],m[g]);if(_!==0)return _}return et(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=et(Bt(l.latitude),Bt(c.latitude));return d!==0?d:et(Bt(l.longitude),Bt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dw(t.arrayValue,e.arrayValue);case 10:return function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Ef]?.arrayValue,_=m[Ef]?.arrayValue,T=et(g?.values?.length||0,_?.values?.length||0);return T!==0?T:dw(g,_)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===jh.mapValue&&c===jh.mapValue)return 0;if(l===jh.mapValue)return 1;if(c===jh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const w=ig(m[T],_[T]);if(w!==0)return w;const D=ol(d[m[T]],g[_[T]]);if(D!==0)return D}return et(m.length,_.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function fw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=Ws(t),s=Ws(e),a=et(n.seconds,s.seconds);return a!==0?a:et(n.nanos,s.nanos)}function dw(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=ol(n[a],s[a]);if(l)return l}return et(n.length,s.length)}function ll(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ws(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=sg(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${sg(n.fields[c])}`;return a+"}"}(t.mapValue):Pe(61005,{value:t})}function $h(t){switch(Qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(t);return e?16+$h(e):16;case 5:return 2*t.stringValue.length;case 6:return $s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+$h(l),0)}(t.arrayValue);case 10:case 11:return function(s){let a=0;return ea(s.fields,(l,c)=>{a+=l.length+$h(c)}),a}(t.mapValue);default:throw Pe(13486,{value:t})}}function ag(t){return!!t&&"integerValue"in t}function Wg(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function pw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qh(t){return!!t&&"mapValue"in t}function QO(t){return(t?.mapValue?.fields||{})[Eb]?.stringValue===Tb}function ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ku(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ku(t.arrayValue.values[n]);return e}return{...t}}function XO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$O}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(n)}setAll(e){let n=yn.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=ku(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ea(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new qn(ku(this.value))}}function wb(t){const e=[];return ea(t.fields,(n,s)=>{const a=new yn([n]);if(Qh(s)){const l=wb(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Cn(e,0,Ue.min(),Ue.min(),Ue.min(),qn.empty(),0)}static newFoundDocument(e,n,s,a){return new Cn(e,1,n,Ue.min(),s,a,0)}static newNoDocument(e,n){return new Cn(e,2,n,Ue.min(),Ue.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Ue.min(),Ue.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.position=e,this.inclusive=n}}function gw(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(c.referenceValue),n.key):s=ol(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{}class en extends Sb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new eM(e,n,s):n==="array-contains"?new rM(e,s):n==="in"?new iM(e,s):n==="not-in"?new sM(e,s):n==="array-contains-any"?new aM(e,s):new en(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new tM(e,s):new nM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ol(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends Sb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vi(e,n)}matches(e){return bb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bb(t){return t.op==="and"}function Ab(t){return JO(t)&&bb(t)}function JO(t){for(const e of t.filters)if(e instanceof vi)return!1;return!0}function og(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+ll(t.value);if(Ab(t))return t.filters.map(e=>og(e)).join(",");{const e=t.filters.map(n=>og(n)).join(",");return`${t.op}(${e})`}}function Rb(t,e){return t instanceof en?function(s,a){return a instanceof en&&s.op===a.op&&s.field.isEqual(a.field)&&_i(s.value,a.value)}(t,e):t instanceof vi?function(s,a){return a instanceof vi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&Rb(c,a.filters[d]),!0):!1}(t,e):void Pe(19439)}function Cb(t){return t instanceof en?function(n){return`${n.field.canonicalString()} ${n.op} ${ll(n.value)}`}(t):t instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(Cb).join(" ,")+"}"}(t):"Filter"}class eM extends en{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class tM extends en{constructor(e,n){super(e,"in",n),this.keys=Ib("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nM extends en{constructor(e,n){super(e,"not-in",n),this.keys=Ib("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ib(t,e){return(e.arrayValue?.values||[]).map(n=>Ne.fromName(n.referenceValue))}class rM extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wg(n)&&Zu(n.arrayValue,this.value)}}class iM extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class sM extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class aM extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function _w(t,e=null,n=[],s=[],a=null,l=null,c=null){return new oM(t,e,n,s,a,l,c)}function $g(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>og(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Qf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ll(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ll(s)).join(",")),e.Te=n}return e.Te}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Rb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yw(t.startAt,e.startAt)&&yw(t.endAt,e.endAt)}function lg(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lM(t,e,n,s,a,l,c,d){return new Zf(t,e,n,s,a,l,c,d)}function Xg(t){return new Zf(t)}function vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uM(t){return t.collectionGroup!==null}function Uu(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(yn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new wf(l,s))}),n.has(yn.keyField().canonicalString())||e.Ie.push(new wf(yn.keyField(),s))}return e.Ie}function ci(t){const e=Fe(t);return e.Ee||(e.Ee=cM(e,Uu(t))),e.Ee}function cM(t,e){if(t.limitType==="F")return _w(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new wf(a.field,l)});const n=t.endAt?new Tf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Tf(t.startAt.position,t.startAt.inclusive):null;return _w(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ug(t,e,n){return new Zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return Qg(ci(t),ci(e))&&t.limitType===e.limitType}function Db(t){return`${$g(ci(t))}|lt:${t.limitType}`}function Yo(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Cb(a)).join(", ")}]`),Qf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>ll(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>ll(a)).join(",")),`Target(${s})`}(ci(t))}; limitType=${t.limitType})`}function ed(t,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,a){for(const l of Uu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(s,a){return!(s.startAt&&!function(c,d,m){const g=gw(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Uu(s),a)||s.endAt&&!function(c,d,m){const g=gw(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Uu(s),a))}(t,e)}function hM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nb(t){return(e,n)=>{let s=!1;for(const a of Uu(t)){const l=fM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function fM(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?ol(m,g):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return mb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Ot(Ne.comparator);function Ji(){return dM}const xb=new Ot(Ne.comparator);function Ou(...t){let e=xb;for(const n of t)e=e.insert(n.key,n);return e}function Ob(t){let e=xb;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ha(){return ju()}function Mb(){return ju()}function ju(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const mM=new Ot(Ne.comparator),pM=new tn(Ne.comparator);function tt(...t){let e=pM;for(const n of t)e=e.add(n);return e}const gM=new tn(et);function yM(){return gM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function Pb(t){return{integerValue:""+t}}function _M(t,e){return qO(e)?Pb(e):Zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this._=void 0}}function vM(t,e,n){return t instanceof Sf?function(a,l){const c={fields:{[yb]:{stringValue:gb},[vb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Yg(l)&&(l=Xf(l)),l&&(c.fields[_b]=l),{mapValue:c}}(n,e):t instanceof Ju?Vb(t,e):t instanceof ec?kb(t,e):function(a,l){const c=Lb(a,l),d=Ew(c)+Ew(a.Ae);return ag(c)&&ag(a.Ae)?Pb(d):Zg(a.serializer,d)}(t,e)}function EM(t,e,n){return t instanceof Ju?Vb(t,e):t instanceof ec?kb(t,e):n}function Lb(t,e){return t instanceof bf?function(s){return ag(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Sf extends td{}class Ju extends td{constructor(e){super(),this.elements=e}}function Vb(t,e){const n=Ub(e);for(const s of t.elements)n.some(a=>_i(a,s))||n.push(s);return{arrayValue:{values:n}}}class ec extends td{constructor(e){super(),this.elements=e}}function kb(t,e){let n=Ub(e);for(const s of t.elements)n=n.filter(a=>!_i(a,s));return{arrayValue:{values:n}}}class bf extends td{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ew(t){return Bt(t.integerValue||t.doubleValue)}function Ub(t){return Wg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TM(t,e){return t.field.isEqual(e.field)&&function(s,a){return s instanceof Ju&&a instanceof Ju||s instanceof ec&&a instanceof ec?al(s.elements,a.elements,_i):s instanceof bf&&a instanceof bf?_i(s.Ae,a.Ae):s instanceof Sf&&a instanceof Sf}(t.transform,e.transform)}class wM{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nd{}function jb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bb(t.key,hi.none()):new uc(t.key,t.data,hi.none());{const n=t.data,s=qn.empty();let a=new tn(yn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ta(t.key,s,new hr(a.toArray()),hi.none())}}function SM(t,e,n){t instanceof uc?function(a,l,c){const d=a.value.clone(),m=ww(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof ta?function(a,l,c){if(!Xh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=ww(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(zb(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function zu(t,e,n,s){return t instanceof uc?function(l,c,d,m){if(!Xh(l.precondition,c))return d;const g=l.value.clone(),_=Sw(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof ta?function(l,c,d,m){if(!Xh(l.precondition,c))return d;const g=Sw(l.fieldTransforms,m,c),_=c.data;return _.setAll(zb(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(t,e,n,s):function(l,c,d){return Xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function bM(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=Lb(s.transform,a||null);l!=null&&(n===null&&(n=qn.empty()),n.set(s.field,l))}return n||null}function Tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&al(s,a,(l,c)=>TM(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends nd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ta extends nd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function ww(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,EM(c,d,n[a]))}return s}function Sw(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,vM(l,c,e))}return s}class Bb extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AM extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&SM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Mb();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=jb(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(n,s)=>Tw(n,s))&&al(this.baseMutations,e.baseMutations,(n,s)=>Tw(n,s))}}class Jg{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return mM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Jg(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,rt;function DM(t){switch(t){case ue.OK:return Pe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function Fb(t){if(t===void 0)return Xi("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Gt.OK:return ue.OK;case Gt.CANCELLED:return ue.CANCELLED;case Gt.UNKNOWN:return ue.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ue.INTERNAL;case Gt.UNAVAILABLE:return ue.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ue.NOT_FOUND;case Gt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Gt.ABORTED:return ue.ABORTED;case Gt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Gt.DATA_LOSS:return ue.DATA_LOSS;default:return Pe(39323,{code:t})}}(rt=Gt||(Gt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Fs([4294967295,4294967295],0);function bw(t){const e=NM().encode(t),n=new rb;return n.update(e),new Uint8Array(n.digest())}function Aw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([n,s],0),new Fs([a,l],0)]}class ey{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(s<0)throw new Mu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fs.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Fs.fromNumber(s)));return a.compare(xM)===1&&(a=new Fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bw(e),[s,a]=Aw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ey(l,a,n);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const n=bw(e),[s,a]=Aw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rd(Ue.min(),a,new Ot(et),Ji(),tt())}}class cc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cc(s,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Hb{constructor(e,n){this.targetId=e,this.Ce=n}}class qb{constructor(e,n,s=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Rw{constructor(){this.ve=0,this.Fe=Cw(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=tt(),n=tt(),s=tt();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Pe(38017,{changeType:l})}}),new cc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Cw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=zh(),this.He=zh(),this.Ye=new Ot(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(lg(l))if(s===0){const c=new Ne(l.path);this.et(n,c,Cn.newNoDocument(c,Ue.min()))}else ut(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=$s(s).toUint8Array()}catch(m){if(m instanceof pb)return sl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ey(c,a,l)}catch(m){return sl(m instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&lg(d.target)){const m=new Ne(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Cn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}});let s=tt();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const a=new rd(e,n,this.Ye,this.je,s);return this.je=Ji(),this.Je=zh(),this.He=zh(),this.Ye=new Ot(et),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Rw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tn(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tn(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Rw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zh(){return new Ot(Ne.comparator)}function Cw(){return new Ot(Ne.comparator)}const MM={asc:"ASCENDING",desc:"DESCENDING"},PM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LM={and:"AND",or:"OR"};class VM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cg(t,e){return t.useProto3Json||Qf(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kM(t,e){return Af(t,e.toTimestamp())}function fi(t){return ut(!!t,49232),Ue.fromTimestamp(function(n){const s=Ws(n);return new At(s.seconds,s.nanos)}(t))}function ty(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(a){return new bt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Kb(t){const e=bt.fromString(t);return ut(Xb(e),10190,{key:e.toString()}),e}function fg(t,e){return ty(t.databaseId,e.path)}function xp(t,e){const n=Kb(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(Wb(n))}function Yb(t,e){return ty(t.databaseId,e)}function UM(t){const e=Kb(t);return e.length===4?bt.emptyPath():Wb(e)}function dg(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Wb(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Iw(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function jM(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(ut(_===void 0||typeof _=="string",58123),vn.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vn.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?ue.UNKNOWN:Fb(g.code);return new be(_,g.message||"")}(c);n=new qb(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=xp(t,s.document.name),l=fi(s.document.updateTime),c=s.document.createTime?fi(s.document.createTime):Ue.min(),d=new qn({mapValue:{fields:s.document.fields}}),m=Cn.newFoundDocument(a,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Zh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=xp(t,s.document),l=s.readTime?fi(s.readTime):Ue.min(),c=Cn.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Zh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=xp(t,s.document),l=s.removedTargetIds||[];n=new Zh([],l,a,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new IM(a,l),d=s.targetId;n=new Hb(d,c)}}return n}function zM(t,e){let n;if(e instanceof uc)n={update:Iw(t,e.key,e.value)};else if(e instanceof Bb)n={delete:fg(t,e.key)};else if(e instanceof ta)n={update:Iw(t,e.key,e.data),updateMask:$M(e.fieldMask)};else{if(!(e instanceof AM))return Pe(16599,{Vt:e.type});n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Sf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Pe(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:kM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)}(t,e.precondition)),n}function BM(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(a,l){let c=a.updateTime?fi(a.updateTime):fi(l);return c.isEqual(Ue.min())&&(c=fi(l)),new wM(c,a.transformResults||[])}(n,e))):[]}function FM(t,e){return{documents:[Yb(t,e.path)]}}function HM(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Yb(t,a);const l=function(g){if(g.length!==0)return Qb(vi.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:Wo(w.field),direction:KM(w.dir)}}(_))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=cg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:a}}function qM(t){let e=UM(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ut(s===1,65062);const _=n.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=function(T){const w=$b(T);return w instanceof vi&&Ab(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(w=>function(z){return new wf($o(z.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,Qf(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(T){const w=!!T.before,D=T.values||[];return new Tf(D,w)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const w=!T.before,D=T.values||[];return new Tf(D,w)}(n.endAt)),lM(e,a,c,l,d,"F",m,g)}function GM(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $b(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$o(n.unaryFilter.field);return en.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=$o(n.unaryFilter.field);return en.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(n.unaryFilter.field);return en.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(n.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return en.create($o(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(s=>$b(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function KM(t){return MM[t]}function YM(t){return PM[t]}function WM(t){return LM[t]}function Wo(t){return{fieldPath:t.canonicalString()}}function $o(t){return yn.fromServerFormat(t.fieldPath)}function Qb(t){return t instanceof en?function(n){if(n.op==="=="){if(pw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NAN"}};if(mw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NAN"}};if(mw(n.value))return{unaryFilter:{field:Wo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(n.field),op:YM(n.op),value:n.value}}}(t):t instanceof vi?function(n){const s=n.getFilters().map(a=>Qb(a));return s.length===1?s[0]:{compositeFilter:{op:WM(n.op),filters:s}}}(t):Pe(54877,{filter:t})}function $M(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,s,a,l=Ue.min(),c=Ue.min(),d=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.yt=e}}function XM(t){const e=qM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.Cn=new JM}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ys.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class JM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new tn(bt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new tn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(Zb,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LruGarbageCollector",eP=1048576;function xw([t,e],[n,s]){const a=et(t,n);return a===0?et(e,s):a}class tP{constructor(e){this.Ir=e,this.buffer=new tn(xw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nP{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Nw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?ye(Nw,"Ignoring IndexedDB error during garbage collection: ",n):await pl(n)}await this.Vr(3e5)})}}class rP{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve($f.ce);const s=new tP(n);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Dw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,n))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),Ko()<=Je.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function iP(t,e){return new rP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&zu(s.mutation,a,hr.empty(),At.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,tt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=tt()){const a=Ha();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let c=Ou();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=Ha();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,tt()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,s,a){let l=Ji();const c=ju(),d=function(){return ju()}();return n.forEach((m,g)=>{const _=s.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof ta)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),zu(_.mutation,g,_.mutation.getFieldMask(),At.now())):c.set(g.key,hr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),n.forEach((g,_)=>d.set(g,new aP(_,c.get(g)??null))),d))}recalculateAndSaveOverlays(e,n){const s=ju();let a=new Ot((c,d)=>c-d),l=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let _=s.get(m)||hr.empty();_=d.applyToLocalView(g,_),s.set(m,_);const T=(a.get(d.batchId)||tt()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=Mb();_.forEach(w=>{if(!l.has(w)){const D=jb(n.get(w),s.get(w));D!==null&&T.set(w,D),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Ha());let d=$u,m=l;return c.next(g=>ae.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{m=m.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,tt())).next(_=>({batchId:d,changes:Ob(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(s=>{let a=Ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const g=function(T,w){return new Zf(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(_=>{_.forEach((T,w)=>{c=c.insert(T,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Cn.newInvalidDocument(_)))});let d=Ou();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&zu(_.mutation,g,hr.empty(),At.now()),ed(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:fi(a.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:XM(a.bundledQuery),readTime:fi(a.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.overlays=new Ot(Ne.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ha();return ae.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.St(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Ha(),l=n.length+1,c=new Ne(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Ot((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=Ha(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ha(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return ae.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new CM(n,s));let l=this.qr.get(n);l===void 0&&(l=tt(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Qr=new tn(ln.$r),this.Ur=new tn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ln(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Ne(new bt([])),s=new ln(n,e),a=new ln(n,e+1),l=[];return this.Ur.forEachInRange([s,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new bt([])),s=new ln(n,e),a=new ln(n,e+1);let l=tt();return this.Ur.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new ln(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(ln.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new RM(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new ln(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Kg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ln(n,0),a=new ln(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],c=>{const d=this.Xr(c.Yr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new tn(et);return n.forEach(a=>{const l=new ln(a,0),c=new ln(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{s=s.add(d.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Ne(l),0);let d=new tn(et);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)},c),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,a=>{const l=new ln(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new ln(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.ri=e,this.docs=function(){return new Ot(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let s=Ji();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Cn.newInvalidDocument(a))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Ji();const c=n.path,d=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||zO(jO(_),s)<=0||(a.has(_.key)||ed(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Pe(9500)}ii(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new dP(this)}getSize(e){return ae.resolve(this.size)}}class dP extends sP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.persistence=e,this.si=new ro(n=>$g(n),Qg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new ny,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,n){return this.si.forEach((s,a)=>n(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ul(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n){this.ui={},this.overlays={},this.ci=new $f(0),this.li=!1,this.li=!0,this.hi=new cP,this.referenceDelegate=e(this),this.Pi=new mP(this),this.indexManager=new ZM,this.remoteDocumentCache=function(a){return new fP(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new QM(n),this.Ii=new lP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hP(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const a=new pP(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,n){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class pP extends FO{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Ri=new ny,this.Vi=null}static mi(e){return new ry(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const a=Ne.fromPath(s);return this.gi(e,a).next(l=>{l||n.removeEntry(a,Ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rf{constructor(e,n){this.persistence=e,this.pi=new ro(s=>GO(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=iP(this,n)}static mi(e,n){return new Rf(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?ae.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,c=>this.br(e,c,n).next(d=>{d||(s++,l.removeEntry(c,Ue.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$h(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=tt(),a=tt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new iy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zN()?8:HO(In())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new gP;return this.Ss(e,n,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)})}).next(()=>l.result)}bs(e,n,s,a){return s.documentReadCount<this.fs?(Ko()<=Je.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Ko()<=Je.DEBUG&&ye("QueryEngine","Query:",Yo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Ko()<=Je.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):ae.resolve())}ys(e,n){if(vw(n))return ae.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ug(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=tt(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(e,ug(n,null,"F")):this.vs(e,g,n,m)}))})))}ws(e,n,s,a){return vw(n)||a.isEqual(Ue.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?ae.resolve(null):(Ko()<=Je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Yo(n)),this.vs(e,c,n,UO(a,$u)).next(d=>d))})}Ds(e,n){let s=new tn(Nb(e));return n.forEach((a,l)=>{ed(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return Ko()<=Je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Yo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ys.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="LocalStore",_P=3e8;class vP{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ot(et),this.xs=new ro(l=>$g(l),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function EP(t,e,n,s){return new vP(t,e,n,s)}async function eA(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=tt();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:d}))})})}function TP(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,w=T.keys();let D=ae.resolve();return w.forEach(z=>{D=D.next(()=>_.getEntry(m,z)).next(j=>{const U=g.docVersions.get(z);ut(U!==null,48541),j.version.compareTo(U)<0&&(T.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=tt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function tA(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function wP(t,e){const n=Fe(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach((_,T)=>{const w=a.get(T);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(l,_.addedDocuments,T)));let D=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(vn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),a=a.insert(T,D),function(j,U,W){return j.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=_P?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(w,D,_)&&d.push(n.Pi.updateTargetData(l,D))});let m=Ji(),g=tt();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(SP(l,c,e.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!s.isEqual(Ue.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next(T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.Ms=a,l))}function SP(t,e,n){let s=tt(),a=tt();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=Ji();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ye(sy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:c,qs:a}})}function bP(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function AP(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,e).next(l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next(c=>(a=new js(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function mg(t,e,n){const s=Fe(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!gl(c))throw c;ye(sy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function Ow(t,e,n){const s=Fe(t);let a=Ue.min(),l=tt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const T=Fe(m),w=T.xs.get(_);return w!==void 0?ae.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)}(s,c,ci(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ue.min(),n?l:tt())).next(d=>(RP(s,hM(e),d),{documents:d,Qs:l})))}function RP(t,e,n){let s=t.Os.get(e)||Ue.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Os.set(e,s)}class Mw{constructor(){this.activeTargetIds=yM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CP{constructor(){this.Mo=new Mw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="ConnectivityMonitor";class Lw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Pw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function pg(){return Bh===null?Bh=function(){return 268435456+Math.round(2147483648*Math.random())}():Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",DP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===vf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=pg(),d=this.zo(e,n.toUriEncodedString());ye(Op,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),_=fl(g);return this.Jo(e,d,m,s,_).then(T=>(ye(Op,`Received RPC '${e}' ${c}: `,T),T),T=>{throw sl(Op,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T})}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,n){const s=DP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class OP extends NP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=pg();return new Promise((d,m)=>{const g=new ib;g.setWithCredentials(!0),g.listenOnce(sb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Wh.NO_ERROR:const T=g.getResponseJson();ye(An,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Wh.TIMEOUT:ye(An,`RPC '${e}' ${c} timed out`),m(new be(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const w=g.getStatus();if(ye(An,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const z=D?.error;if(z&&z.status&&z.message){const j=function(W){const oe=W.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(oe)>=0?oe:ue.UNKNOWN}(z.status);m(new be(j,z.message))}else m(new be(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new be(ue.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(An,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ye(An,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}T_(e,n,s){const a=pg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=lb(),d=ob(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const _=l.join("");ye(An,`Creating RPC '${e}' stream ${a}: ${_}`,m);const T=c.createWebChannel(_,m);this.I_(T);let w=!1,D=!1;const z=new xP({Yo:U=>{D?ye(An,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(w||(ye(An,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),ye(An,`RPC '${e}' stream ${a} sending:`,U),T.send(U))},Zo:()=>T.close()}),j=(U,W,oe)=>{U.listen(W,X=>{try{oe(X)}catch(he){setTimeout(()=>{throw he},0)}})};return j(T,xu.EventType.OPEN,()=>{D||(ye(An,`RPC '${e}' stream ${a} transport opened.`),z.o_())}),j(T,xu.EventType.CLOSE,()=>{D||(D=!0,ye(An,`RPC '${e}' stream ${a} transport closed`),z.a_(),this.E_(T))}),j(T,xu.EventType.ERROR,U=>{D||(D=!0,sl(An,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),z.a_(new be(ue.UNAVAILABLE,"The operation could not be completed")))}),j(T,xu.EventType.MESSAGE,U=>{if(!D){const W=U.data[0];ut(!!W,16349);const oe=W,X=oe?.error||oe[0]?.error;if(X){ye(An,`RPC '${e}' stream ${a} received error:`,X);const he=X.status;let le=function(R){const C=Gt[R];if(C!==void 0)return Fb(C)}(he),P=X.message;le===void 0&&(le=ue.INTERNAL,P="Unknown error status: "+he+" with message "+X.message),D=!0,z.a_(new be(le,P)),T.close()}else ye(An,`RPC '${e}' stream ${a} received:`,W),z.u_(W)}}),j(d,ab.STAT_EVENT,U=>{U.stat===rg.PROXY?ye(An,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===rg.NOPROXY&&ye(An,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{z.__()},0),z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){return new VM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="PersistentStream";class rA{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{e(()=>{const a=new be(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(Vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(Vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MP extends rA{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=jM(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?fi(c.readTime):Ue.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=dg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=lg(m)?{documents:FM(l,m)}:{query:HM(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Gb(l,c.resumeToken);const g=cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ue.min())>0){d.readTime=Af(l,c.snapshotVersion.toTimestamp());const g=cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=GM(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=dg(this.serializer),n.removeTarget=e,this.q_(n)}}class PP extends rA{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BM(e.writeResults,e.commitTime),s=fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=dg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>zM(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{}class VP extends LP{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,hg(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ue.UNKNOWN,l.toString())})}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,hg(n,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(ue.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="RemoteStore";class UP{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{io(this)&&(ye(Qa,"Restarting streams for network reachability change."),await async function(m){const g=Fe(m);g.Ea.add(4),await hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await sd(g)}(this))})}),this.Ra=new kP(s,a)}}async function sd(t){if(io(t))for(const e of t.da)await e(!0)}async function hc(t){for(const e of t.da)await e(!1)}function iA(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uy(n)?ly(n):yl(n).O_()&&oy(n,e))}function ay(t,e){const n=Fe(t),s=yl(n);n.Ia.delete(e),s.O_()&&sA(n,e),n.Ia.size===0&&(s.O_()?s.L_():io(n)&&n.Ra.set("Unknown"))}function oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).Y_(e)}function sA(t,e){t.Va.Ue(e),yl(t).Z_(e)}function ly(t){t.Va=new OM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.Ra.ua()}function uy(t){return io(t)&&!yl(t).x_()&&t.Ia.size>0}function io(t){return Fe(t).Ea.size===0}function aA(t){t.Va=void 0}async function jP(t){t.Ra.set("Online")}async function zP(t){t.Ia.forEach((e,n)=>{oy(t,e)})}async function BP(t,e){aA(t),uy(t)?(t.Ra.ha(e),ly(t)):t.Ra.set("Unknown")}async function FP(t,e,n){if(t.Ra.set("Online"),e instanceof qb&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))}(t,e)}catch(s){ye(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cf(t,s)}else if(e instanceof Zh?t.Va.Ze(e):e instanceof Hb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const s=await tA(t.localStore);n.compareTo(s)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(vn.EMPTY_BYTE_STRING,_.snapshotVersion)),sA(l,m);const T=new js(_.target,m,g,_.sequenceNumber);oy(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(s){ye(Qa,"Failed to raise snapshot:",s),await Cf(t,s)}}async function Cf(t,e,n){if(!gl(e))throw e;t.Ea.add(1),await hc(t),t.Ra.set("Offline"),n||(n=()=>tA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(Qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sd(t)})}function oA(t,e){return e().catch(n=>Cf(t,n,e))}async function ad(t){const e=Fe(t),n=Xs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kg;for(;HP(e);)try{const a=await bP(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,qP(e,a)}catch(a){await Cf(e,a)}lA(e)&&uA(e)}function HP(t){return io(t)&&t.Ta.length<10}function qP(t,e){t.Ta.push(e);const n=Xs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function lA(t){return io(t)&&!Xs(t).x_()&&t.Ta.length>0}function uA(t){Xs(t).start()}async function GP(t){Xs(t).ra()}async function KP(t){const e=Xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function YP(t,e,n){const s=t.Ta.shift(),a=Jg.from(s,e,n);await oA(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await ad(t)}async function WP(t,e){e&&Xs(t).X_&&await async function(s,a){if(function(c){return DM(c)&&c!==ue.ABORTED}(a.code)){const l=s.Ta.shift();Xs(s).B_(),await oA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await ad(s)}}(t,e),lA(t)&&uA(t)}async function kw(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ye(Qa,"RemoteStore received new credentials");const s=io(n);n.Ea.add(3),await hc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sd(n)}async function $P(t,e){const n=Fe(t);e?(n.Ea.delete(2),await sd(n)):e||(n.Ea.add(2),await hc(n),n.Ra.set("Unknown"))}function yl(t){return t.ma||(t.ma=function(n,s,a){const l=Fe(n);return l.sa(),new MP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:jP.bind(null,t),t_:zP.bind(null,t),r_:BP.bind(null,t),H_:FP.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),uy(t)?ly(t):t.Ra.set("Unknown")):(await t.ma.stop(),aA(t))})),t.ma}function Xs(t){return t.fa||(t.fa=function(n,s,a){const l=Fe(n);return l.sa(),new PP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:GP.bind(null,t),r_:WP.bind(null,t),ta:KP.bind(null,t),na:YP.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ad(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new cy(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(Xi("AsyncQueue",`${e}: ${t}`),gl(t))return new be(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=Ou(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Zo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.ga=new Ot(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class cl{constructor(e,n,s,a,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new cl(e,n,Zo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class XP{constructor(){this.queries=jw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Fe(n),l=a.queries;a.queries=jw(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new be(ue.ABORTED,"Firestore shutting down"))}}function jw(){return new ro(t=>Db(t),Jf)}async function cA(t,e){const n=Fe(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new QP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=hy(c,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&fy(n)}async function hA(t,e){const n=Fe(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZP(t,e){const n=Fe(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&fy(n)}function JP(t,e,n){const s=Fe(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function fy(t){t.Ca.forEach(e=>{e.next()})}var gg,zw;(zw=gg||(gg={})).Ma="default",zw.Cache="cache";class fA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new cl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class eL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=tt(),this.mutatedKeys=tt(),this.eu=Nb(e),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Uw,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const w=a.get(_),D=ed(this.query,T)?T:null,z=!!w&&this.mutatedKeys.has(w.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;w&&D?w.data.isEqual(D.data)?z!==j&&(s.track({type:3,doc:D}),U=!0):this.su(w,D)||(s.track({type:2,doc:D}),U=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(d=!0)):!w&&D?(s.track({type:0,doc:D}),U=!0):w&&!D&&(s.track({type:1,doc:w}),U=!0,(m||g)&&(d=!0)),U&&(D?(c=c.add(D),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((_,T)=>function(D,z){const j=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:U})}};return j(D)-j(z)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new cl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=tt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new mA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new dA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=tt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dy="SyncEngine";class tL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nL{constructor(e){this.key=e,this.hu=!1}}class rL{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ro(d=>Db(d),Jf),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Ne.comparator),this.Au=new Map,this.Ru=new ny,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iL(t,e,n=!0){const s=EA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await pA(s,e,n,!0),a}async function sL(t,e){const n=EA(t);await pA(n,e,!0,!1)}async function pA(t,e,n,s){const a=await AP(t.localStore,ci(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await aL(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&iA(t.remoteStore,a),d}async function aL(t,e,n,s,a){t.pu=(T,w,D)=>async function(j,U,W,oe){let X=U.view.ru(W);X.Cs&&(X=await Ow(j.localStore,U.query,!1).then(({documents:N})=>U.view.ru(N,X)));const he=oe&&oe.targetChanges.get(U.targetId),le=oe&&oe.targetMismatches.get(U.targetId)!=null,P=U.view.applyChanges(X,j.isPrimaryClient,he,le);return Fw(j,U.targetId,P.au),P.snapshot}(t,T,w,D);const l=await Ow(t.localStore,e,!0),c=new eL(e,l.Qs),d=c.ru(l.documents),m=cc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,m);Fw(t,n,g.au);const _=new tL(e,n,c);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function oL(t,e,n){const s=Fe(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(c=>!Jf(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await mg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&ay(s.remoteStore,a.targetId),yg(s,a.targetId)}).catch(pl)):(yg(s,a.targetId),await mg(s.localStore,a.targetId,!0))}async function lL(t,e){const n=Fe(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ay(n.remoteStore,s.targetId))}async function uL(t,e,n){const s=gL(t);try{const a=await function(c,d){const m=Fe(c),g=At.now(),_=d.reduce((D,z)=>D.add(z.key),tt());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let z=Ji(),j=tt();return m.Ns.getEntries(D,_).next(U=>{z=U,z.forEach((W,oe)=>{oe.isValidDocument()||(j=j.add(W))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,z)).next(U=>{T=U;const W=[];for(const oe of d){const X=bM(oe,T.get(oe.key).overlayedDocument);X!=null&&W.push(new ta(oe.key,X,wb(X.value.mapValue),hi.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,W,d)}).next(U=>{w=U;const W=U.applyToLocalDocumentSet(T,j);return m.documentOverlayCache.saveOverlays(D,U.batchId,W)})}).then(()=>({batchId:w.batchId,changes:Ob(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Ot(et)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g}(s,a.batchId,n),await fc(s,a.changes),await ad(s.remoteStore)}catch(a){const l=hy(a,"Failed to persist write");n.reject(l)}}async function gA(t,e){const n=Fe(t);try{const s=await wP(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Au.get(l);c&&(ut(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ut(c.hu,14607):a.removedDocuments.size>0&&(ut(c.hu,42227),c.hu=!1))}),await fc(n,s,e)}catch(s){await pl(s)}}function Bw(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Fe(c);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)}),g&&fy(m)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cL(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Ot(Ne.comparator);c=c.insert(l,Cn.newNoDocument(l,Ue.min()));const d=tt().add(l),m=new rd(Ue.min(),new Map,new Ot(et),c,d);await gA(s,m),s.du=s.du.remove(l),s.Au.delete(e),my(s)}else await mg(s.localStore,e,!1).then(()=>yg(s,e,n)).catch(pl)}async function hL(t,e){const n=Fe(t),s=e.batch.batchId;try{const a=await TP(n.localStore,e);_A(n,s,null),yA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fc(n,a)}catch(a){await pl(a)}}async function fL(t,e,n){const s=Fe(t);try{const a=await function(c,d){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(ut(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(s.localStore,e);_A(s,e,n),yA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fc(s,a)}catch(a){await pl(a)}}function yA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function _A(t,e,n){const s=Fe(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||vA(t,s)})}function vA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),my(t))}function Fw(t,e,n){for(const s of n)s instanceof dA?(t.Ru.addReference(s.key,e),dL(t,s)):s instanceof mA?(ye(dy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||vA(t,s.key)):Pe(19791,{wu:s})}function dL(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(dy,"New document in limbo: "+n),t.Eu.add(s),my(t))}function my(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(bt.fromString(e)),s=t.fu.next();t.Au.set(s,new nL(n)),t.du=t.du.insert(n,s),iA(t.remoteStore,new js(ci(Xg(n.path)),s,"TargetPurposeLimboResolution",$f.ce))}}async function fc(t,e,n){const s=Fe(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((d,m)=>{c.push(s.pu(m,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=iy.As(m.targetId,g);l.push(_)}}))}),await Promise.all(c),s.Pu.H_(a),await async function(m,g){const _=Fe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(g,w=>ae.forEach(w.Es,D=>_.persistence.referenceDelegate.addReference(T,w.targetId,D)).next(()=>ae.forEach(w.ds,D=>_.persistence.referenceDelegate.removeReference(T,w.targetId,D)))))}catch(T){if(!gl(T))throw T;ye(sy,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const D=_.Ms.get(w),z=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(z);_.Ms=_.Ms.insert(w,j)}}}(s.localStore,l))}async function mL(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){ye(dy,"User change. New user:",e.toKey());const s=await eA(n.localStore,e);n.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new be(ue.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fc(n,s.Ls)}}function pL(t,e){const n=Fe(t),s=n.Au.get(e);if(s&&s.hu)return tt().add(s.key);{let a=tt();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function EA(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cL.bind(null,e),e.Pu.H_=ZP.bind(null,e.eventManager),e.Pu.yu=JP.bind(null,e.eventManager),e}function gL(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fL.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EP(this.persistence,new yP,e.initialUser,this.serializer)}Cu(e){return new Jb(ry.mi,this.serializer)}Du(e){return new CP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class yL extends If{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Rf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nP(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new Jb(s=>Rf.mi(s,n),this.serializer)}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Bw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mL.bind(null,this.syncEngine),await $P(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XP}()}createDatastore(e){const n=id(e.databaseInfo.databaseId),s=function(l){return new OP(l)}(e.databaseInfo);return function(l,c,d,m){return new VP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,l,c,d){return new UP(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Bw(this.syncEngine,n,0),function(){return Lw.v()?new Lw:new IP}())}createSyncEngine(e,n){return function(a,l,c,d,m,g,_){const T=new rL(a,l,c,d,m,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Fe(n);ye(Qa,"RemoteStore shutting down."),s.Ea.add(5),await hc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class _L{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Rn.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ye(Zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ye(Zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),ye(Zs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await eA(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vL(t);ye(Zs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>kw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,a)=>kw(e.remoteStore,a)),t._onlineComponents=e}async function vL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(Zs,"Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;sl("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new If)}}else ye(Zs,"Using default OfflineComponentProvider"),await Pp(t,new yL(void 0));return t._offlineComponents}async function wA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(Zs,"Using user provided OnlineComponentProvider"),await Hw(t,t._uninitializedComponentsProvider._online)):(ye(Zs,"Using default OnlineComponentProvider"),await Hw(t,new _g))),t._onlineComponents}function EL(t){return wA(t).then(e=>e.syncEngine)}async function SA(t){const e=await wA(t),n=e.eventManager;return n.onListen=iL.bind(null,e.syncEngine),n.onUnlisten=oL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lL.bind(null,e.syncEngine),n}function TL(t,e,n={}){const s=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new TA({next:w=>{_.Nu(),c.enqueueAndForget(()=>hA(l,T));const D=w.docs.has(d);!D&&w.fromCache?g.reject(new be(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&m&&m.source==="server"?g.reject(new be(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new fA(Xg(d.path),_,{includeMetadataChanges:!0,qa:!0});return cA(l,T)}(await SA(t),t.asyncQueue,e,n,s)),s.promise}function wL(t,e,n={}){const s=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new TA({next:w=>{_.Nu(),c.enqueueAndForget(()=>hA(l,T)),w.fromCache&&m.source==="server"?g.reject(new be(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new fA(d,_,{includeMetadataChanges:!0,qa:!0});return cA(l,T)}(await SA(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firestore.googleapis.com",Gw=!0;class Kw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=Gw}else this.host=e.host,this.ssl=e.ssl??Gw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eP)throw new be(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new CO;switch(s.type){case"firstParty":return new xO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new be(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=qw.get(n);s&&(ye("ComponentProvider","Removing Datastore"),qw.delete(n),s.terminate())}(this),Promise.resolve()}}function SL(t,e,n,s={}){t=Zi(t,od);const a=fl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(bS(`https://${d}`),AS("Firestore",!0)),l.host!==AA&&l.host!==d&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!Ks(m,c)&&(t._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=Rn.MOCK_USER;else{g=ON(s.mockUserToken,t._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new be(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Rn(T)}t._authCredentials=new IO(new cb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ld(this.firestore,e,this._query)}}class Yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lc(n,Yt._jsonSchema))return new Yt(e,s||null,new Ne(bt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Kt("string",Yt._jsonSchemaVersion),referencePath:Kt("string")};class Hs extends ld{constructor(e,n,s){super(e,n,Xg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Ne(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function py(t,e,...n){if(t=un(t),hb("collection","path",e),t instanceof od){const s=bt.fromString(e,...n);return aw(s),new Hs(t,null,s)}{if(!(t instanceof Yt||t instanceof Hs))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return aw(s),new Hs(t.firestore,null,s)}}function es(t,e,...n){if(t=un(t),arguments.length===1&&(e=qg.newId()),hb("doc","path",e),t instanceof od){const s=bt.fromString(e,...n);return sw(s),new Yt(t,null,new Ne(s))}{if(!(t instanceof Yt||t instanceof Hs))throw new be(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return sw(s),new Yt(t.firestore,t instanceof Hs?t.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="AsyncQueue";class Ww{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nA(this,"async_queue_retry"),this._c=()=>{const s=Mp();s&&ye(Yw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;ye(Yw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",$w(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=cy.createAndSchedule(this,e,n,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Pe(47125,{Pc:$w(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $w(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class dc extends od{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Ww,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ww(e),this._firestoreClient=void 0,await e}}}function bL(t,e){const n=typeof t=="object"?t:kg(),s=typeof t=="string"?t:vf,a=no(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=NN("firestore");l&&SL(a,...l)}return a}function gy(t){if(t._terminated)throw new be(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AL(t),t._firestoreClient}function AL(t){const e=t._freezeSettings(),n=function(a,l,c,d){return new WO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,bA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new _L(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ir(vn.fromBase64String(e))}catch(n){throw new be(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ir(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,Ir._jsonSchema))return Ir.fromBase64String(e.bytes)}}Ir._jsonSchemaVersion="firestore/bytes/1.0",Ir._jsonSchema={type:Kt("string",Ir._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(lc(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Kt("string",di._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mi(e.vectorValues);throw new be(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:Kt("string",mi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=/^__.*__$/;class CL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}class RA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class _y{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CA(this.Ac)&&RL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||id(e)}Cc(e,n,s,a=!1){return new _y({Ac:e,methodName:n,Dc:s,path:yn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IA(t){const e=t._freezeSettings(),n=id(t._databaseId);return new IL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DL(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);vy("Data must be an object, but it was:",c,s);const d=DA(s,c);let m,g;if(l.merge)m=new hr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=vg(e,T,n);if(!c.contains(w))throw new be(ue.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);xA(_,w)||_.push(w)}m=new hr(_),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new CL(new qn(d),m,g)}class cd extends yy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function NL(t,e,n,s){const a=t.Cc(1,e,n);vy("Data must be an object, but it was:",a,s);const l=[],c=qn.empty();ea(s,(m,g)=>{const _=Ey(e,m,n);g=un(g);const T=a.yc(_);if(g instanceof cd)l.push(_);else{const w=hd(g,T);w!=null&&(l.push(_),c.set(_,w))}});const d=new hr(l);return new RA(c,d,a.fieldTransforms)}function xL(t,e,n,s,a,l){const c=t.Cc(1,e,n),d=[vg(e,s,n)],m=[a];if(l.length%2!=0)throw new be(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(vg(e,l[w])),m.push(l[w+1]);const g=[],_=qn.empty();for(let w=d.length-1;w>=0;--w)if(!xA(g,d[w])){const D=d[w];let z=m[w];z=un(z);const j=c.yc(D);if(z instanceof cd)g.push(D);else{const U=hd(z,j);U!=null&&(g.push(D),_.set(D,U))}}const T=new hr(g);return new RA(_,T,c.fieldTransforms)}function hd(t,e){if(NA(t=un(t)))return vy("Unsupported field value:",e,t),DA(t,e);if(t instanceof yy)return function(s,a){if(!CA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let m=hd(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,a){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _M(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=At.fromDate(s);return{timestampValue:Af(a.serializer,l)}}if(s instanceof At){const l=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Af(a.serializer,l)}}if(s instanceof di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ir)return{bytesValue:Gb(a.serializer,s._byteString)};if(s instanceof Yt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ty(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof mi)return function(c,d){return{mapValue:{fields:{[Eb]:{stringValue:Tb},[Ef]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Zg(d.serializer,g)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${Gg(s)}`)}(t,e)}function DA(t,e){const n={};return mb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(s,a)=>{const l=hd(a,e.mc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function NA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof di||t instanceof Ir||t instanceof Yt||t instanceof yy||t instanceof mi)}function vy(t,e,n){if(!NA(n)||!fb(n)){const s=Gg(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function vg(t,e,n){if((e=un(e))instanceof ud)return e._internalPath;if(typeof e=="string")return Ey(t,e);throw Df("Field path arguments must be of type string or ",t,!1,void 0,n)}const OL=new RegExp("[~\\*/\\[\\]]");function Ey(t,e,n){if(e.search(OL)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Df(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new be(ue.INVALID_ARGUMENT,d+t+m)}function xA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ML(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ML extends OA{data(){return super.data()}}function MA(t,e){return typeof e=="string"?Ey(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LL{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ea(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(e){const n=e.fields?.[Ef].arrayValue?.values?.map(s=>Bt(s.doubleValue));return new mi(n)}convertGeoPoint(e){return new di(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=bt.fromString(e);ut(Xb(s),9688,{name:e});const a=new Xu(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return a.isEqual(n)||Xi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qa extends OA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(MA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:Kt("string",qa._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Jh extends qa{data(e={}){return super.data(e)}}class Jo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Pu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Jh(this._firestore,this._userDataWriter,s.key,s,new Pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Jh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Pu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Jh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Pu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:kL(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){t=Zi(t,Yt);const e=Zi(t.firestore,dc);return TL(gy(e),t._key).then(n=>zL(e,t,n))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:Kt("string",Jo._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class PA extends LL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ir(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Ty(t){t=Zi(t,ld);const e=Zi(t.firestore,dc),n=gy(e),s=new PA(e);return PL(t._query),wL(n,t._query).then(a=>new Jo(e,s,t,a))}function jL(t,e,n){t=Zi(t,Yt);const s=Zi(t.firestore,dc),a=VL(t.converter,e);return LA(s,[DL(IA(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,hi.none())])}function Xa(t,e,n,...s){t=Zi(t,Yt);const a=Zi(t.firestore,dc),l=IA(a);let c;return c=typeof(e=un(e))=="string"||e instanceof ud?xL(l,"updateDoc",t._key,e,n,s):NL(l,"updateDoc",t._key,e),LA(a,[c.toMutation(t._key,hi.exists(!0))])}function LA(t,e){return function(s,a){const l=new Yi;return s.asyncQueue.enqueueAndForget(async()=>uL(await EL(s),a,l)),l.promise}(gy(t),e)}function zL(t,e,n){const s=n.docs.get(e._key),a=new PA(t);return new qa(t,a,e._key,s,new Pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){ml=a})(dl),yi(new Qr("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new dc(new DO(s.getProvider("auth-internal")),new OO(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(g.options.projectId,_)}(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Dr(tw,nw,e),Dr(tw,nw,"esm2020")})();function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BL=VA,kA=new to("auth","Firebase",VA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Kf("@firebase/auth");function FL(t,...e){Nf.logLevel<=Je.WARN&&Nf.warn(`Auth (${dl}): ${t}`,...e)}function ef(t,...e){Nf.logLevel<=Je.ERROR&&Nf.error(`Auth (${dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,...e){throw wy(t,...e)}function pi(t,...e){return wy(t,...e)}function UA(t,e,n){const s={...BL(),[e]:n};return new to("auth","Firebase",s).create(e,{appName:t.name})}function Wi(t){return UA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return kA.create(t,...e)}function Me(t,e,...n){if(!t)throw wy(e,...n)}function Hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ef(e),new Error(e)}function ts(t,e){t||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){return typeof self<"u"&&self.location?.href||""}function HL(){return Qw()==="http:"||Qw()==="https:"}function Qw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HL()||RS()||"connection"in navigator)?navigator.onLine:!0}function GL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=LN()||UN()}get(){return qL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WL=new mc(3e4,6e4);function na(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ra(t,e,n,s,a={}){return zA(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=oc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return kN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(g.credentials="include"),jA.fetch()(await BA(t,t.config.apiHost,n,d),g)})}async function zA(t,e,n){t._canInitEmulator=!1;const s={...KL,...e};try{const a=new QL(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fh(t,"user-disabled",c);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw UA(t,_,g);Xr(t,_)}}catch(a){if(a instanceof Jr)throw a;Xr(t,"network-request-failed",{message:String(a)})}}async function pc(t,e,n,s,a={}){const l=await ra(t,e,n,s,a);return"mfaPendingCredential"in l&&Xr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function BA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Sy(t.config,a):`${t.config.apiScheme}://${a}`;return YL.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function $L(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),WL.get())})}}function Fh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=pi(t,e,s);return a.customData._tokenResponse=n,a}function Xw(t){return t!==void 0&&t.enterprise!==void 0}class XL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $L(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZL(t,e){return ra(t,"GET","/v2/recaptchaConfig",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){return ra(t,"POST","/v1/accounts:delete",e)}async function xf(t,e){return ra(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eV(t,e=!1){const n=un(t),s=await n.getIdToken(e),a=by(s);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Bu(Lp(a.auth_time)),issuedAtTime:Bu(Lp(a.iat)),expirationTime:Bu(Lp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Lp(t){return Number(t)*1e3}function by(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const a=ES(n);return a?JSON.parse(a):(ef("Failed to decode base64 JWT payload"),null)}catch(a){return ef("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Zw(t){const e=by(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Jr&&tV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function tV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t){const e=t.auth,n=await t.getIdToken(),s=await tc(t,xf(e,{idToken:n}));Me(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?FA(a.providerUserInfo):[],c=iV(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,g=d?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function rV(t){const e=un(t);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iV(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function FA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){const n=await zA(t,{},async()=>{const s=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await BA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(m.credentials="include"),jA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aV(t,e){return ra(t,"POST","/v2/accounts:revokeToken",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=Zw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await sV(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new el;return s&&(Me(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new nV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Tg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eV(this,e)}reload(){return rV(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Of(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await tc(this,JL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:D,providerData:z,stsTokenManager:j}=n;Me(T&&j,e,"internal-error");const U=el.fromJSON(this.name,j);Me(typeof T=="string",e,"internal-error"),xs(s,e.name),xs(a,e.name),Me(typeof w=="boolean",e,"internal-error"),Me(typeof D=="boolean",e,"internal-error"),xs(l,e.name),xs(c,e.name),xs(d,e.name),xs(m,e.name),xs(g,e.name),xs(_,e.name);const W=new $r({uid:T,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return z&&Array.isArray(z)&&(W.providerData=z.map(oe=>({...oe}))),m&&(W._redirectEventId=m),W}static async _fromIdTokenResponse(e,n,s=!1){const a=new el;a.updateFromServerResponse(n);const l=new $r({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Of(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new el;d.updateFromIdToken(s);const m=new $r({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;function qi(t){ts(t instanceof Function,"Expected a class definition");let e=Jw.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HA.type="NONE";const e0=HA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){return`firebase:${t}:${e}:${n}`}class tl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=tf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xf(this.auth,{idToken:e}).catch(()=>{});return n?$r._fromGetAccountInfoResponse(this.auth,n,e):null}return $r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new tl(qi(e0),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||qi(e0);const c=tf(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await xf(e,{idToken:_}).catch(()=>{});if(!w)break;T=await $r._fromGetAccountInfoResponse(e,w,_)}else T=$r._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new tl(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new tl(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($A(e))return"Blackberry";if(QA(e))return"Webos";if(GA(e))return"Safari";if((e.includes("chrome/")||KA(e))&&!e.includes("edge/"))return"Chrome";if(WA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function qA(t=In()){return/firefox\//i.test(t)}function GA(t=In()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KA(t=In()){return/crios\//i.test(t)}function YA(t=In()){return/iemobile/i.test(t)}function WA(t=In()){return/android/i.test(t)}function $A(t=In()){return/blackberry/i.test(t)}function QA(t=In()){return/webos/i.test(t)}function Ay(t=In()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oV(t=In()){return Ay(t)&&!!window.navigator?.standalone}function lV(){return jN()&&document.documentMode===10}function XA(t=In()){return Ay(t)||WA(t)||QA(t)||$A(t)||/windows phone/i.test(t)||YA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e=[]){let n;switch(t){case"Browser":n=t0(In());break;case"Worker":n=`${t0(In())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e={}){return ra(t,"GET","/v2/passwordPolicy",na(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=6;class fV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new uV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xf(this,{idToken:e}),s=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Wi(this));const n=e?un(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cV(this),n=new fV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function so(t){return un(t)}class n0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KN(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mV(t){fd=t}function JA(t){return fd.loadJS(t)}function pV(){return fd.recaptchaEnterpriseScript}function gV(){return fd.gapiScript}function yV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _V{constructor(){this.enterprise=new vV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const EV="recaptcha-enterprise",eR="NO_RECAPTCHA";class TV{constructor(e){this.type=EV,this.auth=so(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{ZL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new XL(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;Xw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(eR)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _V().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&Xw(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=pV();m.length!==0&&(m+=d),JA(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function r0(t,e,n,s=!1,a=!1){const l=new TV(t);let c;if(a)c=eR;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wg(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await r0(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await r0(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){const n=no(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ks(l,e??{}))return a;Xr(a,"already-initialized")}return n.initialize({options:e})}function SV(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(qi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function bV(t,e,n){const s=so(t);Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=tR(e),{host:c,port:d}=AV(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Me(Ks(g,s.config.emulator)&&Ks(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,fl(c)?(bS(`${l}//${c}${m}`),AS("Auth",!0)):RV()}function tR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AV(t){const e=tR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:i0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:i0(c)}}}function i0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function CV(t,e){return ra(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return pc(t,"POST","/v1/accounts:signInWithPassword",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return pc(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}async function NV(t,e){return pc(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Ry{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new nc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,n,"signInWithPassword",IV);case"emailLink":return DV(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,s,"signUpPassword",CV);case"emailLink":return NV(e,{idToken:n,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e){return pc(t,"POST","/v1/accounts:signInWithIdp",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="http://localhost";class Za extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Za(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return nl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,nl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nl(e,n)}buildRequest(){const e={requestUri:xV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MV(t){const e=Du(Nu(t)).link,n=e?Du(Nu(e)).deep_link_id:null,s=Du(Nu(t)).deep_link_id;return(s?Du(Nu(s)).link:null)||s||n||e||t}class Cy{constructor(e){const n=Du(Nu(e)),s=n.apiKey??null,a=n.oobCode??null,l=OV(n.mode??null);Me(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=MV(e);try{return new Cy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,n){return nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Cy.parseLink(n);return Me(s,"argument-error"),nc._fromEmailAndCode(e,s.code,s.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends nR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends gc{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Vs.credential(n,s)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends gc{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends gc{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Us.credential(n,s)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PV(t,e){return pc(t,"POST","/v1/accounts:signUp",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await $r._fromIdTokenResponse(e,s,a),c=s0(s);return new Ja({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=s0(s);return new Ja({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function s0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Jr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Mf(e,n,s,a)}}function rR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(t,l,e,s):l})}async function LV(t,e,n=!1){const s=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ja._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e,n=!1){const{auth:s}=t;if(Cr(s.app))return Promise.reject(Wi(s));const a="reauthenticate";try{const l=await tc(t,rR(s,a,e,t),n);Me(l.idToken,s,"internal-error");const c=by(l.idToken);Me(c,s,"internal-error");const{sub:d}=c;return Me(t.uid===d,s,"user-mismatch"),Ja._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Xr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e,n=!1){if(Cr(t.app))return Promise.reject(Wi(t));const s="signIn",a=await rR(t,s,e),l=await Ja._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function kV(t,e){return iR(so(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UV(t,e,n){if(Cr(t.app))return Promise.reject(Wi(t));const s=so(t),c=await wg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&sR(t),m}),d=await Ja._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function jV(t,e,n){return Cr(t.app)?Promise.reject(Wi(t)):kV(un(t),_l.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&sR(t),s})}function zV(t,e,n,s){return un(t).onIdTokenChanged(e,n,s)}function BV(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function FV(t,e,n,s){return un(t).onAuthStateChanged(e,n,s)}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=1e3,qV=10;class oR extends aR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);lV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,qV):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},HV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oR.type="LOCAL";const GV=oR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR extends aR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lR.type="SESSION";const uR=lR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new dd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await KV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Iy("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function WV(t){gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function $V(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QV(){return navigator?.serviceWorker?.controller||null}function XV(){return cR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebaseLocalStorageDb",ZV=1,Lf="firebaseLocalStorage",fR="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function JV(){const t=indexedDB.deleteDatabase(hR);return new yc(t).toPromise()}function Sg(){const t=indexedDB.open(hR,ZV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Lf,{keyPath:fR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Lf)?e(s):(s.close(),await JV(),e(await Sg()))})})}async function a0(t,e,n){const s=md(t,!0).put({[fR]:e,value:n});return new yc(s).toPromise()}async function e4(t,e){const n=md(t,!1).get(e),s=await new yc(n).toPromise();return s===void 0?null:s.value}function o0(t,e){const n=md(t,!0).delete(e);return new yc(n).toPromise()}const t4=800,n4=3;class dR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>n4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(XV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $V(),!this.activeServiceWorker)return;this.sender=new YV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await a0(e,Pf,"1"),await o0(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>a0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>e4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=md(a,!1).getAll();return new yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),t4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dR.type="LOCAL";const r4=dR;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e){return e?qi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s4(t){return iR(t.auth,new Dy(t),t.bypassAuthState)}function a4(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),VV(n,new Dy(t),t.bypassAuthState)}async function o4(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),LV(n,new Dy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s4;case"linkViaPopup":case"linkViaRedirect":return o4;case"reauthViaPopup":case"reauthViaRedirect":return a4;default:Xr(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new mc(2e3,1e4);class Qo extends mR{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=Iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l4.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="pendingRedirect",nf=new Map;class c4 extends mR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const s=await h4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h4(t,e){const n=m4(e),s=d4(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function f4(t,e){nf.set(t._key(),e)}function d4(t){return qi(t._redirectPersistence)}function m4(t){return tf(u4,t.config.apiKey,t.name)}async function p4(t,e,n=!1){if(Cr(t.app))return Promise.reject(Wi(t));const s=so(t),a=i4(s,e),c=await new c4(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=600*1e3;class y4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!pR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(pi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g4&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(e))}saveEventToCache(e){this.cachedEventUids.add(l0(e)),this.lastProcessedEventTime=Date.now()}}function l0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function _4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e={}){return ra(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T4=/^https?/;async function w4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v4(t);for(const n of e)try{if(S4(n))return}catch{}Xr(t,"unauthorized-domain")}function S4(t){const e=Eg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!T4.test(n))return!1;if(E4.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new mc(3e4,6e4);function u0(){const t=gi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A4(t){return new Promise((e,n)=>{function s(){u0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u0(),n(pi(t,"network-request-failed"))},timeout:b4.get()})}if(gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gi().gapi?.load)s();else{const a=yV("iframefcb");return gi()[a]=()=>{gapi.load?s():n(pi(t,"network-request-failed"))},JA(`${gV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rf=null,e})}let rf=null;function R4(t){return rf=rf||A4(t),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=new mc(5e3,15e3),I4="__/auth/iframe",D4="emulator/auth/iframe",N4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O4(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sy(e,D4):`https://${t.config.authDomain}/${I4}`,s={apiKey:e.apiKey,appName:t.name,v:dl},a=x4.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${oc(s).slice(1)}`}async function M4(t){const e=await R4(t),n=gi().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:O4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=pi(t,"network-request-failed"),d=gi().setTimeout(()=>{l(c)},C4.get());function m(){gi().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,V4=600,k4="_blank",U4="http://localhost";class c0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j4(t,e,n,s=L4,a=V4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...P4,width:s.toString(),height:a.toString(),top:l,left:c},g=In().toLowerCase();n&&(d=KA(g)?k4:n),qA(g)&&(e=e||U4,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[D,z])=>`${w}${D}=${z},`,"");if(oV(g)&&d!=="_self")return z4(e||"",d),new c0(null);const T=window.open(e||"",d,_);Me(T,t,"popup-blocked");try{T.focus()}catch{}return new c0(T)}function z4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4="__/auth/handler",F4="emulator/auth/handler",H4=encodeURIComponent("fac");async function h0(t,e,n,s,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:dl,eventId:a};if(e instanceof nR){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",GN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof gc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await t._getAppCheckToken(),g=m?`#${H4}=${encodeURIComponent(m)}`:"";return`${q4(t)}?${oc(d).slice(1)}${g}`}function q4({config:t}){return t.emulator?Sy(t,F4):`https://${t.authDomain}/${B4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class G4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uR,this._completeRedirectFn=p4,this._overrideRedirectResult=f4}async _openPopup(e,n,s,a){ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await h0(e,n,s,Eg(),a);return j4(e,l,Iy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await h0(e,n,s,Eg(),a);return WV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ts(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await M4(e),s=new y4(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vp,{type:Vp},a=>{const l=a?.[0]?.[Vp];l!==void 0&&n(!!l),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=w4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||GA()||Ay()}}const K4=G4;var f0="@firebase/auth",d0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $4(t){yi(new Qr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZA(t)},g=new dV(s,a,l,m);return SV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yi(new Qr("auth-internal",e=>{const n=so(e.getProvider("auth").getImmediate());return(s=>new Y4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(f0,d0,W4(t)),Dr(f0,d0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=300,X4=SS("authIdTokenMaxAge")||Q4;let m0=null;const Z4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>X4)return;const a=n?.token;m0!==a&&(m0=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function J4(t=kg()){const e=no(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wV(t,{popupRedirectResolver:K4,persistence:[r4,GV,uR]}),s=SS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Z4(l.toString());BV(n,c,()=>c(n.currentUser)),zV(n,d=>c(d))}}const a=TS("auth");return a&&bV(n,`http://${a}`),n}function ek(){return document.getElementsByTagName("head")?.[0]??document}mV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=pi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",ek().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$4("Browser");const tk={apiKey:"AIzaSyDHOq__gt6HEkEkCDfxquDCpSheirR5qEA",authDomain:"bingelog-e89f5.firebaseapp.com",projectId:"bingelog-e89f5",storageBucket:"bingelog-e89f5.firebasestorage.app",messagingSenderId:"1027526846013",appId:"1:1027526846013:web:ac40efa1ca0b6c4e50ec54",measurementId:"G-N05RJMX3YG"},Ny=OS(tk);SO(Ny);const xr=bL(Ny),xy=J4(Ny),nk="_mainWrapper_9jvga_1",rk={mainWrapper:nk};function ik(){return A.jsxs("main",{className:rk.mainWrapper,children:[A.jsx("h1",{children:"What's BingeLog?"}),A.jsx("p",{children:"Netflix. Max. Hulu. Disney+. Crunchyroll. The age of streaming is a mishmash of different sources of entertainment with monthly new releases. Do you have the time to watch everything? Can you even keep track of it all? Welcome to BingeLog. Toss all your the shows and movies you still need to watch or catch up on into a list. Keep track of each and every episode and share with friends live updates so they dont spoil what happens two episodes from now in that big final episode of the season. Be as detailed as you want. Track entire characters and their arcs. Settings. Plot points. Make notes for each episode."}),A.jsx(Fi,{to:"/about",children:A.jsx("h2",{children:"Click here to learn more"})}),A.jsx("br",{})]})}function _n({children:t,...e}){return A.jsx(A.Fragment,{children:A.jsx("button",{...e,children:t})})}const sk="_curWatchingWrapper_qlfa3_1",ak="_watchingList_qlfa3_19",p0={curWatchingWrapper:sk,watchingList:ak};function ok(){const t=Ze(e=>e.shows.currentlyBinging);return console.log(t),A.jsx(A.Fragment,{children:A.jsxs("main",{className:p0.curWatchingWrapper,children:[A.jsx("h2",{children:"Currently Binging:"}),A.jsx("div",{className:p0.watchingList,children:t.map(e=>A.jsx("p",{children:e.show},e.id))})]})})}const lk=F.createContext({userAccount:{id:void 0,email:void 0,userName:void 0,password:void 0,myShows:[],friendList:[]},bingeFeed:[{userName:void 0,currBinge:[],recentlyWatchedEp:{epName:void 0,showName:void 0},recentlyFinishedShow:void 0}],addFriend:()=>{},isCreatingAccount:!1,createNewUser:async()=>{},startCreatingAccount:()=>{},stopCreatingAccount:()=>{},isLoggingIn:!1,isLoggedIn:!1,startLoggingIn:()=>{},stopLoggingIn:()=>{},verifyLogin:()=>{},logOut:()=>{}});F.createContext({bio:[],editingBio:[!1],updateBio:()=>{},editBio:()=>{},saveBio:()=>{},bioAvatar:[],uploadAvatar:()=>{},myShows:[],saveShow:()=>{},displayShows:()=>{},currentlyBinging:[],binging:()=>{},bingingChecked:[],areNotesOpen:[],openNotes:()=>{},isEditingEpNotes:[],editEpNotes:()=>{},updateEpNotes:()=>{},saveNotes:()=>{},epNotes:[],isEditingCharNotes:[],editCharNotes:()=>{},updateCharNotes:()=>{},saveCharNotes:()=>{},characterNotes:[]});function uk(){const t=En();function e(a){t(qu.updateBio(a))}function n(){t(qu.saveBio())}const s=Ze(a=>a.profile.bio);return A.jsxs(A.Fragment,{children:[A.jsx("label",{children:"Upload Avatar"}),A.jsx("input",{type:"file",accept:"image/*"}),A.jsxs("div",{children:[A.jsx("textarea",{value:s,onChange:a=>e(a.target.value)}),A.jsx(_n,{onClick:n,children:"Save Bio"})]})]})}const ck="_mainWrapper_cfe5a_1",hk="_header_cfe5a_15",fk="_editBttn_cfe5a_27",dk="_totalBinge_cfe5a_37",mk="_bioBox_cfe5a_57",pk="_avatar_cfe5a_81",ka={mainWrapper:ck,header:hk,editBttn:fk,totalBinge:dk,bioBox:mk,avatar:pk};function gk({id:t}){const e=En();function n(){e(qu.editBio())}const s=Ze(m=>m.profile.bio),a=Ze(m=>m.auth.user.userName);Ze(m=>m.auth.user.id);const l=Ze(m=>m.profile.isEditingBio),c=Ze(m=>m.shows.currentlyBinging),d=Ze(m=>m.shows.finishedShows);return A.jsx(A.Fragment,{children:A.jsxs("main",{className:ka.mainWrapper,children:[A.jsxs("div",{className:ka.header,children:[A.jsx(_n,{className:ka.editBttn,onClick:n,children:"Edit Bio"}),A.jsx(_n,{className:ka.editBttn,children:" Add Friend"}),A.jsx("img",{className:ka.avatar,src:"/Bingelog/DefaultAvatar.png",width:"75",height:"75"}),A.jsx("h3",{children:a}),A.jsx("h3",{children:"Binging since: 2025"}),A.jsx(Fi,{to:"/friendsList",children:A.jsx("h2",{children:"Friends List"})}),l?A.jsx(uk,{}):A.jsx("div",{className:ka.bioBox,children:s}),A.jsxs("div",{className:ka.totalBinge,children:[A.jsxs("h4",{children:["Shows Finished: ",d.length," "]}),A.jsxs("h4",{children:["Currently Binging: ",c.length," shows"]})]})]}),A.jsx("a",{href:"http://localhost:5173/userPage/${userId}",to:"_blank",children:A.jsx("h4",{children:"Share Profile Link"})})]})})}const yk="_mainWrapper_9mvwk_1",_k="_menuBttns_9mvwk_19",vk="_mainContent_9mvwk_41",kp={mainWrapper:yk,menuBttns:_k,mainContent:vk},Ek="_inputWrapper_15cja_1",Tk={inputWrapper:Ek};function rl({label:t,id:e,attribute:n,...s}){return A.jsx(A.Fragment,{children:A.jsxs("div",{className:Tk.inputWrapper,children:[A.jsx("label",{htmlFor:n,children:t}),A.jsx("input",{id:e,...s})]})})}const wk="_showNotesWrapper_easm0_1",Sk="_saveNotesBttn_easm0_47",bk="_noteBttnsDiv_easm0_63",Ak="_editBttn_easm0_77",Rk="_viewNotesBttn_easm0_91",Ck="_closeNotesBttn_easm0_107",Ik="_showNotes_easm0_1",Ua={showNotesWrapper:wk,saveNotesBttn:Sk,noteBttnsDiv:bk,editBttn:Ak,viewNotesBttn:Rk,closeNotesBttn:Ck,showNotes:Ik};function Dk({epTitle:t,showTitle:e}){const n=En(),s=Ze(P=>P.notes.epNotes),a=Ze(P=>P.notes.charNotes),l=Ze(P=>P.auth.user.uid),c=Ze(P=>P.shows.watchedEps),[d,m]=F.useState({}),[g,_]=F.useState({}),[T,w]=F.useState(),[D,z]=F.useState();function j(P){w(P)}function U(P,N){m(R=>({...R,[N]:P}))}function W(P,N){_(R=>({...R,[N]:P}))}async function oe(P,N){const R=c.some(L=>L.epName===P&&L.showName===N);let C=null;R?C=c.filter(L=>!(L.epName===P&&L.showName===N)):(C=[...c,{epName:P,showName:N}],alert(`Watched ${P}!`));try{const L=es(xr,"Users",l);await Xa(L,{watchedEps:C}),n(cr.updateWatchedEps(C))}catch(L){console.error(L)}}async function X(P){const N={...s,[P]:d[P]??s[P]},R={...a,[P]:g[P]??a[P]};try{const C=es(xr,"Users",l);await Xa(C,{epNotes:N||"",charNotes:R||""}),n(cf.updateEpNotes(N)),n(cf.updateCharNotes(R))}catch(C){console.error(C)}w()}function he(P){z(P)}function le(){z()}return F.useEffect(()=>{const P=JSON.parse(localStorage.getItem("EpNotes: "+t));P&&U(P,t)},[t]),A.jsxs("main",{className:Ua.showNotesWrapper,children:[A.jsxs("div",{className:Ua.noteBttnsDiv,children:[T===t?A.jsx(_n,{className:Ua.saveNotesBttn,onClick:()=>X(t),children:"Save Notes"}):A.jsx(_n,{className:Ua.editBttn,onClick:()=>j(t),children:"Edit Notes"}),T!==t&&D===t?A.jsx(_n,{className:Ua.closeNotesBttn,onClick:()=>le(),children:"Close Notes"}):A.jsx(_n,{className:Ua.viewNotesBttn,onClick:()=>he(t),children:"View Notes"}),A.jsx(rl,{label:"Watched",type:"checkbox",value:t,checked:c.some(P=>P.epName===t&&P.showName===e),onChange:()=>oe(t,e)})]}),T===t&&A.jsxs("div",{children:[A.jsx("p",{children:"Episode Notes"}),A.jsx("textarea",{value:d[t]??s[t],onChange:P=>U(P.target.value,t)}),A.jsx("p",{children:"Character Notes"}),A.jsx("textarea",{value:g[t]??a[t],onChange:P=>W(P.target.value,t)})]}),D===t&&A.jsxs("div",{className:Ua.showNotes,children:[A.jsx("p",{children:"Episode Notes "}),s[t],A.jsx("hr",{}),A.jsx("p",{children:"CharacterNotes"}),a[t]]})]})}const Nk="_epWrapper_9zql4_1",xk="_epList_9zql4_63",Ok="_singleEp_9zql4_87",Hh={epWrapper:Nk,epList:xk,singleEp:Ok};function Mk({seasonTitle:t,show:e}){const n=e.seasons.find(s=>s.title===t);return A.jsxs("main",{className:Hh.epWrapper,children:[A.jsx("div",{children:A.jsx("p",{className:Hh.epList,children:"Episodes List"})}),n&&A.jsx("div",{children:n.episodes?.map(s=>A.jsxs("div",{className:Hh.singleEp,id:s.title,children:[A.jsxs("header",{children:[A.jsx("h3",{children:s.title}),A.jsx("div",{className:Hh.noteBttnsDiv,children:A.jsx(Dk,{show:e,epTitle:s.title,showTitle:e.title})})]}),A.jsx("br",{})]},s.title))},n.title)]})}const Pk="_seasonsWrapper_u2jy9_1",Lk="_seasonsTitle_u2jy9_15",g0={seasonsWrapper:Pk,seasonsTitle:Lk};function Vk({show:t}){const[e,n]=F.useState("");function s(a){n(a),e===a&&n("")}return A.jsxs("main",{className:g0.seasonsWrapper,children:[A.jsx("p",{className:g0.seasonsTitle,children:"Seasons List"}),t&&A.jsxs("div",{children:[t.seasons?.map(a=>A.jsx("p",{onClick:()=>s(a.title),children:a.title},a.title)),e&&A.jsx(Mk,{seasonTitle:e,show:t})]},t.imdbId)]})}const kk="_showWrapper_glu6g_1",Uk="_showTitle_glu6g_19",jk="_showStatus_glu6g_47",Up={showWrapper:kk,showTitle:Uk,showStatus:jk},zk="_reviewDivWrapper_5tcso_1",Bk={reviewDivWrapper:zk};function Fk({showId:t,showTitle:e}){const[n,s]=F.useState(""),a=En(),l=Ze(_=>_.shows.reviews),c=Ze(_=>_.auth.user.uid),d=es(xr,"Users",c);function m(_){s(_)}async function g(){const _=n?.trim()??"",T={showId:t,title:e,text:_,createdAt:Date.now()},D=[...(Array.isArray(l)?l:[]).filter(z=>z.showID!==t),T];await Xa(d,{reviews:D}),a(cr.updateReviews(D)),alert("Review Saved!")}return A.jsxs("div",{className:Bk.reviewDivWrapper,children:[A.jsx("textarea",{value:n,onChange:_=>m(_.target.value)}),A.jsx("button",{onClick:()=>g(),children:"Save Review"})]})}function y0({id:t}){const e=En(),[n,s]=F.useState(""),a=Ze(j=>j.shows.myShows),l=Ze(j=>j.shows.currentlyBinging),c=Ze(j=>j.shows.finishedShows),d=Ze(j=>j.auth.user.uid),m=Ze(j=>j.shows.isReviewing),g=Ze(j=>j.shows.reviewingShowId);function _(j){s(j),n===j&&s("")}async function T(j,U){const W=c.some(X=>X.id===U);let oe;W?oe=c.filter(X=>X.id!==U):(oe=[...c,{show:j,id:U}],alert(`Finished ${j}!`));try{const X=es(xr,"Users",d);await Xa(X,{finishedShows:oe}),e(cr.updateFinishedShows(oe))}catch(X){console.log(X)}}async function w(j,U){const W=l.some(X=>X.id===U);let oe;W?oe=l.filter(X=>X.id!==U):oe=[...l,{show:j,id:U}];try{const X=es(xr,"Users",d);await Xa(X,{currentlyBinging:oe}),e(cr.updateBinging(oe))}catch(X){console.error(X)}}function D(j){e(cr.reviewingShow(j)),e(cr.toggleReviewing())}function z(j){const U=[...j].sort((W,oe)=>W.title.localeCompare(oe.title));console.log(U),e(cr.updateMyShows(U))}return A.jsxs("main",{...t,className:Up.showWrapper,children:[A.jsxs("div",{children:[A.jsx("h2",{children:"Show Sorting Options"}),A.jsx("button",{onClick:()=>z(a),children:"Sort by show name"})]}),a.map(j=>A.jsxs("div",{className:Up.showTitle,children:[A.jsx("p",{onClick:()=>_(j.imdbId),children:j.title}),A.jsxs("div",{className:Up.showStatus,children:[c&&A.jsx("button",{onClick:()=>D(j.imdbId),children:"Add Reveiw"}),A.jsxs("label",{children:[" Finished",A.jsx("input",{type:"checkbox",value:j.imdbId,checked:c.some(U=>U.id===j.imdbId),onChange:()=>T(j.title,j.imdbId)})]})," ||",A.jsxs("label",{children:[" Currently Binging",A.jsx("input",{type:"checkbox",value:j.imdbId,checked:l.some(U=>U.id===j.imdbId),onChange:()=>w(j.title,j.imdbId)})]})]}),m&&g===j.imdbId&&A.jsx(Fk,{showId:j.imdbId,showTitle:j.title}),n===j.imdbId&&A.jsx(Vk,{show:j})]},j.imdbId))]})}const Hk="_reviewsWrapperDiv_69dcg_1",qk="_showTitle_69dcg_11",Gk="_showReview_69dcg_19",jp={reviewsWrapperDiv:Hk,showTitle:qk,showReview:Gk};function Kk(){En();const t=Ze(e=>e.shows.reviews);return A.jsx(A.Fragment,{children:A.jsxs("main",{className:jp.reviewsWrapperDiv,children:[A.jsx("h1",{children:"Reviews"}),t.map(e=>A.jsxs("div",{children:[A.jsx("h1",{className:jp.showTitle,children:e.title}),A.jsx("div",{className:jp.showReview,children:e.text})]}))]})})}function Yk(){const[t,e]=F.useState(A.jsx(y0,{})),s=uS().id;if(!Ze(m=>m.auth.isLoggedIn))return A.jsx(jD,{to:"/",replace:!0});function l(){e(A.jsx(y0,{userId:s}))}function c(){e(A.jsx(Kk,{userId:s}))}function d(){e(A.jsx(ok,{userId:s}))}return A.jsx(A.Fragment,{children:A.jsxs("main",{className:kp.mainWrapper,id:s,children:[A.jsx(gk,{id:s}),A.jsxs("div",{className:kp.menuBttns,children:[A.jsx(_n,{onClick:l,children:"My Shows"})," |",A.jsx(_n,{onClick:c,children:"My Reviews"})," |",A.jsx(_n,{onClick:d,children:"Currently Watching"})]}),A.jsx("div",{className:kp.mainContent,children:t})]})})}const Wk="_showWrapper_ok71v_1",$k="_showInfo_ok71v_35",Qk="_showDetails_ok71v_57",Xk="_genres_ok71v_77",Zk="_seasonInfo_ok71v_89",Ru={showWrapper:Wk,showInfo:$k,showDetails:Qk,genres:Xk,seasonInfo:Zk};function Jk({showDetails:t}){console.log(t);const e=En(),n=Ze(c=>c.shows.myShows),s=Ze(c=>c.auth.user.uid);async function a(c){const d={imdbId:c.imdbId,title:c.title,seasons:c.seasons?.map(_=>({title:_.title,episodes:_.episodes?.map(T=>({title:T.title}))}))},m=[...n,d];if(!s){console.error("No user logged in!");return}const g=es(xr,"Users",s);await Xa(g,{myShows:m}),e(cr.updateMyShows(m))}function l(c){a(c)}return console.log(t),A.jsx("main",{className:Ru.showWrapper,children:t&&A.jsxs("div",{className:Ru.showInfo,children:[A.jsxs("header",{children:[A.jsx("h2",{children:t.title}),A.jsx(_n,{onClick:()=>l(t),children:"Save Show"})]}),A.jsxs("div",{className:Ru.showDetails,children:[A.jsxs("div",{className:Ru.genres,children:[A.jsx("p",{children:t.genres[0].name}),"|",A.jsx("p",{children:t?.genres[1]?.name}),"|",A.jsx("p",{children:t?.genres[2]?.name})]}),A.jsxs("div",{className:Ru.seasonInfo,children:[A.jsxs("p",{children:[t?.seasonCount," Seasons"]})," -",A.jsxs("p",{children:[t.episodeCount," Episodes"]})]})]}),A.jsx("p",{children:t.overview}),A.jsx("img",{src:t.imageSet.verticalPoster.w240})]},t.imdbId)})}const eU="_mainDropdownWrapper_15h6a_1",tU={mainDropdownWrapper:eU};function nU({searchResults:t,query:e}){const[n,s]=F.useState(null);function a(l){s(l)}return console.log(t),A.jsxs(A.Fragment,{children:[A.jsx("div",{className:tU.mainDropdownWrapper,children:A.jsx("div",{children:t.filter(l=>l.title.toLowerCase().includes(e.toLowerCase())).map(l=>A.jsx("p",{onClick:()=>a(l),children:l.title},l.imdbId))})}),A.jsx("div",{children:n&&A.jsx(Jk,{showDetails:n})})]})}const rU="_mainWrapper_vwg4t_1",iU={mainWrapper:rU};function sU(){const[t,e]=F.useState(""),[n,s]=F.useState(null);return F.useEffect(()=>{if(!t)return;const a=setTimeout(()=>{async function l(c){try{const d=`https://streaming-availability.p.rapidapi.com/shows/search/title?title=${c}&country=us&series_granularity=episode&output_language=en`,_=await(await fetch(d,{method:"GET",headers:{"x-rapidapi-key":"a89fb87d38msh09f056f5c014528p1a7f90jsn35606eacd94f","x-rapidapi-host":"streaming-availability.p.rapidapi.com"}})).json();s(_),console.log(_)}catch(d){console.error(d)}}l(t)},500);return()=>clearTimeout(a)},[t]),A.jsxs("div",{className:iU.mainWrapper,children:[A.jsx("input",{type:"search",placeholder:"Seach a show",value:t,onChange:a=>e(a.target.value)}),n&&A.jsx(nU,{searchResults:n,query:t})]})}const aU="_mainWrapper_1yzt3_1",oU={mainWrapper:aU};function lU(){return A.jsx(A.Fragment,{children:A.jsx("main",{className:oU.mainWrapper,children:A.jsxs("header",{children:[A.jsx("h1",{children:"Shows List Page"}),A.jsx(sU,{})]})})})}const uU="_actionBarWrapper_halnk_1",cU={actionBarWrapper:uU};function gR(){function t(){}return A.jsx("main",{children:A.jsxs("div",{children:[A.jsx("textarea",{}),A.jsx("button",{onClick:t,children:"Post"})]})})}function hU(){const[t,e]=F.useState(!1);function n(){e(!0)}return A.jsxs("main",{children:[A.jsxs("div",{children:[A.jsx("h3",{children:"COMMENT CHAT CHAINS"}),A.jsx("p",{children:"User B comment"}),A.jsx("button",{onClick:n,children:"Reply"})]}),t&&A.jsx(gR,{})]})}function fU(){const[t,e]=F.useState(!1),[n,s]=F.useState(null),[a,l]=F.useState(!1);function c(){e(!0),t&&e(!1)}function d(){l(!0),a&&l(!1)}function m(){s(n+1)}return A.jsxs("main",{className:cU.actionBarWrapper,children:[A.jsxs("div",{children:[A.jsx("img",{width:"30x",onClick:c,src:"/BingeLog/LeaveComment.png"}),A.jsx("img",{width:"30x",onClick:m,src:"/BingeLog/HeartReact.png"}),n,A.jsx("img",{width:"30x",onClick:d,src:"/BingeLog/CommentChats.png"})]}),A.jsxs("div",{children:[t&&A.jsx(gR,{}),a&&A.jsx(hU,{})]})]})}const dU="_mainWrapper_qbpa0_1",mU="_header_qbpa0_23",_0={mainWrapper:dU,header:mU};function yR({friend:t,key:e}){return A.jsxs("main",{className:_0.mainWrapper,children:[A.jsxs("article",{children:[A.jsx("header",{className:_0.header,children:A.jsx("p",{children:t?.userName})}),A.jsxs("div",{children:[A.jsxs("p",{children:["Currently Binging: ","",t.currentlyBinging?.length>0?t.currentlyBinging.map(n=>n.show).join(", "):"Friend is not bining anything"]}),A.jsxs("p",{children:["Recently Watched: ","",t.watchedEps?.length>0?`${t.watchedEps[t.watchedEps.length-1].epName} -
                      ${t.watchedEps[t.watchedEps.length-1].showName}`:"Friend has not recently watched anything"]}),A.jsxs("p",{children:["Recently Finished: ","",t.finishedShows?.length>0?t.finishedShows[t.finishedShows.length-1].show:""]})]})]}),A.jsx(fU,{})]},e)}const pU="_mainWrapper_11kuf_1",gU="_sortingDiv_11kuf_15",v0={mainWrapper:pU,sortingDiv:gU};function yU({globalUsers:t}){En();const e=Ze(n=>n.friends.friendsList);return console.log(t),console.log(e),A.jsxs("main",{className:v0.mainWrapper,children:[A.jsx("h1",{children:"BingeLog Feed - Auto Updates "}),A.jsxs("div",{className:v0.sortingDiv,children:[A.jsx("p",{children:"Sort by username"}),A.jsx("p",{children:"Sort by most recently updated"})]}),e?.map(n=>{const s=t.find(a=>a.id===n);return s?A.jsx(yR,{friend:s},s.id):null})]})}const _U="_mainWrapper_11kuf_1",vU="_sortingDiv_11kuf_15",E0={mainWrapper:_U,sortingDiv:vU};function EU({globalUsers:t}){En();const e=Ze(n=>n.friends.friendsList);return A.jsxs("main",{className:E0.mainWrapper,children:[A.jsx("h1",{children:"BingeLog Feed - Manual Updates"}),A.jsxs("div",{className:E0.sortingDiv,children:[A.jsx("p",{children:"Sort by username"}),A.jsx("p",{children:"Sort by most recently updated"})]}),e?.map(n=>{const s=t.find(a=>a.id===n);return s?A.jsx(yR,{friend:s},s.id):null})]})}const TU="_mainWrapper_7r4cv_1",wU={mainWrapper:TU};function SU(){En(),Ze(c=>c.friends.friendsList);const[t,e]=F.useState([]),[n,s]=F.useState("auto");function a(){s("manual")}function l(){s("auto")}return F.useEffect(()=>{async function c(){try{const m=(await Ty(py(xr,"Users"))).docs.map(g=>({id:g.id,...g.data()}));e(m)}catch(d){console.error("Can't find global users",d)}}c()},[]),console.log(t),A.jsxs("main",{className:wU.mainWrapper,children:[A.jsx("h1",{children:"BingeLog Feed"}),A.jsxs("div",{children:[A.jsx("button",{onClick:l,children:"View Auto Updates"}),A.jsx("button",{onClick:a,children:"View Manuel Updates"})]}),n==="auto"?A.jsx(yU,{globalUsers:t}):A.jsx(EU,{globalUsers:t})]})}const bU="_mainWrapper_1q5s2_1",AU={mainWrapper:bU},RU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAAAxCAYAAABQzoWlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAyqSURBVHhe7Z09axtLF8fzVQT+AoYUT3sFaQRuAreIIEUwT/EgXATj4iLSBPEUF+EiiBRGpDDoFgalCMhFwG4MSmFQCoNcGOQihQoXW7jYwsW5Z1YraXfmPzuzaynROufAD8xodnZ3Xv47c+bFz9hIEAThiQEDBUEQygwMFARBKDMwUBAEoczAQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUINvUODqj0dWYxpdn1N3bBnEEYc08b1D3fERjroej8y41noM4AgwUDCrUvgwpbSGNj6og7hNhq0q7/+9S77i3oPPXS6pugbir4nmN6q/rKWrScJdstWlkVMMxdV+AuCulQtU/0+VS/7NKFRh3I4CBgkGXxnE9Stl1F8QtOxVqHI8peIjfUbdwRB143Qr4ZOby+BOI97sC8kfZ+vNon86C+GZzC85oH8bdCGCght6oH9NTqVHvJk5mbqUQB4uwXT01YavQ/rlegzX73lnfl/oJCFv3On7wud2xAPj0ct+ekZHzetuwCdtRIs5a+C2EjY2/2u0CQ5LK4YhlUbNSCBsaigZ0dlABcUvMmwFN47ez2eiD7zs3aHAbUnif4HZADRg35ikKG1twvu/+GPgIGxqK+grno1iPsDW+TNL1435Cgz0cNycwUAP3VrwKK8lWi4b38cVJK81w7ulPHqDeWngzoNZenep7Lepf9KkJrsMUaAxPVNiiUc6nGoy/wEfYFL9k8mA9wmbWN+4svMVxcwIDNSzDMP62D96g+Jj9r2ajiaw0wvb0MRrlw4g6hXsDImxpc/TwfYXtl/BbCRvbbZ9q8BqNnT5N4ksM8y28aMasSZ3FDB33InZsvSYwi/O6RtswbpJtqqWuqdPLP2aVsfLHy1R4/bXfDGF03V+deGaxG/V+1jfTN3vvxnw286hFDc/nXFnlXcxstmlopDekdioPtTJxCNv2Tp2aH+JZ2g/NjPJ3oJ6Re6DdRF2al/NjsQsbm5rB3MHX+QlbwdnJrSq9XLyvqoPpOqHyNTtNR91wpJ9m2cba30xhG/6dfpaCbQUGamQIG9v4k2sioZpd2JnCxgV50KPRD8Mzt7T7KY0+t6ieysgKdb7Hvy8spOG7ZByTyvuh5gMMaXQ4q/D5vi4Vqh8OaHwXRwUW/hhRb1XD2ee71DnNmMlkC64tw+ePo4WPA9nS/6HwmBG1OLixcUN3XDv+pPLyjCbIjaHsbkyDvx3DvJjtPUddUmkd1h81OZJZ15XZfGJewpbv41N51aazWyPVhQVXvWgoazyzkablvjws7l1Z0n8IaXrJ6Rvvmq0nuhXsscNADceDOCYS4IRB0mzCtlWnzqW9UAwLuNG9Snx13+kixZY5o1c1Z2ynA9qNf/cWtq0G9W8y3zhhXPinTY+epJ3tdwOa+N4O3e8xQoRYsbCFgU8dcPmwatS+cE2LLC3gepL+UPrjFDa2kOu8MdJZqbBVqHEyyW53c+Ne5PhH/PfcfITtIaDA5waGkJdF2NjCby2LYIAM0Q0KW40riHdrXVqqq79LA6Mu8++2CgtmBCf/LHujXsK2xe/r334WlnsiJqZyABqDh6Xut+HC5m+2HjTXpav8dQmKjwc+wqbMKPMVCluN87FA61maj7DlsPCqS9VFWiUSNlul2v2itXI0VALCZp1oCCY0Ou9T7+SMRrYudqKXVf3H9OwlxSpJ80KrCprj3EfY4HOHExoeK1+X8hk0qPUZDRltjTKDF1wusPZyr+x6SIPjHg0uxjSFQ7jlEHvlQ9E3rZkP7JiH4vq973moF/02p7UoqwiHsIV3ExpzuYe2ITfokVePQCPn3sb4tEPN2I/TPBrCXq/bzWJiCltIwR3KW62XuSphy/BnB7cjOjvhfD8dci8Nl3dkeYUtDLjOcV2zduGSE4271IrLf2B0XjhPTpP1o0etHBOUCWCghilswfnAXE+jTyTs9GiiVcDJSd8USb3wVIM1Km7I1zaMSlv5HxciyMvFWqutDo30tBLCtwDECy+aqThOYXvB7xv/sjCbP2UHiNJNL/FVc2M+D9vdkNqGc5qHYYaTls3IB7/egD8F0rMIW3jT15Y1bFMTvT9/jNrJ9J41zSVGNge+6m3rPtH7YY7lLTNMYeN6cgDSjkz9FtfVFQmb8YFWxu/cS7ppYrb3cPvxF7aAhppPsvKqBz+40y/1RHozvN07+YGBGkjY9qkKKuHkeP4FqlD7u/Z2qpGj3p9WeKiXFX5vG6I2x7bodx7fLGhzEsG8p7mUxVUI1RM9jezJCvOeGcNkA9BgM5ffoGG5XokKCFEmBdJDwsbi0oL5ghob58HrRBxjMsjeY48w/LL5GxoUNpUG+pgpmwvtSoQN5QnfP2OZCWw/nsI2OcF+zQoqR27DeryNFDbVE+jfxgFziycS0Ozi8L3KXLewtdFs5vvk8+iAhb/JgkGr6VNDFtDoQe/JVQjmc095CJruVqc41YdIqgKm72nlNXgn7jFn9fhM4VUfomSFLyBEmRRIDzSIWV0DcZnWN71JpsukrrtCOMf1oU6aoZGv6TxyYxU2/s3qE1UfffRbbmED7YvTztzt4Wo/EUjYJtSzfYhfgOGw8S4bK2z8GxCN8Fvf6HYve1xuYTMrRkYGRlTM2Uy+y9IpDWY7VZrzExHA7CnaNuQqBPO585u3oxR83bMEIAI0nPQ1mylsWXniKhPz9/zmzFeNLGFT2Bz74V1ghq9C2ICgpPEpp7xl6fccmytsLCrOyvPAIrLwaaxD2KpmzzElbPyl/DCKw5c2Pd3l38B6N4tf5acIm+9m5iLCBoZlImxuC742Uvd04RI2rzYzt1UIm7MM26Yf2rjmtxM2xrYHNLbpFyUg9rT0FzaHF9yDOlz+buJTMMAnpQQMOPxngpe8doarEMznntLgbXoVdTY5zjpDXf3pgOoobow5LNOHWU9P2JDfc3SE8t5O3pXvbmFTeC5nyi1sdeBLTcyAA2rHpovCLKffUdgY6yJc4+XdLwwdjxlbt2DBgGn/3VPT3zK5MTwqyyGqhqsQ0HOrfLJNejwOUNH4fWZ+TBBfzfgZ8fXJhgJClAlIT00EwLgxKxY26JC/6RVan+aLn7Ax6KQO3XILG6rnbA9TY/ZS9Rzrh0Mzf5T9MmFz+dO9gYEabmFTXyDTj4UaGujd6S9sKfDgW9vYNoULxvKFQssxdMvYmeBsRPC5WTw/N+DOArW9ZxxMszdGZ2CsEVQWTqivb5t6btkJsfblHqiRZ83cMqsWNjgbjOrSjGgL0o+A7+m3RQvhLWyMc4F1AWHLFMwwoIk6neZ6mr1r4CcJGypv24gpJzBQw0fYGG1hYHq18RyQQeCFrSunH2YLAdWRLVNLjbCvGEf7R5PGQpyxPMPdiCy9R2X83FGFikk/O6dTRNzQuqvYooWs6l7WxazonqsXNjPP2MIpjS8G8eJhrYe8cmHLEA+1lzGuS4pJahGtxzFDFvIImyJzl0ARYWOK7khZ2M8SNtSj5tyIFpirRcRT7hhkLc+xAwM1PIWN2edu8GyF+jgxYZDET9hUDxAuKnWZbUHsHLR/dG5o4W4Cn0ZU+LnVcdv/0dNyY1ugnG22Rrt6YfM5uHJykqi4axA29UHz3jeZMu5d/ldPy01eYcucTCgobAq1h5h1wW1TFnVnmmsSNkuPOmWOZUwWYKCGv7C58RU2xTY1T/0rpDqdtel09IK1d7G5vgx+jUiR77kj/4fn6RSIyqsOjfRHsxn3HEcfbadXrEHYVKP96qi5yQ/KWoRNUaH6x1Hm6SdpwztdfMgvbArLZMIjhC1ifuoLqow8LB1Hp+KANI21b+sStlnvcppZLg73BQYGavwqYZtRedWi/uXUWikDdfzPgf9/zEFLP3wOVPRvRDMqf+xT72Ji92WoirWyE1Bnp/uO4Z5ENnWv0w7tZt5rHcKmyDjCKTrapvsThC0mbug2N0bk6rjsUwtsP/KlmLAxyLXwWGFLkDxPMHX2HJphN/6Xx/qETaF8m4NrXCjqeK/ueoRtc0gd9rjZ//4rjfZv5db7L+XSh2Vu1L+vS+bDry4/dThiIp9WddDkplA9aHl9NNEsKtrX+XNI1t0cy59MYKAgCGVmvrZUnWLCo4J9JNos7Pufkcuk0NBv04CBgiCUGLwUKKQwmM6WeqgJPotrJ+vAiRIBAwVBKCvw2C9Pc60qKA8wUBCE0uL4HxEWM8+8KzUwUBCE0qP+EVJnthA6wEPP8D6gycWAOk/vf+TCQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUBEEoMzBQEAShzMBAQRCEkvKM/gU6XAPgx+NWUwAAAABJRU5ErkJggg==";function CU(){return A.jsx(A.Fragment,{children:A.jsxs("footer",{className:AU.mainWrapper,children:[A.jsx("h4",{children:"Credits"}),A.jsxs("p",{children:[A.jsx("a",{href:"https://www.movieofthenight.com/about/api",children:A.jsx("img",{width:"110px",src:RU})})," | Show and Movie Data"]})]})})}function IU(){return A.jsxs(A.Fragment,{children:[A.jsx("h2",{children:"About Page"}),A.jsx(CU,{})]})}function DU(){En();const t=Ze(s=>s.friends.friendsList),[e,n]=F.useState([]);return F.useEffect(()=>{async function s(){try{const l=(await Ty(py(xr,"Users"))).docs.map(c=>({id:c.id,...c.data()}));n(l)}catch(a){console.error("Can't find global users",a)}}s()},[]),console.log("Global Users",e),console.log("Friend List",t),A.jsxs(A.Fragment,{children:[A.jsx("h1",{children:"Friends List"}),t.map(s=>{const a=e.find(l=>l.id===s);return A.jsx("div",{children:A.jsx("p",{children:a?.userName||"Unknown User"})},s)})]})}const NU="_showWrapper_ok71v_1",xU="_showInfo_ok71v_35",T0={showWrapper:NU,showInfo:xU};function OU({userDetails:t}){console.log("User Details",t);const e=En(),n=Ze(c=>c.auth.user.uid),s=Ze(c=>c.friends.friendsList);uS().id;async function l(c){const d=[...s,c];try{const m=es(xr,"Users",n);await Xa(m,{friendsList:d}),e(F0.addFriend(s)),alert("Friend Added!")}catch(m){console.log(m),alert(m.message)}}return A.jsx("main",{className:T0.showWrapper,children:t&&A.jsx("div",{className:T0.showInfo,children:A.jsxs("header",{children:[A.jsx(Fi,{to:`/userPage/:${t.id}`,children:A.jsx("h2",{children:t.userName})}),A.jsx(_n,{onClick:()=>l(t.id),children:"Save User"})]})},t.id)})}const MU="_mainDropdownWrapper_15h6a_1",PU={mainDropdownWrapper:MU};function LU({searchResults:t}){console.log("Search Results in Dropdown",t);const[e,n]=F.useState(null);function s(a){n(a)}return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:PU.mainDropdownWrapper,children:A.jsx("div",{children:t.map(a=>A.jsx("p",{onClick:()=>s(a),children:a.userName},a.uid))})}),A.jsx("div",{children:e&&A.jsx(OU,{userDetails:e})})]})}const VU="_mainWrapper_vwg4t_1",kU={mainWrapper:VU};function UU(){const[t,e]=F.useState(""),[n,s]=F.useState(null);return F.useEffect(()=>{async function a(l){if(l)try{const m=(await Ty(py(xr,"Users"))).docs.map(g=>({id:g.id,...g.data()})).filter(g=>g.userName?.toLowerCase().includes(l.toLowerCase()));s(m),console.log("Query Data",m)}catch(c){console.error("Can't find global users",c)}}a(t)},[t]),A.jsxs("div",{className:kU.mainWrapper,children:[A.jsx("input",{type:"search",placeholder:"Seach a user",value:t,onChange:a=>e(a.target.value)}),n&&A.jsx(LU,{searchResults:n})]})}const jU="_mainWrapper_1yzt3_1",zU={mainWrapper:jU};function BU(){return A.jsx(A.Fragment,{children:A.jsx("main",{className:zU.mainWrapper,children:A.jsxs("header",{children:[A.jsx("h1",{children:"User Search"}),A.jsx(UU,{})]})})})}const FU="_mainWrapper_m6cxa_1",HU="_nav_m6cxa_77",qU="_navList_m6cxa_95",zp={mainWrapper:FU,nav:HU,navList:qU},GU="_inputWrapper_mikpn_3",Vf={inputWrapper:GU};function KU({type:t,onSubmit:e}){return F.useContext(lk),Ze(n=>n.auth.user),En(),A.jsx("form",{onSubmit:e,className:Vf.formWrapper,children:A.jsxs("div",{className:Vf.inputWrapper,children:[A.jsx(rl,{label:"User Name",htmlFor:"username",id:"username",name:"username"}),A.jsx(rl,{label:"Password",htmlFor:"password",id:"password",name:"password"}),A.jsx(rl,{label:"Email",htmlFor:"email",id:"email",name:"email"}),A.jsx(_n,{type:t,children:"Sign Up"})]})})}const YU={};function _R({children:t,open:e,handleClose:n}){const s=F.useRef();return F.useEffect(()=>{const a=s.current;return e&&a.showModal(),()=>{a.open&&a.close()}},[e]),yS.createPortal(A.jsxs("dialog",{onClose:n,ref:s,className:YU.dialog,children:[" ",t," "]}),document.getElementById("modal"))}function WU(){const t=En(),e=Ze(l=>l.auth.isCreatingAccount),n=()=>t(Ki.stopCreatingAccount());async function s(l){try{const d=(await UV(xy,l.email,l.password)).user.uid,m=es(xr,"Users",d);await jL(m,{email:l.email,userName:l.userName,bio:"",bioAvatar:null,friendsList:[],myShows:[],epNotes:[],charNotes:[],currentlyBinging:[],watchedEps:[],finishedShows:[],reviews:[]}),t(Ki.login({uid:d,email:l.email,userName:l.userName})),t(Ki.stopCreatingAccount())}catch(c){console.error(c)}}function a(l){l.preventDefault();const c=new FormData(l.target),d=c.get("email"),m=c.get("username"),g=c.get("password");s({email:d,userName:m,password:g})}return A.jsx(A.Fragment,{children:A.jsx(_R,{open:e,handleClose:n,children:A.jsx(KU,{onSubmit:a,type:"submit"})})})}function $U({type:t,onSubmit:e}){return A.jsx("form",{onSubmit:e,className:Vf.formWrapper,children:A.jsxs("div",{className:Vf.inputWrapper,children:[A.jsx(rl,{label:"Email",htmlFor:"email",id:"email",name:"email"}),A.jsx(rl,{label:"Password",htmlFor:"password",id:"password",name:"password"}),A.jsx(_n,{type:t,children:"Sign In"})]})})}function QU(){const t=En(),e=Ze(a=>a.auth.isLoggingIn);function n(){t(Ki.stopLoggingIn())}async function s(a){a.preventDefault();const l=new FormData(a.target),c=l.get("email"),d=l.get("password");try{const g=(await jV(xy,c,d)).user;t(Ki.login({uid:g.uid,email:g.email}))}catch(m){console.error("Login failed:",m)}}return A.jsx(A.Fragment,{children:A.jsx(_R,{open:e,onClose:n,children:A.jsx($U,{onSubmit:s,type:"submit"})})})}function XU(){const t=En(),e=Ze(c=>c.auth.isLoggedIn),n=Ze(c=>c.auth.user?.uid);function s(){t(Ki.startLoggingIn())}function a(){t(Ki.logOut())}function l(){t(Ki.startCreatingAccount())}return A.jsx("header",{className:zp.mainWrapper,children:A.jsxs("nav",{className:zp.nav,children:[A.jsxs("ul",{className:zp.navList,children:[A.jsxs("li",{children:[A.jsx(Fi,{to:"/",children:A.jsx("img",{width:"35px",src:"/BingeLog/HomeIcon.png"})}),A.jsx("br",{})]}),A.jsx("li",{children:!e&&A.jsx(_n,{onClick:s,children:A.jsx("img",{width:"35px",src:"/BingeLog/LogIn.png"})})}),A.jsx("li",{children:!e&&A.jsx(_n,{onClick:l,children:"Create Account"})}),A.jsx("li",{children:e&&A.jsx(Fi,{to:"/bingelog",children:A.jsx("img",{width:"35px",src:"/BingeLog/BingeLog.png"})})}),A.jsx("li",{children:e&&n&&A.jsx(Fi,{to:`/userPage/${n}`,children:A.jsx("img",{width:"35px",src:"/BingeLog/UserPage.png"})})}),A.jsx("li",{children:e&&A.jsx(Fi,{to:"/shows",children:A.jsx("img",{width:"35px",src:"/BingeLog/TvIcon.png"})})}),A.jsx("li",{children:e&&A.jsx(Fi,{to:"/userSearch",children:A.jsx("img",{width:"35px",src:"/BingeLog/UserSearchIcon.png"})})}),A.jsx("li",{children:e&&A.jsx(_n,{onClick:a,children:A.jsx("img",{width:"35px",src:"/BingeLog/LogOut.png"})})})]}),A.jsx(WU,{}),A.jsx(QU,{})]})})}function ZU(){return A.jsxs(A.Fragment,{children:[A.jsx("main",{children:A.jsx(zD,{})}),A.jsx(XU,{})]})}function JU(){const t=En();Ze(a=>a.shows.myShows),Ze(a=>a.auth.isLoggedIn);const[e,n]=F.useState(!1);if(F.useEffect(()=>{const a=FV(xy,async l=>{if(l)try{const c=es(xr,"Users",l?.uid),d=await UL(c);if(d.exists()){const m=d.data();t(Ki.login({uid:l.uid,userName:m.userName,email:m.email})),t(qu.uploadAvatar(m.bioAvatar)),t(qu.updateBio(m.bio)),t(cr.updateMyShows(m.myShows||[])),t(cr.updateBinging(m.currentlyBinging||[])),t(cr.updateFinishedShows(m.finishedShows||[])),t(cr.updateWatchedEps(m.watchedEps||[])),t(cr.updateReviews(m.reviews||[])),t(cf.updateEpNotes(m.epNotes||[])),t(cf.updateCharNotes(m.charNotes||[])),t(F0.addFriend(m.friendsList||[]))}n(!0)}catch(c){console.error("Auth restore failed:",c)}});return()=>a},[t]),!e)return A.jsx("div",{children:"Loading..."});const s=cN([{path:"/",element:A.jsx(ZU,{}),children:[{index:!0,element:A.jsx(ik,{})},{path:"userPage/:uid",element:A.jsx(Yk,{})},{path:"friendsList",element:A.jsx(DU,{})},{path:"bingelog",element:A.jsx(SU,{})},{path:"userSearch",element:A.jsx(BU,{})},{path:"shows",element:A.jsx(lU,{})},{path:"about",element:A.jsx(IU,{})}]}]);return A.jsx(A.Fragment,{children:A.jsx(TN,{router:s})})}eC.createRoot(document.getElementById("root")).render(A.jsx(F.StrictMode,{children:A.jsx(yC,{store:dI,children:A.jsx(JU,{})})}));
