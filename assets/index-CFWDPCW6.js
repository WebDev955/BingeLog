(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var ap={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function B1(){if(GE)return Tu;GE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return Tu.Fragment=e,Tu.jsx=n,Tu.jsxs=n,Tu}var KE;function F1(){return KE||(KE=1,ap.exports=B1()),ap.exports}var C=F1(),op={exports:{}},wu={},lp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function q1(){return YE||(YE=1,function(t){function e(Q,fe){var ge=Q.length;Q.push(fe);e:for(;0<ge;){var je=ge-1>>>1,x=Q[je];if(0<o(x,fe))Q[je]=fe,Q[ge]=x,ge=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var fe=Q[0],ge=Q.pop();if(ge!==fe){Q[0]=ge;e:for(var je=0,x=Q.length,ne=x>>>1;je<ne;){var pe=2*(je+1)-1,de=Q[pe],Ee=pe+1,He=Q[Ee];if(0>o(de,ge))Ee<x&&0>o(He,de)?(Q[je]=He,Q[Ee]=ge,je=Ee):(Q[je]=de,Q[pe]=ge,je=pe);else if(Ee<x&&0>o(He,ge))Q[je]=He,Q[Ee]=ge,je=Ee;else break e}}return fe}function o(Q,fe){var ge=Q.sortIndex-fe.sortIndex;return ge!==0?ge:Q.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,w=null,T=3,D=!1,j=!1,W=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function he(Q){for(var fe=n(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=Q)s(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(g)}}function oe(Q){if(W=!1,he(Q),!j)if(n(m)!==null)j=!0,P||(P=!0,z());else{var fe=n(g);fe!==null&&$e(oe,fe.startTime-Q)}}var P=!1,N=-1,A=5,R=-1;function L(){return U?!0:!(t.unstable_now()-R<A)}function V(){if(U=!1,P){var Q=t.unstable_now();R=Q;var fe=!0;try{e:{j=!1,W&&(W=!1,ue(N),N=-1),D=!0;var ge=T;try{t:{for(he(Q),w=n(m);w!==null&&!(w.expirationTime>Q&&L());){var je=w.callback;if(typeof je=="function"){w.callback=null,T=w.priorityLevel;var x=je(w.expirationTime<=Q);if(Q=t.unstable_now(),typeof x=="function"){w.callback=x,he(Q),fe=!0;break t}w===n(m)&&s(m),he(Q)}else s(m);w=n(m)}if(w!==null)fe=!0;else{var ne=n(g);ne!==null&&$e(oe,ne.startTime-Q),fe=!1}}break e}finally{w=null,T=ge,D=!1}fe=void 0}}finally{fe?z():P=!1}}}var z;if(typeof ee=="function")z=function(){ee(V)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ve=I.port2;I.port1.onmessage=V,z=function(){Ve.postMessage(null)}}else z=function(){Y(V,0)};function $e(Q,fe){N=Y(function(){Q(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var ge=T;T=fe;try{return Q()}finally{T=ge}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=T;T=Q;try{return fe()}finally{T=ge}},t.unstable_scheduleCallback=function(Q,fe,ge){var je=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,Q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,Q={id:_++,callback:fe,priorityLevel:Q,startTime:ge,expirationTime:x,sortIndex:-1},ge>je?(Q.sortIndex=ge,e(g,Q),n(m)===null&&Q===n(g)&&(W?(ue(N),N=-1):W=!0,$e(oe,ge-je))):(Q.sortIndex=x,e(m,Q),j||D||(j=!0,P||(P=!0,z()))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var fe=T;return function(){var ge=T;T=fe;try{return Q.apply(this,arguments)}finally{T=ge}}}}(up)),up}var QE;function H1(){return QE||(QE=1,lp.exports=q1()),lp.exports}var cp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function G1(){if($E)return Ge;$E=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,W={};function U(x,ne,pe){this.props=x,this.context=ne,this.refs=W,this.updater=pe||D}U.prototype.isReactComponent={},U.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function ue(x,ne,pe){this.props=x,this.context=ne,this.refs=W,this.updater=pe||D}var ee=ue.prototype=new Y;ee.constructor=ue,j(ee,U.prototype),ee.isPureReactComponent=!0;var he=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function N(x,ne,pe,de,Ee,He){return pe=He.ref,{$$typeof:t,type:x,key:ne,ref:pe!==void 0?pe:null,props:He}}function A(x,ne){return N(x.type,ne,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function L(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(pe){return ne[pe]})}var V=/\/+/g;function z(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):ne.toString(36)}function I(){}function Ve(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(I,I):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function $e(x,ne,pe,de,Ee){var He=typeof x;(He==="undefined"||He==="boolean")&&(x=null);var De=!1;if(x===null)De=!0;else switch(He){case"bigint":case"string":case"number":De=!0;break;case"object":switch(x.$$typeof){case t:case e:De=!0;break;case _:return De=x._init,$e(De(x._payload),ne,pe,de,Ee)}}if(De)return Ee=Ee(x),De=de===""?"."+z(x,0):de,he(Ee)?(pe="",De!=null&&(pe=De.replace(V,"$&/")+"/"),$e(Ee,ne,pe,"",function(Gn){return Gn})):Ee!=null&&(R(Ee)&&(Ee=A(Ee,pe+(Ee.key==null||x&&x.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+De)),ne.push(Ee)),1;De=0;var Qt=de===""?".":de+":";if(he(x))for(var ot=0;ot<x.length;ot++)de=x[ot],He=Qt+z(de,ot),De+=$e(de,ne,pe,He,Ee);else if(ot=T(x),typeof ot=="function")for(x=ot.call(x),ot=0;!(de=x.next()).done;)de=de.value,He=Qt+z(de,ot++),De+=$e(de,ne,pe,He,Ee);else if(He==="object"){if(typeof x.then=="function")return $e(Ve(x),ne,pe,de,Ee);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return De}function Q(x,ne,pe){if(x==null)return x;var de=[],Ee=0;return $e(x,de,"","",function(He){return ne.call(pe,He,Ee++)}),de}function fe(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(pe){(x._status===0||x._status===-1)&&(x._status=1,x._result=pe)},function(pe){(x._status===0||x._status===-1)&&(x._status=2,x._result=pe)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function je(){}return Ge.Children={map:Q,forEach:function(x,ne,pe){Q(x,function(){ne.apply(this,arguments)},pe)},count:function(x){var ne=0;return Q(x,function(){ne++}),ne},toArray:function(x){return Q(x,function(ne){return ne})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ge.Component=U,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=ue,Ge.StrictMode=s,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(x){return oe.H.useMemoCache(x)}},Ge.cache=function(x){return function(){return x.apply(null,arguments)}},Ge.cloneElement=function(x,ne,pe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var de=j({},x.props),Ee=x.key,He=void 0;if(ne!=null)for(De in ne.ref!==void 0&&(He=void 0),ne.key!==void 0&&(Ee=""+ne.key),ne)!P.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(de[De]=ne[De]);var De=arguments.length-2;if(De===1)de.children=pe;else if(1<De){for(var Qt=Array(De),ot=0;ot<De;ot++)Qt[ot]=arguments[ot+2];de.children=Qt}return N(x.type,Ee,void 0,void 0,He,de)},Ge.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Ge.createElement=function(x,ne,pe){var de,Ee={},He=null;if(ne!=null)for(de in ne.key!==void 0&&(He=""+ne.key),ne)P.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=ne[de]);var De=arguments.length-2;if(De===1)Ee.children=pe;else if(1<De){for(var Qt=Array(De),ot=0;ot<De;ot++)Qt[ot]=arguments[ot+2];Ee.children=Qt}if(x&&x.defaultProps)for(de in De=x.defaultProps,De)Ee[de]===void 0&&(Ee[de]=De[de]);return N(x,He,void 0,void 0,null,Ee)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(x){return{$$typeof:d,render:x}},Ge.isValidElement=R,Ge.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:fe}},Ge.memo=function(x,ne){return{$$typeof:g,type:x,compare:ne===void 0?null:ne}},Ge.startTransition=function(x){var ne=oe.T,pe={};oe.T=pe;try{var de=x(),Ee=oe.S;Ee!==null&&Ee(pe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(je,ge)}catch(He){ge(He)}finally{oe.T=ne}},Ge.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ge.use=function(x){return oe.H.use(x)},Ge.useActionState=function(x,ne,pe){return oe.H.useActionState(x,ne,pe)},Ge.useCallback=function(x,ne){return oe.H.useCallback(x,ne)},Ge.useContext=function(x){return oe.H.useContext(x)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(x,ne){return oe.H.useDeferredValue(x,ne)},Ge.useEffect=function(x,ne,pe){var de=oe.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(x,ne)},Ge.useId=function(){return oe.H.useId()},Ge.useImperativeHandle=function(x,ne,pe){return oe.H.useImperativeHandle(x,ne,pe)},Ge.useInsertionEffect=function(x,ne){return oe.H.useInsertionEffect(x,ne)},Ge.useLayoutEffect=function(x,ne){return oe.H.useLayoutEffect(x,ne)},Ge.useMemo=function(x,ne){return oe.H.useMemo(x,ne)},Ge.useOptimistic=function(x,ne){return oe.H.useOptimistic(x,ne)},Ge.useReducer=function(x,ne,pe){return oe.H.useReducer(x,ne,pe)},Ge.useRef=function(x){return oe.H.useRef(x)},Ge.useState=function(x){return oe.H.useState(x)},Ge.useSyncExternalStore=function(x,ne,pe){return oe.H.useSyncExternalStore(x,ne,pe)},Ge.useTransition=function(){return oe.H.useTransition()},Ge.version="19.1.1",Ge}var WE;function kf(){return WE||(WE=1,cp.exports=G1()),cp.exports}var hp={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function K1(){if(XE)return Sn;XE=1;var t=kf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Sn.flushSync=function(m){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=_,s.d.f()}},Sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:D}):_==="script"&&s.d.X(m,{crossOrigin:w,integrity:T,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Sn.requestFormReset=function(m){s.d.r(m)},Sn.unstable_batchedUpdates=function(m,g){return m(g)},Sn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var ZE;function E0(){if(ZE)return hp.exports;ZE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hp.exports=K1(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function Y1(){if(JE)return wu;JE=1;var t=H1(),e=kf(),n=E0();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,u=i;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),r;if(p===u)return d(f),i;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,u=p;break}if(S===u){E=!0,u=f,a=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===a){E=!0,a=p,u=f;break}if(S===u){E=!0,u=p,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case U:return"Profiler";case W:return"StrictMode";case oe:return"Suspense";case P:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case ee:return(r.displayName||"Context")+".Provider";case ue:return(r._context.displayName||"Context")+".Consumer";case he:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return i=r.displayName||null,i!==null?i:Ve(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return Ve(r(i))}catch{}}return null}var $e=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],x=-1;function ne(r){return{current:r}}function pe(r){0>x||(r.current=je[x],je[x]=null,x--)}function de(r,i){x++,je[x]=r.current,r.current=i}var Ee=ne(null),He=ne(null),De=ne(null),Qt=ne(null);function ot(r,i){switch(de(De,i),de(He,r),de(Ee,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?vE(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=vE(i),r=EE(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Ee),de(Ee,r)}function Gn(){pe(Ee),pe(He),pe(De)}function xt(r){r.memoizedState!==null&&de(Qt,r);var i=Ee.current,a=EE(i,r.type);i!==a&&(de(He,r),de(Ee,a))}function Kn(r){He.current===r&&(pe(Ee),pe(He)),Qt.current===r&&(pe(Qt),gu._currentValue=ge)}var vi=Object.prototype.hasOwnProperty,Ei=t.unstable_scheduleCallback,Vn=t.unstable_cancelCallback,vl=t.unstable_shouldYield,ia=t.unstable_requestPaint,hn=t.unstable_now,so=t.unstable_getCurrentPriorityLevel,kt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,Or=t.unstable_NormalPriority,Mr=t.unstable_LowPriority,xr=t.unstable_IdlePriority,ao=t.log,Pr=t.unstable_setDisableYieldValue,fn=null,_t=null;function In(r){if(typeof ao=="function"&&Pr(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(fn,r)}catch{}}var $t=Math.clz32?Math.clz32:sa,El=Math.log,Yn=Math.LN2;function sa(r){return r>>>=0,r===0?32:31-(El(r)/Yn|0)|0}var Qn=256,Lr=4194304;function $n(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Dn(r,i,a){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=$n(u):(E&=S,E!==0?f=$n(E):a||(a=S&~r,a!==0&&(f=$n(a))))):(S=u&~p,S!==0?f=$n(S):E!==0?f=$n(E):a||(a=u&~r,a!==0&&(f=$n(a)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:f}function Wn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ti(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(){var r=Qn;return Qn<<=1,(Qn&4194048)===0&&(Qn=256),r}function Jr(){var r=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),r}function Si(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Dt(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function aa(r,i,a,u,f,p){var E=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var S=r.entanglements,O=r.expirationTimes,K=r.hiddenUpdates;for(a=E&~a;0<a;){var te=31-$t(a),se=1<<te;S[te]=0,O[te]=-1;var $=K[te];if($!==null)for(K[te]=null,te=0;te<$.length;te++){var X=$[te];X!==null&&(X.lane&=-536870913)}a&=~se}u!==0&&Xn(r,u,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function Xn(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-$t(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|a&4194090}function Zn(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var u=31-$t(a),f=1<<u;f&i|r[u]&i&&(r[u]|=i),a&=~f}}function oa(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function la(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function M(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:jE(r.type))}function q(r,i){var a=fe.p;try{return fe.p=r,i()}finally{fe.p=a}}var Z=Math.random().toString(36).slice(2),ie="__reactFiber$"+Z,ce="__reactProps$"+Z,ve="__reactContainer$"+Z,Se="__reactEvents$"+Z,_e="__reactListeners$"+Z,Ce="__reactHandles$"+Z,Re="__reactResources$"+Z,Te="__reactMarker$"+Z;function Ae(r){delete r[ie],delete r[ce],delete r[Se],delete r[_e],delete r[Ce]}function ze(r){var i=r[ie];if(i)return i;for(var a=r.parentNode;a;){if(i=a[ve]||a[ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=bE(r);r!==null;){if(a=r[ie])return a;r=bE(r)}return i}r=a,a=r.parentNode}return null}function rt(r){if(r=r[ie]||r[ve]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function wt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Rt(r){var i=r[Re];return i||(i=r[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(r){r[Te]=!0}var lt=new Set,Nn={};function En(r,i){Wt(r,i),Wt(r+"Capture",i)}function Wt(r,i){for(Nn[r]=i,r=0;r<i.length;r++)lt.add(i[r])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kn={},dr={};function Vr(r){return vi.call(dr,r)?!0:vi.call(kn,r)?!1:nn.test(r)?dr[r]=!0:(kn[r]=!0,!1)}function mr(r,i,a){if(Vr(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function pr(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function qe(r,i,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+u)}}var Ct,kr;function On(r){if(Ct===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ct=i&&i[1]||"",kr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+r+kr}var vt=!1;function Ur(r,i){if(!r||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var $=X}Reflect.construct(r,[],se)}else{try{se.call()}catch(X){$=X}r.call(se.prototype)}}else{try{throw Error()}catch(X){$=X}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var O=E.split(`
`),K=S.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===K.length)for(u=O.length-1,f=K.length-1;1<=u&&0<=f&&O[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==K[f]){var te=`
`+O[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?On(a):""}function oo(r){switch(r.tag){case 26:case 27:case 5:return On(r.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Ur(r.type,!1);case 11:return Ur(r.type.render,!1);case 1:return Ur(r.type,!0);case 31:return On("Activity");default:return""}}function Jn(r){try{var i="";do i+=oo(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Nt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ns(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ua(r){var i=ns(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function rs(r){r._valueTracker||(r._valueTracker=ua(r))}function dt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return r&&(u=ns(r)?r.checked?"true":"false":r.value),r=u,r!==a?(i.setValue(r),!0):!1}function bi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ca=/[\n"\\]/g;function rn(r){return r.replace(ca,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Tl(r,i,a,u,f,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Nt(i)):r.value!==""+Nt(i)&&(r.value=""+Nt(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?Sl(r,E,Nt(i)):a!=null?Sl(r,E,Nt(a)):u!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Nt(S):r.removeAttribute("name")}function wl(r,i,a,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+Nt(a):"",i=i!=null?""+Nt(i):a,S||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Sl(r,i,a){i==="number"&&bi(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function is(r,i,a,u){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&u&&(r[a].defaultSelected=!0)}else{for(a=""+Nt(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function _c(r,i,a){if(i!=null&&(i=""+Nt(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+Nt(a):""}function vc(r,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if($e(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Nt(i),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u)}function gr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bl(r,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,a):typeof a!="number"||a===0||Ai.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function Al(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&bl(r,f,u)}else for(var p in i)i.hasOwnProperty(p)&&bl(r,p,i[p])}function lo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(r){return Tc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Rl=null;function Cl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ss=null,Mn=null;function wc(r){var i=rt(r);if(i&&(r=i.stateNode)){var a=r[ce]||null;e:switch(r=i.stateNode,i.type){case"input":if(Tl(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==r&&u.form===r.form){var f=u[ce]||null;if(!f)throw Error(s(90));Tl(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===r.form&&dt(u)}break e;case"textarea":_c(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&is(r,!!a.multiple,i,!1)}}}var ha=!1;function fa(r,i,a){if(ha)return r(i,a);ha=!0;try{var u=r(i);return u}finally{if(ha=!1,(ss!==null||Mn!==null)&&(hh(),ss&&(i=ss,r=Mn,Mn=ss=null,wc(i),r)))for(i=0;i<r.length;i++)wc(r[i])}}function as(r,i){var a=r.stateNode;if(a===null)return null;var u=a[ce]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=!1;if(xn)try{var os={};Object.defineProperty(os,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{Ri=!1}var yr=null,Et=null,uo=null;function Sc(){if(uo)return uo;var r,i=Et,a=i.length,u,f="value"in yr?yr.value:yr.textContent,p=f.length;for(r=0;r<a&&i[r]===f[r];r++);var E=a-r;for(u=1;u<=E&&i[a-u]===f[p-u];u++);return uo=f.slice(r,1<u?1-u:void 0)}function da(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ma(){return!0}function Il(){return!1}function Xt(r){function i(a,u,f,p,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ma:Il,this.isPropagationStopped=Il,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),i}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Xt(Tn),ga=_({},Tn,{view:0,detail:0}),ya=Xt(ga),co,_a,ei,va=_({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ei&&(ei&&r.type==="mousemove"?(co=r.screenX-ei.screenX,_a=r.screenY-ei.screenY):_a=co=0,ei=r),co)},movementY:function(r){return"movementY"in r?r.movementY:_a}}),Ea=Xt(va),pd=_({},va,{dataTransfer:0}),bc=Xt(pd),Ta=_({},ga,{relatedTarget:0}),ho=Xt(Ta),Ac=_({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dl=Xt(Ac),Nl=_({},Tn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rc=Xt(Nl),fo=_({},Tn,{data:0}),Ol=Xt(fo),Cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ci={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ic[r])?!!i[r]:!1}function mo(){return Dc}var Nc=_({},ga,{key:function(r){if(r.key){var i=Cc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=da(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ci[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(r){return r.type==="keypress"?da(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?da(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),po=Xt(Nc),Pn=_({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=Xt(Pn),Oc=_({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),ls=Xt(Oc),h=_({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Xt(h),v=_({},va,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),b=Xt(v),G=_({},Tn,{newState:0,oldState:0}),J=Xt(G),me=[9,13,27,32],Be=xn&&"CompositionEvent"in window,St=null;xn&&"documentMode"in document&&(St=document.documentMode);var ct=xn&&"TextEvent"in window&&!St,Ut=xn&&(!Be||St&&8<St&&11>=St),er=" ",ti=!1;function zr(r,i){switch(r){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fr=!1;function xl(r,i){switch(r){case"compositionend":return Br(i);case"keypress":return i.which!==32?null:(ti=!0,er);case"textInput":return r=i.data,r===er&&ti?null:r;default:return null}}function mR(r,i){if(Fr)return r==="compositionend"||!Be&&zr(r,i)?(r=Sc(),uo=Et=yr=null,Fr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ut&&i.locale!=="ko"?null:i.data;default:return null}}var pR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!pR[r.type]:i==="textarea"}function Py(r,i,a,u){ss?Mn?Mn.push(u):Mn=[u]:ss=u,i=yh(i,"onChange"),0<i.length&&(a=new pa("onChange","change",null,a,u),r.push({event:a,listeners:i}))}var Pl=null,Ll=null;function gR(r){mE(r,0)}function Mc(r){var i=wt(r);if(dt(i))return r}function Ly(r,i){if(r==="change")return i}var Vy=!1;if(xn){var gd;if(xn){var yd="oninput"in document;if(!yd){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),yd=typeof ky.oninput=="function"}gd=yd}else gd=!1;Vy=gd&&(!document.documentMode||9<document.documentMode)}function Uy(){Pl&&(Pl.detachEvent("onpropertychange",jy),Ll=Pl=null)}function jy(r){if(r.propertyName==="value"&&Mc(Ll)){var i=[];Py(i,Ll,r,Cl(r)),fa(gR,i)}}function yR(r,i,a){r==="focusin"?(Uy(),Pl=i,Ll=a,Pl.attachEvent("onpropertychange",jy)):r==="focusout"&&Uy()}function _R(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mc(Ll)}function vR(r,i){if(r==="click")return Mc(i)}function ER(r,i){if(r==="input"||r==="change")return Mc(i)}function TR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var tr=typeof Object.is=="function"?Object.is:TR;function Vl(r,i){if(tr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!vi.call(i,f)||!tr(r[f],i[f]))return!1}return!0}function zy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function By(r,i){var a=zy(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=i&&u>=i)return{node:a,offset:i-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zy(a)}}function Fy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Fy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function qy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=bi(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=bi(r.document)}return i}function _d(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var wR=xn&&"documentMode"in document&&11>=document.documentMode,go=null,vd=null,kl=null,Ed=!1;function Hy(r,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ed||go==null||go!==bi(u)||(u=go,"selectionStart"in u&&_d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kl&&Vl(kl,u)||(kl=u,u=yh(vd,"onSelect"),0<u.length&&(i=new pa("onSelect","select",null,i,a),r.push({event:i,listeners:u}),i.target=go)))}function wa(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var yo={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Td={},Gy={};xn&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Sa(r){if(Td[r])return Td[r];if(!yo[r])return r;var i=yo[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gy)return Td[r]=i[a];return r}var Ky=Sa("animationend"),Yy=Sa("animationiteration"),Qy=Sa("animationstart"),SR=Sa("transitionrun"),bR=Sa("transitionstart"),AR=Sa("transitioncancel"),$y=Sa("transitionend"),Wy=new Map,wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wd.push("scrollEnd");function qr(r,i){Wy.set(r,i),En(i,[r])}var Xy=new WeakMap;function _r(r,i){if(typeof r=="object"&&r!==null){var a=Xy.get(r);return a!==void 0?a:(i={value:r,source:i,stack:Jn(i)},Xy.set(r,i),i)}return{value:r,source:i,stack:Jn(i)}}var vr=[],_o=0,Sd=0;function xc(){for(var r=_o,i=Sd=_o=0;i<r;){var a=vr[i];vr[i++]=null;var u=vr[i];vr[i++]=null;var f=vr[i];vr[i++]=null;var p=vr[i];if(vr[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&Zy(a,f,p)}}function Pc(r,i,a,u){vr[_o++]=r,vr[_o++]=i,vr[_o++]=a,vr[_o++]=u,Sd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function bd(r,i,a,u){return Pc(r,i,a,u),Lc(r)}function vo(r,i){return Pc(r,null,null,i),Lc(r)}function Zy(r,i,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var f=!1,p=r.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-$t(a),r=p.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=a|536870912),p):null}function Lc(r){if(50<lu)throw lu=0,Nm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Eo={};function RR(r,i,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,i,a,u){return new RR(r,i,a,u)}function Ad(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ii(r,i){var a=r.alternate;return a===null?(a=nr(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Jy(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Vc(r,i,a,u,f,p){var E=0;if(u=r,typeof r=="function")Ad(r)&&(E=1);else if(typeof r=="string")E=I1(r,a,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=nr(31,a,i,f),r.elementType=R,r.lanes=p,r;case j:return ba(a.children,f,p,i);case W:E=8,f|=24;break;case U:return r=nr(12,a,i,f|2),r.elementType=U,r.lanes=p,r;case oe:return r=nr(13,a,i,f),r.elementType=oe,r.lanes=p,r;case P:return r=nr(19,a,i,f),r.elementType=P,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:case ee:E=10;break e;case ue:E=9;break e;case he:E=11;break e;case N:E=14;break e;case A:E=16,u=null;break e}E=29,a=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=nr(E,a,i,f),i.elementType=r,i.type=u,i.lanes=p,i}function ba(r,i,a,u){return r=nr(7,r,u,i),r.lanes=a,r}function Rd(r,i,a){return r=nr(6,r,null,i),r.lanes=a,r}function Cd(r,i,a){return i=nr(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var To=[],wo=0,kc=null,Uc=0,Er=[],Tr=0,Aa=null,Di=1,Ni="";function Ra(r,i){To[wo++]=Uc,To[wo++]=kc,kc=r,Uc=i}function e_(r,i,a){Er[Tr++]=Di,Er[Tr++]=Ni,Er[Tr++]=Aa,Aa=r;var u=Di;r=Ni;var f=32-$t(u)-1;u&=~(1<<f),a+=1;var p=32-$t(i)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Di=1<<32-$t(i)+f|a<<f|u,Ni=p+r}else Di=1<<p|a<<f|u,Ni=r}function Id(r){r.return!==null&&(Ra(r,1),e_(r,1,0))}function Dd(r){for(;r===kc;)kc=To[--wo],To[wo]=null,Uc=To[--wo],To[wo]=null;for(;r===Aa;)Aa=Er[--Tr],Er[Tr]=null,Ni=Er[--Tr],Er[Tr]=null,Di=Er[--Tr],Er[Tr]=null}var Ln=null,Pt=null,at=!1,Ca=null,ni=!1,Nd=Error(s(519));function Ia(r){var i=Error(s(418,""));throw zl(_r(i,r)),Nd}function t_(r){var i=r.stateNode,a=r.type,u=r.memoizedProps;switch(i[ie]=r,i[ce]=u,a){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(a=0;a<cu.length;a++)Xe(cu[a],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),wl(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),rs(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),vc(i,u.value,u.defaultValue,u.children),rs(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||_E(i.textContent,a)?(u.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),u.onScroll!=null&&Xe("scroll",i),u.onScrollEnd!=null&&Xe("scrollend",i),u.onClick!=null&&(i.onclick=_h),i=!0):i=!1,i||Ia(r)}function n_(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:Ln=Ln.return}}function Ul(r){if(r!==Ln)return!1;if(!at)return n_(r),at=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Km(r.type,r.memoizedProps)),a=!a),a&&Pt&&Ia(r),n_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){Pt=Gr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}Pt=null}}else i===27?(i=Pt,bs(r.type)?(r=Wm,Wm=null,Pt=r):Pt=i):Pt=Ln?Gr(r.stateNode.nextSibling):null;return!0}function jl(){Pt=Ln=null,at=!1}function r_(){var r=Ca;return r!==null&&(zn===null?zn=r:zn.push.apply(zn,r),Ca=null),r}function zl(r){Ca===null?Ca=[r]:Ca.push(r)}var Od=ne(null),Da=null,Oi=null;function us(r,i,a){de(Od,i._currentValue),i._currentValue=a}function Mi(r){r._currentValue=Od.current,pe(Od)}function Md(r,i,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===a)break;r=r.return}}function xd(r,i,a,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var O=0;O<i.length;O++)if(S.context===i[O]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),Md(p.return,a,r),u||(E=null);break e}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Md(E,a,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Bl(r,i,a,u){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;tr(f.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(f===Qt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}f=f.return}r!==null&&xd(i,r,a,u),i.flags|=262144}function jc(r){for(r=r.firstContext;r!==null;){if(!tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Na(r){Da=r,Oi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wn(r){return i_(Da,r)}function zc(r,i){return Da===null&&Na(r),i_(r,i)}function i_(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(r===null)throw Error(s(308));Oi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Oi=Oi.next=i;return a}var CR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},IR=t.unstable_scheduleCallback,DR=t.unstable_NormalPriority,Zt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new CR,data:new Map,refCount:0}}function Fl(r){r.refCount--,r.refCount===0&&IR(DR,function(){r.controller.abort()})}var ql=null,Ld=0,So=0,bo=null;function NR(r,i){if(ql===null){var a=ql=[];Ld=0,So=km(),bo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Ld++,i.then(s_,s_),i}function s_(){if(--Ld===0&&ql!==null){bo!==null&&(bo.status="fulfilled");var r=ql;ql=null,So=0,bo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function OR(r,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var a_=Q.S;Q.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&NR(r,i),a_!==null&&a_(r,i)};var Oa=ne(null);function Vd(){var r=Oa.current;return r!==null?r:Tt.pooledCache}function Bc(r,i){i===null?de(Oa,Oa.current):de(Oa,i.pool)}function o_(){var r=Vd();return r===null?null:{parent:Zt._currentValue,pool:r}}var Hl=Error(s(460)),l_=Error(s(474)),Fc=Error(s(542)),kd={then:function(){}};function u_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qc(){}function c_(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(qc,qc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,f_(r),r;default:if(typeof i.status=="string")i.then(qc,qc);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,f_(r),r}throw Gl=i,Hl}}var Gl=null;function h_(){if(Gl===null)throw Error(s(459));var r=Gl;return Gl=null,r}function f_(r){if(r===Hl||r===Fc)throw Error(s(483))}var cs=!1;function Ud(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function hs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fs(r,i,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Lc(r),Zy(r,null,a),i}return Pc(r,u,i,a),Lc(r)}function Kl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Zn(r,a)}}function zd(r,i){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=i:p=p.next=i}else f=p=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var Bd=!1;function Yl(){if(Bd){var r=bo;if(r!==null)throw r}}function Ql(r,i,a,u){Bd=!1;var f=r.updateQueue;cs=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,K=O.next;O.next=null,E===null?p=K:E.next=K,E=O;var te=r.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==E&&(S===null?te.firstBaseUpdate=K:S.next=K,te.lastBaseUpdate=O))}if(p!==null){var se=f.baseState;E=0,te=K=O=null,S=p;do{var $=S.lane&-536870913,X=$!==S.lane;if(X?(tt&$)===$:(u&$)===$){$!==0&&$===So&&(Bd=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Le=r,Oe=S;$=i;var gt=a;switch(Oe.tag){case 1:if(Le=Oe.payload,typeof Le=="function"){se=Le.call(gt,se,$);break e}se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Oe.payload,$=typeof Le=="function"?Le.call(gt,se,$):Le,$==null)break e;se=_({},se,$);break e;case 2:cs=!0}}$=S.callback,$!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(K=te=X,O=se):te=te.next=X,E|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(O=se),f.baseState=O,f.firstBaseUpdate=K,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),Es|=E,r.lanes=E,r.memoizedState=se}}function d_(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function m_(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)d_(a[r],i)}var Ao=ne(null),Hc=ne(0);function p_(r,i){r=ji,de(Hc,r),de(Ao,i),ji=r|i.baseLanes}function Fd(){de(Hc,ji),de(Ao,Ao.current)}function qd(){ji=Hc.current,pe(Ao),pe(Hc)}var ds=0,Ke=null,mt=null,qt=null,Gc=!1,Ro=!1,Ma=!1,Kc=0,$l=0,Co=null,MR=0;function jt(){throw Error(s(321))}function Hd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!tr(r[a],i[a]))return!1;return!0}function Gd(r,i,a,u,f,p){return ds=p,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=r===null||r.memoizedState===null?Z_:J_,Ma=!1,p=a(u,f),Ma=!1,Ro&&(p=y_(i,a,u,f)),g_(r),p}function g_(r){Q.H=Zc;var i=mt!==null&&mt.next!==null;if(ds=0,qt=mt=Ke=null,Gc=!1,$l=0,Co=null,i)throw Error(s(300));r===null||sn||(r=r.dependencies,r!==null&&jc(r)&&(sn=!0))}function y_(r,i,a,u){Ke=r;var f=0;do{if(Ro&&(Co=null),$l=0,Ro=!1,25<=f)throw Error(s(301));if(f+=1,qt=mt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=jR,p=i(a,u)}while(Ro);return p}function xR(){var r=Q.H,i=r.useState()[0];return i=typeof i.then=="function"?Wl(i):i,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(Ke.flags|=1024),i}function Kd(){var r=Kc!==0;return Kc=0,r}function Yd(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function Qd(r){if(Gc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gc=!1}ds=0,qt=mt=Ke=null,Ro=!1,$l=Kc=0,Co=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ke.memoizedState=qt=r:qt=qt.next=r,qt}function Ht(){if(mt===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=qt===null?Ke.memoizedState:qt.next;if(i!==null)qt=i,mt=r;else{if(r===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},qt===null?Ke.memoizedState=qt=r:qt=qt.next=r}return qt}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(r){var i=$l;return $l+=1,Co===null&&(Co=[]),r=c_(Co,r,i),i=Ke,(qt===null?i.memoizedState:qt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Z_:J_),r}function Yc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wl(r);if(r.$$typeof===ee)return wn(r)}throw Error(s(438,String(r)))}function Wd(r){var i=null,a=Ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=$d(),Ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),u=0;u<r;u++)a[u]=L;return i.index++,a}function xi(r,i){return typeof i=="function"?i(r):i}function Qc(r){var i=Ht();return Xd(i,mt,r)}function Xd(r,i,a){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=r.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,u.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var S=E=null,O=null,K=i,te=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(tt&se)===se:(ds&se)===se){var $=K.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===So&&(te=!0);else if((ds&$)===$){K=K.next,$===So&&(te=!0);continue}else se={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=se,E=p):O=O.next=se,Ke.lanes|=$,Es|=$;se=K.action,Ma&&a(p,se),p=K.hasEagerState?K.eagerState:a(p,se)}else $={lane:se,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=$,E=p):O=O.next=$,Ke.lanes|=se,Es|=se;K=K.next}while(K!==null&&K!==i);if(O===null?E=p:O.next=S,!tr(p,r.memoizedState)&&(sn=!0,te&&(a=bo,a!==null)))throw a;r.memoizedState=p,r.baseState=E,r.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Zd(r){var i=Ht(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var u=a.dispatch,f=a.pending,p=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);tr(p,i.memoizedState)||(sn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function __(r,i,a){var u=Ke,f=Ht(),p=at;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!tr((mt||f).memoizedState,a);E&&(f.memoizedState=a,sn=!0),f=f.queue;var S=T_.bind(null,u,f,r);if(Xl(2048,8,S,[r]),f.getSnapshot!==i||E||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,Io(9,$c(),E_.bind(null,u,f,a,i),null),Tt===null)throw Error(s(349));p||(ds&124)!==0||v_(u,i,a)}return a}function v_(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Ke.updateQueue,i===null?(i=$d(),Ke.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function E_(r,i,a,u){i.value=a,i.getSnapshot=u,w_(i)&&S_(r)}function T_(r,i,a){return a(function(){w_(i)&&S_(r)})}function w_(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!tr(r,a)}catch{return!0}}function S_(r){var i=vo(r,2);i!==null&&or(i,r,2)}function Jd(r){var i=Un();if(typeof r=="function"){var a=r;if(r=a(),Ma){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:r},i}function b_(r,i,a,u){return r.baseState=a,Xd(r,mt,typeof u=="function"?u:xi)}function PR(r,i,a,u,f){if(Xc(r))throw Error(s(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Q.T!==null?a(!0):p.isTransition=!1,u(p),a=i.pending,a===null?(p.next=i.pending=p,A_(i,p)):(p.next=a.next,i.pending=a.next=p)}}function A_(r,i){var a=i.action,u=i.payload,f=r.state;if(i.isTransition){var p=Q.T,E={};Q.T=E;try{var S=a(f,u),O=Q.S;O!==null&&O(E,S),R_(r,i,S)}catch(K){em(r,i,K)}finally{Q.T=p}}else try{p=a(f,u),R_(r,i,p)}catch(K){em(r,i,K)}}function R_(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){C_(r,i,u)},function(u){return em(r,i,u)}):C_(r,i,a)}function C_(r,i,a){i.status="fulfilled",i.value=a,I_(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,A_(r,a)))}function em(r,i,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,I_(i),i=i.next;while(i!==u)}r.action=null}function I_(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function D_(r,i){return i}function N_(r,i){if(at){var a=Tt.formState;if(a!==null){e:{var u=Ke;if(at){if(Pt){t:{for(var f=Pt,p=ni;f.nodeType!==8;){if(!p){f=null;break t}if(f=Gr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Pt=Gr(f.nextSibling),u=f.data==="F!";break e}}Ia(u)}u=!1}u&&(i=a[0])}}return a=Un(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:i},a.queue=u,a=$_.bind(null,Ke,u),u.dispatch=a,u=Jd(!1),p=sm.bind(null,Ke,!1,u.queue),u=Un(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,a=PR.bind(null,Ke,f,p,a),f.dispatch=a,u.memoizedState=r,[i,a,!1]}function O_(r){var i=Ht();return M_(i,mt,r)}function M_(r,i,a){if(i=Xd(r,i,D_)[0],r=Qc(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Wl(i)}catch(E){throw E===Hl?Fc:E}else u=i;i=Ht();var f=i.queue,p=f.dispatch;return a!==i.memoizedState&&(Ke.flags|=2048,Io(9,$c(),LR.bind(null,f,a),null)),[u,p,r]}function LR(r,i){r.action=i}function x_(r){var i=Ht(),a=mt;if(a!==null)return M_(i,a,r);Ht(),i=i.memoizedState,a=Ht();var u=a.queue.dispatch;return a.memoizedState=r,[i,u,!1]}function Io(r,i,a,u){return r={tag:r,create:a,deps:u,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=$d(),Ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,i.lastEffect=r),r}function $c(){return{destroy:void 0,resource:void 0}}function P_(){return Ht().memoizedState}function Wc(r,i,a,u){var f=Un();u=u===void 0?null:u,Ke.flags|=r,f.memoizedState=Io(1|i,$c(),a,u)}function Xl(r,i,a,u){var f=Ht();u=u===void 0?null:u;var p=f.memoizedState.inst;mt!==null&&u!==null&&Hd(u,mt.memoizedState.deps)?f.memoizedState=Io(i,p,a,u):(Ke.flags|=r,f.memoizedState=Io(1|i,p,a,u))}function L_(r,i){Wc(8390656,8,r,i)}function V_(r,i){Xl(2048,8,r,i)}function k_(r,i){return Xl(4,2,r,i)}function U_(r,i){return Xl(4,4,r,i)}function j_(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function z_(r,i,a){a=a!=null?a.concat([r]):null,Xl(4,4,j_.bind(null,i,r),a)}function tm(){}function B_(r,i){var a=Ht();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Hd(i,u[1])?u[0]:(a.memoizedState=[r,i],r)}function F_(r,i){var a=Ht();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Hd(i,u[1]))return u[0];if(u=r(),Ma){In(!0);try{r()}finally{In(!1)}}return a.memoizedState=[u,i],u}function nm(r,i,a){return a===void 0||(ds&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=Gv(),Ke.lanes|=r,Es|=r,a)}function q_(r,i,a,u){return tr(a,i)?a:Ao.current!==null?(r=nm(r,a,u),tr(r,i)||(sn=!0),r):(ds&42)===0?(sn=!0,r.memoizedState=a):(r=Gv(),Ke.lanes|=r,Es|=r,i)}function H_(r,i,a,u,f){var p=fe.p;fe.p=p!==0&&8>p?p:8;var E=Q.T,S={};Q.T=S,sm(r,!1,i,a);try{var O=f(),K=Q.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=OR(O,u);Zl(r,i,te,ar(r))}else Zl(r,i,u,ar(r))}catch(se){Zl(r,i,{then:function(){},status:"rejected",reason:se},ar())}finally{fe.p=p,Q.T=E}}function VR(){}function rm(r,i,a,u){if(r.tag!==5)throw Error(s(476));var f=G_(r).queue;H_(r,f,i,ge,a===null?VR:function(){return K_(r),a(u)})}function G_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function K_(r){var i=G_(r).next.queue;Zl(r,i,{},ar())}function im(){return wn(gu)}function Y_(){return Ht().memoizedState}function Q_(){return Ht().memoizedState}function kR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=ar();r=hs(a);var u=fs(i,r,a);u!==null&&(or(u,i,a),Kl(u,i,a)),i={cache:Pd()},r.payload=i;return}i=i.return}}function UR(r,i,a){var u=ar();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Xc(r)?W_(i,a):(a=bd(r,i,a,u),a!==null&&(or(a,r,u),X_(a,i,u)))}function $_(r,i,a){var u=ar();Zl(r,i,a,u)}function Zl(r,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xc(r))W_(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,S=p(E,a);if(f.hasEagerState=!0,f.eagerState=S,tr(S,E))return Pc(r,i,f,0),Tt===null&&xc(),!1}catch{}finally{}if(a=bd(r,i,f,u),a!==null)return or(a,r,u),X_(a,i,u),!0}return!1}function sm(r,i,a,u){if(u={lane:2,revertLane:km(),action:u,hasEagerState:!1,eagerState:null,next:null},Xc(r)){if(i)throw Error(s(479))}else i=bd(r,a,u,2),i!==null&&or(i,r,2)}function Xc(r){var i=r.alternate;return r===Ke||i!==null&&i===Ke}function W_(r,i){Ro=Gc=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function X_(r,i,a){if((a&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Zn(r,a)}}var Zc={readContext:wn,use:Yc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},Z_={readContext:wn,use:Yc,useCallback:function(r,i){return Un().memoizedState=[r,i===void 0?null:i],r},useContext:wn,useEffect:L_,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,Wc(4194308,4,j_.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Wc(4194308,4,r,i)},useInsertionEffect:function(r,i){Wc(4,2,r,i)},useMemo:function(r,i){var a=Un();i=i===void 0?null:i;var u=r();if(Ma){In(!0);try{r()}finally{In(!1)}}return a.memoizedState=[u,i],u},useReducer:function(r,i,a){var u=Un();if(a!==void 0){var f=a(i);if(Ma){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=UR.bind(null,Ke,r),[u.memoizedState,r]},useRef:function(r){var i=Un();return r={current:r},i.memoizedState=r},useState:function(r){r=Jd(r);var i=r.queue,a=$_.bind(null,Ke,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:tm,useDeferredValue:function(r,i){var a=Un();return nm(a,r,i)},useTransition:function(){var r=Jd(!1);return r=H_.bind(null,Ke,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var u=Ke,f=Un();if(at){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Tt===null)throw Error(s(349));(tt&124)!==0||v_(u,i,a)}f.memoizedState=a;var p={value:a,getSnapshot:i};return f.queue=p,L_(T_.bind(null,u,p,r),[r]),u.flags|=2048,Io(9,$c(),E_.bind(null,u,p,a,i),null),a},useId:function(){var r=Un(),i=Tt.identifierPrefix;if(at){var a=Ni,u=Di;a=(u&~(1<<32-$t(u)-1)).toString(32)+a,i=""+i+"R"+a,a=Kc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=MR++,i=""+i+"r"+a.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:im,useFormState:N_,useActionState:N_,useOptimistic:function(r){var i=Un();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sm.bind(null,Ke,!0,a),a.dispatch=i,[r,i]},useMemoCache:Wd,useCacheRefresh:function(){return Un().memoizedState=kR.bind(null,Ke)}},J_={readContext:wn,use:Yc,useCallback:B_,useContext:wn,useEffect:V_,useImperativeHandle:z_,useInsertionEffect:k_,useLayoutEffect:U_,useMemo:F_,useReducer:Qc,useRef:P_,useState:function(){return Qc(xi)},useDebugValue:tm,useDeferredValue:function(r,i){var a=Ht();return q_(a,mt.memoizedState,r,i)},useTransition:function(){var r=Qc(xi)[0],i=Ht().memoizedState;return[typeof r=="boolean"?r:Wl(r),i]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:im,useFormState:O_,useActionState:O_,useOptimistic:function(r,i){var a=Ht();return b_(a,mt,r,i)},useMemoCache:Wd,useCacheRefresh:Q_},jR={readContext:wn,use:Yc,useCallback:B_,useContext:wn,useEffect:V_,useImperativeHandle:z_,useInsertionEffect:k_,useLayoutEffect:U_,useMemo:F_,useReducer:Zd,useRef:P_,useState:function(){return Zd(xi)},useDebugValue:tm,useDeferredValue:function(r,i){var a=Ht();return mt===null?nm(a,r,i):q_(a,mt.memoizedState,r,i)},useTransition:function(){var r=Zd(xi)[0],i=Ht().memoizedState;return[typeof r=="boolean"?r:Wl(r),i]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:im,useFormState:x_,useActionState:x_,useOptimistic:function(r,i){var a=Ht();return mt!==null?b_(a,mt,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:Q_},Do=null,Jl=0;function Jc(r){var i=Jl;return Jl+=1,Do===null&&(Do=[]),c_(Do,r,i)}function eu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function eh(r,i){throw i.$$typeof===w?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function ev(r){var i=r._init;return i(r._payload)}function tv(r){function i(B,k){if(r){var H=B.deletions;H===null?(B.deletions=[k],B.flags|=16):H.push(k)}}function a(B,k){if(!r)return null;for(;k!==null;)i(B,k),k=k.sibling;return null}function u(B){for(var k=new Map;B!==null;)B.key!==null?k.set(B.key,B):k.set(B.index,B),B=B.sibling;return k}function f(B,k){return B=Ii(B,k),B.index=0,B.sibling=null,B}function p(B,k,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<k?(B.flags|=67108866,k):H):(B.flags|=67108866,k)):(B.flags|=1048576,k)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,k,H,re){return k===null||k.tag!==6?(k=Rd(H,B.mode,re),k.return=B,k):(k=f(k,H),k.return=B,k)}function O(B,k,H,re){var we=H.type;return we===j?te(B,k,H.props.children,re,H.key):k!==null&&(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&ev(we)===k.type)?(k=f(k,H.props),eu(k,H),k.return=B,k):(k=Vc(H.type,H.key,H.props,null,B.mode,re),eu(k,H),k.return=B,k)}function K(B,k,H,re){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Cd(H,B.mode,re),k.return=B,k):(k=f(k,H.children||[]),k.return=B,k)}function te(B,k,H,re,we){return k===null||k.tag!==7?(k=ba(H,B.mode,re,we),k.return=B,k):(k=f(k,H),k.return=B,k)}function se(B,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Rd(""+k,B.mode,H),k.return=B,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return H=Vc(k.type,k.key,k.props,null,B.mode,H),eu(H,k),H.return=B,H;case D:return k=Cd(k,B.mode,H),k.return=B,k;case A:var re=k._init;return k=re(k._payload),se(B,k,H)}if($e(k)||z(k))return k=ba(k,B.mode,H,null),k.return=B,k;if(typeof k.then=="function")return se(B,Jc(k),H);if(k.$$typeof===ee)return se(B,zc(B,k),H);eh(B,k)}return null}function $(B,k,H,re){var we=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:S(B,k,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===we?O(B,k,H,re):null;case D:return H.key===we?K(B,k,H,re):null;case A:return we=H._init,H=we(H._payload),$(B,k,H,re)}if($e(H)||z(H))return we!==null?null:te(B,k,H,re,null);if(typeof H.then=="function")return $(B,k,Jc(H),re);if(H.$$typeof===ee)return $(B,k,zc(B,H),re);eh(B,H)}return null}function X(B,k,H,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(H)||null,S(k,B,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return B=B.get(re.key===null?H:re.key)||null,O(k,B,re,we);case D:return B=B.get(re.key===null?H:re.key)||null,K(k,B,re,we);case A:var Ye=re._init;return re=Ye(re._payload),X(B,k,H,re,we)}if($e(re)||z(re))return B=B.get(H)||null,te(k,B,re,we,null);if(typeof re.then=="function")return X(B,k,H,Jc(re),we);if(re.$$typeof===ee)return X(B,k,H,zc(k,re),we);eh(k,re)}return null}function Le(B,k,H,re){for(var we=null,Ye=null,Ie=k,Me=k=0,on=null;Ie!==null&&Me<H.length;Me++){Ie.index>Me?(on=Ie,Ie=null):on=Ie.sibling;var it=$(B,Ie,H[Me],re);if(it===null){Ie===null&&(Ie=on);break}r&&Ie&&it.alternate===null&&i(B,Ie),k=p(it,k,Me),Ye===null?we=it:Ye.sibling=it,Ye=it,Ie=on}if(Me===H.length)return a(B,Ie),at&&Ra(B,Me),we;if(Ie===null){for(;Me<H.length;Me++)Ie=se(B,H[Me],re),Ie!==null&&(k=p(Ie,k,Me),Ye===null?we=Ie:Ye.sibling=Ie,Ye=Ie);return at&&Ra(B,Me),we}for(Ie=u(Ie);Me<H.length;Me++)on=X(Ie,B,Me,H[Me],re),on!==null&&(r&&on.alternate!==null&&Ie.delete(on.key===null?Me:on.key),k=p(on,k,Me),Ye===null?we=on:Ye.sibling=on,Ye=on);return r&&Ie.forEach(function(Ds){return i(B,Ds)}),at&&Ra(B,Me),we}function Oe(B,k,H,re){if(H==null)throw Error(s(151));for(var we=null,Ye=null,Ie=k,Me=k=0,on=null,it=H.next();Ie!==null&&!it.done;Me++,it=H.next()){Ie.index>Me?(on=Ie,Ie=null):on=Ie.sibling;var Ds=$(B,Ie,it.value,re);if(Ds===null){Ie===null&&(Ie=on);break}r&&Ie&&Ds.alternate===null&&i(B,Ie),k=p(Ds,k,Me),Ye===null?we=Ds:Ye.sibling=Ds,Ye=Ds,Ie=on}if(it.done)return a(B,Ie),at&&Ra(B,Me),we;if(Ie===null){for(;!it.done;Me++,it=H.next())it=se(B,it.value,re),it!==null&&(k=p(it,k,Me),Ye===null?we=it:Ye.sibling=it,Ye=it);return at&&Ra(B,Me),we}for(Ie=u(Ie);!it.done;Me++,it=H.next())it=X(Ie,B,Me,it.value,re),it!==null&&(r&&it.alternate!==null&&Ie.delete(it.key===null?Me:it.key),k=p(it,k,Me),Ye===null?we=it:Ye.sibling=it,Ye=it);return r&&Ie.forEach(function(z1){return i(B,z1)}),at&&Ra(B,Me),we}function gt(B,k,H,re){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var we=H.key;k!==null;){if(k.key===we){if(we=H.type,we===j){if(k.tag===7){a(B,k.sibling),re=f(k,H.props.children),re.return=B,B=re;break e}}else if(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&ev(we)===k.type){a(B,k.sibling),re=f(k,H.props),eu(re,H),re.return=B,B=re;break e}a(B,k);break}else i(B,k);k=k.sibling}H.type===j?(re=ba(H.props.children,B.mode,re,H.key),re.return=B,B=re):(re=Vc(H.type,H.key,H.props,null,B.mode,re),eu(re,H),re.return=B,B=re)}return E(B);case D:e:{for(we=H.key;k!==null;){if(k.key===we)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(B,k.sibling),re=f(k,H.children||[]),re.return=B,B=re;break e}else{a(B,k);break}else i(B,k);k=k.sibling}re=Cd(H,B.mode,re),re.return=B,B=re}return E(B);case A:return we=H._init,H=we(H._payload),gt(B,k,H,re)}if($e(H))return Le(B,k,H,re);if(z(H)){if(we=z(H),typeof we!="function")throw Error(s(150));return H=we.call(H),Oe(B,k,H,re)}if(typeof H.then=="function")return gt(B,k,Jc(H),re);if(H.$$typeof===ee)return gt(B,k,zc(B,H),re);eh(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(B,k.sibling),re=f(k,H),re.return=B,B=re):(a(B,k),re=Rd(H,B.mode,re),re.return=B,B=re),E(B)):a(B,k)}return function(B,k,H,re){try{Jl=0;var we=gt(B,k,H,re);return Do=null,we}catch(Ie){if(Ie===Hl||Ie===Fc)throw Ie;var Ye=nr(29,Ie,null,B.mode);return Ye.lanes=re,Ye.return=B,Ye}finally{}}}var No=tv(!0),nv=tv(!1),wr=ne(null),ri=null;function ms(r){var i=r.alternate;de(Jt,Jt.current&1),de(wr,r),ri===null&&(i===null||Ao.current!==null||i.memoizedState!==null)&&(ri=r)}function rv(r){if(r.tag===22){if(de(Jt,Jt.current),de(wr,r),ri===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ri=r)}}else ps()}function ps(){de(Jt,Jt.current),de(wr,wr.current)}function Pi(r){pe(wr),ri===r&&(ri=null),pe(Jt)}var Jt=ne(0);function th(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$m(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function am(r,i,a,u){i=r.memoizedState,a=a(u,i),a=a==null?i:_({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var om={enqueueSetState:function(r,i,a){r=r._reactInternals;var u=ar(),f=hs(u);f.payload=i,a!=null&&(f.callback=a),i=fs(r,f,u),i!==null&&(or(i,r,u),Kl(i,r,u))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var u=ar(),f=hs(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=fs(r,f,u),i!==null&&(or(i,r,u),Kl(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=ar(),u=hs(a);u.tag=2,i!=null&&(u.callback=i),i=fs(r,u,a),i!==null&&(or(i,r,a),Kl(i,r,a))}};function iv(r,i,a,u,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):i.prototype&&i.prototype.isPureReactComponent?!Vl(a,u)||!Vl(f,p):!0}function sv(r,i,a,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==r&&om.enqueueReplaceState(i,i.state,null)}function xa(r,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(r=r.defaultProps){a===i&&(a=_({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var nh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function av(r){nh(r)}function ov(r){console.error(r)}function lv(r){nh(r)}function rh(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function uv(r,i,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lm(r,i,a){return a=hs(a),a.tag=3,a.payload={element:null},a.callback=function(){rh(r,i)},a}function cv(r){return r=hs(r),r.tag=3,r}function hv(r,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;r.payload=function(){return f(p)},r.callback=function(){uv(i,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){uv(i,a,u),typeof f!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function zR(r,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Bl(i,a,f,!0),a=wr.current,a!==null){switch(a.tag){case 13:return ri===null?Mm():a.alternate===null&&Lt===0&&(Lt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===kd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Pm(r,u,f)),!1;case 22:return a.flags|=65536,u===kd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Pm(r,u,f)),!1}throw Error(s(435,a.tag))}return Pm(r,u,f),Mm(),!1}if(at)return i=wr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Nd&&(r=Error(s(422),{cause:u}),zl(_r(r,a)))):(u!==Nd&&(i=Error(s(423),{cause:u}),zl(_r(i,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=_r(u,a),f=lm(r.stateNode,u,f),zd(r,f),Lt!==4&&(Lt=2)),!1;var p=Error(s(520),{cause:u});if(p=_r(p,a),ou===null?ou=[p]:ou.push(p),Lt!==4&&(Lt=2),i===null)return!0;u=_r(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=lm(a.stateNode,u,r),zd(a,r),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ts===null||!Ts.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cv(f),hv(f,r,a,u),zd(a,f),!1}a=a.return}while(a!==null);return!1}var fv=Error(s(461)),sn=!1;function dn(r,i,a,u){i.child=r===null?nv(i,null,a,u):No(i,r.child,a,u)}function dv(r,i,a,u,f){a=a.render;var p=i.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Na(i),u=Gd(r,i,a,E,p,f),S=Kd(),r!==null&&!sn?(Yd(r,i,f),Li(r,i,f)):(at&&S&&Id(i),i.flags|=1,dn(r,i,u,f),i.child)}function mv(r,i,a,u,f){if(r===null){var p=a.type;return typeof p=="function"&&!Ad(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,pv(r,i,p,u,f)):(r=Vc(a.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!gm(r,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(E,u)&&r.ref===i.ref)return Li(r,i,f)}return i.flags|=1,r=Ii(p,u),r.ref=i.ref,r.return=i,i.child=r}function pv(r,i,a,u,f){if(r!==null){var p=r.memoizedProps;if(Vl(p,u)&&r.ref===i.ref)if(sn=!1,i.pendingProps=u=p,gm(r,f))(r.flags&131072)!==0&&(sn=!0);else return i.lanes=r.lanes,Li(r,i,f)}return um(r,i,a,u,f)}function gv(r,i,a){var u=i.pendingProps,f=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,r!==null){for(f=i.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return yv(r,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bc(i,p!==null?p.cachePool:null),p!==null?p_(i,p):Fd(),rv(i);else return i.lanes=i.childLanes=536870912,yv(r,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(Bc(i,p.cachePool),p_(i,p),ps(),i.memoizedState=null):(r!==null&&Bc(i,null),Fd(),ps());return dn(r,i,f,a),i.child}function yv(r,i,a,u){var f=Vd();return f=f===null?null:{parent:Zt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},r!==null&&Bc(i,null),Fd(),rv(i),r!==null&&Bl(r,i,u,!0),null}function ih(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function um(r,i,a,u,f){return Na(i),a=Gd(r,i,a,u,void 0,f),u=Kd(),r!==null&&!sn?(Yd(r,i,f),Li(r,i,f)):(at&&u&&Id(i),i.flags|=1,dn(r,i,a,f),i.child)}function _v(r,i,a,u,f,p){return Na(i),i.updateQueue=null,a=y_(i,u,a,f),g_(r),u=Kd(),r!==null&&!sn?(Yd(r,i,p),Li(r,i,p)):(at&&u&&Id(i),i.flags|=1,dn(r,i,a,p),i.child)}function vv(r,i,a,u,f){if(Na(i),i.stateNode===null){var p=Eo,E=a.contextType;typeof E=="object"&&E!==null&&(p=wn(E)),p=new a(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=om,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Ud(i),E=a.contextType,p.context=typeof E=="object"&&E!==null?wn(E):Eo,p.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(am(i,a,E,u),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&om.enqueueReplaceState(p,p.state,null),Ql(i,u,p,f),Yl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){p=i.stateNode;var S=i.memoizedProps,O=xa(a,S);p.props=O;var K=p.context,te=a.contextType;E=Eo,typeof te=="object"&&te!==null&&(E=wn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||K!==E)&&sv(i,p,u,E),cs=!1;var $=i.memoizedState;p.state=$,Ql(i,u,p,f),Yl(),K=i.memoizedState,S||$!==K||cs?(typeof se=="function"&&(am(i,a,se,u),K=i.memoizedState),(O=cs||iv(i,a,O,u,$,K,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),p.props=u,p.state=K,p.context=E,u=O):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,jd(r,i),E=i.memoizedProps,te=xa(a,E),p.props=te,se=i.pendingProps,$=p.context,K=a.contextType,O=Eo,typeof K=="object"&&K!==null&&(O=wn(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==se||$!==O)&&sv(i,p,u,O),cs=!1,$=i.memoizedState,p.state=$,Ql(i,u,p,f),Yl();var X=i.memoizedState;E!==se||$!==X||cs||r!==null&&r.dependencies!==null&&jc(r.dependencies)?(typeof S=="function"&&(am(i,a,S,u),X=i.memoizedState),(te=cs||iv(i,a,te,u,$,X,O)||r!==null&&r.dependencies!==null&&jc(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,O)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=X),p.props=u,p.state=X,p.context=O,u=te):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=1024),u=!1)}return p=u,ih(r,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&u?(i.child=No(i,r.child,null,f),i.child=No(i,null,a,f)):dn(r,i,a,f),i.memoizedState=p.state,r=i.child):r=Li(r,i,f),r}function Ev(r,i,a,u){return jl(),i.flags|=256,dn(r,i,a,u),i.child}var cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hm(r){return{baseLanes:r,cachePool:o_()}}function fm(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=Sr),r}function Tv(r,i,a){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Jt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(at){if(f?ms(i):ps(),at){var S=Pt,O;if(O=S){e:{for(O=S,S=ni;O.nodeType!==8;){if(!S){S=null;break e}if(O=Gr(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(i.memoizedState={dehydrated:S,treeContext:Aa!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},O=nr(18,null,null,0),O.stateNode=S,O.return=i,i.child=O,Ln=i,Pt=null,O=!0):O=!1}O||Ia(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return $m(S)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return S=u.children,u=u.fallback,f?(ps(),f=i.mode,S=sh({mode:"hidden",children:S},f),u=ba(u,f,a,null),S.return=i,u.return=i,S.sibling=u,i.child=S,f=i.child,f.memoizedState=hm(a),f.childLanes=fm(r,E,a),i.memoizedState=cm,u):(ms(i),dm(i,S))}if(O=r.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(p)i.flags&256?(ms(i),i.flags&=-257,i=mm(r,i,a)):i.memoizedState!==null?(ps(),i.child=r.child,i.flags|=128,i=null):(ps(),f=u.fallback,S=i.mode,u=sh({mode:"visible",children:u.children},S),f=ba(f,S,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,No(i,r.child,null,a),u=i.child,u.memoizedState=hm(a),u.childLanes=fm(r,E,a),i.memoizedState=cm,i=f);else if(ms(i),$m(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(s(419)),u.stack="",u.digest=E,zl({value:u,source:null,stack:null}),i=mm(r,i,a)}else if(sn||Bl(r,i,a,!1),E=(a&r.childLanes)!==0,sn||E){if(E=Tt,E!==null&&(u=a&-a,u=(u&42)!==0?1:oa(u),u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,vo(r,u),or(E,r,u),fv;S.data==="$?"||Mm(),i=mm(r,i,a)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=O.treeContext,Pt=Gr(S.nextSibling),Ln=i,at=!0,Ca=null,ni=!1,r!==null&&(Er[Tr++]=Di,Er[Tr++]=Ni,Er[Tr++]=Aa,Di=r.id,Ni=r.overflow,Aa=i),i=dm(i,u.children),i.flags|=4096);return i}return f?(ps(),f=u.fallback,S=i.mode,O=r.child,K=O.sibling,u=Ii(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?f=Ii(K,f):(f=ba(f,S,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,S=r.child.memoizedState,S===null?S=hm(a):(O=S.cachePool,O!==null?(K=Zt._currentValue,O=O.parent!==K?{parent:K,pool:K}:O):O=o_(),S={baseLanes:S.baseLanes|a,cachePool:O}),f.memoizedState=S,f.childLanes=fm(r,E,a),i.memoizedState=cm,u):(ms(i),a=r.child,r=a.sibling,a=Ii(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=a,i.memoizedState=null,a)}function dm(r,i){return i=sh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function sh(r,i){return r=nr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function mm(r,i,a){return No(i,r.child,null,a),r=dm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function wv(r,i,a){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Md(r.return,i,a)}function pm(r,i,a,u,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=f)}function Sv(r,i,a){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(dn(r,i,u.children,a),u=Jt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wv(r,a,i);else if(r.tag===19)wv(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(de(Jt,u),f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&th(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),pm(i,!1,f,a,p);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&th(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}pm(i,!0,a,null,p);break;case"together":pm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Es|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Bl(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=Ii(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Ii(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function gm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&jc(r)))}function BR(r,i,a){switch(i.tag){case 3:ot(i,i.stateNode.containerInfo),us(i,Zt,r.memoizedState.cache),jl();break;case 27:case 5:xt(i);break;case 4:ot(i,i.stateNode.containerInfo);break;case 10:us(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ms(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Tv(r,i,a):(ms(i),r=Li(r,i,a),r!==null?r.sibling:null);ms(i);break;case 19:var f=(r.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Bl(r,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return Sv(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(Jt,Jt.current),u)break;return null;case 22:case 23:return i.lanes=0,gv(r,i,a);case 24:us(i,Zt,r.memoizedState.cache)}return Li(r,i,a)}function bv(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)sn=!0;else{if(!gm(r,a)&&(i.flags&128)===0)return sn=!1,BR(r,i,a);sn=(r.flags&131072)!==0}else sn=!1,at&&(i.flags&1048576)!==0&&e_(i,Uc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Ad(u)?(r=xa(u,r),i.tag=1,i=vv(null,i,u,r,a)):(i.tag=0,i=um(null,i,u,r,a));else{if(u!=null){if(f=u.$$typeof,f===he){i.tag=11,i=dv(null,i,u,r,a);break e}else if(f===N){i.tag=14,i=mv(null,i,u,r,a);break e}}throw i=Ve(u)||u,Error(s(306,i,""))}}return i;case 0:return um(r,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=xa(u,i.pendingProps),vv(r,i,u,f,a);case 3:e:{if(ot(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,jd(r,i),Ql(i,u,null,a);var E=i.memoizedState;if(u=E.cache,us(i,Zt,u),u!==p.cache&&xd(i,[Zt],a,!0),Yl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Ev(r,i,u,a);break e}else if(u!==f){f=_r(Error(s(424)),i),zl(f),i=Ev(r,i,u,a);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Pt=Gr(r.firstChild),Ln=i,at=!0,Ca=null,ni=!0,a=nv(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(jl(),u===f){i=Li(r,i,a);break e}dn(r,i,u,a)}i=i.child}return i;case 26:return ih(r,i),r===null?(a=IE(i.type,null,i.pendingProps,null))?i.memoizedState=a:at||(a=i.type,r=i.pendingProps,u=vh(De.current).createElement(a),u[ie]=i,u[ce]=r,pn(u,a,r),ke(u),i.stateNode=u):i.memoizedState=IE(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return xt(i),r===null&&at&&(u=i.stateNode=AE(i.type,i.pendingProps,De.current),Ln=i,ni=!0,f=Pt,bs(i.type)?(Wm=f,Pt=Gr(u.firstChild)):Pt=f),dn(r,i,i.pendingProps.children,a),ih(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&at&&((f=u=Pt)&&(u=p1(u,i.type,i.pendingProps,ni),u!==null?(i.stateNode=u,Ln=i,Pt=Gr(u.firstChild),ni=!1,f=!0):f=!1),f||Ia(i)),xt(i),f=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,Km(f,p)?u=null:E!==null&&Km(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Gd(r,i,xR,null,null,a),gu._currentValue=f),ih(r,i),dn(r,i,u,a),i.child;case 6:return r===null&&at&&((r=a=Pt)&&(a=g1(a,i.pendingProps,ni),a!==null?(i.stateNode=a,Ln=i,Pt=null,r=!0):r=!1),r||Ia(i)),null;case 13:return Tv(r,i,a);case 4:return ot(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=No(i,null,u,a):dn(r,i,u,a),i.child;case 11:return dv(r,i,i.type,i.pendingProps,a);case 7:return dn(r,i,i.pendingProps,a),i.child;case 8:return dn(r,i,i.pendingProps.children,a),i.child;case 12:return dn(r,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,us(i,i.type,u.value),dn(r,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Na(i),f=wn(f),u=u(f),i.flags|=1,dn(r,i,u,a),i.child;case 14:return mv(r,i,i.type,i.pendingProps,a);case 15:return pv(r,i,i.type,i.pendingProps,a);case 19:return Sv(r,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},r===null?(a=sh(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(r.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return gv(r,i,a);case 24:return Na(i),u=wn(Zt),r===null?(f=Vd(),f===null&&(f=Tt,p=Pd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),i.memoizedState={parent:u,cache:f},Ud(i),us(i,Zt,f)):((r.lanes&a)!==0&&(jd(r,i),Ql(i,null,null,a),Yl()),f=r.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),us(i,Zt,u)):(u=p.cache,us(i,Zt,u),u!==f.cache&&xd(i,[Zt],a,!0))),dn(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(r){r.flags|=4}function Av(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!xE(i)){if(i=wr.current,i!==null&&((tt&4194048)===tt?ri!==null:(tt&62914560)!==tt&&(tt&536870912)===0||i!==ri))throw Gl=kd,l_;r.flags|=8192}}function ah(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Jr():536870912,r.lanes|=i,Po|=i)}function tu(r,i){if(!at)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Ot(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=a,i}function FR(r,i,a){var u=i.pendingProps;switch(Dd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return a=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Mi(Zt),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Ul(i)?Vi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,r_())),Ot(i),null;case 26:return a=i.memoizedState,r===null?(Vi(i),a!==null?(Ot(i),Av(i,a)):(Ot(i),i.flags&=-16777217)):a?a!==r.memoizedState?(Vi(i),Ot(i),Av(i,a)):(Ot(i),i.flags&=-16777217):(r.memoizedProps!==u&&Vi(i),Ot(i),i.flags&=-16777217),null;case 27:Kn(i),a=De.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}r=Ee.current,Ul(i)?t_(i):(r=AE(f,u,a),i.stateNode=r,Vi(i))}return Ot(i),null;case 5:if(Kn(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Ot(i),null}if(r=Ee.current,Ul(i))t_(i);else{switch(f=vh(De.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}r[ie]=i,r[ce]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(pn(r,a,u),a){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vi(i)}}return Ot(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=De.current,Ul(i)){if(r=i.stateNode,a=i.memoizedProps,u=null,f=Ln,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[ie]=i,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||_E(r.nodeValue,a)),r||Ia(i)}else r=vh(r).createTextNode(u),r[ie]=i,i.stateNode=r}return Ot(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ul(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ie]=i}else jl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),f=!1}else f=r_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,r=r!==null&&r.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),ah(i,i.updateQueue),Ot(i),null;case 4:return Gn(),r===null&&Bm(i.stateNode.containerInfo),Ot(i),null;case 10:return Mi(i.type),Ot(i),null;case 19:if(pe(Jt),f=i.memoizedState,f===null)return Ot(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)tu(f,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=th(r),p!==null){for(i.flags|=128,tu(f,!1),r=p.updateQueue,i.updateQueue=r,ah(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)Jy(a,r),a=a.sibling;return de(Jt,Jt.current&1|2),i.child}r=r.sibling}f.tail!==null&&hn()>uh&&(i.flags|=128,u=!0,tu(f,!1),i.lanes=4194304)}else{if(!u)if(r=th(p),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,ah(i,r),tu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!at)return Ot(i),null}else 2*hn()-f.renderingStartTime>uh&&a!==536870912&&(i.flags|=128,u=!0,tu(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(r=f.last,r!==null?r.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=hn(),i.sibling=null,r=Jt.current,de(Jt,u?r&1|2:r&1),i):(Ot(i),null);case 22:case 23:return Pi(i),qd(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),a=i.updateQueue,a!==null&&ah(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),r!==null&&pe(Oa),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(Zt),Ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function qR(r,i){switch(Dd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Mi(Zt),Gn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 13:if(Pi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));jl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pe(Jt),null;case 4:return Gn(),null;case 10:return Mi(i.type),null;case 22:case 23:return Pi(i),qd(),r!==null&&pe(Oa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Mi(Zt),null;case 25:return null;default:return null}}function Rv(r,i){switch(Dd(i),i.tag){case 3:Mi(Zt),Gn();break;case 26:case 27:case 5:Kn(i);break;case 4:Gn();break;case 13:Pi(i);break;case 19:pe(Jt);break;case 10:Mi(i.type);break;case 22:case 23:Pi(i),qd(),r!==null&&pe(Oa);break;case 24:Mi(Zt)}}function nu(r,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&r)===r){u=void 0;var p=a.create,E=a.inst;u=p(),E.destroy=u}a=a.next}while(a!==f)}}catch(S){yt(i,i.return,S)}}function gs(r,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var O=a,K=S;try{K()}catch(te){yt(f,O,te)}}}u=u.next}while(u!==p)}}catch(te){yt(i,i.return,te)}}function Cv(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{m_(i,a)}catch(u){yt(r,r.return,u)}}}function Iv(r,i,a){a.props=xa(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){yt(r,i,u)}}function ru(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(f){yt(r,i,f)}}function ii(r,i){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){yt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){yt(r,i,f)}else a.current=null}function Dv(r){var i=r.type,a=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){yt(r,r.return,f)}}function ym(r,i,a){try{var u=r.stateNode;c1(u,r.type,a,i),u[ce]=i}catch(f){yt(r,r.return,f)}}function Nv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bs(r.type)||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Nv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function vm(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_h));else if(u!==4&&(u===27&&bs(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(vm(r,i,a),r=r.sibling;r!==null;)vm(r,i,a),r=r.sibling}function oh(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(u!==4&&(u===27&&bs(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(oh(r,i,a),r=r.sibling;r!==null;)oh(r,i,a),r=r.sibling}function Ov(r){var i=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);pn(i,u,a),i[ie]=r,i[ce]=a}catch(p){yt(r,r.return,p)}}var ki=!1,zt=!1,Em=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,an=null;function HR(r,i){if(r=r.containerInfo,Hm=Ah,r=qy(r),_d(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,S=-1,O=-1,K=0,te=0,se=r,$=null;t:for(;;){for(var X;se!==a||f!==0&&se.nodeType!==3||(S=E+f),se!==p||u!==0&&se.nodeType!==3||(O=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(X=se.firstChild)!==null;)$=se,se=X;for(;;){if(se===r)break t;if($===a&&++K===f&&(S=E),$===p&&++te===u&&(O=E),(X=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=X}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gm={focusedElem:r,selectionRange:a},Ah=!1,an=i;an!==null;)if(i=an,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,an=r;else for(;an!==null;){switch(i=an,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,a=i,f=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Le=xa(a.type,f,a.elementType===a.type);r=u.getSnapshotBeforeUpdate(Le,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){yt(a,a.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)Qm(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Qm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,an=r;break}an=i.return}}function xv(r,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ys(r,a),u&4&&nu(5,a);break;case 1:if(ys(r,a),u&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(E){yt(a,a.return,E)}else{var f=xa(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){yt(a,a.return,E)}}u&64&&Cv(a),u&512&&ru(a,a.return);break;case 3:if(ys(r,a),u&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{m_(r,i)}catch(E){yt(a,a.return,E)}}break;case 27:i===null&&u&4&&Ov(a);case 26:case 5:ys(r,a),i===null&&u&4&&Dv(a),u&512&&ru(a,a.return);break;case 12:ys(r,a);break;case 13:ys(r,a),u&4&&Vv(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=JR.bind(null,a),y1(r,a))));break;case 22:if(u=a.memoizedState!==null||ki,!u){i=i!==null&&i.memoizedState!==null||zt,f=ki;var p=zt;ki=u,(zt=i)&&!p?_s(r,a,(a.subtreeFlags&8772)!==0):ys(r,a),ki=f,zt=p}break;case 30:break;default:ys(r,a)}}function Pv(r){var i=r.alternate;i!==null&&(r.alternate=null,Pv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ae(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var It=null,jn=!1;function Ui(r,i,a){for(a=a.child;a!==null;)Lv(r,i,a),a=a.sibling}function Lv(r,i,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(fn,a)}catch{}switch(a.tag){case 26:zt||ii(a,i),Ui(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||ii(a,i);var u=It,f=jn;bs(a.type)&&(It=a.stateNode,jn=!1),Ui(r,i,a),fu(a.stateNode),It=u,jn=f;break;case 5:zt||ii(a,i);case 6:if(u=It,f=jn,It=null,Ui(r,i,a),It=u,jn=f,It!==null)if(jn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(a.stateNode)}catch(p){yt(a,i,p)}else try{It.removeChild(a.stateNode)}catch(p){yt(a,i,p)}break;case 18:It!==null&&(jn?(r=It,SE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),Eu(r)):SE(It,a.stateNode));break;case 4:u=It,f=jn,It=a.stateNode.containerInfo,jn=!0,Ui(r,i,a),It=u,jn=f;break;case 0:case 11:case 14:case 15:zt||gs(2,a,i),zt||gs(4,a,i),Ui(r,i,a);break;case 1:zt||(ii(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Iv(a,i,u)),Ui(r,i,a);break;case 21:Ui(r,i,a);break;case 22:zt=(u=zt)||a.memoizedState!==null,Ui(r,i,a),zt=u;break;default:Ui(r,i,a)}}function Vv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Eu(r)}catch(a){yt(i,i.return,a)}}function GR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Mv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Mv),i;default:throw Error(s(435,r.tag))}}function Tm(r,i){var a=GR(r);i.forEach(function(u){var f=e1.bind(null,r,u);a.has(u)||(a.add(u),u.then(f,f))})}function rr(r,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],p=r,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(bs(S.type)){It=S.stateNode,jn=!1;break e}break;case 5:It=S.stateNode,jn=!1;break e;case 3:case 4:It=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(It===null)throw Error(s(160));Lv(p,E,f),It=null,jn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)kv(i,r),i=i.sibling}var Hr=null;function kv(r,i){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(i,r),ir(r),u&4&&(gs(3,r,r.return),nu(3,r),gs(5,r,r.return));break;case 1:rr(i,r),ir(r),u&512&&(zt||a===null||ii(a,a.return)),u&64&&ki&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Hr;if(rr(i,r),ir(r),u&512&&(zt||a===null||ii(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){e:{u=r.type,a=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Te]||p[ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),pn(p,u,a),p[ie]=r,ke(p),u=p;break e;case"link":var E=OE("link","href",f).get(u+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}p=f.createElement(u),pn(p,u,a),f.head.appendChild(p);break;case"meta":if(E=OE("meta","content",f).get(u+(a.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}p=f.createElement(u),pn(p,u,a),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[ie]=r,ke(p),u=p}r.stateNode=u}else ME(f,r.type,r.stateNode);else r.stateNode=NE(f,u,r.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?ME(f,r.type,r.stateNode):NE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&ym(r,r.memoizedProps,a.memoizedProps)}break;case 27:rr(i,r),ir(r),u&512&&(zt||a===null||ii(a,a.return)),a!==null&&u&4&&ym(r,r.memoizedProps,a.memoizedProps);break;case 5:if(rr(i,r),ir(r),u&512&&(zt||a===null||ii(a,a.return)),r.flags&32){f=r.stateNode;try{gr(f,"")}catch(X){yt(r,r.return,X)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,ym(r,f,a!==null?a.memoizedProps:f)),u&1024&&(Em=!0);break;case 6:if(rr(i,r),ir(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(X){yt(r,r.return,X)}}break;case 3:if(wh=null,f=Hr,Hr=Eh(i.containerInfo),rr(i,r),Hr=f,ir(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Eu(i.containerInfo)}catch(X){yt(r,r.return,X)}Em&&(Em=!1,Uv(r));break;case 4:u=Hr,Hr=Eh(r.stateNode.containerInfo),rr(i,r),ir(r),Hr=u;break;case 12:rr(i,r),ir(r);break;case 13:rr(i,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cm=hn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tm(r,u)));break;case 22:f=r.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,K=ki,te=zt;if(ki=K||f,zt=te||O,rr(i,r),zt=te,ki=K,ir(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||O||ki||zt||Pa(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var se=O.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){yt(O,O.return,X)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(X){yt(O,O.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Tm(r,a))));break;case 19:rr(i,r),ir(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Tm(r,u)));break;case 30:break;case 21:break;default:rr(i,r),ir(r)}}function ir(r){var i=r.flags;if(i&2){try{for(var a,u=r.return;u!==null;){if(Nv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=_m(r);oh(r,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(gr(E,""),a.flags&=-33);var S=_m(r);oh(r,S,E);break;case 3:case 4:var O=a.stateNode.containerInfo,K=_m(r);vm(r,K,O);break;default:throw Error(s(161))}}catch(te){yt(r,r.return,te)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Uv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ys(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xv(r,i.alternate,i),i=i.sibling}function Pa(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:gs(4,i,i.return),Pa(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Iv(i,i.return,a),Pa(i);break;case 27:fu(i.stateNode);case 26:case 5:ii(i,i.return),Pa(i);break;case 22:i.memoizedState===null&&Pa(i);break;case 30:Pa(i);break;default:Pa(i)}r=r.sibling}}function _s(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:_s(f,p,a),nu(4,p);break;case 1:if(_s(f,p,a),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){yt(u,u.return,K)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)d_(O[f],S)}catch(K){yt(u,u.return,K)}}a&&E&64&&Cv(p),ru(p,p.return);break;case 27:Ov(p);case 26:case 5:_s(f,p,a),a&&u===null&&E&4&&Dv(p),ru(p,p.return);break;case 12:_s(f,p,a);break;case 13:_s(f,p,a),a&&E&4&&Vv(f,p);break;case 22:p.memoizedState===null&&_s(f,p,a),ru(p,p.return);break;case 30:break;default:_s(f,p,a)}i=i.sibling}}function wm(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Fl(a))}function Sm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Fl(r))}function si(r,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jv(r,i,a,u),i=i.sibling}function jv(r,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:si(r,i,a,u),f&2048&&nu(9,i);break;case 1:si(r,i,a,u);break;case 3:si(r,i,a,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Fl(r)));break;case 12:if(f&2048){si(r,i,a,u),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){yt(i,i.return,O)}}else si(r,i,a,u);break;case 13:si(r,i,a,u);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?si(r,i,a,u):iu(r,i):p._visibility&2?si(r,i,a,u):(p._visibility|=2,Oo(r,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&wm(E,i);break;case 24:si(r,i,a,u),f&2048&&Sm(i.alternate,i);break;default:si(r,i,a,u)}}function Oo(r,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,S=a,O=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:Oo(p,E,S,O,f),nu(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Oo(p,E,S,O,f):iu(p,E):(te._visibility|=2,Oo(p,E,S,O,f)),f&&K&2048&&wm(E.alternate,E);break;case 24:Oo(p,E,S,O,f),f&&K&2048&&Sm(E.alternate,E);break;default:Oo(p,E,S,O,f)}i=i.sibling}}function iu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,u=i,f=u.flags;switch(u.tag){case 22:iu(a,u),f&2048&&wm(u.alternate,u);break;case 24:iu(a,u),f&2048&&Sm(u.alternate,u);break;default:iu(a,u)}i=i.sibling}}var su=8192;function Mo(r){if(r.subtreeFlags&su)for(r=r.child;r!==null;)zv(r),r=r.sibling}function zv(r){switch(r.tag){case 26:Mo(r),r.flags&su&&r.memoizedState!==null&&N1(Hr,r.memoizedState,r.memoizedProps);break;case 5:Mo(r);break;case 3:case 4:var i=Hr;Hr=Eh(r.stateNode.containerInfo),Mo(r),Hr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=su,su=16777216,Mo(r),su=i):Mo(r));break;default:Mo(r)}}function Bv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function au(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];an=u,qv(u,r)}Bv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fv(r),r=r.sibling}function Fv(r){switch(r.tag){case 0:case 11:case 15:au(r),r.flags&2048&&gs(9,r,r.return);break;case 3:au(r);break;case 12:au(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,lh(r)):au(r);break;default:au(r)}}function lh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];an=u,qv(u,r)}Bv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:gs(8,i,i.return),lh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,lh(i));break;default:lh(i)}r=r.sibling}}function qv(r,i){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:gs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,an=u;else e:for(a=r;an!==null;){u=an;var f=u.sibling,p=u.return;if(Pv(u),u===a){an=null;break e}if(f!==null){f.return=p,an=f;break e}an=p}}}var KR={getCacheForType:function(r){var i=wn(Zt),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},YR=typeof WeakMap=="function"?WeakMap:Map,ht=0,Tt=null,We=null,tt=0,ft=0,sr=null,vs=!1,xo=!1,bm=!1,ji=0,Lt=0,Es=0,La=0,Am=0,Sr=0,Po=0,ou=null,zn=null,Rm=!1,Cm=0,uh=1/0,ch=null,Ts=null,mn=0,ws=null,Lo=null,Vo=0,Im=0,Dm=null,Hv=null,lu=0,Nm=null;function ar(){if((ht&2)!==0&&tt!==0)return tt&-tt;if(Q.T!==null){var r=So;return r!==0?r:km()}return M()}function Gv(){Sr===0&&(Sr=(tt&536870912)===0||at?wi():536870912);var r=wr.current;return r!==null&&(r.flags|=32),Sr}function or(r,i,a){(r===Tt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(ko(r,0),Ss(r,tt,Sr,!1)),Dt(r,a),((ht&2)===0||r!==Tt)&&(r===Tt&&((ht&2)===0&&(La|=a),Lt===4&&Ss(r,tt,Sr,!1)),ai(r))}function Kv(r,i,a){if((ht&6)!==0)throw Error(s(327));var u=!a&&(i&124)===0&&(i&r.expiredLanes)===0||Wn(r,i),f=u?WR(r,i):xm(r,i,!0),p=u;do{if(f===0){xo&&!u&&Ss(r,i,0,!1);break}else{if(a=r.current.alternate,p&&!QR(a)){f=xm(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=r;f=ou;var O=S.current.memoizedState.isDehydrated;if(O&&(ko(S,E).flags|=256),E=xm(S,E,!1),E!==2){if(bm&&!O){S.errorRecoveryDisabledLanes|=p,La|=p,f=4;break e}p=zn,zn=f,p!==null&&(zn===null?zn=p:zn.push.apply(zn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){ko(r,0),Ss(r,i,0,!0);break}e:{switch(u=r,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ss(u,i,Sr,!vs);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Cm+300-hn(),10<f)){if(Ss(u,i,Sr,!vs),Dn(u,0,!0)!==0)break e;u.timeoutHandle=TE(Yv.bind(null,u,a,zn,ch,Rm,i,Sr,La,Po,vs,p,2,-0,0),f);break e}Yv(u,a,zn,ch,Rm,i,Sr,La,Po,vs,p,0,-0,0)}}break}while(!0);ai(r)}function Yv(r,i,a,u,f,p,E,S,O,K,te,se,$,X){if(r.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:D1},zv(i),se=O1(),se!==null)){r.cancelPendingCommit=se(eE.bind(null,r,i,p,a,u,f,E,S,O,te,1,$,X)),Ss(r,p,E,!K);return}eE(r,i,p,a,u,f,E,S,O)}function QR(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],p=f.getSnapshot;f=f.value;try{if(!tr(p(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ss(r,i,a,u){i&=~Am,i&=~La,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var p=31-$t(f),E=1<<p;u[p]=-1,f&=~E}a!==0&&Xn(r,a,i)}function hh(){return(ht&6)===0?(uu(0),!1):!0}function Om(){if(We!==null){if(ft===0)var r=We.return;else r=We,Oi=Da=null,Qd(r),Do=null,Jl=0,r=We;for(;r!==null;)Rv(r.alternate,r),r=r.return;We=null}}function ko(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,f1(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Om(),Tt=r,We=a=Ii(r.current,null),tt=i,ft=0,sr=null,vs=!1,xo=Wn(r,i),bm=!1,Po=Sr=Am=La=Es=Lt=0,zn=ou=null,Rm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-$t(u),p=1<<f;i|=r[f],u&=~p}return ji=i,xc(),a}function Qv(r,i){Ke=null,Q.H=Zc,i===Hl||i===Fc?(i=h_(),ft=3):i===l_?(i=h_(),ft=4):ft=i===fv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sr=i,We===null&&(Lt=1,rh(r,_r(i,r.current)))}function $v(){var r=Q.H;return Q.H=Zc,r===null?Zc:r}function Wv(){var r=Q.A;return Q.A=KR,r}function Mm(){Lt=4,vs||(tt&4194048)!==tt&&wr.current!==null||(xo=!0),(Es&134217727)===0&&(La&134217727)===0||Tt===null||Ss(Tt,tt,Sr,!1)}function xm(r,i,a){var u=ht;ht|=2;var f=$v(),p=Wv();(Tt!==r||tt!==i)&&(ch=null,ko(r,i)),i=!1;var E=Lt;e:do try{if(ft!==0&&We!==null){var S=We,O=sr;switch(ft){case 8:Om(),E=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(i=!0);var K=ft;if(ft=0,sr=null,Uo(r,S,O,K),a&&xo){E=0;break e}break;default:K=ft,ft=0,sr=null,Uo(r,S,O,K)}}$R(),E=Lt;break}catch(te){Qv(r,te)}while(!0);return i&&r.shellSuspendCounter++,Oi=Da=null,ht=u,Q.H=f,Q.A=p,We===null&&(Tt=null,tt=0,xc()),E}function $R(){for(;We!==null;)Xv(We)}function WR(r,i){var a=ht;ht|=2;var u=$v(),f=Wv();Tt!==r||tt!==i?(ch=null,uh=hn()+500,ko(r,i)):xo=Wn(r,i);e:do try{if(ft!==0&&We!==null){i=We;var p=sr;t:switch(ft){case 1:ft=0,sr=null,Uo(r,i,p,1);break;case 2:case 9:if(u_(p)){ft=0,sr=null,Zv(i);break}i=function(){ft!==2&&ft!==9||Tt!==r||(ft=7),ai(r)},p.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:u_(p)?(ft=0,sr=null,Zv(i)):(ft=0,sr=null,Uo(r,i,p,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var S=We;if(!E||xE(E)){ft=0,sr=null;var O=S.sibling;if(O!==null)We=O;else{var K=S.return;K!==null?(We=K,fh(K)):We=null}break t}}ft=0,sr=null,Uo(r,i,p,5);break;case 6:ft=0,sr=null,Uo(r,i,p,6);break;case 8:Om(),Lt=6;break e;default:throw Error(s(462))}}XR();break}catch(te){Qv(r,te)}while(!0);return Oi=Da=null,Q.H=u,Q.A=f,ht=a,We!==null?0:(Tt=null,tt=0,xc(),Lt)}function XR(){for(;We!==null&&!vl();)Xv(We)}function Xv(r){var i=bv(r.alternate,r,ji);r.memoizedProps=r.pendingProps,i===null?fh(r):We=i}function Zv(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=_v(a,i,i.pendingProps,i.type,void 0,tt);break;case 11:i=_v(a,i,i.pendingProps,i.type.render,i.ref,tt);break;case 5:Qd(i);default:Rv(a,i),i=We=Jy(i,ji),i=bv(a,i,ji)}r.memoizedProps=r.pendingProps,i===null?fh(r):We=i}function Uo(r,i,a,u){Oi=Da=null,Qd(i),Do=null,Jl=0;var f=i.return;try{if(zR(r,f,i,a,tt)){Lt=1,rh(r,_r(a,r.current)),We=null;return}}catch(p){if(f!==null)throw We=f,p;Lt=1,rh(r,_r(a,r.current)),We=null;return}i.flags&32768?(at||u===1?r=!0:xo||(tt&536870912)!==0?r=!1:(vs=r=!0,(u===2||u===9||u===3||u===6)&&(u=wr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Jv(i,r)):fh(i)}function fh(r){var i=r;do{if((i.flags&32768)!==0){Jv(i,vs);return}r=i.return;var a=FR(i.alternate,i,ji);if(a!==null){We=a;return}if(i=i.sibling,i!==null){We=i;return}We=i=r}while(i!==null);Lt===0&&(Lt=5)}function Jv(r,i){do{var a=qR(r.alternate,r);if(a!==null){a.flags&=32767,We=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){We=r;return}We=r=a}while(r!==null);Lt=6,We=null}function eE(r,i,a,u,f,p,E,S,O){r.cancelPendingCommit=null;do dh();while(mn!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=Sd,aa(r,a,p,E,S,O),r===Tt&&(We=Tt=null,tt=0),Lo=i,ws=r,Vo=a,Im=p,Dm=f,Hv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,t1(Or,function(){return sE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=fe.p,fe.p=2,E=ht,ht|=4;try{HR(r,i,a)}finally{ht=E,fe.p=f,Q.T=u}}mn=1,tE(),nE(),rE()}}function tE(){if(mn===1){mn=0;var r=ws,i=Lo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{kv(i,r);var p=Gm,E=qy(r.containerInfo),S=p.focusedElem,O=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&Fy(S.ownerDocument.documentElement,S)){if(O!==null&&_d(S)){var K=O.start,te=O.end;if(te===void 0&&(te=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var X=$.getSelection(),Le=S.textContent.length,Oe=Math.min(O.start,Le),gt=O.end===void 0?Oe:Math.min(O.end,Le);!X.extend&&Oe>gt&&(E=gt,gt=Oe,Oe=E);var B=By(S,Oe),k=By(S,gt);if(B&&k&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var H=se.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),Oe>gt?(X.addRange(H),X.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),X.addRange(H))}}}}for(se=[],X=S;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ah=!!Hm,Gm=Hm=null}finally{ht=f,fe.p=u,Q.T=a}}r.current=i,mn=2}}function nE(){if(mn===2){mn=0;var r=ws,i=Lo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{xv(r,i.alternate,i)}finally{ht=f,fe.p=u,Q.T=a}}mn=3}}function rE(){if(mn===4||mn===3){mn=0,ia();var r=ws,i=Lo,a=Vo,u=Hv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?mn=5:(mn=0,Lo=ws=null,iE(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Ts=null),la(a),i=i.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(fn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Q.T,f=fe.p,fe.p=2,Q.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{Q.T=i,fe.p=f}}(Vo&3)!==0&&dh(),ai(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===Nm?lu++:(lu=0,Nm=r):lu=0,uu(0)}}function iE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Fl(i)))}function dh(r){return tE(),nE(),rE(),sE()}function sE(){if(mn!==5)return!1;var r=ws,i=Im;Im=0;var a=la(Vo),u=Q.T,f=fe.p;try{fe.p=32>a?32:a,Q.T=null,a=Dm,Dm=null;var p=ws,E=Vo;if(mn=0,Lo=ws=null,Vo=0,(ht&6)!==0)throw Error(s(331));var S=ht;if(ht|=4,Fv(p.current),jv(p,p.current,E,a),ht=S,uu(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(fn,p)}catch{}return!0}finally{fe.p=f,Q.T=u,iE(r,i)}}function aE(r,i,a){i=_r(a,i),i=lm(r.stateNode,i,2),r=fs(r,i,2),r!==null&&(Dt(r,2),ai(r))}function yt(r,i,a){if(r.tag===3)aE(r,r,a);else for(;i!==null;){if(i.tag===3){aE(i,r,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ts===null||!Ts.has(u))){r=_r(a,r),a=cv(2),u=fs(i,a,2),u!==null&&(hv(a,u,i,r),Dt(u,2),ai(u));break}}i=i.return}}function Pm(r,i,a){var u=r.pingCache;if(u===null){u=r.pingCache=new YR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(bm=!0,f.add(a),r=ZR.bind(null,r,i,a),i.then(r,r))}function ZR(r,i,a){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Tt===r&&(tt&a)===a&&(Lt===4||Lt===3&&(tt&62914560)===tt&&300>hn()-Cm?(ht&2)===0&&ko(r,0):Am|=a,Po===tt&&(Po=0)),ai(r)}function oE(r,i){i===0&&(i=Jr()),r=vo(r,i),r!==null&&(Dt(r,i),ai(r))}function JR(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),oE(r,a)}function e1(r,i){var a=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),oE(r,a)}function t1(r,i){return Ei(r,i)}var mh=null,jo=null,Lm=!1,ph=!1,Vm=!1,Va=0;function ai(r){r!==jo&&r.next===null&&(jo===null?mh=jo=r:jo=jo.next=r),ph=!0,Lm||(Lm=!0,r1())}function uu(r,i){if(!Vm&&ph){Vm=!0;do for(var a=!1,u=mh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-$t(42|r)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,hE(u,p))}else p=tt,p=Dn(u,u===Tt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Wn(u,p)||(a=!0,hE(u,p));u=u.next}while(a);Vm=!1}}function n1(){lE()}function lE(){ph=Lm=!1;var r=0;Va!==0&&(h1()&&(r=Va),Va=0);for(var i=hn(),a=null,u=mh;u!==null;){var f=u.next,p=uE(u,i);p===0?(u.next=null,a===null?mh=f:a.next=f,f===null&&(jo=a)):(a=u,(r!==0||(p&3)!==0)&&(ph=!0)),u=f}uu(r)}function uE(r,i){for(var a=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-$t(p),S=1<<E,O=f[E];O===-1?((S&a)===0||(S&u)!==0)&&(f[E]=Ti(S,i)):O<=i&&(r.expiredLanes|=S),p&=~S}if(i=Tt,a=tt,a=Dn(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===i&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Vn(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Wn(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(u!==null&&Vn(u),la(a)){case 2:case 8:a=Ft;break;case 32:a=Or;break;case 268435456:a=xr;break;default:a=Or}return u=cE.bind(null,r),a=Ei(a,u),r.callbackPriority=i,r.callbackNode=a,i}return u!==null&&u!==null&&Vn(u),r.callbackPriority=2,r.callbackNode=null,2}function cE(r,i){if(mn!==0&&mn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(dh()&&r.callbackNode!==a)return null;var u=tt;return u=Dn(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Kv(r,u,i),uE(r,hn()),r.callbackNode!=null&&r.callbackNode===a?cE.bind(null,r):null)}function hE(r,i){if(dh())return null;Kv(r,i,!0)}function r1(){d1(function(){(ht&6)!==0?Ei(kt,n1):lE()})}function km(){return Va===0&&(Va=wi()),Va}function fE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jr(""+r)}function dE(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function i1(r,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var p=fE((f[ce]||null).action),E=u.submitter;E&&(i=(i=E[ce]||null)?fE(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var S=new pa("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Va!==0){var O=E?dE(f,E):new FormData(f);rm(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(S.preventDefault(),O=E?dE(f,E):new FormData(f),rm(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Um=0;Um<wd.length;Um++){var jm=wd[Um],s1=jm.toLowerCase(),a1=jm[0].toUpperCase()+jm.slice(1);qr(s1,"on"+a1)}qr(Ky,"onAnimationEnd"),qr(Yy,"onAnimationIteration"),qr(Qy,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(SR,"onTransitionRun"),qr(bR,"onTransitionStart"),qr(AR,"onTransitionCancel"),qr($y,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function mE(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var E=u.length-1;0<=E;E--){var S=u[E],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(te){nh(te)}f.currentTarget=null,p=O}else for(E=0;E<u.length;E++){if(S=u[E],O=S.instance,K=S.currentTarget,S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(te){nh(te)}f.currentTarget=null,p=O}}}}function Xe(r,i){var a=i[Se];a===void 0&&(a=i[Se]=new Set);var u=r+"__bubble";a.has(u)||(pE(i,r,2,!1),a.add(u))}function zm(r,i,a){var u=0;i&&(u|=4),pE(a,r,u,i)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Bm(r){if(!r[gh]){r[gh]=!0,lt.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||zm(a,!1,r),zm(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[gh]||(i[gh]=!0,zm("selectionchange",!1,i))}}function pE(r,i,a,u){switch(jE(i)){case 2:var f=P1;break;case 8:f=L1;break;default:f=tp}a=f.bind(null,i,a,r),f=void 0,!Ri||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function Fm(r,i,a,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ze(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=p=E;continue e}S=S.parentNode}}u=u.return}fa(function(){var K=p,te=Cl(a),se=[];e:{var $=Wy.get(r);if($!==void 0){var X=pa,Le=r;switch(r){case"keypress":if(da(a)===0)break e;case"keydown":case"keyup":X=po;break;case"focusin":Le="focus",X=ho;break;case"focusout":Le="blur",X=ho;break;case"beforeblur":case"afterblur":X=ho;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=ls;break;case Ky:case Yy:case Qy:X=Dl;break;case $y:X=y;break;case"scroll":case"scrollend":X=ya;break;case"wheel":X=b;break;case"copy":case"cut":case"paste":X=Rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ml;break;case"toggle":case"beforetoggle":X=J}var Oe=(i&4)!==0,gt=!Oe&&(r==="scroll"||r==="scrollend"),B=Oe?$!==null?$+"Capture":null:$;Oe=[];for(var k=K,H;k!==null;){var re=k;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||B===null||(re=as(k,B),re!=null&&Oe.push(hu(k,re,H))),gt)break;k=k.return}0<Oe.length&&($=new X($,Le,null,a,te),se.push({event:$,listeners:Oe}))}}if((i&7)===0){e:{if($=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",$&&a!==Rl&&(Le=a.relatedTarget||a.fromElement)&&(ze(Le)||Le[ve]))break e;if((X||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,X?(Le=a.relatedTarget||a.toElement,X=K,Le=Le?ze(Le):null,Le!==null&&(gt=l(Le),Oe=Le.tag,Le!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(Le=null)):(X=null,Le=K),X!==Le)){if(Oe=Ea,re="onMouseLeave",B="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Ml,re="onPointerLeave",B="onPointerEnter",k="pointer"),gt=X==null?$:wt(X),H=Le==null?$:wt(Le),$=new Oe(re,k+"leave",X,a,te),$.target=gt,$.relatedTarget=H,re=null,ze(te)===K&&(Oe=new Oe(B,k+"enter",Le,a,te),Oe.target=H,Oe.relatedTarget=gt,re=Oe),gt=re,X&&Le)t:{for(Oe=X,B=Le,k=0,H=Oe;H;H=zo(H))k++;for(H=0,re=B;re;re=zo(re))H++;for(;0<k-H;)Oe=zo(Oe),k--;for(;0<H-k;)B=zo(B),H--;for(;k--;){if(Oe===B||B!==null&&Oe===B.alternate)break t;Oe=zo(Oe),B=zo(B)}Oe=null}else Oe=null;X!==null&&gE(se,$,X,Oe,!1),Le!==null&&gt!==null&&gE(se,gt,Le,Oe,!0)}}e:{if($=K?wt(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var we=Ly;else if(xy($))if(Vy)we=ER;else{we=_R;var Ye=yR}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&lo(K.elementType)&&(we=Ly):we=vR;if(we&&(we=we(r,K))){Py(se,we,a,te);break e}Ye&&Ye(r,$,K),r==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Sl($,"number",$.value)}switch(Ye=K?wt(K):window,r){case"focusin":(xy(Ye)||Ye.contentEditable==="true")&&(go=Ye,vd=K,kl=null);break;case"focusout":kl=vd=go=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Hy(se,a,te);break;case"selectionchange":if(wR)break;case"keydown":case"keyup":Hy(se,a,te)}var Ie;if(Be)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Fr?zr(r,a)&&(Me="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ut&&a.locale!=="ko"&&(Fr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Fr&&(Ie=Sc()):(yr=te,Et="value"in yr?yr.value:yr.textContent,Fr=!0)),Ye=yh(K,Me),0<Ye.length&&(Me=new Ol(Me,r,null,a,te),se.push({event:Me,listeners:Ye}),Ie?Me.data=Ie:(Ie=Br(a),Ie!==null&&(Me.data=Ie)))),(Ie=ct?xl(r,a):mR(r,a))&&(Me=yh(K,"onBeforeInput"),0<Me.length&&(Ye=new Ol("onBeforeInput","beforeinput",null,a,te),se.push({event:Ye,listeners:Me}),Ye.data=Ie)),i1(se,r,K,a,te)}mE(se,i)})}function hu(r,i,a){return{instance:r,listener:i,currentTarget:a}}function yh(r,i){for(var a=i+"Capture",u=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=as(r,a),f!=null&&u.unshift(hu(r,f,p)),f=as(r,i),f!=null&&u.push(hu(r,f,p))),r.tag===3)return u;r=r.return}return[]}function zo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gE(r,i,a,u,f){for(var p=i._reactName,E=[];a!==null&&a!==u;){var S=a,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,f?(K=as(a,p),K!=null&&E.unshift(hu(a,K,O))):f||(K=as(a,p),K!=null&&E.push(hu(a,K,O)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var l1=/\r\n?/g,u1=/\u0000|\uFFFD/g;function yE(r){return(typeof r=="string"?r:""+r).replace(l1,`
`).replace(u1,"")}function _E(r,i){return i=yE(i),yE(r)===i}function _h(){}function pt(r,i,a,u,f,p){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||gr(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&gr(r,""+u);break;case"className":pr(r,"class",u);break;case"tabIndex":pr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(r,a,u);break;case"style":Al(r,u,p);break;case"data":if(i!=="object"){pr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=jr(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&pt(r,i,"name",f.name,f,null),pt(r,i,"formEncType",f.formEncType,f,null),pt(r,i,"formMethod",f.formMethod,f,null),pt(r,i,"formTarget",f.formTarget,f,null)):(pt(r,i,"encType",f.encType,f,null),pt(r,i,"method",f.method,f,null),pt(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=jr(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=_h);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=jr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),mr(r,"popover",u);break;case"xlinkActuate":qe(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ec.get(a)||a,mr(r,a,u))}}function qm(r,i,a,u,f,p){switch(a){case"style":Al(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof u=="string"?gr(r,u):(typeof u=="number"||typeof u=="bigint")&&gr(r,""+u);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),p=r[ce]||null,p=p!=null?p[a]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,u,f);break e}a in r?r[a]=u:u===!0?r.setAttribute(a,""):mr(r,a,u)}}}function pn(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var u=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,p,E,a,null)}}f&&pt(r,i,"srcSet",a.srcSet,a,null),u&&pt(r,i,"src",a.src,a,null);return;case"input":Xe("invalid",r);var S=p=E=f=null,O=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var te=a[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":O=te;break;case"defaultChecked":K=te;break;case"value":p=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:pt(r,i,u,te,a,null)}}wl(r,p,S,O,K,E,f,!1),rs(r);return;case"select":Xe("invalid",r),u=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:pt(r,i,f,S,a,null)}i=p,a=E,r.multiple=!!u,i!=null?is(r,!!u,i,!1):a!=null&&is(r,!!u,a,!0);return;case"textarea":Xe("invalid",r),p=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:pt(r,i,E,S,a,null)}vc(r,u,f,p),rs(r);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(r,i,O,u,a,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(u=0;u<cu.length;u++)Xe(cu[u],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,K,u,a,null)}return;default:if(lo(i)){for(te in a)a.hasOwnProperty(te)&&(u=a[te],u!==void 0&&qm(r,i,te,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&pt(r,i,S,u,a,null))}function c1(r,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,O=null,K=null,te=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=se;default:u.hasOwnProperty(X)||pt(r,i,X,null,u,se)}}for(var $ in u){var X=u[$];if(se=a[$],u.hasOwnProperty($)&&(X!=null||se!=null))switch($){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==se&&pt(r,i,$,X,u,se)}}Tl(r,E,S,O,K,te,p,f);return;case"select":X=E=S=$=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(p)||pt(r,i,p,null,u,O)}for(f in u)if(p=u[f],O=a[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==O&&pt(r,i,f,p,u,O)}i=S,a=E,u=X,$!=null?is(r,!!a,$,!1):!!u!=!!a&&(i!=null?is(r,!!a,i,!0):is(r,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(r,i,S,null,u,f)}for(E in u)if(f=u[E],p=a[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&pt(r,i,E,f,u,p)}_c(r,$,X);return;case"option":for(var Le in a)if($=a[Le],a.hasOwnProperty(Le)&&$!=null&&!u.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:pt(r,i,Le,null,u,$)}for(O in u)if($=u[O],X=a[O],u.hasOwnProperty(O)&&$!==X&&($!=null||X!=null))switch(O){case"selected":r.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:pt(r,i,O,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in a)$=a[Oe],a.hasOwnProperty(Oe)&&$!=null&&!u.hasOwnProperty(Oe)&&pt(r,i,Oe,null,u,$);for(K in u)if($=u[K],X=a[K],u.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:pt(r,i,K,$,u,X)}return;default:if(lo(i)){for(var gt in a)$=a[gt],a.hasOwnProperty(gt)&&$!==void 0&&!u.hasOwnProperty(gt)&&qm(r,i,gt,void 0,u,$);for(te in u)$=u[te],X=a[te],!u.hasOwnProperty(te)||$===X||$===void 0&&X===void 0||qm(r,i,te,$,u,X);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&pt(r,i,B,null,u,$);for(se in u)$=u[se],X=a[se],!u.hasOwnProperty(se)||$===X||$==null&&X==null||pt(r,i,se,$,u,X)}var Hm=null,Gm=null;function vh(r){return r.nodeType===9?r:r.ownerDocument}function vE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Km(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ym=null;function h1(){var r=window.event;return r&&r.type==="popstate"?r===Ym?!1:(Ym=r,!0):(Ym=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,f1=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(r){return wE.resolve(null).then(r).catch(m1)}:TE;function m1(r){setTimeout(function(){throw r})}function bs(r){return r==="head"}function SE(r,i){var a=i,u=0,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var E=r.ownerDocument;if(a&1&&fu(E.documentElement),a&2&&fu(E.body),a&4)for(a=E.head,fu(a),E=a.firstChild;E;){var S=E.nextSibling,O=E.nodeName;E[Te]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){r.removeChild(p),Eu(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);Eu(i)}function Qm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qm(a),Ae(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function p1(r,i,a,u){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Te])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Gr(r.nextSibling),r===null)break}return null}function g1(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Gr(r.nextSibling),r===null))return null;return r}function $m(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function y1(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Gr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Wm=null;function bE(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function AE(r,i,a){switch(i=vh(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function fu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ae(r)}var br=new Map,RE=new Set;function Eh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zi=fe.d;fe.d={f:_1,r:v1,D:E1,C:T1,L:w1,m:S1,X:A1,S:b1,M:R1};function _1(){var r=zi.f(),i=hh();return r||i}function v1(r){var i=rt(r);i!==null&&i.tag===5&&i.type==="form"?K_(i):zi.r(r)}var Bo=typeof document>"u"?null:document;function CE(r,i,a){var u=Bo;if(u&&typeof i=="string"&&i){var f=rn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),RE.has(f)||(RE.add(f),r={rel:r,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),pn(i,"link",r),ke(i),u.head.appendChild(i)))}}function E1(r){zi.D(r),CE("dns-prefetch",r,null)}function T1(r,i){zi.C(r,i),CE("preconnect",r,i)}function w1(r,i,a){zi.L(r,i,a);var u=Bo;if(u&&r&&i){var f='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+rn(a.imageSizes)+'"]')):f+='[href="'+rn(r)+'"]';var p=f;switch(i){case"style":p=Fo(r);break;case"script":p=qo(r)}br.has(p)||(r=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),br.set(p,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(du(p))||i==="script"&&u.querySelector(mu(p))||(i=u.createElement("link"),pn(i,"link",r),ke(i),u.head.appendChild(i)))}}function S1(r,i){zi.m(r,i);var a=Bo;if(a&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(r)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=qo(r)}if(!br.has(p)&&(r=_({rel:"modulepreload",href:r},i),br.set(p,r),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(mu(p)))return}u=a.createElement("link"),pn(u,"link",r),ke(u),a.head.appendChild(u)}}}function b1(r,i,a){zi.S(r,i,a);var u=Bo;if(u&&r){var f=Rt(u).hoistableStyles,p=Fo(r);i=i||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(du(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},a),(a=br.get(p))&&Xm(r,a);var O=E=u.createElement("link");ke(O),pn(O,"link",r),O._p=new Promise(function(K,te){O.onload=K,O.onerror=te}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Th(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function A1(r,i){zi.X(r,i);var a=Bo;if(a&&r){var u=Rt(a).hoistableScripts,f=qo(r),p=u.get(f);p||(p=a.querySelector(mu(f)),p||(r=_({src:r,async:!0},i),(i=br.get(f))&&Zm(r,i),p=a.createElement("script"),ke(p),pn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function R1(r,i){zi.M(r,i);var a=Bo;if(a&&r){var u=Rt(a).hoistableScripts,f=qo(r),p=u.get(f);p||(p=a.querySelector(mu(f)),p||(r=_({src:r,async:!0,type:"module"},i),(i=br.get(f))&&Zm(r,i),p=a.createElement("script"),ke(p),pn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function IE(r,i,a,u){var f=(f=De.current)?Eh(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fo(a.href),a=Rt(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Fo(a.href);var p=Rt(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(du(r)))&&!p._p&&(E.instance=p,E.state.loading=5),br.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},br.set(r,a),p||C1(f,r,a,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qo(a),a=Rt(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Fo(r){return'href="'+rn(r)+'"'}function du(r){return'link[rel="stylesheet"]['+r+"]"}function DE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function C1(r,i,a,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),pn(i,"link",a),ke(i),r.head.appendChild(i))}function qo(r){return'[src="'+rn(r)+'"]'}function mu(r){return"script[async]"+r}function NE(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+rn(a.href)+'"]');if(u)return i.instance=u,ke(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ke(u),pn(u,"style",f),Th(u,a.precedence,r),i.instance=u;case"stylesheet":f=Fo(a.href);var p=r.querySelector(du(f));if(p)return i.state.loading|=4,i.instance=p,ke(p),p;u=DE(a),(f=br.get(f))&&Xm(u,f),p=(r.ownerDocument||r).createElement("link"),ke(p);var E=p;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),pn(p,"link",u),i.state.loading|=4,Th(p,a.precedence,r),i.instance=p;case"script":return p=qo(a.src),(f=r.querySelector(mu(p)))?(i.instance=f,ke(f),f):(u=a,(f=br.get(p))&&(u=_({},a),Zm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),ke(f),pn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Th(u,a.precedence,r));return i.instance}function Th(r,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===i)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function Xm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Zm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var wh=null;function OE(r,i,a){if(wh===null){var u=new Map,f=wh=new Map;f.set(a,u)}else f=wh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var p=a[f];if(!(p[Te]||p[ie]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function ME(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function I1(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pu=null;function D1(){}function N1(r,i,a){if(pu===null)throw Error(s(475));var u=pu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Fo(a.href),p=r.querySelector(du(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Sh.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=p,ke(p);return}p=r.ownerDocument||r,a=DE(a),(f=br.get(f))&&Xm(a,f),p=p.createElement("link"),ke(p);var E=p;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),pn(p,"link",a),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Sh.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function O1(){if(pu===null)throw Error(s(475));var r=pu;return r.stylesheets&&r.count===0&&Jm(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&Jm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function Sh(){if(this.count--,this.count===0){if(this.stylesheets)Jm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var bh=null;function Jm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,bh=new Map,i.forEach(M1,r),bh=null,Sh.call(r))}function M1(r,i){if(!(i.state.loading&4)){var a=bh.get(r);if(a)var u=a.get(null);else{a=new Map,bh.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||u,p===u&&a.set(null,f),a.set(E,f),this.count++,u=Sh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var gu={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function x1(r,i,a,u,f,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function PE(r,i,a,u,f,p,E,S,O,K,te,se){return r=new x1(r,i,a,E,S,O,K,se),i=1,p===!0&&(i|=24),p=nr(3,null,null,i),r.current=p,p.stateNode=r,i=Pd(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:i},Ud(p),r}function LE(r){return r?(r=Eo,r):Eo}function VE(r,i,a,u,f,p){f=LE(f),u.context===null?u.context=f:u.pendingContext=f,u=hs(i),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=fs(r,u,i),a!==null&&(or(a,r,i),Kl(a,r,i))}function kE(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function ep(r,i){kE(r,i),(r=r.alternate)&&kE(r,i)}function UE(r){if(r.tag===13){var i=vo(r,67108864);i!==null&&or(i,r,67108864),ep(r,67108864)}}var Ah=!0;function P1(r,i,a,u){var f=Q.T;Q.T=null;var p=fe.p;try{fe.p=2,tp(r,i,a,u)}finally{fe.p=p,Q.T=f}}function L1(r,i,a,u){var f=Q.T;Q.T=null;var p=fe.p;try{fe.p=8,tp(r,i,a,u)}finally{fe.p=p,Q.T=f}}function tp(r,i,a,u){if(Ah){var f=np(u);if(f===null)Fm(r,i,u,Rh,a),zE(r,u);else if(k1(f,r,i,a,u))u.stopPropagation();else if(zE(r,u),i&4&&-1<V1.indexOf(r)){for(;f!==null;){var p=rt(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=$n(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-$t(E);S.entanglements[1]|=O,E&=~O}ai(p),(ht&6)===0&&(uh=hn()+500,uu(0))}}break;case 13:S=vo(p,2),S!==null&&or(S,p,2),hh(),ep(p,2)}if(p=np(u),p===null&&Fm(r,i,u,Rh,a),p===f)break;f=p}f!==null&&u.stopPropagation()}else Fm(r,i,u,null,a)}}function np(r){return r=Cl(r),rp(r)}var Rh=null;function rp(r){if(Rh=null,r=ze(r),r!==null){var i=l(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=c(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Rh=r,null}function jE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(so()){case kt:return 2;case Ft:return 8;case Or:case Mr:return 32;case xr:return 268435456;default:return 32}default:return 32}}var ip=!1,As=null,Rs=null,Cs=null,yu=new Map,_u=new Map,Is=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zE(r,i){switch(r){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":yu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(i.pointerId)}}function vu(r,i,a,u,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=rt(i),i!==null&&UE(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function k1(r,i,a,u,f){switch(i){case"focusin":return As=vu(As,r,i,a,u,f),!0;case"dragenter":return Rs=vu(Rs,r,i,a,u,f),!0;case"mouseover":return Cs=vu(Cs,r,i,a,u,f),!0;case"pointerover":var p=f.pointerId;return yu.set(p,vu(yu.get(p)||null,r,i,a,u,f)),!0;case"gotpointercapture":return p=f.pointerId,_u.set(p,vu(_u.get(p)||null,r,i,a,u,f)),!0}return!1}function BE(r){var i=ze(r.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){r.blockedOn=i,q(r.priority,function(){if(a.tag===13){var u=ar();u=oa(u);var f=vo(a,u);f!==null&&or(f,a,u),ep(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ch(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=np(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);Rl=u,a.target.dispatchEvent(u),Rl=null}else return i=rt(a),i!==null&&UE(i),r.blockedOn=a,!1;i.shift()}return!0}function FE(r,i,a){Ch(r)&&a.delete(i)}function U1(){ip=!1,As!==null&&Ch(As)&&(As=null),Rs!==null&&Ch(Rs)&&(Rs=null),Cs!==null&&Ch(Cs)&&(Cs=null),yu.forEach(FE),_u.forEach(FE)}function Ih(r,i){r.blockedOn===i&&(r.blockedOn=null,ip||(ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U1)))}var Dh=null;function qE(r){Dh!==r&&(Dh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dh===r&&(Dh=null);for(var i=0;i<r.length;i+=3){var a=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(rp(u||a)===null)continue;break}var p=rt(a);p!==null&&(r.splice(i,3),i-=3,rm(p,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Eu(r){function i(O){return Ih(O,r)}As!==null&&Ih(As,r),Rs!==null&&Ih(Rs,r),Cs!==null&&Ih(Cs,r),yu.forEach(i),_u.forEach(i);for(var a=0;a<Is.length;a++){var u=Is[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)BE(a),a.blockedOn===null&&Is.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],p=a[u+1],E=f[ce]||null;if(typeof p=="function")E||qE(a);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ce]||null)S=E.formAction;else if(rp(f)!==null)continue}else S=E.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),qE(a)}}}function sp(r){this._internalRoot=r}Nh.prototype.render=sp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=ar();VE(a,u,r,i,null,null)},Nh.prototype.unmount=sp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;VE(r.current,2,null,r,null,null),hh(),i[ve]=null}};function Nh(r){this._internalRoot=r}Nh.prototype.unstable_scheduleHydration=function(r){if(r){var i=M();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Is.length&&i!==0&&i<Is[a].priority;a++);Is.splice(a,0,r),a===0&&BE(r)}};var HE=e.version;if(HE!=="19.1.1")throw Error(s(527,HE,"19.1.1"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var j1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{fn=Oh.inject(j1),_t=Oh}catch{}}return wu.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,u="",f=av,p=ov,E=lv,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=PE(r,1,!1,null,null,a,u,f,p,E,S,null),r[ve]=i.current,Bm(r),new sp(i)},wu.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var u=!1,f="",p=av,E=ov,S=lv,O=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),i=PE(r,1,!0,i,a??null,u,f,p,E,S,O,K),i.context=LE(null),a=i.current,u=ar(),u=oa(u),f=hs(u),f.callback=null,fs(a,f,u),a=u,i.current.lanes=a,Dt(i,a),ai(i),r[ve]=i.current,Bm(r),new Nh(i)},wu.version="19.1.1",wu}var eT;function Q1(){if(eT)return op.exports;eT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=Y1(),op.exports}var $1=Q1(),F=kf(),fp={exports:{}},dp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function W1(){if(tT)return dp;tT=1;var t=kf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return dp.useSyncExternalStoreWithSelector=function(m,g,_,w,T){var D=o(null);if(D.current===null){var j={hasValue:!1,value:null};D.current=j}else j=D.current;D=c(function(){function U(oe){if(!Y){if(Y=!0,ue=oe,oe=w(oe),T!==void 0&&j.hasValue){var P=j.value;if(T(P,oe))return ee=P}return ee=oe}if(P=ee,n(ue,oe))return P;var N=w(oe);return T!==void 0&&T(P,N)?(ue=oe,P):(ue=oe,ee=N)}var Y=!1,ue,ee,he=_===void 0?null:_;return[function(){return U(g())},he===null?void 0:function(){return U(he())}]},[g,_,w,T]);var W=s(m,D[0],D[1]);return l(function(){j.hasValue=!0,j.value=W},[W]),d(W),W},dp}var nT;function X1(){return nT||(nT=1,fp.exports=W1()),fp.exports}var Z1=X1();function J1(t){t()}function eC(){let t=null,e=null;return{clear(){t=null,e=null},notify(){J1(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var rT={notify(){},get:()=>[]};function tC(t,e){let n,s=rT,o=0,l=!1;function c(W){_();const U=s.subscribe(W);let Y=!1;return()=>{Y||(Y=!0,U(),w())}}function d(){s.notify()}function m(){j.onStateChange&&j.onStateChange()}function g(){return l}function _(){o++,n||(n=t.subscribe(m),s=eC())}function w(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=rT)}function T(){l||(l=!0,_())}function D(){l&&(l=!1,w())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:T,tryUnsubscribe:D,getListeners:()=>s};return j}var nC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rC=nC(),iC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sC=iC(),aC=()=>rC||sC?F.useLayoutEffect:F.useEffect,oC=aC(),lC=Symbol.for("react-redux-context"),uC=typeof globalThis<"u"?globalThis:{};function cC(){if(!F.createContext)return{};const t=uC[lC]??=new Map;let e=t.get(F.createContext);return e||(e=F.createContext(null),t.set(F.createContext,e)),e}var qs=cC();function hC(t){const{children:e,context:n,serverState:s,store:o}=t,l=F.useMemo(()=>{const m=tC(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),c=F.useMemo(()=>o.getState(),[o]);oC(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=n||qs;return F.createElement(d.Provider,{value:l},e)}var fC=hC;function bg(t=qs){return function(){return F.useContext(t)}}var T0=bg();function w0(t=qs){const e=t===qs?T0:bg(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var dC=w0();function mC(t=qs){const e=t===qs?dC:w0(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var fr=mC(),pC=(t,e)=>t===e;function gC(t=qs){const e=t===qs?T0:bg(t),n=(s,o={})=>{const{equalityFn:l=pC}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:m,getServerState:g}=c;F.useRef(!0);const _=F.useCallback({[s.name](T){return s(T)}}[s.name],[s]),w=Z1.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,_,l);return F.useDebugValue(w),w};return Object.assign(n,{withTypes:()=>n}),n}var st=gC();function gn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yC=typeof Symbol=="function"&&Symbol.observable||"@@observable",iT=yC,mp=()=>Math.random().toString(36).substring(7).split("").join("."),_C={INIT:`@@redux/INIT${mp()}`,REPLACE:`@@redux/REPLACE${mp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mp()}`},sf=_C;function Ag(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function S0(t,e,n){if(typeof t!="function")throw new Error(gn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(gn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(gn(1));return n(S0)(t,e)}let s=t,o=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((U,Y)=>{c.set(Y,U)}))}function _(){if(m)throw new Error(gn(3));return o}function w(U){if(typeof U!="function")throw new Error(gn(4));if(m)throw new Error(gn(5));let Y=!0;g();const ue=d++;return c.set(ue,U),function(){if(Y){if(m)throw new Error(gn(6));Y=!1,g(),c.delete(ue),l=null}}}function T(U){if(!Ag(U))throw new Error(gn(7));if(typeof U.type>"u")throw new Error(gn(8));if(typeof U.type!="string")throw new Error(gn(17));if(m)throw new Error(gn(9));try{m=!0,o=s(o,U)}finally{m=!1}return(l=c).forEach(ue=>{ue()}),U}function D(U){if(typeof U!="function")throw new Error(gn(10));s=U,T({type:sf.REPLACE})}function j(){const U=w;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error(gn(11));function ue(){const he=Y;he.next&&he.next(_())}return ue(),{unsubscribe:U(ue)}},[iT](){return this}}}return T({type:sf.INIT}),{dispatch:T,subscribe:w,getState:_,replaceReducer:D,[iT]:j}}function vC(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:sf.INIT})>"u")throw new Error(gn(12));if(typeof n(void 0,{type:sf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gn(13))})}function EC(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const s=Object.keys(n);let o;try{vC(n)}catch(l){o=l}return function(c={},d){if(o)throw o;let m=!1;const g={};for(let _=0;_<s.length;_++){const w=s[_],T=n[w],D=c[w],j=T(D,d);if(typeof j>"u")throw d&&d.type,new Error(gn(14));g[w]=j,m=m||j!==D}return m=m||s.length!==Object.keys(c).length,m?g:c}}function af(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function TC(...t){return e=>(n,s)=>{const o=e(n,s);let l=()=>{throw new Error(gn(15))};const c={getState:o.getState,dispatch:(m,...g)=>l(m,...g)},d=t.map(m=>m(c));return l=af(...d)(o.dispatch),{...o,dispatch:l}}}function wC(t){return Ag(t)&&"type"in t&&typeof t.type=="string"}var b0=Symbol.for("immer-nothing"),sT=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Kr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var rl=Object.getPrototypeOf;function Ga(t){return!!t&&!!t[hr]}function $i(t){return t?A0(t)||Array.isArray(t)||!!t[sT]||!!t.constructor?.[sT]||rc(t)||jf(t):!1}var SC=Object.prototype.constructor.toString();function A0(t){if(!t||typeof t!="object")return!1;const e=rl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===SC}function of(t,e){Uf(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,s)=>e(s,n,t))}function Uf(t){const e=t[hr];return e?e.type_:Array.isArray(t)?1:rc(t)?2:jf(t)?3:0}function Bp(t,e){return Uf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function R0(t,e,n){const s=Uf(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function bC(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function rc(t){return t instanceof Map}function jf(t){return t instanceof Set}function ja(t){return t.copy_||t.base_}function Fp(t,e){if(rc(t))return new Map(t);if(jf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=A0(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[hr];let o=Reflect.ownKeys(s);for(let l=0;l<o.length;l++){const c=o[l],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(rl(t),s)}else{const s=rl(t);if(s!==null&&n)return{...t};const o=Object.create(s);return Object.assign(o,t)}}function Rg(t,e=!1){return zf(t)||Ga(t)||!$i(t)||(Uf(t)>1&&Object.defineProperties(t,{set:{value:Mh},add:{value:Mh},clear:{value:Mh},delete:{value:Mh}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Rg(n,!0))),t}function Mh(){Kr(2)}function zf(t){return Object.isFrozen(t)}var AC={};function Ka(t){const e=AC[t];return e||Kr(0,t),e}var Fu;function C0(){return Fu}function RC(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aT(t,e){e&&(Ka("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function qp(t){Hp(t),t.drafts_.forEach(CC),t.drafts_=null}function Hp(t){t===Fu&&(Fu=t.parent_)}function oT(t){return Fu=RC(Fu,t)}function CC(t){const e=t[hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[hr].modified_&&(qp(e),Kr(4)),$i(t)&&(t=lf(e,t),e.parent_||uf(e,t)),e.patches_&&Ka("Patches").generateReplacementPatches_(n[hr].base_,t,e.patches_,e.inversePatches_)):t=lf(e,n,[]),qp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==b0?t:void 0}function lf(t,e,n){if(zf(e))return e;const s=e[hr];if(!s)return of(e,(o,l)=>uT(t,s,e,o,l,n)),e;if(s.scope_!==t)return e;if(!s.modified_)return uf(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),of(l,(d,m)=>uT(t,s,o,d,m,n,c)),uf(t,o,!1),n&&t.patches_&&Ka("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function uT(t,e,n,s,o,l,c){if(Ga(o)){const d=l&&e&&e.type_!==3&&!Bp(e.assigned_,s)?l.concat(s):void 0,m=lf(t,o,d);if(R0(n,s,m),Ga(m))t.canAutoFreeze_=!1;else return}else c&&n.add(o);if($i(o)&&!zf(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;lf(t,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(rc(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&uf(t,o)}}function uf(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Rg(e,n)}function IC(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:C0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,l=Cg;n&&(o=[s],l=qu);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return s.draft_=d,s.revoke_=c,d}var Cg={get(t,e){if(e===hr)return t;const n=ja(t);if(!Bp(n,e))return DC(t,n,e);const s=n[e];return t.finalized_||!$i(s)?s:s===pp(t.base_,e)?(gp(t),t.copy_[e]=Kp(s,t)):s},has(t,e){return e in ja(t)},ownKeys(t){return Reflect.ownKeys(ja(t))},set(t,e,n){const s=I0(ja(t),e);if(s?.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const o=pp(ja(t),e),l=o?.[hr];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(bC(n,o)&&(n!==void 0||Bp(t.base_,e)))return!0;gp(t),Gp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return pp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,gp(t),Gp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ja(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){Kr(11)},getPrototypeOf(t){return rl(t.base_)},setPrototypeOf(){Kr(12)}},qu={};of(Cg,(t,e)=>{qu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qu.deleteProperty=function(t,e){return qu.set.call(this,t,e,void 0)};qu.set=function(t,e,n){return Cg.set.call(this,t[0],e,n,t[0])};function pp(t,e){const n=t[hr];return(n?ja(n):t)[e]}function DC(t,e,n){const s=I0(e,n);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function I0(t,e){if(!(e in t))return;let n=rl(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=rl(n)}}function Gp(t){t.modified_||(t.modified_=!0,t.parent_&&Gp(t.parent_))}function gp(t){t.copy_||(t.copy_=Fp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var NC=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(m=l,...g){return c.produce(m,_=>n.call(this,_,...g))}}typeof n!="function"&&Kr(6),s!==void 0&&typeof s!="function"&&Kr(7);let o;if($i(e)){const l=oT(this),c=Kp(e,void 0);let d=!0;try{o=n(c),d=!1}finally{d?qp(l):Hp(l)}return aT(l,s),lT(o,l)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===b0&&(o=void 0),this.autoFreeze_&&Rg(o,!0),s){const l=[],c=[];Ka("Patches").generateReplacementPatches_(e,o,l,c),s(l,c)}return o}else Kr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let s,o;return[this.produce(e,n,(c,d)=>{s=c,o=d}),s,o]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){$i(t)||Kr(8),Ga(t)&&(t=OC(t));const e=oT(this),n=Kp(t,void 0);return n[hr].isManual_=!0,Hp(e),n}finishDraft(t,e){const n=t&&t[hr];(!n||!n.isManual_)&&Kr(9);const{scope_:s}=n;return aT(s,e),lT(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const s=Ka("Patches").applyPatches_;return Ga(t)?s(t,e):this.produce(t,o=>s(o,e))}};function Kp(t,e){const n=rc(t)?Ka("MapSet").proxyMap_(t,e):jf(t)?Ka("MapSet").proxySet_(t,e):IC(t,e);return(e?e.scope_:C0()).drafts_.push(n),n}function OC(t){return Ga(t)||Kr(10,t),D0(t)}function D0(t){if(!$i(t)||zf(t))return t;const e=t[hr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Fp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Fp(t,!0);return of(n,(s,o)=>{R0(n,s,D0(o))}),e&&(e.finalized_=!1),n}var MC=new NC,N0=MC.produce;function O0(t){return({dispatch:n,getState:s})=>o=>l=>typeof l=="function"?l(n,s,t):o(l)}var xC=O0(),PC=O0,LC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?af:af.apply(null,arguments)};function cT(t,e){function n(...s){if(e){let o=e(...s);if(!o)throw new Error(Gi(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>wC(s)&&s.type===t,n}var M0=class Cu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cu.prototype)}static get[Symbol.species](){return Cu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cu(...e[0].concat(this)):new Cu(...e.concat(this))}};function hT(t){return $i(t)?N0(t,()=>{}):t}function xh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function VC(t){return typeof t=="boolean"}var kC=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new M0;return n&&(VC(n)?c.push(xC):c.push(PC(n.extraArgument))),c},UC="RTK_autoBatch",fT=t=>e=>{setTimeout(e,t)},jC=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let o=!0,l=!1,c=!1;const d=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fT(10):t.type==="callback"?t.queueNotification:fT(t.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const w=()=>o&&_(),T=s.subscribe(w);return d.add(_),()=>{T(),d.delete(_)}},dispatch(_){try{return o=!_?.meta?.[UC],l=!o,l&&(c||(c=!0,m(g))),s.dispatch(_)}finally{o=!0}}})},zC=t=>function(n){const{autoBatch:s=!0}=n??{};let o=new M0(t);return s&&o.push(jC(typeof s=="object"?s:void 0)),o};function BC(t){const e=kC(),{reducer:n=void 0,middleware:s,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(Ag(n))d=EC(n);else throw new Error(Gi(1));let m;typeof s=="function"?m=s(e):m=e();let g=af;o&&(g=LC({trace:!1,...typeof o=="object"&&o}));const _=TC(...m),w=zC(_);let T=typeof c=="function"?c(w):w();const D=g(...T);return S0(d,l,D)}function x0(t){const e={},n=[];let s;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Gi(28));if(d in e)throw new Error(Gi(29));return e[d]=c,o},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),o},addMatcher(l,c){return n.push({matcher:l,reducer:c}),o},addDefaultCase(l){return s=l,o}};return t(o),[e,n,s]}function FC(t){return typeof t=="function"}function qC(t,e){let[n,s,o]=x0(e),l;if(FC(t))l=()=>hT(t());else{const d=hT(t);l=()=>d}function c(d=l(),m){let g=[n[m.type],...s.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,w)=>{if(w)if(Ga(_)){const D=w(_,m);return D===void 0?_:D}else{if($i(_))return N0(_,T=>w(T,m));{const T=w(_,m);if(T===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return _},d)}return c.getInitialState=l,c}var HC=Symbol.for("rtk-slice-createasyncthunk");function GC(t,e){return`${t}/${e}`}function KC({creators:t}={}){const e=t?.asyncThunk?.[HC];return function(s){const{name:o,reducerPath:l=o}=s;if(!o)throw new Error(Gi(11));const c=(typeof s.reducers=="function"?s.reducers(QC()):s.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(ee,he){const oe=typeof ee=="string"?ee:ee.type;if(!oe)throw new Error(Gi(12));if(oe in m.sliceCaseReducersByType)throw new Error(Gi(13));return m.sliceCaseReducersByType[oe]=he,g},addMatcher(ee,he){return m.sliceMatchers.push({matcher:ee,reducer:he}),g},exposeAction(ee,he){return m.actionCreators[ee]=he,g},exposeCaseReducer(ee,he){return m.sliceCaseReducersByName[ee]=he,g}};d.forEach(ee=>{const he=c[ee],oe={reducerName:ee,type:GC(o,ee),createNotation:typeof s.reducers=="function"};WC(he)?ZC(oe,he,g,e):$C(oe,he,g)});function _(){const[ee={},he=[],oe=void 0]=typeof s.extraReducers=="function"?x0(s.extraReducers):[s.extraReducers],P={...ee,...m.sliceCaseReducersByType};return qC(s.initialState,N=>{for(let A in P)N.addCase(A,P[A]);for(let A of m.sliceMatchers)N.addMatcher(A.matcher,A.reducer);for(let A of he)N.addMatcher(A.matcher,A.reducer);oe&&N.addDefaultCase(oe)})}const w=ee=>ee,T=new Map,D=new WeakMap;let j;function W(ee,he){return j||(j=_()),j(ee,he)}function U(){return j||(j=_()),j.getInitialState()}function Y(ee,he=!1){function oe(N){let A=N[ee];return typeof A>"u"&&he&&(A=xh(D,oe,U)),A}function P(N=w){const A=xh(T,he,()=>new WeakMap);return xh(A,N,()=>{const R={};for(const[L,V]of Object.entries(s.selectors??{}))R[L]=YC(V,N,()=>xh(D,N,U),he);return R})}return{reducerPath:ee,getSelectors:P,get selectors(){return P(oe)},selectSlice:oe}}const ue={name:o,reducer:W,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:U,...Y(l),injectInto(ee,{reducerPath:he,...oe}={}){const P=he??l;return ee.inject({reducerPath:P,reducer:W},oe),{...ue,...Y(P,!0)}}};return ue}}function YC(t,e,n,s){function o(l,...c){let d=e(l);return typeof d>"u"&&s&&(d=n()),t(d,...c)}return o.unwrapped=t,o}var ic=KC();function QC(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $C({type:t,reducerName:e,createNotation:n},s,o){let l,c;if("reducer"in s){if(n&&!XC(s))throw new Error(Gi(17));l=s.reducer,c=s.prepare}else l=s;o.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?cT(t,c):cT(t))}function WC(t){return t._reducerDefinitionType==="asyncThunk"}function XC(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ZC({type:t,reducerName:e},n,s,o){if(!o)throw new Error(Gi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:_}=n,w=o(t,l,_);s.exposeAction(e,w),c&&s.addCase(w.fulfilled,c),d&&s.addCase(w.pending,d),m&&s.addCase(w.rejected,m),g&&s.addMatcher(w.settled,g),s.exposeCaseReducer(e,{fulfilled:c||Ph,pending:d||Ph,rejected:m||Ph,settled:g||Ph})}function Ph(){}function Gi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const P0={user:null,isCreatingAccount:!1,isLoggedIn:!1,isLoggingIn:!1};console.log(P0.user);const L0=ic({name:"auth",initialState:P0,reducers:{startCreatingAccount(t){t.isCreatingAccount=!0},stopCreatingAccount(t){t.isCreatingAccount=!1},startLoggingIn(t){t.isLoggingIn=!0},stopLoggingIn(t){t.isLoggingIn=!1},login(t,e){const{uid:n,email:s,userName:o}=e.payload;t.user={uid:n,email:s,userName:o},t.isLoggedIn=!0,t.isLoggingIn=!1},logOut(t){t.user=null,t.isLoggedIn=!1}}}),Ki=L0.actions,JC=L0.reducer,eI={bio:"Set bio here!",isEditingBio:!1},V0=ic({name:"profile",initialState:eI,reducers:{editBio(t){t.isEditingBio=!0},saveBio(t){t.isEditingBio=!1},updateBio(t,e){t.bio=e.payload},uploadAvatar(t,e){t.bioAvatar=e.payload}}}),Hu=V0.actions,tI=V0.reducer,nI={myShows:[],currentlyBinging:[],watchedEps:[],finishedShows:[],isReviewing:!1,reviews:[]},k0=ic({name:"shows",initialState:nI,reducers:{updateMyShows(t,e){t.myShows=e.payload},updateBinging(t,e){t.currentlyBinging=e.payload},updateWatchedEps(t,e){t.watchedEps=e.payload},updateFinishedShows(t,e){t.finishedShows=e.payload},startReviewing(t){t.isReviewing=!0}}}),Fi=k0.actions,rI=k0.reducer,iI={epNotes:[],charNotes:[]},U0=ic({name:"notes",initialState:iI,reducers:{updateEpNotes(t,e){t.epNotes=e.payload},updateCharNotes(t,e){t.charNotes=e.payload}}}),cf=U0.actions,sI=U0.reducer,aI={friendsList:[]},j0=ic({name:"friends",initialState:aI,reducers:{addFriend(t,e){t.friendsList=e.payload}}}),z0=j0.actions,oI=j0.reducer,lI=BC({reducer:{auth:JC,profile:tI,shows:rI,notes:sI,friends:oI}});/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B0=t=>{throw TypeError(t)},uI=(t,e,n)=>e.has(t)||B0("Cannot "+n),yp=(t,e,n)=>(uI(t,e,"read from private field"),n?n.call(t):e.get(t)),cI=(t,e,n)=>e.has(t)?B0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),dT="popstate";function hI(t={}){function e(o,l){let{pathname:c="/",search:d="",hash:m=""}=ts(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Gu("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Hs(l))}function s(o,l){Vt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return dI(e,n,s,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fI(){return Math.random().toString(36).substring(2,10)}function mT(t,e){return{usr:t.state,key:t.key,idx:e}}function Gu(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ts(e):e,state:n,key:e&&e.key||s||fI()}}function Hs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function dI(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function w(){d="POP";let U=_(),Y=U==null?null:U-g;g=U,m&&m({action:d,location:W.location,delta:Y})}function T(U,Y){d="PUSH";let ue=Gu(W.location,U,Y);n&&n(ue,U),g=_()+1;let ee=mT(ue,g),he=W.createHref(ue);try{c.pushState(ee,"",he)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(he)}l&&m&&m({action:d,location:W.location,delta:1})}function D(U,Y){d="REPLACE";let ue=Gu(W.location,U,Y);n&&n(ue,U),g=_();let ee=mT(ue,g),he=W.createHref(ue);c.replaceState(ee,"",he),l&&m&&m({action:d,location:W.location,delta:0})}function j(U){return F0(U)}let W={get action(){return d},get location(){return t(o,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(dT,w),m=U,()=>{o.removeEventListener(dT,w),m=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let Y=j(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:D,go(U){return c.go(U)}};return W}function F0(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Hs(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Iu,pT=class{constructor(t){if(cI(this,Iu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(yp(this,Iu).has(t))return yp(this,Iu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){yp(this,Iu).set(t,e)}};Iu=new WeakMap;var mI=new Set(["lazy","caseSensitive","path","id","index","children"]);function pI(t){return mI.has(t)}var gI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function yI(t){return gI.has(t)}function _I(t){return t.index===!0}function Ku(t,e,n=[],s={},o=!1){return t.map((l,c)=>{let d=[...n,String(c)],m=typeof l.id=="string"?l.id:d.join("-");if(Qe(l.index!==!0||!l.children,"Cannot specify children on an index route"),Qe(o||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),_I(l)){let g={...l,...e(l),id:m};return s[m]=g,g}else{let g={...l,...e(l),id:m,children:void 0};return s[m]=g,l.children&&(g.children=Ku(l.children,e,d,s,o)),g}})}function Ms(t,e,n="/"){return Hh(t,e,n,!1)}function Hh(t,e,n,s){let o=typeof e=="string"?ts(e):e,l=Dr(o.pathname||"/",n);if(l==null)return null;let c=q0(t);EI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=OI(l);d=DI(c[m],g,s)}return d}function vI(t,e){let{route:n,pathname:s,params:o}=t;return{id:n.id,pathname:s,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function q0(t,e=[],n=[],s=""){let o=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Qe(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=li([s,m.relativePath]),_=n.concat(m);l.children&&l.children.length>0&&(Qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),q0(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:CI(g,l.index),routesMeta:_})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let d of H0(l.path))o(l,c,d)}),e}function H0(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=H0(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function EI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:II(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TI=/^:[\w-]+$/,wI=3,SI=2,bI=1,AI=10,RI=-2,gT=t=>t==="*";function CI(t,e){let n=t.split("/"),s=n.length;return n.some(gT)&&(s+=RI),e&&(s+=SI),n.filter(o=>!gT(o)).reduce((o,l)=>o+(TI.test(l)?wI:l===""?bI:AI),s)}function II(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function DI(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),T=m.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:li([l,w.pathname]),pathnameBase:LI(li([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=li([l,w.pathnameBase]))}return c}function hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=NI(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},T)=>{if(_==="*"){let j=d[T]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const D=d[T];return w&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function NI(t,e=!1,n=!0){Vt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function OI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function MI({basename:t,pathname:e}){return e==="/"?t:li([t,e])}function xI(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?ts(t):t;return{pathname:n?n.startsWith("/")?n:PI(n,e):e,search:VI(s),hash:kI(o)}}function PI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _p(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bf(t){let e=G0(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ff(t,e,n,s=!1){let o;typeof t=="string"?o=ts(t):(o={...t},Qe(!o.pathname||!o.pathname.includes("?"),_p("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),_p("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),_p("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let m=xI(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var li=t=>t.join("/").replace(/\/\/+/g,"/"),LI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ff=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Yu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var K0=["POST","PUT","PATCH","DELETE"],UI=new Set(K0),jI=["GET",...K0],zI=new Set(jI),BI=new Set([301,302,303,307,308]),FI=new Set([307,308]),vp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Su={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},HI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=t=>HI.test(t),GI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Y0="remix-router-transitions",Q0=Symbol("ResetLoaderData");function KI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],o=t.mapRouteProperties||GI,l={},c=Ku(t.routes,o,void 0,l),d,m=t.basename||"/",g=t.dataStrategy||XI,_={unstable_middleware:!1,...t.future},w=null,T=new Set,D=null,j=null,W=null,U=t.hydrationData!=null,Y=Ms(c,t.history.location,m),ue=!1,ee=null,he;if(Y==null&&!t.patchRoutesOnNavigation){let M=Ar(404,{pathname:t.history.location.pathname}),{matches:q,route:Z}=IT(c);he=!0,Y=q,ee={[Z.id]:M}}else if(Y&&!t.hydrationData&&Xn(Y,c,t.history.location.pathname).active&&(Y=null),Y)if(Y.some(M=>M.route.lazy))he=!1;else if(!Y.some(M=>M.route.loader))he=!0;else{let M=t.hydrationData?t.hydrationData.loaderData:null,q=t.hydrationData?t.hydrationData.errors:null;if(q){let Z=Y.findIndex(ie=>q[ie.route.id]!==void 0);he=Y.slice(0,Z+1).every(ie=>!Qp(ie.route,M,q))}else he=Y.every(Z=>!Qp(Z.route,M,q))}else{he=!1,Y=[];let M=Xn(null,c,t.history.location.pathname);M.active&&M.matches&&(ue=!0,Y=M.matches)}let oe,P={historyAction:t.history.action,location:t.history.location,matches:Y,initialized:he,navigation:vp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},N="POP",A=!1,R,L=!1,V=new Map,z=null,I=!1,Ve=!1,$e=new Set,Q=new Map,fe=0,ge=-1,je=new Map,x=new Set,ne=new Map,pe=new Map,de=new Set,Ee=new Map,He,De=null;function Qt(){if(w=t.history.listen(({action:M,location:q,delta:Z})=>{if(He){He(),He=void 0;return}Vt(Ee.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Ti({currentLocation:P.location,nextLocation:q,historyAction:M});if(ie&&Z!=null){let ce=new Promise(ve=>{He=ve});t.history.go(Z*-1),Wn(ie,{state:"blocked",location:q,proceed(){Wn(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),ce.then(()=>t.history.go(Z))},reset(){let ve=new Map(P.blockers);ve.set(ie,Su),xt({blockers:ve})}});return}return Vn(M,q)}),n){lD(e,V);let M=()=>uD(e,V);e.addEventListener("pagehide",M),z=()=>e.removeEventListener("pagehide",M)}return P.initialized||Vn("POP",P.location,{initialHydration:!0}),oe}function ot(){w&&w(),z&&z(),T.clear(),R&&R.abort(),P.fetchers.forEach((M,q)=>$t(q)),P.blockers.forEach((M,q)=>Dn(q))}function Gn(M){return T.add(M),()=>T.delete(M)}function xt(M,q={}){M.matches&&(M.matches=M.matches.map(ce=>{let ve=l[ce.route.id],Se=ce.route;return Se.element!==ve.element||Se.errorElement!==ve.errorElement||Se.hydrateFallbackElement!==ve.hydrateFallbackElement?{...ce,route:ve}:ce})),P={...P,...M};let Z=[],ie=[];P.fetchers.forEach((ce,ve)=>{ce.state==="idle"&&(de.has(ve)?Z.push(ve):ie.push(ve))}),de.forEach(ce=>{!P.fetchers.has(ce)&&!Q.has(ce)&&Z.push(ce)}),[...T].forEach(ce=>ce(P,{deletedFetchers:Z,viewTransitionOpts:q.viewTransitionOpts,flushSync:q.flushSync===!0})),Z.forEach(ce=>$t(ce)),ie.forEach(ce=>P.fetchers.delete(ce))}function Kn(M,q,{flushSync:Z}={}){let ie=P.actionData!=null&&P.navigation.formMethod!=null&&Fn(P.navigation.formMethod)&&P.navigation.state==="loading"&&M.state?._isRedirect!==!0,ce;q.actionData?Object.keys(q.actionData).length>0?ce=q.actionData:ce=null:ie?ce=P.actionData:ce=null;let ve=q.loaderData?RT(P.loaderData,q.loaderData,q.matches||[],q.errors):P.loaderData,Se=P.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Te,Ae)=>Se.set(Ae,Su)));let _e=I?!1:aa(M,q.matches||P.matches),Ce=A===!0||P.navigation.formMethod!=null&&Fn(P.navigation.formMethod)&&M.state?._isRedirect!==!0;d&&(c=d,d=void 0),I||N==="POP"||(N==="PUSH"?t.history.push(M,M.state):N==="REPLACE"&&t.history.replace(M,M.state));let Re;if(N==="POP"){let Te=V.get(P.location.pathname);Te&&Te.has(M.pathname)?Re={currentLocation:P.location,nextLocation:M}:V.has(M.pathname)&&(Re={currentLocation:M,nextLocation:P.location})}else if(L){let Te=V.get(P.location.pathname);Te?Te.add(M.pathname):(Te=new Set([M.pathname]),V.set(P.location.pathname,Te)),Re={currentLocation:P.location,nextLocation:M}}xt({...q,actionData:ce,loaderData:ve,historyAction:N,location:M,initialized:!0,navigation:vp,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:Ce,blockers:Se},{viewTransitionOpts:Re,flushSync:Z===!0}),N="POP",A=!1,L=!1,I=!1,Ve=!1,De?.resolve(),De=null}async function vi(M,q){if(typeof M=="number"){t.history.go(M);return}let Z=Yp(P.location,P.matches,m,M,q?.fromRouteId,q?.relative),{path:ie,submission:ce,error:ve}=yT(!1,Z,q),Se=P.location,_e=Gu(P.location,ie,q&&q.state);_e={..._e,...t.history.encodeLocation(_e)};let Ce=q&&q.replace!=null?q.replace:void 0,Re="PUSH";Ce===!0?Re="REPLACE":Ce===!1||ce!=null&&Fn(ce.formMethod)&&ce.formAction===P.location.pathname+P.location.search&&(Re="REPLACE");let Te=q&&"preventScrollReset"in q?q.preventScrollReset===!0:void 0,Ae=(q&&q.flushSync)===!0,ze=Ti({currentLocation:Se,nextLocation:_e,historyAction:Re});if(ze){Wn(ze,{state:"blocked",location:_e,proceed(){Wn(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),vi(M,q)},reset(){let rt=new Map(P.blockers);rt.set(ze,Su),xt({blockers:rt})}});return}await Vn(Re,_e,{submission:ce,pendingError:ve,preventScrollReset:Te,replace:q&&q.replace,enableViewTransition:q&&q.viewTransition,flushSync:Ae})}function Ei(){De||(De=cD()),Pr(),xt({revalidation:"loading"});let M=De.promise;return P.navigation.state==="submitting"?M:P.navigation.state==="idle"?(Vn(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),M):(Vn(N||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:L===!0}),M)}async function Vn(M,q,Z){R&&R.abort(),R=null,N=M,I=(Z&&Z.startUninterruptedRevalidation)===!0,Dt(P.location,P.matches),A=(Z&&Z.preventScrollReset)===!0,L=(Z&&Z.enableViewTransition)===!0;let ie=d||c,ce=Z&&Z.overrideNavigation,ve=Z?.initialHydration&&P.matches&&P.matches.length>0&&!ue?P.matches:Ms(ie,q,m),Se=(Z&&Z.flushSync)===!0;if(ve&&P.initialized&&!Ve&&rD(P.location,q)&&!(Z&&Z.submission&&Fn(Z.submission.formMethod))){Kn(q,{matches:ve},{flushSync:Se});return}let _e=Xn(ve,ie,q.pathname);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){let{error:Rt,notFoundMatches:ke,route:lt}=wi(q.pathname);Kn(q,{matches:ke,loaderData:{},errors:{[lt.id]:Rt}},{flushSync:Se});return}R=new AbortController;let Ce=Ho(t.history,q,R.signal,Z&&Z.submission),Re=t.unstable_getContext?await t.unstable_getContext():new pT,Te;if(Z&&Z.pendingError)Te=[xs(ve).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Fn(Z.submission.formMethod)){let Rt=await vl(Ce,q,Z.submission,ve,Re,_e.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Se});if(Rt.shortCircuited)return;if(Rt.pendingActionResult){let[ke,lt]=Rt.pendingActionResult;if(lr(lt)&&Yu(lt.error)&&lt.error.status===404){R=null,Kn(q,{matches:Rt.matches,loaderData:{},errors:{[ke]:lt.error}});return}}ve=Rt.matches||ve,Te=Rt.pendingActionResult,ce=Ep(q,Z.submission),Se=!1,_e.active=!1,Ce=Ho(t.history,Ce.url,Ce.signal)}let{shortCircuited:Ae,matches:ze,loaderData:rt,errors:wt}=await ia(Ce,q,ve,Re,_e.active,ce,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Se,Te);Ae||(R=null,Kn(q,{matches:ze||ve,...CT(Te),loaderData:rt,errors:wt}))}async function vl(M,q,Z,ie,ce,ve,Se,_e={}){Pr();let Ce=aD(q,Z);if(xt({navigation:Ce},{flushSync:_e.flushSync===!0}),ve){let Ae=await Zn(ie,q.pathname,M.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let ze=xs(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[ze,{type:"error",error:Ae.error}]}}else if(Ae.matches)ie=Ae.matches;else{let{notFoundMatches:ze,error:rt,route:wt}=wi(q.pathname);return{matches:ze,pendingActionResult:[wt.id,{type:"error",error:rt}]}}}let Re,Te=Gh(ie,q);if(!Te.route.action&&!Te.route.lazy)Re={type:"error",error:Ar(405,{method:M.method,pathname:q.pathname,routeId:Te.route.id})};else{let Ae=Wo(o,l,M,ie,Te,Se?[]:s,ce),ze=await xr(M,Ae,ce,null);if(Re=ze[Te.route.id],!Re){for(let rt of ie)if(ze[rt.route.id]){Re=ze[rt.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(Ba(Re)){let Ae;return _e&&_e.replace!=null?Ae=_e.replace:Ae=ST(Re.response.headers.get("Location"),new URL(M.url),m)===P.location.pathname+P.location.search,await Mr(M,Re,!0,{submission:Z,replace:Ae}),{shortCircuited:!0}}if(lr(Re)){let Ae=xs(ie,Te.route.id);return(_e&&_e.replace)!==!0&&(N="PUSH"),{matches:ie,pendingActionResult:[Ae.route.id,Re,Te.route.id]}}return{matches:ie,pendingActionResult:[Te.route.id,Re]}}async function ia(M,q,Z,ie,ce,ve,Se,_e,Ce,Re,Te,Ae){let ze=ve||Ep(q,Se),rt=Se||_e||NT(ze),wt=!I&&!Re;if(ce){if(wt){let Ct=hn(Ae);xt({navigation:ze,...Ct!==void 0?{actionData:Ct}:{}},{flushSync:Te})}let qe=await Zn(Z,q.pathname,M.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let Ct=xs(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[Ct]:qe.error}}}else if(qe.matches)Z=qe.matches;else{let{error:Ct,notFoundMatches:kr,route:On}=wi(q.pathname);return{matches:kr,loaderData:{},errors:{[On.id]:Ct}}}}let Rt=d||c,{dsMatches:ke,revalidatingFetchers:lt}=_T(M,ie,o,l,t.history,P,Z,rt,q,Re?[]:s,Re===!0,Ve,$e,de,ne,x,Rt,m,t.patchRoutesOnNavigation!=null,Ae);if(ge=++fe,!t.dataStrategy&&!ke.some(qe=>qe.shouldLoad)&&!ke.some(qe=>qe.route.unstable_middleware)&&lt.length===0){let qe=Qn();return Kn(q,{matches:Z,loaderData:{},errors:Ae&&lr(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...CT(Ae),...qe?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(wt){let qe={};if(!ce){qe.navigation=ze;let Ct=hn(Ae);Ct!==void 0&&(qe.actionData=Ct)}lt.length>0&&(qe.fetchers=so(lt)),xt(qe,{flushSync:Te})}lt.forEach(qe=>{Yn(qe.key),qe.controller&&Q.set(qe.key,qe.controller)});let Nn=()=>lt.forEach(qe=>Yn(qe.key));R&&R.signal.addEventListener("abort",Nn);let{loaderResults:En,fetcherResults:Wt}=await ao(ke,lt,M,ie);if(M.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Nn),lt.forEach(qe=>Q.delete(qe.key));let nn=Lh(En);if(nn)return await Mr(M,nn.result,!0,{replace:Ce}),{shortCircuited:!0};if(nn=Lh(Wt),nn)return x.add(nn.key),await Mr(M,nn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:kn,errors:dr}=AT(P,Z,En,Ae,lt,Wt);Re&&P.errors&&(dr={...P.errors,...dr});let Vr=Qn(),mr=Lr(ge),pr=Vr||mr||lt.length>0;return{matches:Z,loaderData:kn,errors:dr,...pr?{fetchers:new Map(P.fetchers)}:{}}}function hn(M){if(M&&!lr(M[1]))return{[M[0]]:M[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function so(M){return M.forEach(q=>{let Z=P.fetchers.get(q.key),ie=bu(void 0,Z?Z.data:void 0);P.fetchers.set(q.key,ie)}),new Map(P.fetchers)}async function kt(M,q,Z,ie){Yn(M);let ce=(ie&&ie.flushSync)===!0,ve=d||c,Se=Yp(P.location,P.matches,m,Z,q,ie?.relative),_e=Ms(ve,Se,m),Ce=Xn(_e,ve,Se);if(Ce.active&&Ce.matches&&(_e=Ce.matches),!_e){_t(M,q,Ar(404,{pathname:Se}),{flushSync:ce});return}let{path:Re,submission:Te,error:Ae}=yT(!0,Se,ie);if(Ae){_t(M,q,Ae,{flushSync:ce});return}let ze=t.unstable_getContext?await t.unstable_getContext():new pT,rt=(ie&&ie.preventScrollReset)===!0;if(Te&&Fn(Te.formMethod)){await Ft(M,q,Re,_e,ze,Ce.active,ce,rt,Te);return}ne.set(M,{routeId:q,path:Re}),await Or(M,q,Re,_e,ze,Ce.active,ce,rt,Te)}async function Ft(M,q,Z,ie,ce,ve,Se,_e,Ce){Pr(),ne.delete(M);let Re=P.fetchers.get(M);fn(M,oD(Ce,Re),{flushSync:Se});let Te=new AbortController,Ae=Ho(t.history,Z,Te.signal,Ce);if(ve){let vt=await Zn(ie,new URL(Ae.url).pathname,Ae.signal,M);if(vt.type==="aborted")return;if(vt.type==="error"){_t(M,q,vt.error,{flushSync:Se});return}else if(vt.matches)ie=vt.matches;else{_t(M,q,Ar(404,{pathname:Z}),{flushSync:Se});return}}let ze=Gh(ie,Z);if(!ze.route.action&&!ze.route.lazy){let vt=Ar(405,{method:Ce.formMethod,pathname:Z,routeId:q});_t(M,q,vt,{flushSync:Se});return}Q.set(M,Te);let rt=fe,wt=Wo(o,l,Ae,ie,ze,s,ce),ke=(await xr(Ae,wt,ce,M))[ze.route.id];if(Ae.signal.aborted){Q.get(M)===Te&&Q.delete(M);return}if(de.has(M)){if(Ba(ke)||lr(ke)){fn(M,Os(void 0));return}}else{if(Ba(ke))if(Q.delete(M),ge>rt){fn(M,Os(void 0));return}else return x.add(M),fn(M,bu(Ce)),Mr(Ae,ke,!1,{fetcherSubmission:Ce,preventScrollReset:_e});if(lr(ke)){_t(M,q,ke.error);return}}let lt=P.navigation.location||P.location,Nn=Ho(t.history,lt,Te.signal),En=d||c,Wt=P.navigation.state!=="idle"?Ms(En,P.navigation.location,m):P.matches;Qe(Wt,"Didn't find any matches after fetcher action");let nn=++fe;je.set(M,nn);let kn=bu(Ce,ke.data);P.fetchers.set(M,kn);let{dsMatches:dr,revalidatingFetchers:Vr}=_T(Nn,ce,o,l,t.history,P,Wt,Ce,lt,s,!1,Ve,$e,de,ne,x,En,m,t.patchRoutesOnNavigation!=null,[ze.route.id,ke]);Vr.filter(vt=>vt.key!==M).forEach(vt=>{let Ur=vt.key,oo=P.fetchers.get(Ur),Jn=bu(void 0,oo?oo.data:void 0);P.fetchers.set(Ur,Jn),Yn(Ur),vt.controller&&Q.set(Ur,vt.controller)}),xt({fetchers:new Map(P.fetchers)});let mr=()=>Vr.forEach(vt=>Yn(vt.key));Te.signal.addEventListener("abort",mr);let{loaderResults:pr,fetcherResults:qe}=await ao(dr,Vr,Nn,ce);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",mr),je.delete(M),Q.delete(M),Vr.forEach(vt=>Q.delete(vt.key)),P.fetchers.has(M)){let vt=Os(ke.data);P.fetchers.set(M,vt)}let Ct=Lh(pr);if(Ct)return Mr(Nn,Ct.result,!1,{preventScrollReset:_e});if(Ct=Lh(qe),Ct)return x.add(Ct.key),Mr(Nn,Ct.result,!1,{preventScrollReset:_e});let{loaderData:kr,errors:On}=AT(P,Wt,pr,void 0,Vr,qe);Lr(nn),P.navigation.state==="loading"&&nn>ge?(Qe(N,"Expected pending action"),R&&R.abort(),Kn(P.navigation.location,{matches:Wt,loaderData:kr,errors:On,fetchers:new Map(P.fetchers)})):(xt({errors:On,loaderData:RT(P.loaderData,kr,Wt,On),fetchers:new Map(P.fetchers)}),Ve=!1)}async function Or(M,q,Z,ie,ce,ve,Se,_e,Ce){let Re=P.fetchers.get(M);fn(M,bu(Ce,Re?Re.data:void 0),{flushSync:Se});let Te=new AbortController,Ae=Ho(t.history,Z,Te.signal);if(ve){let lt=await Zn(ie,new URL(Ae.url).pathname,Ae.signal,M);if(lt.type==="aborted")return;if(lt.type==="error"){_t(M,q,lt.error,{flushSync:Se});return}else if(lt.matches)ie=lt.matches;else{_t(M,q,Ar(404,{pathname:Z}),{flushSync:Se});return}}let ze=Gh(ie,Z);Q.set(M,Te);let rt=fe,wt=Wo(o,l,Ae,ie,ze,s,ce),ke=(await xr(Ae,wt,ce,M))[ze.route.id];if(Q.get(M)===Te&&Q.delete(M),!Ae.signal.aborted){if(de.has(M)){fn(M,Os(void 0));return}if(Ba(ke))if(ge>rt){fn(M,Os(void 0));return}else{x.add(M),await Mr(Ae,ke,!1,{preventScrollReset:_e});return}if(lr(ke)){_t(M,q,ke.error);return}fn(M,Os(ke.data))}}async function Mr(M,q,Z,{submission:ie,fetcherSubmission:ce,preventScrollReset:ve,replace:Se}={}){q.response.headers.has("X-Remix-Revalidate")&&(Ve=!0);let _e=q.response.headers.get("Location");Qe(_e,"Expected a Location header on the redirect Response"),_e=ST(_e,new URL(M.url),m);let Ce=Gu(P.location,_e,{_isRedirect:!0});if(n){let wt=!1;if(q.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(Ig(_e)){const Rt=F0(_e,!0);wt=Rt.origin!==e.location.origin||Dr(Rt.pathname,m)==null}if(wt){Se?e.location.replace(_e):e.location.assign(_e);return}}R=null;let Re=Se===!0||q.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Ae,formEncType:ze}=P.navigation;!ie&&!ce&&Te&&Ae&&ze&&(ie=NT(P.navigation));let rt=ie||ce;if(FI.has(q.response.status)&&rt&&Fn(rt.formMethod))await Vn(Re,Ce,{submission:{...rt,formAction:_e},preventScrollReset:ve||A,enableViewTransition:Z?L:void 0});else{let wt=Ep(Ce,ie);await Vn(Re,Ce,{overrideNavigation:wt,fetcherSubmission:ce,preventScrollReset:ve||A,enableViewTransition:Z?L:void 0})}}async function xr(M,q,Z,ie){let ce,ve={};try{ce=await ZI(g,M,q,ie,Z,!1)}catch(Se){return q.filter(_e=>_e.shouldLoad).forEach(_e=>{ve[_e.route.id]={type:"error",error:Se}}),ve}if(M.signal.aborted)return ve;for(let[Se,_e]of Object.entries(ce))if(iD(_e)){let Ce=_e.result;ve[Se]={type:"redirect",response:tD(Ce,M,Se,q,m)}}else ve[Se]=await eD(_e);return ve}async function ao(M,q,Z,ie){let ce=xr(Z,M,ie,null),ve=Promise.all(q.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let Te=(await xr(Ce.request,Ce.matches,ie,Ce.key))[Ce.match.route.id];return{[Ce.key]:Te}}else return Promise.resolve({[Ce.key]:{type:"error",error:Ar(404,{pathname:Ce.path})}})})),Se=await ce,_e=(await ve).reduce((Ce,Re)=>Object.assign(Ce,Re),{});return{loaderResults:Se,fetcherResults:_e}}function Pr(){Ve=!0,ne.forEach((M,q)=>{Q.has(q)&&$e.add(q),Yn(q)})}function fn(M,q,Z={}){P.fetchers.set(M,q),xt({fetchers:new Map(P.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function _t(M,q,Z,ie={}){let ce=xs(P.matches,q);$t(M),xt({errors:{[ce.route.id]:Z},fetchers:new Map(P.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function In(M){return pe.set(M,(pe.get(M)||0)+1),de.has(M)&&de.delete(M),P.fetchers.get(M)||qI}function $t(M){let q=P.fetchers.get(M);Q.has(M)&&!(q&&q.state==="loading"&&je.has(M))&&Yn(M),ne.delete(M),je.delete(M),x.delete(M),de.delete(M),$e.delete(M),P.fetchers.delete(M)}function El(M){let q=(pe.get(M)||0)-1;q<=0?(pe.delete(M),de.add(M)):pe.set(M,q),xt({fetchers:new Map(P.fetchers)})}function Yn(M){let q=Q.get(M);q&&(q.abort(),Q.delete(M))}function sa(M){for(let q of M){let Z=In(q),ie=Os(Z.data);P.fetchers.set(q,ie)}}function Qn(){let M=[],q=!1;for(let Z of x){let ie=P.fetchers.get(Z);Qe(ie,`Expected fetcher: ${Z}`),ie.state==="loading"&&(x.delete(Z),M.push(Z),q=!0)}return sa(M),q}function Lr(M){let q=[];for(let[Z,ie]of je)if(ie<M){let ce=P.fetchers.get(Z);Qe(ce,`Expected fetcher: ${Z}`),ce.state==="loading"&&(Yn(Z),je.delete(Z),q.push(Z))}return sa(q),q.length>0}function $n(M,q){let Z=P.blockers.get(M)||Su;return Ee.get(M)!==q&&Ee.set(M,q),Z}function Dn(M){P.blockers.delete(M),Ee.delete(M)}function Wn(M,q){let Z=P.blockers.get(M)||Su;Qe(Z.state==="unblocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="blocked"||Z.state==="blocked"&&q.state==="proceeding"||Z.state==="blocked"&&q.state==="unblocked"||Z.state==="proceeding"&&q.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${q.state}`);let ie=new Map(P.blockers);ie.set(M,q),xt({blockers:ie})}function Ti({currentLocation:M,nextLocation:q,historyAction:Z}){if(Ee.size===0)return;Ee.size>1&&Vt(!1,"A router only supports one blocker at a time");let ie=Array.from(Ee.entries()),[ce,ve]=ie[ie.length-1],Se=P.blockers.get(ce);if(!(Se&&Se.state==="proceeding")&&ve({currentLocation:M,nextLocation:q,historyAction:Z}))return ce}function wi(M){let q=Ar(404,{pathname:M}),Z=d||c,{matches:ie,route:ce}=IT(Z);return{notFoundMatches:ie,route:ce,error:q}}function Jr(M,q,Z){if(D=M,W=q,j=Z||null,!U&&P.navigation===vp){U=!0;let ie=aa(P.location,P.matches);ie!=null&&xt({restoreScrollPosition:ie})}return()=>{D=null,W=null,j=null}}function Si(M,q){return j&&j(M,q.map(ie=>vI(ie,P.loaderData)))||M.key}function Dt(M,q){if(D&&W){let Z=Si(M,q);D[Z]=W()}}function aa(M,q){if(D){let Z=Si(M,q),ie=D[Z];if(typeof ie=="number")return ie}return null}function Xn(M,q,Z){if(t.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Hh(q,Z,m,!0)}}else return{active:!0,matches:Hh(q,Z,m,!0)||[]};return{active:!1,matches:null}}async function Zn(M,q,Z,ie){if(!t.patchRoutesOnNavigation)return{type:"success",matches:M};let ce=M;for(;;){let ve=d==null,Se=d||c,_e=l;try{await t.patchRoutesOnNavigation({signal:Z,path:q,matches:ce,fetcherKey:ie,patch:(Te,Ae)=>{Z.aborted||vT(Te,Ae,Se,_e,o,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:ce}}finally{ve&&!Z.aborted&&(c=[...c])}if(Z.aborted)return{type:"aborted"};let Ce=Ms(Se,q,m);if(Ce)return{type:"success",matches:Ce};let Re=Hh(Se,q,m,!0);if(!Re||ce.length===Re.length&&ce.every((Te,Ae)=>Te.route.id===Re[Ae].route.id))return{type:"success",matches:null};ce=Re}}function oa(M){l={},d=Ku(M,o,void 0,l)}function la(M,q,Z=!1){let ie=d==null;vT(M,q,d||c,l,o,Z),ie&&(c=[...c],xt({}))}return oe={get basename(){return m},get future(){return _},get state(){return P},get routes(){return c},get window(){return e},initialize:Qt,subscribe:Gn,enableScrollRestoration:Jr,navigate:vi,fetch:kt,revalidate:Ei,createHref:M=>t.history.createHref(M),encodeLocation:M=>t.history.encodeLocation(M),getFetcher:In,deleteFetcher:El,dispose:ot,getBlocker:$n,deleteBlocker:Dn,patchRoutes:la,_internalFetchControllers:Q,_internalSetRoutes:oa,_internalSetStateDoNotUseOrYouWillBreakYourApp(M){xt(M)}},oe}function YI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Yp(t,e,n,s,o,l){let c,d;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){d=g;break}}else c=e,d=e[e.length-1];let m=Ff(s||".",Bf(c),Dr(t.pathname,n)||t.pathname,l==="path");if(s==null&&(m.search=t.search,m.hash=t.hash),(s==null||s===""||s===".")&&d){let g=Dg(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(m.search),w=_.getAll("index");_.delete("index"),w.filter(D=>D).forEach(D=>_.append("index",D));let T=_.toString();m.search=T?`?${T}`:""}}return n!=="/"&&(m.pathname=MI({basename:n,pathname:m.pathname})),Hs(m)}function yT(t,e,n){if(!n||!YI(n))return{path:e};if(n.formMethod&&!sD(n.formMethod))return{path:e,error:Ar(405,{method:n.formMethod})};let s=()=>({path:e,error:Ar(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=tS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fn(l))return s();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((T,[D,j])=>`${T}${D}=${j}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Fn(l))return s();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return s()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let d,m;if(n.formData)d=Wp(n.formData),m=n.formData;else if(n.body instanceof FormData)d=Wp(n.body),m=n.body;else if(n.body instanceof URLSearchParams)d=n.body,m=bT(d);else if(n.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(n.body),m=bT(d)}catch{return s()}let g={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Fn(g.formMethod))return{path:e,submission:g};let _=ts(e);return t&&_.search&&Dg(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Hs(_),submission:g}}function _T(t,e,n,s,o,l,c,d,m,g,_,w,T,D,j,W,U,Y,ue,ee){let he=ee?lr(ee[1])?ee[1].error:ee[1].data:void 0,oe=o.createURL(l.location),P=o.createURL(m),N;if(_&&l.errors){let I=Object.keys(l.errors)[0];N=c.findIndex(Ve=>Ve.route.id===I)}else if(ee&&lr(ee[1])){let I=ee[0];N=c.findIndex(Ve=>Ve.route.id===I)-1}let A=ee?ee[1].statusCode:void 0,R=A&&A>=400,L={currentUrl:oe,currentParams:l.matches[0]?.params||{},nextUrl:P,nextParams:c[0].params,...d,actionResult:he,actionStatus:A},V=c.map((I,Ve)=>{let{route:$e}=I,Q=null;if(N!=null&&Ve>N?Q=!1:$e.lazy?Q=!0:$e.loader==null?Q=!1:_?Q=Qp($e,l.loaderData,l.errors):QI(l.loaderData,l.matches[Ve],I)&&(Q=!0),Q!==null)return $p(n,s,t,I,g,e,Q);let fe=R?!1:w||oe.pathname+oe.search===P.pathname+P.search||oe.search!==P.search||$I(l.matches[Ve],I),ge={...L,defaultShouldRevalidate:fe},je=df(I,ge);return $p(n,s,t,I,g,e,je,ge)}),z=[];return j.forEach((I,Ve)=>{if(_||!c.some(pe=>pe.route.id===I.routeId)||D.has(Ve))return;let $e=l.fetchers.get(Ve),Q=$e&&$e.state!=="idle"&&$e.data===void 0,fe=Ms(U,I.path,Y);if(!fe){if(ue&&Q)return;z.push({key:Ve,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(W.has(Ve))return;let ge=Gh(fe,I.path),je=new AbortController,x=Ho(o,I.path,je.signal),ne=null;if(T.has(Ve))T.delete(Ve),ne=Wo(n,s,x,fe,ge,g,e);else if(Q)w&&(ne=Wo(n,s,x,fe,ge,g,e));else{let pe={...L,defaultShouldRevalidate:R?!1:w};df(ge,pe)&&(ne=Wo(n,s,x,fe,ge,g,e,pe))}ne&&z.push({key:Ve,routeId:I.routeId,path:I.path,matches:ne,match:ge,request:x,controller:je})}),{dsMatches:V,revalidatingFetchers:z}}function Qp(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&t.id in e,o=n!=null&&n[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function QI(t,e,n){let s=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return s||o}function $I(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function df(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function vT(t,e,n,s,o,l){let c;if(t){let g=s[t];Qe(g,`No route found to patch children into: routeId = ${t}`),g.children||(g.children=[]),c=g.children}else c=n;let d=[],m=[];if(e.forEach(g=>{let _=c.find(w=>$0(g,w));_?m.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=Ku(d,o,[t||"_","patch",String(c?.length||"0")],s);c.push(...g)}if(l&&m.length>0)for(let g=0;g<m.length;g++){let{existingRoute:_,newRoute:w}=m[g],T=_,[D]=Ku([w],o,[],{},!0);Object.assign(T,{element:D.element?D.element:T.element,errorElement:D.errorElement?D.errorElement:T.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:T.hydrateFallbackElement})}}function $0(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>e.children?.some(o=>$0(n,o))):!1}var ET=new WeakMap,W0=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let o=n[e.id];if(Qe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[t];if(!l)return;let c=ET.get(o);c||(c={},ET.set(o,c));let d=c[t];if(d)return d;let m=(async()=>{let g=pI(t),w=o[t]!==void 0&&t!=="hasErrorBoundary";if(g)Vt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(w)Vt(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let T=await l();T!=null&&(Object.assign(o,{[t]:T}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return c[t]=m,m},TT=new WeakMap;function WI(t,e,n,s,o){let l=n[t.id];if(Qe(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let _=TT.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let w=(async()=>{Qe(typeof t.lazy=="function","No lazy route function found");let T=await t.lazy(),D={};for(let j in T){let W=T[j];if(W===void 0)continue;let U=yI(j),ue=l[j]!==void 0&&j!=="hasErrorBoundary";U?Vt(!U,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ue?Vt(!ue,`Route "${l.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):D[j]=W}Object.assign(l,D),Object.assign(l,{...s(l),lazy:void 0})})();return TT.set(l,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let c=Object.keys(t.lazy),d=[],m;for(let _ of c){if(o&&o.includes(_))continue;let w=W0({key:_,route:t,manifest:n,mapRouteProperties:s});w&&(d.push(w),_===e&&(m=w))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function wT(t){let e=t.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{n[e[l].route.id]=o}),n}async function XI(t){if(!t.matches.some(n=>n.route.unstable_middleware))return wT(t);let e=!1;return Z0(t,()=>(e=!0,wT(t)),(n,s)=>X0(n,s,t.matches,e))}function X0(t,e,n,s){return s?{[e]:{type:"error",result:t}}:{[xs(n,n.find(l=>l.route.id===e||l.route.loader)?.route.id||e).route.id]:{type:"error",result:t}}}async function Z0(t,e,n){let{matches:s,request:o,params:l,context:c}=t,d=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(_=>[g.route.id,_]):[]),m={};return await J0({request:o,params:l,context:c},d,e,n,m),m}async function J0(t,e,n,s,o={},l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d){let T=await n();Object.assign(o,T);return}let[m,g]=d,_=!1,w=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0;try{let T=await J0(t,e,n,s,o,l+1);Object.assign(o,T)}catch(T){let D=await s(T,m);Object.assign(o,D)}};try{let T=await g({request:t.request,params:t.params,context:t.context},w);typeof T<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",T),_||await w()}catch(T){let D=await s(T,m);Object.assign(o,D)}}function eS(t,e,n,s,o){let l=W0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:t}),c=WI(s.route,Fn(n.method)?"action":"loader",e,t,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function $p(t,e,n,s,o,l,c,d=null){let m=!1,g=eS(t,e,n,s,o);return{...s,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(_){return m=!0,d?typeof _=="boolean"?df(s,{...d,defaultShouldRevalidate:_}):df(s,d):c},resolve(_){return m||c||_&&!Fn(n.method)&&(s.route.lazy||s.route.loader)?JI({request:n,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Wo(t,e,n,s,o,l,c,d=null){return s.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:eS(t,e,n,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:$p(t,e,n,m,l,c,!0,d))}async function ZI(t,e,n,s,o,l){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let c={request:e,params:n[0].params,context:o,matches:n},m=await t({...c,fetcherKey:s,unstable_runClientMiddleware:g=>{let _=c,w=!1;return Z0(_,()=>(w=!0,g({..._,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(T,D)=>X0(T,D,n,w))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return m}async function JI({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:o,scopedContext:l}){let c,d,m=Fn(t.method),g=m?"action":"loader",_=w=>{let T,D=new Promise((U,Y)=>T=Y);d=()=>T(),t.signal.addEventListener("abort",d);let j=U=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):w({request:t,params:e.params,context:l},...U!==void 0?[U]:[]),W=(async()=>{try{return{type:"data",result:await(o?o(Y=>j(Y)):j())}}catch(U){return{type:"error",result:U}}})();return Promise.race([W,D])};try{let w=m?e.route.action:e.route.loader;if(n||s)if(w){let T,[D]=await Promise.all([_(w).catch(j=>{T=j}),n,s]);if(T!==void 0)throw T;c=D}else{await n;let T=m?e.route.action:e.route.loader;if(T)[c]=await Promise.all([_(T),s]);else if(g==="action"){let D=new URL(t.url),j=D.pathname+D.search;throw Ar(405,{method:t.method,pathname:j,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)c=await _(w);else{let T=new URL(t.url),D=T.pathname+T.search;throw Ar(404,{pathname:D})}}catch(w){return{type:"error",result:w}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function eD(t){let{result:e,type:n}=t;if(nS(e)){let s;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new ff(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return n==="error"?DT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new ff(e.init?.status||500,void 0,e.data),statusCode:Yu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yu(e)?e.status:void 0}:DT(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function tD(t,e,n,s,o){let l=t.headers.get("Location");if(Qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ig(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===n)+1);l=Yp(new URL(e.url),c,o,l),t.headers.set("Location",l)}return t}function ST(t,e,n){if(Ig(t)){let s=t,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=Dr(o.pathname,n)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return t}function Ho(t,e,n,s){let o=t.createURL(tS(e)).toString(),l={signal:n};if(s&&Fn(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=Wp(s.formData):l.body=s.formData}return new Request(o,l)}function Wp(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function bT(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function nD(t,e,n,s=!1,o=!1){let l={},c=null,d,m=!1,g={},_=n&&lr(n[1])?n[1].error:void 0;return t.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,D=e[T];if(Qe(!Ba(D),"Cannot handle redirect results in processLoaderData"),lr(D)){let j=D.error;if(_!==void 0&&(j=_,_=void 0),c=c||{},o)c[T]=j;else{let W=xs(t,T);c[W.route.id]==null&&(c[W.route.id]=j)}s||(l[T]=Q0),m||(m=!0,d=Yu(D.error)?D.error.status:500),D.headers&&(g[T]=D.headers)}else l[T]=D.data,D.statusCode&&D.statusCode!==200&&!m&&(d=D.statusCode),D.headers&&(g[T]=D.headers)}),_!==void 0&&n&&(c={[n[0]]:_},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function AT(t,e,n,s,o,l){let{loaderData:c,errors:d}=nD(e,n,s);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:_,controller:w}=m;if(w&&w.signal.aborted)return;let T=l[g];if(Qe(T,"Did not find corresponding fetcher result"),lr(T)){let D=xs(t.matches,_?.route.id);d&&d[D.route.id]||(d={...d,[D.route.id]:T.error}),t.fetchers.delete(g)}else if(Ba(T))Qe(!1,"Unhandled fetcher revalidation redirect");else{let D=Os(T.data);t.fetchers.set(g,D)}}),{loaderData:c,errors:d}}function RT(t,e,n,s){let o=Object.entries(e).filter(([,l])=>l!==Q0).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(o[c]=t[c]),s&&s.hasOwnProperty(c))break}return o}function CT(t){return t?lr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function xs(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function IT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ar(t,{pathname:e,routeId:n,method:s,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new ff(t||500,c,new Error(d),!0)}function Lh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(Ba(o))return{key:s,result:o}}}function tS(t){let e=typeof t=="string"?ts(t):t;return Hs({...e,hash:""})}function rD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function iD(t){return nS(t.result)&&BI.has(t.result.status)}function lr(t){return t.type==="error"}function Ba(t){return(t&&t.type)==="redirect"}function DT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function nS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function sD(t){return zI.has(t.toUpperCase())}function Fn(t){return UI.has(t.toUpperCase())}function Dg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Gh(t,e){let n=typeof e=="string"?ts(e).search:e.search;if(t[t.length-1].route.index&&Dg(n||""))return t[t.length-1];let s=G0(t);return s[s.length-1]}function NT(t){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:l,json:c}=t;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function Ep(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function bu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Os(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function lD(t,e){try{let n=t.sessionStorage.getItem(Y0);if(n){let s=JSON.parse(n);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function uD(t,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{t.sessionStorage.setItem(Y0,JSON.stringify(n))}catch(s){Vt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function cD(){let t,e,n=new Promise((s,o)=>{t=async l=>{s(l);try{await n}catch{}},e=async l=>{o(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ja=F.createContext(null);Ja.displayName="DataRouter";var sc=F.createContext(null);sc.displayName="DataRouterState";F.createContext(!1);var Ng=F.createContext({isTransitioning:!1});Ng.displayName="ViewTransition";var rS=F.createContext(new Map);rS.displayName="Fetchers";var hD=F.createContext(null);hD.displayName="Await";var Xr=F.createContext(null);Xr.displayName="Navigation";var qf=F.createContext(null);qf.displayName="Location";var Nr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Og=F.createContext(null);Og.displayName="RouteError";function fD(t,{relative:e}={}){Qe(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Xr),{hash:o,pathname:l,search:c}=ac(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:li([n,l])),s.createHref({pathname:d,search:c,hash:o})}function hl(){return F.useContext(qf)!=null}function Js(){return Qe(hl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(qf).location}var iS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(t){F.useContext(Xr).static||F.useLayoutEffect(t)}function aS(){let{isDataRoute:t}=F.useContext(Nr);return t?CD():dD()}function dD(){Qe(hl(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Ja),{basename:e,navigator:n}=F.useContext(Xr),{matches:s}=F.useContext(Nr),{pathname:o}=Js(),l=JSON.stringify(Bf(s)),c=F.useRef(!1);return sS(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Vt(c.current,iS),!c.current)return;if(typeof m=="number"){n.go(m);return}let _=Ff(m,JSON.parse(l),o,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:li([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,o,t])}var mD=F.createContext(null);function pD(t){let e=F.useContext(Nr).outlet;return e&&F.createElement(mD.Provider,{value:t},e)}function oS(){let{matches:t}=F.useContext(Nr),e=t[t.length-1];return e?e.params:{}}function ac(t,{relative:e}={}){let{matches:n}=F.useContext(Nr),{pathname:s}=Js(),o=JSON.stringify(Bf(n));return F.useMemo(()=>Ff(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function gD(t,e,n,s){Qe(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(Xr),{matches:l}=F.useContext(Nr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let Y=_&&_.path||"";lS(m,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let w=Js(),T;T=w;let D=T.pathname||"/",j=D;if(g!=="/"){let Y=g.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let W=Ms(t,{pathname:j});return Vt(_||W!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Vt(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),TD(W&&W.map(Y=>Object.assign({},Y,{params:Object.assign({},d,Y.params),pathname:li([g,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?g:li([g,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),l,n,s)}function yD(){let t=RD(),e=Yu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,c)}var _D=F.createElement(yD,null),vD=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Nr.Provider,{value:this.props.routeContext},F.createElement(Og.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ED({routeContext:t,match:e,children:n}){let s=F.useContext(Ja);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Nr.Provider,{value:t},n)}function TD(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Qe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:w}=n,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,_)=>{let w,T=!1,D=null,j=null;n&&(w=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||_D,c&&(d<0&&_===0?(lS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,j=null):d===_&&(T=!0,j=g.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,_+1)),U=()=>{let Y;return w?Y=D:T?Y=j:g.route.Component?Y=F.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=m,F.createElement(ED,{match:g,routeContext:{outlet:m,matches:W,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?F.createElement(vD,{location:n.location,revalidation:n.revalidation,component:D,error:w,children:U(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):U()},null)}function Mg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wD(t){let e=F.useContext(Ja);return Qe(e,Mg(t)),e}function SD(t){let e=F.useContext(sc);return Qe(e,Mg(t)),e}function bD(t){let e=F.useContext(Nr);return Qe(e,Mg(t)),e}function xg(t){let e=bD(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function AD(){return xg("useRouteId")}function RD(){let t=F.useContext(Og),e=SD("useRouteError"),n=xg("useRouteError");return t!==void 0?t:e.errors?.[n]}function CD(){let{router:t}=wD("useNavigate"),e=xg("useNavigate"),n=F.useRef(!1);return sS(()=>{n.current=!0}),F.useCallback(async(o,l={})=>{Vt(n.current,iS),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var OT={};function lS(t,e,n){!e&&!OT[t]&&(OT[t]=!0,Vt(!1,n))}var MT={};function xT(t,e){!t&&!MT[e]&&(MT[e]=!0,console.warn(e))}function ID(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Vt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Vt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Vt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var DD=["HydrateFallback","hydrateFallbackElement"],ND=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function OD({router:t,flushSync:e}){let[n,s]=F.useState(t.state),[o,l]=F.useState(),[c,d]=F.useState({isTransitioning:!1}),[m,g]=F.useState(),[_,w]=F.useState(),[T,D]=F.useState(),j=F.useRef(new Map),W=F.useCallback((ee,{deletedFetchers:he,flushSync:oe,viewTransitionOpts:P})=>{ee.fetchers.forEach((A,R)=>{A.data!==void 0&&j.current.set(R,A.data)}),he.forEach(A=>j.current.delete(A)),xT(oe===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(xT(P==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!N){e&&oe?e(()=>s(ee)):F.startTransition(()=>s(ee));return}if(e&&oe){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let A=t.window.document.startViewTransition(()=>{e(()=>s(ee))});A.finished.finally(()=>{e(()=>{g(void 0),w(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>w(A));return}_?(m&&m.resolve(),_.skipTransition(),D({state:ee,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(l(ee),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[t.window,e,_,m]);F.useLayoutEffect(()=>t.subscribe(W),[t,W]),F.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new ND)},[c]),F.useEffect(()=>{if(m&&o&&t.window){let ee=o,he=m.promise,oe=t.window.document.startViewTransition(async()=>{F.startTransition(()=>s(ee)),await he});oe.finished.finally(()=>{g(void 0),w(void 0),l(void 0),d({isTransitioning:!1})}),w(oe)}},[o,m,t.window]),F.useEffect(()=>{m&&o&&n.location.key===o.location.key&&m.resolve()},[m,_,n.location,o]),F.useEffect(()=>{!c.isTransitioning&&T&&(l(T.state),d({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),D(void 0))},[c.isTransitioning,T]);let U=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:ee=>t.navigate(ee),push:(ee,he,oe)=>t.navigate(ee,{state:he,preventScrollReset:oe?.preventScrollReset}),replace:(ee,he,oe)=>t.navigate(ee,{replace:!0,state:he,preventScrollReset:oe?.preventScrollReset})}),[t]),Y=t.basename||"/",ue=F.useMemo(()=>({router:t,navigator:U,static:!1,basename:Y}),[t,U,Y]);return F.createElement(F.Fragment,null,F.createElement(Ja.Provider,{value:ue},F.createElement(sc.Provider,{value:n},F.createElement(rS.Provider,{value:j.current},F.createElement(Ng.Provider,{value:c},F.createElement(VD,{basename:Y,location:n.location,navigationType:n.historyAction,navigator:U},F.createElement(MD,{routes:t.routes,future:t.future,state:n})))))),null)}var MD=F.memo(xD);function xD({routes:t,future:e,state:n}){return gD(t,void 0,n,e)}function PD({to:t,replace:e,state:n,relative:s}){Qe(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Xr);Vt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Nr),{pathname:c}=Js(),d=aS(),m=Ff(t,Bf(l),c,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function LD(t){return pD(t.context)}function VD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){Qe(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=ts(n));let{pathname:m="/",search:g="",hash:_="",state:w=null,key:T="default"}=n,D=F.useMemo(()=>{let j=Dr(m,c);return j==null?null:{location:{pathname:j,search:g,hash:_,state:w,key:T},navigationType:s}},[c,m,g,_,w,T,s]);return Vt(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(Xr.Provider,{value:d},F.createElement(qf.Provider,{children:e,value:D}))}var Kh="get",Yh="application/x-www-form-urlencoded";function Hf(t){return t!=null&&typeof t.tagName=="string"}function kD(t){return Hf(t)&&t.tagName.toLowerCase()==="button"}function UD(t){return Hf(t)&&t.tagName.toLowerCase()==="form"}function jD(t){return Hf(t)&&t.tagName.toLowerCase()==="input"}function zD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BD(t,e){return t.button===0&&(!e||e==="_self")&&!zD(t)}var Vh=null;function FD(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var qD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(t){return t!=null&&!qD.has(t)?(Vt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):t}function HD(t,e){let n,s,o,l,c;if(UD(t)){let d=t.getAttribute("action");s=d?Dr(d,e):null,n=t.getAttribute("method")||Kh,o=Tp(t.getAttribute("enctype"))||Yh,l=new FormData(t)}else if(kD(t)||jD(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Dr(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Kh,o=Tp(t.getAttribute("formenctype"))||Tp(d.getAttribute("enctype"))||Yh,l=new FormData(d,t),!FD()){let{name:g,type:_,value:w}=t;if(_==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,w)}}else{if(Hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kh,s=null,o=Yh,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function GD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Dr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function KD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QD(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await KD(l,n);return c.links?c.links():[]}return[]}));return ZD(s.flat(1).filter(YD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function PT(t,e,n,s,o,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function $D(t,e,{includeHydrateFallback:n}={}){return WD(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function WD(t){return[...new Set(t)]}function XD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function ZD(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(XD(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function uS(){let t=F.useContext(Ja);return Pg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JD(){let t=F.useContext(sc);return Pg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Lg=F.createContext(void 0);Lg.displayName="FrameworkContext";function cS(){let t=F.useContext(Lg);return Pg(t,"You must render this element inside a <HydratedRouter> element"),t}function eN(t,e){let n=F.useContext(Lg),[s,o]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,T=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let W=Y=>{Y.forEach(ue=>{c(ue.isIntersecting)})},U=new IntersectionObserver(W,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[t]),F.useEffect(()=>{if(s){let W=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(W)}}},[s]);let D=()=>{o(!0)},j=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Au(d,D),onBlur:Au(m,j),onMouseEnter:Au(g,D),onMouseLeave:Au(_,j),onTouchStart:Au(w,D)}]:[!1,T,{}]}function Au(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tN({page:t,...e}){let{router:n}=uS(),s=F.useMemo(()=>Ms(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?F.createElement(rN,{page:t,matches:s,...e}):null}function nN(t){let{manifest:e,routeModules:n}=cS(),[s,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return QD(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),s}function rN({page:t,matches:e,...n}){let s=Js(),{manifest:o,routeModules:l}=cS(),{basename:c}=uS(),{loaderData:d,matches:m}=JD(),g=F.useMemo(()=>PT(t,e,m,o,s,"data"),[t,e,m,o,s]),_=F.useMemo(()=>PT(t,e,m,o,s,"assets"),[t,e,m,o,s]),w=F.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,W=!1;if(e.forEach(Y=>{let ue=o.routes[Y.route.id];!ue||!ue.hasLoader||(!g.some(ee=>ee.route.id===Y.route.id)&&Y.route.id in d&&l[Y.route.id]?.shouldRevalidate||ue.hasClientLoader?W=!0:j.add(Y.route.id))}),j.size===0)return[];let U=GD(t,c,"data");return W&&j.size>0&&U.searchParams.set("_routes",e.filter(Y=>j.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[c,d,s,o,g,e,t,l]),T=F.useMemo(()=>$D(_,o),[_,o]),D=nN(_);return F.createElement(F.Fragment,null,w.map(j=>F.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),T.map(j=>F.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),D.map(({key:j,link:W})=>F.createElement("link",{key:j,nonce:n.nonce,...W})))}function iN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hS&&(window.__reactRouterVersion="7.8.0")}catch{}function sN(t,e){return KI({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:hI({window:e?.window}),hydrationData:aN(),routes:t,mapRouteProperties:ID,hydrationRouteProperties:DD,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function aN(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:oN(t.errors)}),t}function oN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new ff(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",n[s]=c}catch{}}if(n[s]==null){let l=new Error(o.message);l.stack="",n[s]=l}}else n[s]=o;return n}var fS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dS=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:w,...T},D){let{basename:j}=F.useContext(Xr),W=typeof g=="string"&&fS.test(g),U,Y=!1;if(typeof g=="string"&&W&&(U=g,hS))try{let R=new URL(window.location.href),L=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=Dr(L.pathname,j);L.origin===R.origin&&V!=null?g=V+L.search+L.hash:Y=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=fD(g,{relative:o}),[ee,he,oe]=eN(s,T),P=cN(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:w});function N(R){e&&e(R),R.defaultPrevented||P(R)}let A=F.createElement("a",{...T,...oe,href:U||ue,onClick:Y||l?e:N,ref:iN(D,he),target:m,"data-discover":!W&&n==="render"?"true":void 0});return ee&&!W?F.createElement(F.Fragment,null,A,F.createElement(tN,{page:ue})):A});dS.displayName="Link";var Bi=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let w=ac(c,{relative:g.relative}),T=Js(),D=F.useContext(sc),{navigator:j,basename:W}=F.useContext(Xr),U=D!=null&&pN(w)&&d===!0,Y=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,ue=T.pathname,ee=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ue=ue.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&W&&(ee=Dr(ee,W)||ee);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=ue===Y||!o&&ue.startsWith(Y)&&ue.charAt(he)==="/",P=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),N={isActive:oe,isPending:P,isTransitioning:U},A=oe?e:void 0,R;typeof s=="function"?R=s(N):R=[s,oe?"active":null,P?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return F.createElement(dS,{...g,"aria-current":A,className:R,ref:_,style:L,to:c,viewTransition:d},typeof m=="function"?m(N):m)});Bi.displayName="NavLink";var lN=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=Kh,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:w,...T},D)=>{let j=dN(),W=mN(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&fS.test(d),ue=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let he=ee.nativeEvent.submitter,oe=he?.getAttribute("formmethod")||c;j(he||ee.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:w})};return F.createElement("form",{ref:D,method:U,action:W,onSubmit:s?m:ue,...T,"data-discover":!Y&&t==="render"?"true":void 0})});lN.displayName="Form";function uN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(t){let e=F.useContext(Ja);return Qe(e,uN(t)),e}function cN(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=aS(),m=Js(),g=ac(t,{relative:l});return F.useCallback(_=>{if(BD(_,e)){_.preventDefault();let w=n!==void 0?n:Hs(m)===Hs(g);d(t,{replace:w,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[m,d,g,n,s,e,t,o,l,c])}var hN=0,fN=()=>`__${String(++hN)}__`;function dN(){let{router:t}=mS("useSubmit"),{basename:e}=F.useContext(Xr),n=AD();return F.useCallback(async(s,o={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=HD(s,e);if(o.navigate===!1){let _=o.fetcherKey||fN();await t.fetch(_,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function mN(t,{relative:e}={}){let{basename:n}=F.useContext(Xr),s=F.useContext(Nr);Qe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ac(t||".",{relative:e})},c=Js();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();l.search=_?`?${_}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:li([n,l.pathname])),Hs(l)}function pN(t,{relative:e}={}){let n=F.useContext(Ng);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mS("useViewTransitionState"),o=ac(t,{relative:e});if(!n.isTransitioning)return!1;let l=Dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hf(o.pathname,c)!=null||hf(o.pathname,l)!=null}var pS=E0();function gN(t){return F.createElement(OD,{flushSync:pS.flushSync,...t})}const yN=()=>{};var LT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_N=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},yS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,m=o+2<t.length,g=m?t[o+2]:0,_=l>>2,w=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,D=g&63;m||(D=64,c||(T=64)),s.push(n[_],n[w],n[T],n[D])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_N(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||g==null||w==null)throw new vN;const T=l<<2|d>>4;if(s.push(T),g!==64){const D=d<<4&240|g>>2;if(s.push(D),w!==64){const j=g<<6&192|w;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EN=function(t){const e=gS(t);return yS.encodeByteArray(e,!0)},mf=function(t){return EN(t).replace(/\./g,"")},_S=function(t){try{return yS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=()=>TN().__FIREBASE_DEFAULTS__,SN=()=>{if(typeof process>"u"||typeof LT>"u")return;const t=LT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_S(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return yN()||wN()||SN()||bN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vS=t=>Gf()?.emulatorHosts?.[t],AN=t=>{const e=vS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ES=()=>Gf()?.config,TS=t=>Gf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mf(JSON.stringify(n)),mf(JSON.stringify(c)),""].join(".")}const Lu={};function IN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function DN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let VT=!1;function SS(t,e){if(typeof window>"u"||typeof document>"u"||!fl(window.location.host)||Lu[t]===e||Lu[t]||VT)return;Lu[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=IN().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{VT=!0,c()},T}function _(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=DN(s),D=n("text"),j=document.getElementById(D)||document.createElement("span"),W=n("learnmore"),U=document.getElementById(W)||document.createElement("a"),Y=n("preprendIcon"),ue=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ee=T.element;d(ee),_(U,W);const he=g();m(ue,Y),ee.append(ue,j,U,he),document.body.appendChild(ee)}l?(j.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function ON(){const t=Gf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PN(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LN(){return!ON()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function VN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="FirebaseError";class Zr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=kN,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?UN(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Zr(o,d,s)}}function UN(t,e){return t.replace(jN,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jN=/\{\$([^}]+)}/g;function zN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(kT(l)&&kT(c)){if(!Gs(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function kT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Du(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Nu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BN(t,e){const n=new FN(t,e);return n.subscribe.bind(n)}class FN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wp),o.error===void 0&&(o.error=wp),o.complete===void 0&&(o.complete=wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=1e3,GN=2,KN=14400*1e3,YN=.5;function UT(t,e=HN,n=GN){const s=e*Math.pow(n,t),o=Math.round(YN*s*(Math.random()-.5)*2);return Math.min(KN,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class Qr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WN(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$N(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $N(t){return t===za?void 0:t}function WN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const ZN={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},JN=Ze.INFO,e2={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},t2=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=e2[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kf{constructor(e){this.name=e,this._logLevel=JN,this._logHandler=t2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const n2=(t,e)=>e.some(n=>t instanceof n);let jT,zT;function r2(){return jT||(jT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i2(){return zT||(zT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CS=new WeakMap,Xp=new WeakMap,IS=new WeakMap,Sp=new WeakMap,Vg=new WeakMap;function s2(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(js(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&CS.set(n,t)}).catch(()=>{}),Vg.set(e,t),e}function a2(t){if(Xp.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Xp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o2(t){Zp=t(Zp)}function l2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(bp(this),e,...n);return IS.set(s,e.sort?e.sort():[e]),js(s)}:i2().includes(t)?function(...e){return t.apply(bp(this),e),js(CS.get(this))}:function(...e){return js(t.apply(bp(this),e))}}function u2(t){return typeof t=="function"?l2(t):(t instanceof IDBTransaction&&a2(t),n2(t,r2())?new Proxy(t,Zp):t)}function js(t){if(t instanceof IDBRequest)return s2(t);if(Sp.has(t))return Sp.get(t);const e=u2(t);return e!==t&&(Sp.set(t,e),Vg.set(e,t)),e}const bp=t=>Vg.get(t);function DS(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=js(c);return s&&c.addEventListener("upgradeneeded",m=>{s(js(c.result),m.oldVersion,m.newVersion,js(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const c2=["get","getKey","getAll","getAllKeys","count"],h2=["put","add","delete","clear"],Ap=new Map;function BT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=h2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||c2.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return Ap.set(e,l),l}o2(t=>({...t,get:(e,n,s)=>BT(e,n)||t.get(e,n,s),has:(e,n)=>!!BT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function d2(t){return t.getComponent()?.type==="VERSION"}const Jp="@firebase/app",FT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Kf("@firebase/app"),m2="@firebase/app-compat",p2="@firebase/analytics-compat",g2="@firebase/analytics",y2="@firebase/app-check-compat",_2="@firebase/app-check",v2="@firebase/auth",E2="@firebase/auth-compat",T2="@firebase/database",w2="@firebase/data-connect",S2="@firebase/database-compat",b2="@firebase/functions",A2="@firebase/functions-compat",R2="@firebase/installations",C2="@firebase/installations-compat",I2="@firebase/messaging",D2="@firebase/messaging-compat",N2="@firebase/performance",O2="@firebase/performance-compat",M2="@firebase/remote-config",x2="@firebase/remote-config-compat",P2="@firebase/storage",L2="@firebase/storage-compat",V2="@firebase/firestore",k2="@firebase/ai",U2="@firebase/firestore-compat",j2="firebase",z2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",B2={[Jp]:"fire-core",[m2]:"fire-core-compat",[g2]:"fire-analytics",[p2]:"fire-analytics-compat",[_2]:"fire-app-check",[y2]:"fire-app-check-compat",[v2]:"fire-auth",[E2]:"fire-auth-compat",[T2]:"fire-rtdb",[w2]:"fire-data-connect",[S2]:"fire-rtdb-compat",[b2]:"fire-fn",[A2]:"fire-fn-compat",[R2]:"fire-iid",[C2]:"fire-iid-compat",[I2]:"fire-fcm",[D2]:"fire-fcm-compat",[N2]:"fire-perf",[O2]:"fire-perf-compat",[M2]:"fire-rc",[x2]:"fire-rc-compat",[P2]:"fire-gcs",[L2]:"fire-gcs-compat",[V2]:"fire-fst",[U2]:"fire-fst-compat",[k2]:"fire-vertex","fire-js":"fire-js",[j2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=new Map,F2=new Map,tg=new Map;function qT(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gi(t){const e=t.name;if(tg.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const n of pf.values())qT(n,t);for(const n of F2.values())qT(n,t);return!0}function to(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new eo("app","Firebase",q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=z2;function NS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:eg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(n||(n=ES()),!n)throw zs.create("no-options");const l=pf.get(o);if(l){if(Gs(n,l.options)&&Gs(s,l.config))return l;throw zs.create("duplicate-app",{appName:o})}const c=new XN(o);for(const m of tg.values())c.addComponent(m);const d=new H2(n,s,c);return pf.set(o,d),d}function kg(t=eg){const e=pf.get(t);if(!e&&t===eg&&ES())return NS();if(!e)throw zs.create("no-app",{appName:t});return e}function Ir(t,e,n){let s=B2[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(c.join(" "));return}gi(new Qr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebase-heartbeat-database",K2=1,Qu="firebase-heartbeat-store";let Rp=null;function OS(){return Rp||(Rp=DS(G2,K2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function Y2(t){try{const n=(await OS()).transaction(Qu),s=await n.objectStore(Qu).get(MS(t));return await n.done,s}catch(e){if(e instanceof Zr)Wi.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}}async function HT(t,e){try{const s=(await OS()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,MS(t)),await s.done}catch(n){if(n instanceof Zr)Wi.warn(n.message);else{const s=zs.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(s.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1024,$2=30;class W2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>$2){const o=J2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=GT(),{heartbeatsToSend:n,unsentEntries:s}=X2(this._heartbeatsCache.heartbeats),o=mf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wi.warn(e),""}}}function GT(){return new Date().toISOString().substring(0,10)}function X2(t,e=Q2){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),KT(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),KT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return HT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function KT(t){return mf(JSON.stringify({version:2,heartbeats:t})).length}function J2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){gi(new Qr("platform-logger",e=>new f2(e),"PRIVATE")),gi(new Qr("heartbeat",e=>new W2(e),"PRIVATE")),Ir(Jp,FT,t),Ir(Jp,FT,"esm2020"),Ir("fire-js","")}eO("");var tO="firebase",nO="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(tO,nO,"app");const xS="@firebase/installations",Ug="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=1e4,LS=`w:${Ug}`,VS="FIS_v2",rO="https://firebaseinstallations.googleapis.com/v1",iO=3600*1e3,sO="installations",aO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ya=new eo(sO,aO,oO);function kS(t){return t instanceof Zr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US({projectId:t}){return`${rO}/projects/${t}/installations`}function jS(t){return{token:t.token,requestStatus:2,expiresIn:uO(t.expiresIn),creationTime:Date.now()}}async function zS(t,e){const s=(await e.json()).error;return Ya.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function BS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lO(t,{refreshToken:e}){const n=BS(t);return n.append("Authorization",cO(e)),n}async function FS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function uO(t){return Number(t.replace("s","000"))}function cO(t){return`${VS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=US(t),o=BS(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:VS,appId:t.appId,sdkVersion:LS},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await FS(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:jS(g.authToken)}}else throw await zS("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^[cdef][\w-]{21}$/,ng="";function mO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=pO(t);return dO.test(n)?n:ng}catch{return ng}}function pO(t){return fO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=new Map;function GS(t,e){const n=Yf(t);KS(n,e),gO(n,e)}function KS(t,e){const n=HS.get(t);if(n)for(const s of n)s(e)}function gO(t,e){const n=yO();n&&n.postMessage({key:t,fid:e}),_O()}let Fa=null;function yO(){return!Fa&&"BroadcastChannel"in self&&(Fa=new BroadcastChannel("[Firebase] FID Change"),Fa.onmessage=t=>{KS(t.data.key,t.data.fid)}),Fa}function _O(){HS.size===0&&Fa&&(Fa.close(),Fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="firebase-installations-database",EO=1,Qa="firebase-installations-store";let Cp=null;function jg(){return Cp||(Cp=DS(vO,EO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qa)}}})),Cp}async function gf(t,e){const n=Yf(t),o=(await jg()).transaction(Qa,"readwrite"),l=o.objectStore(Qa),c=await l.get(n);return await l.put(e,n),await o.done,(!c||c.fid!==e.fid)&&GS(t,e.fid),e}async function YS(t){const e=Yf(t),s=(await jg()).transaction(Qa,"readwrite");await s.objectStore(Qa).delete(e),await s.done}async function Qf(t,e){const n=Yf(t),o=(await jg()).transaction(Qa,"readwrite"),l=o.objectStore(Qa),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await o.done,d&&(!c||c.fid!==d.fid)&&GS(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zg(t){let e;const n=await Qf(t.appConfig,s=>{const o=TO(s),l=wO(t,o);return e=l.registrationPromise,l.installationEntry});return n.fid===ng?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function TO(t){const e=t||{fid:mO(),registrationStatus:0};return QS(e)}function wO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ya.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=SO(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bO(t)}:{installationEntry:e}}async function SO(t,e){try{const n=await hO(t,e);return gf(t.appConfig,n)}catch(n){throw kS(n)&&n.customData.serverCode===409?await YS(t.appConfig):await gf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function bO(t){let e=await YT(t.appConfig);for(;e.registrationStatus===1;)await qS(100),e=await YT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await zg(t);return s||n}return e}function YT(t){return Qf(t,e=>{if(!e)throw Ya.create("installation-not-found");return QS(e)})}function QS(t){return AO(t)?{fid:t.fid,registrationStatus:0}:t}function AO(t){return t.registrationStatus===1&&t.registrationTime+PS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO({appConfig:t,heartbeatServiceProvider:e},n){const s=CO(t,n),o=lO(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:LS,appId:t.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await FS(()=>fetch(s,d));if(m.ok){const g=await m.json();return jS(g)}else throw await zS("Generate Auth Token",m)}function CO(t,{fid:e}){return`${US(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t,e=!1){let n;const s=await Qf(t.appConfig,l=>{if(!$S(l))throw Ya.create("not-registered");const c=l.authToken;if(!e&&NO(c))return l;if(c.requestStatus===1)return n=IO(t,e),l;{if(!navigator.onLine)throw Ya.create("app-offline");const d=MO(l);return n=DO(t,d),d}});return n?await n:s.authToken}async function IO(t,e){let n=await QT(t.appConfig);for(;n.authToken.requestStatus===1;)await qS(100),n=await QT(t.appConfig);const s=n.authToken;return s.requestStatus===0?Bg(t,e):s}function QT(t){return Qf(t,e=>{if(!$S(e))throw Ya.create("not-registered");const n=e.authToken;return xO(n)?{...e,authToken:{requestStatus:0}}:e})}async function DO(t,e){try{const n=await RO(t,e),s={...e,authToken:n};return await gf(t.appConfig,s),n}catch(n){if(kS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await YS(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await gf(t.appConfig,s)}throw n}}function $S(t){return t!==void 0&&t.registrationStatus===2}function NO(t){return t.requestStatus===2&&!OO(t)}function OO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+iO}function MO(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function xO(t){return t.requestStatus===1&&t.requestTime+PS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t){const e=t,{installationEntry:n,registrationPromise:s}=await zg(e);return s?s.catch(console.error):Bg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e=!1){const n=t;return await VO(n),(await Bg(n,e)).token}async function VO(t){const{registrationPromise:e}=await zg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){if(!t||!t.options)throw Ip("App Configuration");if(!t.name)throw Ip("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ip(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ip(t){return Ya.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="installations",UO="installations-internal",jO=t=>{const e=t.getProvider("app").getImmediate(),n=kO(e),s=to(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},zO=t=>{const e=t.getProvider("app").getImmediate(),n=to(e,WS).getImmediate();return{getId:()=>PO(n),getToken:o=>LO(n,o)}};function BO(){gi(new Qr(WS,jO,"PUBLIC")),gi(new Qr(UO,zO,"PRIVATE"))}BO();Ir(xS,Ug);Ir(xS,Ug,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="analytics",FO="firebase_id",qO="origin",HO=60*1e3,GO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Kf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cr=new eo("analytics","Analytics",KO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){if(!t.startsWith(Fg)){const e=cr.create("invalid-gtag-resource",{gtagURL:t});return Hn.warn(e.message),""}return t}function XS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function QO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function $O(t,e){const n=QO("firebase-js-sdk-policy",{createScriptURL:YO}),s=document.createElement("script"),o=`${Fg}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function WO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function XO(t,e,n,s,o,l){const c=s[o];try{if(c)await e[c];else{const m=(await XS(n)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){Hn.error(d)}t("config",o,l)}async function ZO(t,e,n,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await XS(n);for(const m of c){const g=d.find(w=>w.measurementId===m),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,o||{})}catch(l){Hn.error(l)}}function JO(t,e,n,s){async function o(l,...c){try{if(l==="event"){const[d,m]=c;await ZO(t,e,n,d,m)}else if(l==="config"){const[d,m]=c;await XO(t,e,n,s,d,m)}else if(l==="consent"){const[d,m]=c;t("consent",d,m)}else if(l==="get"){const[d,m,g]=c;t("get",d,m,g)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){Hn.error(d)}}return o}function eM(t,e,n,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=JO(l,t,e,n),{gtagCore:l,wrappedGtag:window[o]}}function tM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Fg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=30,rM=1e3;class iM{constructor(e={},n=rM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ZS=new iM;function sM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function aM(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:sM(n)},o=GO.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function oM(t,e=ZS,n){const{appId:s,apiKey:o,measurementId:l}=t.options;if(!s)throw cr.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw cr.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new cM;return setTimeout(async()=>{d.abort()},HO),JS({appId:s,apiKey:o,measurementId:l},c,d,e)}async function JS(t,{throttleEndTimeMillis:e,backoffCount:n},s,o=ZS){const{appId:l,measurementId:c}=t;try{await lM(s,e)}catch(d){if(c)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await aM(t);return o.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!uM(m)){if(o.deleteThrottleMetadata(l),c)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?UT(n,o.intervalMillis,nM):UT(n,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(l,_),Hn.debug(`Calling attemptFetch again in ${g} millis`),JS(t,_,s,o)}}function lM(t,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(l),s(cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function uM(t){if(!(t instanceof Zr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class cM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hM(t,e,n,s,o){if(o&&o.global){t("event",n,s);return}else{const l=await e,c={...s,send_to:l};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(){if(AS())try{await RS()}catch(t){return Hn.warn(cr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Hn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function dM(t,e,n,s,o,l,c){const d=oM(t);d.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Hn.error(T)),e.push(d);const m=fM().then(T=>{if(T)return s.getId()}),[g,_]=await Promise.all([d,m]);tM(l)||$O(l,g.measurementId),o("js",new Date);const w=c?.config??{};return w[qO]="firebase",w.update=!0,_!=null&&(w[FO]=_),o("config",g.measurementId,w),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.app=e}_delete(){return delete Vu[this.app.options.appId],Promise.resolve()}}let Vu={},$T=[];const WT={};let Dp="dataLayer",pM="gtag",XT,eb,ZT=!1;function gM(){const t=[];if(bS()&&t.push("This is a browser extension environment."),VN()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=cr.create("invalid-analytics-context",{errorInfo:e});Hn.warn(n.message)}}function yM(t,e,n){gM();const s=t.options.appId;if(!s)throw cr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cr.create("no-api-key");if(Vu[s]!=null)throw cr.create("already-exists",{id:s});if(!ZT){WO(Dp);const{wrappedGtag:l,gtagCore:c}=eM(Vu,$T,WT,Dp,pM);eb=l,XT=c,ZT=!0}return Vu[s]=dM(t,$T,WT,e,XT,Dp,n),new mM(t)}function _M(t=kg()){t=cn(t);const e=to(t,yf);return e.isInitialized()?e.getImmediate():vM(t)}function vM(t,e={}){const n=to(t,yf);if(n.isInitialized()){const o=n.getImmediate();if(Gs(e,n.getOptions()))return o;throw cr.create("already-initialized")}return n.initialize({options:e})}function EM(t,e,n,s){t=cn(t),hM(eb,Vu[t.app.options.appId],e,n,s).catch(o=>Hn.error(o))}const JT="@firebase/analytics",ew="0.10.18";function TM(){gi(new Qr(yf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return yM(s,o,n)},"PUBLIC")),gi(new Qr("analytics-internal",t,"PRIVATE")),Ir(JT,ew),Ir(JT,ew,"esm2020");function t(e){try{const n=e.getProvider(yf).getImmediate();return{logEvent:(s,o,l)=>EM(n,s,o,l)}}catch(n){throw cr.create("interop-component-reg-failed",{reason:n})}}}TM();var tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,tb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(L,V,z){for(var I=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)I[Ve-2]=arguments[Ve];return A.prototype[V].apply(L,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const L=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)L[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)L[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],V=N.g[2];let z=N.g[3],I;I=A+(z^R&(V^z))+L[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(V^A&(R^V))+L[1]+3905402710&4294967295,z=A+(I<<12&4294967295|I>>>20),I=V+(R^z&(A^R))+L[2]+606105819&4294967295,V=z+(I<<17&4294967295|I>>>15),I=R+(A^V&(z^A))+L[3]+3250441966&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(z^R&(V^z))+L[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(V^A&(R^V))+L[5]+1200080426&4294967295,z=A+(I<<12&4294967295|I>>>20),I=V+(R^z&(A^R))+L[6]+2821735955&4294967295,V=z+(I<<17&4294967295|I>>>15),I=R+(A^V&(z^A))+L[7]+4249261313&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(z^R&(V^z))+L[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(V^A&(R^V))+L[9]+2336552879&4294967295,z=A+(I<<12&4294967295|I>>>20),I=V+(R^z&(A^R))+L[10]+4294925233&4294967295,V=z+(I<<17&4294967295|I>>>15),I=R+(A^V&(z^A))+L[11]+2304563134&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(z^R&(V^z))+L[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(V^A&(R^V))+L[13]+4254626195&4294967295,z=A+(I<<12&4294967295|I>>>20),I=V+(R^z&(A^R))+L[14]+2792965006&4294967295,V=z+(I<<17&4294967295|I>>>15),I=R+(A^V&(z^A))+L[15]+1236535329&4294967295,R=V+(I<<22&4294967295|I>>>10),I=A+(V^z&(R^V))+L[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^V&(A^R))+L[6]+3225465664&4294967295,z=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(z^A))+L[11]+643717713&4294967295,V=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(V^z))+L[0]+3921069994&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^z&(R^V))+L[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^V&(A^R))+L[10]+38016083&4294967295,z=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(z^A))+L[15]+3634488961&4294967295,V=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(V^z))+L[4]+3889429448&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^z&(R^V))+L[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^V&(A^R))+L[14]+3275163606&4294967295,z=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(z^A))+L[3]+4107603335&4294967295,V=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(V^z))+L[8]+1163531501&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(V^z&(R^V))+L[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^V&(A^R))+L[2]+4243563512&4294967295,z=A+(I<<9&4294967295|I>>>23),I=V+(A^R&(z^A))+L[7]+1735328473&4294967295,V=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(V^z))+L[12]+2368359562&4294967295,R=V+(I<<20&4294967295|I>>>12),I=A+(R^V^z)+L[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^V)+L[8]+2272392833&4294967295,z=A+(I<<11&4294967295|I>>>21),I=V+(z^A^R)+L[11]+1839030562&4294967295,V=z+(I<<16&4294967295|I>>>16),I=R+(V^z^A)+L[14]+4259657740&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^z)+L[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^V)+L[4]+1272893353&4294967295,z=A+(I<<11&4294967295|I>>>21),I=V+(z^A^R)+L[7]+4139469664&4294967295,V=z+(I<<16&4294967295|I>>>16),I=R+(V^z^A)+L[10]+3200236656&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^z)+L[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^V)+L[0]+3936430074&4294967295,z=A+(I<<11&4294967295|I>>>21),I=V+(z^A^R)+L[3]+3572445317&4294967295,V=z+(I<<16&4294967295|I>>>16),I=R+(V^z^A)+L[6]+76029189&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(R^V^z)+L[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^V)+L[12]+3873151461&4294967295,z=A+(I<<11&4294967295|I>>>21),I=V+(z^A^R)+L[15]+530742520&4294967295,V=z+(I<<16&4294967295|I>>>16),I=R+(V^z^A)+L[2]+3299628645&4294967295,R=V+(I<<23&4294967295|I>>>9),I=A+(V^(R|~z))+L[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~V))+L[7]+1126891415&4294967295,z=A+(I<<10&4294967295|I>>>22),I=V+(A^(z|~R))+L[14]+2878612391&4294967295,V=z+(I<<15&4294967295|I>>>17),I=R+(z^(V|~A))+L[5]+4237533241&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~z))+L[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~V))+L[3]+2399980690&4294967295,z=A+(I<<10&4294967295|I>>>22),I=V+(A^(z|~R))+L[10]+4293915773&4294967295,V=z+(I<<15&4294967295|I>>>17),I=R+(z^(V|~A))+L[1]+2240044497&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~z))+L[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~V))+L[15]+4264355552&4294967295,z=A+(I<<10&4294967295|I>>>22),I=V+(A^(z|~R))+L[6]+2734768916&4294967295,V=z+(I<<15&4294967295|I>>>17),I=R+(z^(V|~A))+L[13]+1309151649&4294967295,R=V+(I<<21&4294967295|I>>>11),I=A+(V^(R|~z))+L[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~V))+L[11]+3174756917&4294967295,z=A+(I<<10&4294967295|I>>>22),I=V+(A^(z|~R))+L[2]+718787259&4294967295,V=z+(I<<15&4294967295|I>>>17),I=R+(z^(V|~A))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,L=this.C;let V=this.h,z=0;for(;z<A;){if(V==0)for(;z<=R;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(L[V++]=N.charCodeAt(z++),V==this.blockSize){o(this,L),V=0;break}}else for(;z<A;)if(L[V++]=N[z++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)N[A++]=this.g[R]>>>L&255;return N};function l(N,A){var R=d;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function c(N,A){this.h=A;const R=[];let L=!0;for(let V=N.length-1;V>=0;V--){const z=N[V]|0;L&&z==A||(R[V]=z,L=!1)}this.g=R}var d={};function m(N){return-128<=N&&N<128?l(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return U(g(-N));const A=[];let R=1;for(let L=0;N>=R;L++)A[L]=N/R|0,R*=4294967296;return new c(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return U(_(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let L=w;for(let z=0;z<N.length;z+=8){var V=Math.min(8,N.length-z);const I=parseInt(N.substring(z,z+V),A);V<8?(V=g(Math.pow(A,V)),L=L.j(V).add(g(I))):(L=L.j(R),L=L.add(g(I)))}return L}var w=m(0),T=m(1),D=m(16777216);t=c.prototype,t.m=function(){if(W(this))return-U(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);N+=(L>=0?L:4294967296+L)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(W(this))return"-"+U(this).toString(N);const A=g(Math.pow(N,6));var R=this;let L="";for(;;){const V=he(R,A).g;R=Y(R,V.j(A));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=V,j(R))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}t.l=function(N){return N=Y(this,N),W(N)?-1:j(N)?0:1};function U(N){const A=N.g.length,R=[];for(let L=0;L<A;L++)R[L]=~N.g[L];return new c(R,~N.h).add(T)}t.abs=function(){return W(this)?U(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let L=0;for(let V=0;V<=A;V++){let z=L+(this.i(V)&65535)+(N.i(V)&65535),I=(z>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);L=I>>>16,z&=65535,I&=65535,R[V]=I<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(N,A){return N.add(U(A))}t.j=function(N){if(j(this)||j(N))return w;if(W(this))return W(N)?U(this).j(U(N)):U(U(this).j(N));if(W(N))return U(this.j(U(N)));if(this.l(D)<0&&N.l(D)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<N.g.length;V++){const z=this.i(L)>>>16,I=this.i(L)&65535,Ve=N.i(V)>>>16,$e=N.i(V)&65535;R[2*L+2*V]+=I*$e,ue(R,2*L+2*V),R[2*L+2*V+1]+=z*$e,ue(R,2*L+2*V+1),R[2*L+2*V+1]+=I*Ve,ue(R,2*L+2*V+1),R[2*L+2*V+2]+=z*Ve,ue(R,2*L+2*V+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new c(R,0)};function ue(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ee(N,A){this.g=N,this.h=A}function he(N,A){if(j(A))throw Error("division by zero");if(j(N))return new ee(w,w);if(W(N))return A=he(U(N),A),new ee(U(A.g),U(A.h));if(W(A))return A=he(N,U(A)),new ee(U(A.g),A.h);if(N.g.length>30){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,L=A;L.l(N)<=0;)R=oe(R),L=oe(L);var V=P(R,1),z=P(L,1);for(L=P(L,2),R=P(R,2);!j(L);){var I=z.add(L);I.l(N)<=0&&(V=V.add(R),z=I),L=P(L,1),R=P(R,1)}return A=Y(N,V.j(A)),new ee(V,A)}for(V=w;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=g(R),I=z.j(A);W(I)||I.l(N)>0;)R-=L,z=g(R),I=z.j(A);j(z)&&(z=T),V=V.add(z),N=Y(N,I)}return new ee(V,N)}t.B=function(N){return he(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)&N.i(L);return new c(R,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)|N.i(L);return new c(R,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)^N.i(L);return new c(R,this.h^N.h)};function oe(N){const A=N.g.length+1,R=[];for(let L=0;L<A;L++)R[L]=N.i(L)<<1|N.i(L-1)>>>31;return new c(R,N.h)}function P(N,A){const R=A>>5;A%=32;const L=N.g.length-R,V=[];for(let z=0;z<L;z++)V[z]=A>0?N.i(z+R)>>>A|N.i(z+R+1)<<32-A:N.i(z+R);return new c(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,tb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Bs=c}).apply(typeof tw<"u"?tw:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nb,Ou,rb,Qh,rg,ib,sb,ab;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var G=h[b];if(!(G in v))break e;v=v[G]}h=h[h.length-1],b=v[h],y=y(b),y!=b&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=m,g.apply(null,arguments)}function _(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function w(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(b,G,J){for(var me=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)me[Be-2]=arguments[Be];return y.prototype[G].apply(b,me)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=h[b];return v}return[]}function j(h,y){for(let b=1;b<arguments.length;b++){const G=arguments[b];var v=typeof G;if(v=v!="object"?v:G?Array.isArray(G)?"array":v:"null",v=="array"||v=="object"&&typeof G.length=="number"){v=h.length||0;const J=G.length||0;h.length=v+J;for(let me=0;me<J;me++)h[v+me]=G[me]}else h.push(G)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,v){const b=ee.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new W(()=>new he,h=>h.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,P=!1,N=new ue,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(R)}};function R(){for(var h;h=Y();){try{h.h.call(h.g)}catch(v){U(v)}var y=ee;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}P=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h}();function I(h){return/^[\s\xa0]*$/.test(h)}function Ve(h,y){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}w(Ve,V),Ve.prototype.init=function(h,y){const v=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),Q=0;function fe(h,y,v,b,G){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=G,this.key=++Q,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,y,v){for(const b in h)y.call(v,h[b],b,h)}function x(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function ne(h){const y={};for(const v in h)y[v]=h[v];return y}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,y){let v,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(v in b)h[v]=b[v];for(let J=0;J<pe.length;J++)v=pe[J],Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,y,v,b,G){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const me=De(h,y,b,G);return me>-1?(y=h[me],v||(y.fa=!1)):(y=new fe(y,this.src,J,!!b,G),y.fa=v,h.push(y)),y};function He(h,y){const v=y.type;if(v in h.g){var b=h.g[v],G=Array.prototype.indexOf.call(b,y,void 0),J;(J=G>=0)&&Array.prototype.splice.call(b,G,1),J&&(ge(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function De(h,y,v,b){for(let G=0;G<h.length;++G){const J=h[G];if(!J.da&&J.listener==y&&J.capture==!!v&&J.ha==b)return G}return-1}var Qt="closure_lm_"+(Math.random()*1e6|0),ot={};function Gn(h,y,v,b,G){if(Array.isArray(y)){for(let J=0;J<y.length;J++)Gn(h,y[J],v,b,G);return null}return v=so(v),h&&h[$e]?h.J(y,v,d(b)?!!b.capture:!1,G):xt(h,y,v,!1,b,G)}function xt(h,y,v,b,G,J){if(!y)throw Error("Invalid event type");const me=d(G)?!!G.capture:!!G;let Be=ia(h);if(Be||(h[Qt]=Be=new Ee(h)),v=Be.add(y,v,b,me,J),v.proxy)return v;if(b=Kn(),v.proxy=b,b.src=h,b.listener=v,h.addEventListener)z||(G=me),G===void 0&&(G=!1),h.addEventListener(y.toString(),b,G);else if(h.attachEvent)h.attachEvent(Vn(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kn(){function h(v){return y.call(h.src,h.listener,v)}const y=vl;return h}function vi(h,y,v,b,G){if(Array.isArray(y))for(var J=0;J<y.length;J++)vi(h,y[J],v,b,G);else b=d(b)?!!b.capture:!!b,v=so(v),h&&h[$e]?(h=h.i,J=String(y).toString(),J in h.g&&(y=h.g[J],v=De(y,v,b,G),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[J],h.h--)))):h&&(h=ia(h))&&(y=h.g[y.toString()],h=-1,y&&(h=De(y,v,b,G)),(v=h>-1?y[h]:null)&&Ei(v))}function Ei(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[$e])He(y.i,h);else{var v=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(v,b,h.capture):y.detachEvent?y.detachEvent(Vn(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ia(y))?(He(v,h),v.h==0&&(v.src=null,y[Qt]=null)):ge(h)}}}function Vn(h){return h in ot?ot[h]:ot[h]="on"+h}function vl(h,y){if(h.da)h=!0;else{y=new Ve(y,this);const v=h.listener,b=h.ha||h.src;h.fa&&Ei(h),h=v.call(b,y)}return h}function ia(h){return h=h[Qt],h instanceof Ee?h:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function so(h){return typeof h=="function"?h:(h[hn]||(h[hn]=function(y){return h.handleEvent(y)}),h[hn])}function kt(){L.call(this),this.i=new Ee(this),this.M=this,this.G=null}w(kt,L),kt.prototype[$e]=!0,kt.prototype.removeEventListener=function(h,y,v,b){vi(this,h,y,v,b)};function Ft(h,y){var v,b=h.G;if(b)for(v=[];b;b=b.G)v.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new V(y,h);else if(y instanceof V)y.target=y.target||h;else{var G=y;y=new V(b,h),de(y,G)}G=!0;let J,me;if(v)for(me=v.length-1;me>=0;me--)J=y.g=v[me],G=Or(J,b,!0,y)&&G;if(J=y.g=h,G=Or(J,b,!0,y)&&G,G=Or(J,b,!1,y)&&G,v)for(me=0;me<v.length;me++)J=y.g=v[me],G=Or(J,b,!1,y)&&G}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let b=0;b<v.length;b++)ge(v[b]);delete h.g[y],h.h--}}this.G=null},kt.prototype.J=function(h,y,v,b){return this.i.add(String(h),y,!1,v,b)},kt.prototype.K=function(h,y,v,b){return this.i.add(String(h),y,!0,v,b)};function Or(h,y,v,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let J=0;J<y.length;++J){const me=y[J];if(me&&!me.da&&me.capture==v){const Be=me.listener,St=me.ha||me.src;me.fa&&He(h.i,me),G=Be.call(St,b)!==!1&&G}}return G&&!b.defaultPrevented}function Mr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function xr(h){h.g=Mr(()=>{h.g=null,h.i&&(h.i=!1,xr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ao extends L{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(h){L.call(this),this.h=h,this.g={}}w(Pr,L);var fn=[];function _t(h){je(h.g,function(y,v){this.g.hasOwnProperty(v)&&Ei(y)},h),h.g={}}Pr.prototype.N=function(){Pr.Z.N.call(this),_t(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=c.JSON.stringify,$t=c.JSON.parse,El=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Yn(){}function sa(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Lr(){V.call(this,"d")}w(Lr,V);function $n(){V.call(this,"c")}w($n,V);var Dn={},Wn=null;function Ti(){return Wn=Wn||new kt}Dn.Ia="serverreachability";function wi(h){V.call(this,Dn.Ia,h)}w(wi,V);function Jr(h){const y=Ti();Ft(y,new wi(y))}Dn.STAT_EVENT="statevent";function Si(h,y){V.call(this,Dn.STAT_EVENT,h),this.stat=y}w(Si,V);function Dt(h){const y=Ti();Ft(y,new Si(y,h))}Dn.Ja="timingevent";function aa(h,y){V.call(this,Dn.Ja,h),this.size=y}w(aa,V);function Xn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function oa(h,y,v,b,G,J){h.info(function(){if(h.g)if(J){var me="",Be=J.split("&");for(let ct=0;ct<Be.length;ct++){var St=Be[ct].split("=");if(St.length>1){const Ut=St[0];St=St[1];const er=Ut.split("_");me=er.length>=2&&er[1]=="type"?me+(Ut+"="+St+"&"):me+(Ut+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+y+`
`+v+`
`+me})}function la(h,y,v,b,G,J,me){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+y+`
`+v+`
`+J+" "+me})}function M(h,y,v,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Z(h,v)+(b?" "+b:"")})}function q(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function Z(h,y){if(!h.g)return y;if(!y)return null;try{const J=JSON.parse(y);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var v=J[h];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var G=b[0];if(G!="noop"&&G!="stop"&&G!="close")for(let me=1;me<b.length;me++)b[me]=""}}}}return In(J)}catch{return y}}var ie={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ve;function Se(){}w(Se,Yn),Se.prototype.g=function(){return new XMLHttpRequest},ve=new Se;function _e(h){return encodeURIComponent(String(h))}function Ce(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Re(h,y,v,b){this.j=h,this.i=y,this.l=v,this.S=b||1,this.V=new Pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Ae={},ze={};function rt(h,y,v){h.M=1,h.A=bi(Nt(y)),h.u=v,h.R=!0,wt(h,null)}function wt(h,y){h.F=Date.now(),Nn(h),h.B=Nt(h.A);var v=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Ec(v.i,"t",b),h.C=0,v=h.j.L,h.h=new Te,h.g=mo(h.j,v?y:null,!h.u),h.P>0&&(h.O=new ao(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,b=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(fn[0]=G.toString()),G=fn);for(let J=0;J<G.length;J++){const me=Gn(v,G[J],b||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?ne(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Jr(),oa(h.i,h.v,h.B,h.l,h.S,h.u)}Re.prototype.ba=function(h){h=h.target;const y=this.O;y&&Tn(h)==3?y.j():this.Y(h)},Re.prototype.Y=function(h){try{if(h==this.g)e:{const Be=Tn(this.g),St=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||pa(this.g)))){this.K||Be!=4||St==7||(St==8||ct<=0?Jr(3):Jr(2)),Wt(this);var y=this.g.ca();this.X=y;var v=Rt(this);if(this.o=y==200,la(this.i,this.v,this.B,this.l,this.S,Be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,G=this.g;if((b=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var J=b;break t}}J=null}if(h=J)M(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dr(this,h);else{this.o=!1,this.m=3,Dt(12),kn(this),nn(this);break e}}if(this.R){h=!0;let Ut;for(;!this.K&&this.C<v.length;)if(Ut=lt(this,v),Ut==ze){Be==4&&(this.m=4,Dt(14),h=!1),M(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Ae){this.m=4,Dt(15),M(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else M(this.i,this.l,Ut,null),dr(this,Ut);if(ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||v.length!=0||this.h.h||(this.m=1,Dt(16),h=!1),this.o=this.o&&h,!h)M(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),nn(this);else if(v.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Nl(me),me.P=!0,Dt(11))}}else M(this.i,this.l,v,null),dr(this,v);Be==4&&kn(this),this.o&&!this.K&&(Be==4?Ol(this.j,this):(this.o=!1,Nn(this)))}else ga(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),kn(this),nn(this)}}}catch{}finally{}};function Rt(h){if(!ke(h))return h.g.la();const y=pa(h.g);if(y==="")return"";let v="";const b=y.length,G=Tn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),nn(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<b;J++)h.h.h=!0,v+=h.h.i.decode(y[J],{stream:!(G&&J==b-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function ke(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function lt(h,y){var v=h.C,b=y.indexOf(`
`,v);return b==-1?ze:(v=Number(y.substring(v,b)),isNaN(v)?Ae:(b+=1,b+v>y.length?ze:(y=y.slice(b,b+v),h.C=b+v,y)))}Re.prototype.cancel=function(){this.K=!0,kn(this)};function Nn(h){h.T=Date.now()+h.H,En(h,h.H)}function En(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Xn(g(h.aa,h),y)}function Wt(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Re.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(q(this.i,this.B),this.M!=2&&(Jr(),Dt(17)),kn(this),this.m=2,nn(this)):En(this,this.T-h)};function nn(h){h.j.I==0||h.K||Ol(h.j,h)}function kn(h){Wt(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,_t(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function dr(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Ct(v.h,h))){if(!h.L&&Ct(v.h,h)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)fo(v),ei(v);else break e;Dl(v),Dt(18)}}else v.xa=G[1],0<v.xa-v.K&&G[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xn(g(v.Va,v),6e3));qe(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((h.L||v.g==h)&&fo(v),!I(y))for(G=v.Ba.g.parse(y),y=0;y<G.length;y++){let ct=G[y];const Ut=ct[0];if(!(Ut<=v.K))if(v.K=Ut,ct=ct[1],v.I==2)if(ct[0]=="c"){v.M=ct[1],v.ba=ct[2];const er=ct[3];er!=null&&(v.ka=er,v.j.info("VER="+v.ka));const ti=ct[4];ti!=null&&(v.za=ti,v.j.info("SVER="+v.za));const zr=ct[5];zr!=null&&typeof zr=="number"&&zr>0&&(b=1.5*zr,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Br=h.g;if(Br){const Fr=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var J=b.h;J.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(kr(J,J.h),J.h=null))}if(b.G){const xl=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(b.wa=xl,dt(b.J,b.G,xl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var me=h;if(b.na=Dc(b,b.L?b.ba:null,b.W),me.L){On(b.h,me);var Be=me,St=b.O;St&&(Be.H=St),Be.D&&(Wt(Be),Nn(Be)),b.g=me}else Ac(b);v.i.length>0&&Ea(v)}else ct[0]!="stop"&&ct[0]!="close"||Ci(v,7);else v.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ci(v,7):_a(v):ct[0]!="noop"&&v.l&&v.l.qa(ct),v.A=0)}}Jr(4)}catch{}}var Vr=class{constructor(h,y){this.g=h,this.map=y}};function mr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qe(h){return h.h?1:h.g?h.g.size:0}function Ct(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function kr(h,y){h.g?h.g.add(y):h.h=y}function On(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}mr.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vt(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return D(h.i)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const b=h[v].indexOf("=");let G,J=null;b>=0?(G=h[v].substring(0,b),J=h[v].substring(b+1)):G=h[v],y(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Jn?(this.l=h.l,ns(this,h.j),this.o=h.o,this.g=h.g,ua(this,h.u),this.h=h.h,rs(this,Tc(h.i)),this.m=h.m):h&&(y=String(h).match(Ur))?(this.l=!1,ns(this,y[1]||"",!0),this.o=ca(y[2]||""),this.g=ca(y[3]||"",!0),ua(this,y[4]),this.h=ca(y[5]||"",!0),rs(this,y[6]||"",!0),this.m=ca(y[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}Jn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(rn(y,wl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(rn(y,wl,!0),"@"),h.push(_e(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(rn(v,v.charAt(0)=="/"?is:Sl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",rn(v,vc)),h.join("")},Jn.prototype.resolve=function(h){const y=Nt(this);let v=!!h.j;v?ns(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var b=h.h;if(v)ua(y,h.u);else if(v=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var G=y.h.lastIndexOf("/");G!=-1&&(b=y.h.slice(0,G+1)+b)}if(G=b,G==".."||G==".")b="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){b=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let me=0;me<G.length;){const Be=G[me++];Be=="."?b&&me==G.length&&J.push(""):Be==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),b&&me==G.length&&J.push("")):(J.push(Be),b=!0)}b=J.join("/")}else b=G}return v?y.h=b:v=h.i.toString()!=="",v?rs(y,Tc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Nt(h){return new Jn(h)}function ns(h,y,v){h.j=v?ca(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ua(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function rs(h,y,v){y instanceof gr?(h.i=y,Rl(h.i,h.l)):(v||(y=rn(y,_c)),h.i=new gr(y,h.l))}function dt(h,y,v){h.i.set(y,v)}function bi(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ca(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rn(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Tl),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wl=/[#\/\?@]/g,Sl=/[#\?:]/g,is=/[#\?]/g,_c=/[#\?@]/g,vc=/#/g;function gr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ai(h){h.g||(h.g=new Map,h.h=0,h.i&&oo(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}t=gr.prototype,t.add=function(h,y){Ai(this),this.i=null,h=jr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function bl(h,y){Ai(h),y=jr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Al(h,y){return Ai(h),y=jr(h,y),h.g.has(y)}t.forEach=function(h,y){Ai(this),this.g.forEach(function(v,b){v.forEach(function(G){h.call(y,G,b,this)},this)},this)};function lo(h,y){Ai(h);let v=[];if(typeof y=="string")Al(h,y)&&(v=v.concat(h.g.get(jr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}t.set=function(h,y){return Ai(this),this.i=null,h=jr(this,h),Al(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=lo(this,h),h.length>0?String(h[0]):y):y};function Ec(h,y,v){bl(h,y),v.length>0&&(h.i=null,h.g.set(jr(h,y),D(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const G=_e(v);v=lo(this,v);for(let J=0;J<v.length;J++){let me=G;v[J]!==""&&(me+="="+_e(v[J])),h.push(me)}}return this.i=h.join("&")};function Tc(h){const y=new gr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function jr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Rl(h,y){y&&!h.j&&(Ai(h),h.i=null,h.g.forEach(function(v,b){const G=b.toLowerCase();b!=G&&(bl(this,b),Ec(this,G,v))},h)),h.j=y}function Cl(h,y){const v=new Zn;if(c.Image){const b=new Image;b.onload=_(Mn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Mn,v,"TestLoadImage: error",!1,y,b),b.onabort=_(Mn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Mn,v,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function ss(h,y){const v=new Zn,b=new AbortController,G=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(J=>{clearTimeout(G),J.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Mn(v,"TestPingServer: error",!1,y)})}function Mn(h,y,v,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(v)}catch{}}function wc(){this.g=new El}function ha(h){this.i=h.Sb||null,this.h=h.ab||!1}w(ha,Yn),ha.prototype.g=function(){return new fa(this.i,this.h)};function fa(h,y){kt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(fa,kt),t=fa.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ri(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;as(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function as(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xn(this):Ri(this),this.readyState==3&&as(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,xn(this))},t.Na=function(h){this.g&&(this.response=h,xn(this))},t.ga=function(){this.g&&xn(this)};function xn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ri(h)}t.setRequestHeader=function(h,y){this.A.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function Ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function os(h){let y="";return je(h,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function yr(h,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=os(v),typeof h=="string"?v!=null&&_e(v):dt(h,y,v))}function Et(h){kt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Et,kt);var uo=/^https?$/i,Sc=["POST","PUT"];t=Et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ve.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(J){da(this,J);return}if(h=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)v.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const J of b.keys())v.set(J,b.get(J));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Sc,y,void 0)>=0)||b||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of v)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){da(this,J)}};function da(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ma(h),Xt(h)}function ma(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),Xt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),Et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Il(this):this.Xa())},t.Xa=function(){Il(this)};function Il(h){if(h.h&&typeof l<"u"){if(h.v&&Tn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),Tn(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=J===0){let me=String(h.D).match(Ur)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),b=!uo.test(me?me.toLowerCase():"")}v=b}if(v)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var G=Tn(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",ma(h)}}finally{Xt(h)}}}}function Xt(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Ft(h,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Tn(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Tn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),$t(y)}};function pa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ga(h){const y={};h=(h.g&&Tn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(I(h[b]))continue;var v=Ce(h[b]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=y[G]||[];y[G]=J,J.push(v)}x(y,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function co(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ya("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ya("baseRetryDelayMs",5e3,h),this.Za=ya("retryDelaySeedMs",1e4,h),this.Ta=ya("forwardChannelMaxRetries",2,h),this.va=ya("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new mr(h&&h.concurrentRequestLimit),this.Ba=new wc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=co.prototype,t.ka=8,t.I=1,t.connect=function(h,y,v,b){Dt(0),this.W=h,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Dc(this,null,this.W),Ea(this)};function _a(h){if(va(h),h.I==3){var y=h.V++,v=Nt(h.J);if(dt(v,"SID",h.M),dt(v,"RID",y),dt(v,"TYPE","terminate"),Ta(h,v),y=new Re(h,h.j,y),y.M=2,y.A=bi(Nt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=mo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Nn(y)}Ic(h)}function ei(h){h.g&&(Nl(h),h.g.cancel(),h.g=null)}function va(h){ei(h),h.v&&(c.clearTimeout(h.v),h.v=null),fo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ea(h){if(!pr(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||A(),P||(oe(),P=!0),N.add(y,h),h.D=0}}function pd(h,y){return qe(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Xn(g(h.Ea,h,y),Cc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Re(this,this.j,h);let J=this.o;if(this.U&&(J?(J=ne(J),de(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ho(this,G,y),v=Nt(this.J),dt(v,"RID",h),dt(v,"CVER",22),this.G&&dt(v,"X-HTTP-Session-Id",this.G),Ta(this,v),J&&(this.R?y="headers="+_e(os(J))+"&"+y:this.u&&yr(v,this.u,J)),kr(this.h,G),this.Ra&&dt(v,"TYPE","init"),this.S?(dt(v,"$req",y),dt(v,"SID","null"),G.U=!0,rt(G,v,null)):rt(G,v,y),this.I=2}}else this.I==3&&(h?bc(this,h):this.i.length==0||pr(this.h)||bc(this))};function bc(h,y){var v;y?v=y.l:v=h.V++;const b=Nt(h.J);dt(b,"SID",h.M),dt(b,"RID",v),dt(b,"AID",h.K),Ta(h,b),h.u&&h.o&&yr(b,h.u,h.o),v=new Re(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ho(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),kr(h.h,v),rt(v,b,y)}function Ta(h,y){h.H&&je(h.H,function(v,b){dt(y,b,v)}),h.l&&je({},function(v,b){dt(y,b,v)})}function ho(h,y,v){v=Math.min(h.i.length,v);const b=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let Be=-1;for(;;){const St=["count="+v];Be==-1?v>0?(Be=G[0].g,St.push("ofs="+Be)):Be=0:St.push("ofs="+Be);let ct=!0;for(let Ut=0;Ut<v;Ut++){var J=G[Ut].g;const er=G[Ut].map;if(J-=Be,J<0)Be=Math.max(0,G[Ut].g-100),ct=!1;else try{J="req"+J+"_"||"";try{var me=er instanceof Map?er:Object.entries(er);for(const[ti,zr]of me){let Br=zr;d(zr)&&(Br=In(zr)),St.push(J+ti+"="+encodeURIComponent(Br))}}catch(ti){throw St.push(J+"type="+encodeURIComponent("_badmap")),ti}}catch{b&&b(er)}}if(ct){me=St.join("&");break e}}me=void 0}return h=h.i.splice(0,v),y.G=h,me}function Ac(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||A(),P||(oe(),P=!0),N.add(y,h),h.A=0}}function Dl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Xn(g(h.Da,h),Cc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Rc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Xn(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),ei(this),Rc(this))};function Nl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Rc(h){h.g=new Re(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Nt(h.na);dt(y,"RID","rpc"),dt(y,"SID",h.M),dt(y,"AID",h.K),dt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(y,"TO",h.ia),dt(y,"TYPE","xmlhttp"),Ta(h,y),h.u&&h.o&&yr(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=bi(Nt(y)),v.u=null,v.R=!0,wt(v,h)}t.Va=function(){this.C!=null&&(this.C=null,ei(this),Dl(this),Dt(19))};function fo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ol(h,y){var v=null;if(h.g==y){fo(h),Nl(h),h.g=null;var b=2}else if(Ct(h.h,y))v=y.G,On(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var G=h.D;b=Ti(),Ft(b,new aa(b,v)),Ea(h)}else Ac(h);else if(G=y.m,G==3||G==0&&y.X>0||!(b==1&&pd(h,y)||b==2&&Dl(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),G){case 1:Ci(h,5);break;case 4:Ci(h,10);break;case 3:Ci(h,6);break;default:Ci(h,2)}}}function Cc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ci(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),b=h.Ua;const G=!b;b=new Jn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ns(b,"https"),bi(b),G?Cl(b.toString(),v):ss(b.toString(),v)}else Dt(2);h.I=0,h.l&&h.l.pa(y),Ic(h),va(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ic(h){if(h.I=0,h.ja=[],h.l){const y=vt(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function Dc(h,y,v){var b=v instanceof Jn?Nt(v):new Jn(v);if(b.g!="")y&&(b.g=y+"."+b.g),ua(b,b.u);else{var G=c.location;b=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const J=new Jn(null);b&&ns(J,b),y&&(J.g=y),G&&ua(J,G),v&&(J.h=v),b=J}return v=h.G,y=h.wa,v&&y&&dt(b,v,y),dt(b,"VER",h.ka),Ta(h,b),b}function mo(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Et(new ha({ab:v})):new Et(h.ma),y.Fa(h.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nc(){}t=Nc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function po(){}po.prototype.g=function(h,y){return new Pn(h,y)};function Pn(h,y){kt.call(this),this.g=new co(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ls(this)}w(Pn,kt),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){_a(this.g)},Pn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=In(h),h=v);y.i.push(new Vr(y.Ya++,h)),y.I==3&&Ea(y)},Pn.prototype.N=function(){this.g.l=null,delete this.j,_a(this.g),delete this.g,Pn.Z.N.call(this)};function Ml(h){Lr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}w(Ml,Lr);function Oc(){$n.call(this),this.status=1}w(Oc,$n);function ls(h){this.g=h}w(ls,Nc),ls.prototype.ra=function(){Ft(this.g,"a")},ls.prototype.qa=function(h){Ft(this.g,new Ml(h))},ls.prototype.pa=function(h){Ft(this.g,new Oc)},ls.prototype.oa=function(){Ft(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,ab=function(){return new po},sb=function(){return Ti()},ib=Dn,rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,Qh=ie,ce.COMPLETE="complete",rb=ce,sa.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",kt.prototype.listen=kt.prototype.J,Ou=sa,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,nb=Et}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const nw="@firebase/firestore",rw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Kf("@firebase/firestore");function Go(){return $a.logLevel}function ye(t,...e){if($a.logLevel<=Ze.DEBUG){const n=e.map(qg);$a.debug(`Firestore (${ml}): ${t}`,...n)}}function Xi(t,...e){if($a.logLevel<=Ze.ERROR){const n=e.map(qg);$a.error(`Firestore (${ml}): ${t}`,...n)}}function il(t,...e){if($a.logLevel<=Ze.WARN){const n=e.map(qg);$a.warn(`Firestore (${ml}): ${t}`,...n)}}function qg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ob(t,s,n)}function ob(t,e,n){let s=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Xi(s),new Error(s)}function ut(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||ob(e,o,s)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class SM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bM{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yi,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new lb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class AM{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RM{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new AM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=IM(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%62))}return s}}function Je(t,e){return t<e?-1:t>e?1:0}function ig(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),l=e.charAt(s);if(o!==l)return Np(o)===Np(l)?Je(o,l):Np(o)?1:-1}return Je(t.length,e.length)}const DM=55296,NM=57343;function Np(t){const e=t.charCodeAt(0);return e>=DM&&e<=NM}function sl(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__name__";class oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Pe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=oi.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Je(e.length,n.length)}static compareSegments(e,n){const s=oi.isNumericId(e),o=oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(e).compare(oi.extractNumericId(n)):ig(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class bt extends oi{construct(e,n,s){return new bt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new be(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const OM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends oi{construct(e,n,s){return new _n(e,n,s)}static isValidIdentifier(e){return OM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sw}static keyField(){return new _n([sw])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new be(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new be(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new be(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(bt.fromString(e))}static fromName(e){return new Ne(bt.fromString(e).popFirst(5))}static empty(){return new Ne(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t,e,n){if(!n)throw new be(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MM(t,e,n,s){if(e===!0&&s===!0)throw new be(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aw(t){if(!Ne.isDocumentKey(t))throw new be(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ow(t){if(Ne.isDocumentKey(t))throw new be(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Zi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(t);throw new be(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function lc(t,e){if(!cb(t))throw new be(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new be(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=-62135596800,uw=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uw);return new At(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lw)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uw}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Kt("string",At._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new At(0,0))}static max(){return new Ue(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=-1;function xM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(s===1e9?new At(n+1,0):new At(n,s));return new Ks(o,Ne.empty(),e)}function PM(t){return new Ks(t.readTime,t.key,$u)}class Ks{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ks(Ue.min(),Ne.empty(),$u)}static max(){return new Ks(Ue.max(),Ne.empty(),$u)}}function LM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==VM)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&n()},m=>s(m))}),c=!0,l===o&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(o=>o?ae.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,l)=>{s.push(n.call(this,o,l))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,o)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(_=>{c[g]=_,++d,d===l&&s(c)},_=>o(_))}})}static doWhile(e,n){return new ae((s,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):s()};l()})}}function UM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$f.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=-1;function Wf(t){return t==null}function _f(t){return t===0&&1/t==-1/0}function jM(t){return typeof t=="number"&&Number.isInteger(t)&&!_f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="";function zM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cw(e)),e=BM(t.get(n),e);return cw(e)}function BM(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case hb:n+="";break;default:n+=l}}return n}function cw(t){return t+hb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??yn.RED,this.left=o??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new yn(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return yn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,s,o,l){return this}insert(e,n,s){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new ur([])}unionWith(e){let n=new tn(_n.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new db("Invalid base64 string: "+l):l}}(e);return new vn(n)}static fromUint8Array(e){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const FM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=FM.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="server_timestamp",pb="__type__",gb="__previous_value__",yb="__local_write_time__";function Yg(t){return(t?.mapValue?.fields||{})[pb]?.stringValue===mb}function Xf(t){const e=t.mapValue.fields[gb];return Yg(e)?Xf(e):e}function Wu(t){const e=Ys(t.mapValue.fields[yb].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n,s,o,l,c,d,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const vf="(default)";class Xu{constructor(e,n){this.projectId=e,this.database=n||vf}static empty(){return new Xu("","")}get isDefaultDatabase(){return this.database===vf}isEqual(e){return e instanceof Xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="__type__",HM="__max__",jh={mapValue:{}},vb="__vector__",Ef="value";function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yg(t)?4:KM(t)?9007199254740991:GM(t)?10:11:Pe(28295,{value:t})}function yi(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ys(o.timestampValue),d=Ys(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Qs(o.bytesValue).isEqual(Qs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return Bt(o.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(o.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Bt(o.integerValue)===Bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Bt(o.doubleValue),d=Bt(l.doubleValue);return c===d?_f(c)===_f(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return sl(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(hw(c)!==hw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!yi(c[m],d[m])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function Zu(t,e){return(t.values||[]).find(n=>yi(n,e))!==void 0}function al(t,e){if(t===e)return 0;const n=$s(t),s=$s(e);if(n!==s)return Je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Bt(l.integerValue||l.doubleValue),m=Bt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return dw(t.timestampValue,e.timestampValue);case 4:return dw(Wu(t),Wu(e));case 5:return ig(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Qs(l),m=Qs(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Je(d[g],m[g]);if(_!==0)return _}return Je(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Je(Bt(l.latitude),Bt(c.latitude));return d!==0?d:Je(Bt(l.longitude),Bt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return mw(t.arrayValue,e.arrayValue);case 10:return function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Ef]?.arrayValue,_=m[Ef]?.arrayValue,w=Je(g?.values?.length||0,_?.values?.length||0);return w!==0?w:mw(g,_)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===jh.mapValue&&c===jh.mapValue)return 0;if(l===jh.mapValue)return 1;if(c===jh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let w=0;w<m.length&&w<_.length;++w){const T=ig(m[w],_[w]);if(T!==0)return T;const D=al(d[m[w]],g[_[w]]);if(D!==0)return D}return Je(m.length,_.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Ys(t),s=Ys(e),o=Je(n.seconds,s.seconds);return o!==0?o:Je(n.nanos,s.nanos)}function mw(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=al(n[o],s[o]);if(l)return l}return Je(n.length,s.length)}function ol(t){return sg(t)}function sg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ys(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=sg(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${sg(n.fields[c])}`;return o+"}"}(t.mapValue):Pe(61005,{value:t})}function $h(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xf(t);return e?16+$h(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+$h(l),0)}(t.arrayValue);case 10:case 11:return function(s){let o=0;return ea(s.fields,(l,c)=>{o+=l.length+$h(c)}),o}(t.mapValue);default:throw Pe(13486,{value:t})}}function ag(t){return!!t&&"integerValue"in t}function Qg(t){return!!t&&"arrayValue"in t}function pw(t){return!!t&&"nullValue"in t}function gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wh(t){return!!t&&"mapValue"in t}function GM(t){return(t?.mapValue?.fields||{})[_b]?.stringValue===vb}function ku(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ku(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ku(t.arrayValue.values[n]);return e}return{...t}}function KM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(n)}setAll(e){let n=_n.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=ku(c):o.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ea(n,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new qn(ku(this.value))}}function Eb(t){const e=[];return ea(t.fields,(n,s)=>{const o=new _n([n]);if(Wh(s)){const l=Eb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,s,o,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,Ue.min(),Ue.min(),Ue.min(),qn.empty(),0)}static newFoundDocument(e,n,s,o){return new Rn(e,1,n,Ue.min(),s,o,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ue.min(),Ue.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ue.min(),Ue.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.position=e,this.inclusive=n}}function yw(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(c.referenceValue),n.key):s=al(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _w(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function YM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{}class en extends Tb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $M(e,n,s):n==="array-contains"?new ZM(e,s):n==="in"?new JM(e,s):n==="not-in"?new ex(e,s):n==="array-contains-any"?new tx(e,s):new en(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WM(e,s):new XM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(al(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends Tb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _i(e,n)}matches(e){return wb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wb(t){return t.op==="and"}function Sb(t){return QM(t)&&wb(t)}function QM(t){for(const e of t.filters)if(e instanceof _i)return!1;return!0}function og(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(Sb(t))return t.filters.map(e=>og(e)).join(",");{const e=t.filters.map(n=>og(n)).join(",");return`${t.op}(${e})`}}function bb(t,e){return t instanceof en?function(s,o){return o instanceof en&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(t,e):t instanceof _i?function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,d)=>l&&bb(c,o.filters[d]),!0):!1}(t,e):void Pe(19439)}function Ab(t){return t instanceof en?function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`}(t):t instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(Ab).join(" ,")+"}"}(t):"Filter"}class $M extends en{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class WM extends en{constructor(e,n){super(e,"in",n),this.keys=Rb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XM extends en{constructor(e,n){super(e,"not-in",n),this.keys=Rb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rb(t,e){return(e.arrayValue?.values||[]).map(n=>Ne.fromName(n.referenceValue))}class ZM extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qg(n)&&Zu(n.arrayValue,this.value)}}class JM extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class ex extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class tx extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n=null,s=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function vw(t,e=null,n=[],s=[],o=null,l=null,c=null){return new nx(t,e,n,s,o,l,c)}function $g(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>og(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Wf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ol(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ol(s)).join(",")),e.Te=n}return e.Te}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_w(t.startAt,e.startAt)&&_w(t.endAt,e.endAt)}function lg(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n=null,s=[],o=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rx(t,e,n,s,o,l,c,d){return new Zf(t,e,n,s,o,l,c,d)}function Xg(t){return new Zf(t)}function Ew(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ix(t){return t.collectionGroup!==null}function Uu(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(_n.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new wf(l,s))}),n.has(_n.keyField().canonicalString())||e.Ie.push(new wf(_n.keyField(),s))}return e.Ie}function ui(t){const e=Fe(t);return e.Ee||(e.Ee=sx(e,Uu(t))),e.Ee}function sx(t,e){if(t.limitType==="F")return vw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new wf(o.field,l)});const n=t.endAt?new Tf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Tf(t.startAt.position,t.startAt.inclusive):null;return vw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function ug(t,e,n){return new Zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return Wg(ui(t),ui(e))&&t.limitType===e.limitType}function Cb(t){return`${$g(ui(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Ab(o)).join(", ")}]`),Wf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ol(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ol(o)).join(",")),`Target(${s})`}(ui(t))}; limitType=${t.limitType})`}function ed(t,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,o){for(const l of Uu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(c,d,m){const g=yw(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Uu(s),o)||s.endAt&&!function(c,d,m){const g=yw(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Uu(s),o))}(t,e)}function ax(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ib(t){return(e,n)=>{let s=!1;for(const o of Uu(t)){const l=ox(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function ox(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?al(m,g):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return fb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new Mt(Ne.comparator);function Ji(){return lx}const Db=new Mt(Ne.comparator);function Mu(...t){let e=Db;for(const n of t)e=e.insert(n.key,n);return e}function Nb(t){let e=Db;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qa(){return ju()}function Ob(){return ju()}function ju(){return new no(t=>t.toString(),(t,e)=>t.isEqual(e))}const ux=new Mt(Ne.comparator),cx=new tn(Ne.comparator);function et(...t){let e=cx;for(const n of t)e=e.add(n);return e}const hx=new tn(Je);function fx(){return hx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function Mb(t){return{integerValue:""+t}}function dx(t,e){return jM(e)?Mb(e):Zg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this._=void 0}}function mx(t,e,n){return t instanceof Sf?function(o,l){const c={fields:{[pb]:{stringValue:mb},[yb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yg(l)&&(l=Xf(l)),l&&(c.fields[gb]=l),{mapValue:c}}(n,e):t instanceof Ju?Pb(t,e):t instanceof ec?Lb(t,e):function(o,l){const c=xb(o,l),d=Tw(c)+Tw(o.Ae);return ag(c)&&ag(o.Ae)?Mb(d):Zg(o.serializer,d)}(t,e)}function px(t,e,n){return t instanceof Ju?Pb(t,e):t instanceof ec?Lb(t,e):n}function xb(t,e){return t instanceof bf?function(s){return ag(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Sf extends td{}class Ju extends td{constructor(e){super(),this.elements=e}}function Pb(t,e){const n=Vb(e);for(const s of t.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class ec extends td{constructor(e){super(),this.elements=e}}function Lb(t,e){let n=Vb(e);for(const s of t.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class bf extends td{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Tw(t){return Bt(t.integerValue||t.doubleValue)}function Vb(t){return Qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gx(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof Ju&&o instanceof Ju||s instanceof ec&&o instanceof ec?sl(s.elements,o.elements,yi):s instanceof bf&&o instanceof bf?yi(s.Ae,o.Ae):s instanceof Sf&&o instanceof Sf}(t.transform,e.transform)}class yx{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nd{}function kb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jb(t.key,ci.none()):new uc(t.key,t.data,ci.none());{const n=t.data,s=qn.empty();let o=new tn(_n.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ta(t.key,s,new ur(o.toArray()),ci.none())}}function _x(t,e,n){t instanceof uc?function(o,l,c){const d=o.value.clone(),m=Sw(o.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof ta?function(o,l,c){if(!Xh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Sw(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Ub(o)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function zu(t,e,n,s){return t instanceof uc?function(l,c,d,m){if(!Xh(l.precondition,c))return d;const g=l.value.clone(),_=bw(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof ta?function(l,c,d,m){if(!Xh(l.precondition,c))return d;const g=bw(l.fieldTransforms,m,c),_=c.data;return _.setAll(Ub(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(t,e,n,s):function(l,c,d){return Xh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function vx(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=xb(s.transform,o||null);l!=null&&(n===null&&(n=qn.empty()),n.set(s.field,l))}return n||null}function ww(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&sl(s,o,(l,c)=>gx(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends nd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends nd{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Sw(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,d=e.data.field(l.field);s.set(l.field,px(c,d,n[o]))}return s}function bw(t,e,n){const s=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);s.set(o.field,mx(l,c,e))}return s}class jb extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ex extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_x(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Ob();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const m=kb(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,(n,s)=>ww(n,s))&&sl(this.baseMutations,e.baseMutations,(n,s)=>ww(n,s))}}class Jg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return ux}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Jg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,nt;function bx(t){switch(t){case le.OK:return Pe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function zb(t){if(t===void 0)return Xi("GRPC error has no .code"),le.UNKNOWN;switch(t){case Gt.OK:return le.OK;case Gt.CANCELLED:return le.CANCELLED;case Gt.UNKNOWN:return le.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return le.INTERNAL;case Gt.UNAVAILABLE:return le.UNAVAILABLE;case Gt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Gt.NOT_FOUND:return le.NOT_FOUND;case Gt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Gt.ABORTED:return le.ABORTED;case Gt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Gt.DATA_LOSS:return le.DATA_LOSS;default:return Pe(39323,{code:t})}}(nt=Gt||(Gt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Bs([4294967295,4294967295],0);function Aw(t){const e=Ax().encode(t),n=new tb;return n.update(e),new Uint8Array(n.digest())}function Rw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bs([n,s],0),new Bs([o,l],0)]}class ey{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(s<0)throw new xu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Bs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Bs.fromNumber(s)));return o.compare(Rx)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Aw(e),[s,o]=Rw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ey(l,o,n);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const n=Aw(e),[s,o]=Rw(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rd(Ue.min(),o,new Mt(Je),Ji(),et())}}class cc{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cc(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Bb{constructor(e,n){this.targetId=e,this.Ce=n}}class Fb{constructor(e,n,s=vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Cw{constructor(){this.ve=0,this.Fe=Iw(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Pe(38017,{changeType:l})}}),new cc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Iw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Cx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=zh(),this.He=zh(),this.Ye=new Mt(Je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(lg(l))if(s===0){const c=new Ne(l.path);this.et(n,c,Rn.newNoDocument(c,Ue.min()))}else ut(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=Qs(s).toUint8Array()}catch(m){if(m instanceof db)return il("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ey(c,o,l)}catch(m){return il(m instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&lg(d.target)){const m=new Ne(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Rn.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}});let s=et();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new rd(e,n,this.Ye,this.je,s);return this.je=Ji(),this.Je=zh(),this.He=zh(),this.Ye=new Mt(Je),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Cw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tn(Je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tn(Je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zh(){return new Mt(Ne.comparator)}function Iw(){return new Mt(Ne.comparator)}const Ix={asc:"ASCENDING",desc:"DESCENDING"},Dx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nx={and:"AND",or:"OR"};class Ox{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cg(t,e){return t.useProto3Json||Wf(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mx(t,e){return Af(t,e.toTimestamp())}function hi(t){return ut(!!t,49232),Ue.fromTimestamp(function(n){const s=Ys(n);return new At(s.seconds,s.nanos)}(t))}function ty(t,e){return hg(t,e).canonicalString()}function hg(t,e){const n=function(o){return new bt(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Hb(t){const e=bt.fromString(t);return ut($b(e),10190,{key:e.toString()}),e}function fg(t,e){return ty(t.databaseId,e.path)}function Op(t,e){const n=Hb(e);if(n.get(1)!==t.databaseId.projectId)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(Kb(n))}function Gb(t,e){return ty(t.databaseId,e)}function xx(t){const e=Hb(t);return e.length===4?bt.emptyPath():Kb(e)}function dg(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kb(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Dw(t,e,n){return{name:fg(t,e),fields:n.value.mapValue.fields}}function Px(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(ut(_===void 0||typeof _=="string",58123),vn.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vn.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?le.UNKNOWN:zb(g.code);return new be(_,g.message||"")}(c);n=new Fb(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Op(t,s.document.name),l=hi(s.document.updateTime),c=s.document.createTime?hi(s.document.createTime):Ue.min(),d=new qn({mapValue:{fields:s.document.fields}}),m=Rn.newFoundDocument(o,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Zh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Op(t,s.document),l=s.readTime?hi(s.readTime):Ue.min(),c=Rn.newNoDocument(o,l),d=s.removedTargetIds||[];n=new Zh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Op(t,s.document),l=s.removedTargetIds||[];n=new Zh([],l,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new Sx(o,l),d=s.targetId;n=new Bb(d,c)}}return n}function Lx(t,e){let n;if(e instanceof uc)n={update:Dw(t,e.key,e.value)};else if(e instanceof jb)n={delete:fg(t,e.key)};else if(e instanceof ta)n={update:Dw(t,e.key,e.data),updateMask:Hx(e.fieldMask)};else{if(!(e instanceof Ex))return Pe(16599,{Vt:e.type});n={verify:fg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Sf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Pe(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Mx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)}(t,e.precondition)),n}function Vx(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(o,l){let c=o.updateTime?hi(o.updateTime):hi(l);return c.isEqual(Ue.min())&&(c=hi(l)),new yx(c,o.transformResults||[])}(n,e))):[]}function kx(t,e){return{documents:[Gb(t,e.path)]}}function Ux(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Gb(t,o);const l=function(g){if(g.length!==0)return Qb(_i.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:Yo(T.field),direction:Bx(T.dir)}}(_))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=cg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function jx(t){let e=xx(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ut(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=function(w){const T=Yb(w);return T instanceof _i&&Sb(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(w){return w.map(T=>function(j){return new wf(Qo(j.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(T))}(n.orderBy));let d=null;n.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Wf(T)?null:T}(n.limit));let m=null;n.startAt&&(m=function(w){const T=!!w.before,D=w.values||[];return new Tf(D,T)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const T=!w.before,D=w.values||[];return new Tf(D,T)}(n.endAt)),rx(e,o,c,l,d,"F",m,g)}function zx(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qo(n.unaryFilter.field);return en.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qo(n.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(n.unaryFilter.field);return en.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qo(n.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return en.create(Qo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(s=>Yb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function Bx(t){return Ix[t]}function Fx(t){return Dx[t]}function qx(t){return Nx[t]}function Yo(t){return{fieldPath:t.canonicalString()}}function Qo(t){return _n.fromServerFormat(t.fieldPath)}function Qb(t){return t instanceof en?function(n){if(n.op==="=="){if(gw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(pw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(pw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:Fx(n.op),value:n.value}}}(t):t instanceof _i?function(n){const s=n.getFilters().map(o=>Qb(o));return s.length===1?s[0]:{compositeFilter:{op:qx(n.op),filters:s}}}(t):Pe(54877,{filter:t})}function Hx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $b(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,s,o,l=Ue.min(),c=Ue.min(),d=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.yt=e}}function Kx(t){const e=jx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.Cn=new Qx}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ks.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Qx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new tn(bt.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new tn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wb=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(Wb,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="LruGarbageCollector",$x=1048576;function Mw([t,e],[n,s]){const o=Je(t,n);return o===0?Je(e,s):o}class Wx{constructor(e){this.Ir=e,this.buffer=new tn(Mw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Mw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Xx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Ow,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?ye(Ow,"Ignoring IndexedDB error during garbage collection: ",n):await pl(n)}await this.Vr(3e5)})}}class Zx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve($f.ce);const s=new Wx(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Nw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,n))).next(w=>(l=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Go()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function Jx(t,e){return new Zx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.changes=new no(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&zu(s.mutation,o,ur.empty(),At.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,n,s=et()){const o=qa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(l=>{let c=Mu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=qa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,et()))}populateOverlays(e,n,s){const o=[];return s.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,s,o){let l=Ji();const c=ju(),d=function(){return ju()}();return n.forEach((m,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ta)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),zu(_.mutation,g,_.mutation.getFieldMask(),At.now())):c.set(g.key,ur.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),n.forEach((g,_)=>d.set(g,new tP(_,c.get(g)??null))),d))}recalculateAndSaveOverlays(e,n){const s=ju();let o=new Mt((c,d)=>c-d),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let _=s.get(m)||ur.empty();_=d.applyToLocalView(g,_),s.set(m,_);const w=(o.get(d.batchId)||et()).add(m);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,w=Ob();_.forEach(T=>{if(!l.has(T)){const D=kb(n.get(T),s.get(T));D!==null&&w.set(T,D),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ix(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):ae.resolve(qa());let d=$u,m=l;return c.next(g=>ae.forEach(g,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{m=m.insert(_,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,et())).next(_=>({batchId:d,changes:Nb(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(s=>{let o=Mu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=Mu();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const g=function(w,T){return new Zf(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Rn.newInvalidDocument(_)))});let d=Mu();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&zu(_.mutation,g,ur.empty(),At.now()),ed(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:Kx(o.bundledQuery),readTime:hi(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.overlays=new Mt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qa();return ae.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,l)=>{this.St(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const o=qa(),l=n.length+1,c=new Ne(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new Mt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=qa(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=qa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ae.resolve(d)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new wx(n,s));let l=this.qr.get(n);l===void 0&&(l=et(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Qr=new tn(ln.$r),this.Ur=new tn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ln(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Ne(new bt([])),s=new ln(n,e),o=new ln(n,e+1),l=[];return this.Ur.forEachInRange([s,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new bt([])),s=new ln(n,e),o=new ln(n,e+1);let l=et();return this.Ur.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new ln(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||Je(e.Yr,n.Yr)}static Kr(e,n){return Je(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(ln.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Tx(l,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ln(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Kg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],c=>{const d=this.Xr(c.Yr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new tn(Je);return n.forEach(o=>{const l=new ln(o,0),c=new ln(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{s=s.add(d.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Ne(l),0);let d=new tn(Je);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},c),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,o=>{const l=new ln(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new ln(n,0),o=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.ri=e,this.docs=function(){return new Mt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let s=Ji();return n.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Rn.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=Ji();const c=n.path,d=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||LM(PM(_),s)<=0||(o.has(_.key)||ed(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,o){Pe(9500)}ii(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new lP(this)}getSize(e){return ae.resolve(this.size)}}class lP extends eP{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.persistence=e,this.si=new no(n=>$g(n),Wg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new ny,this.targetCount=0,this.ai=ll.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ll(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ae.waitFor(l).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.ui={},this.overlays={},this.ci=new $f(0),this.li=!1,this.li=!0,this.hi=new sP,this.referenceDelegate=e(this),this.Pi=new uP(this),this.indexManager=new Yx,this.remoteDocumentCache=function(o){return new oP(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Gx(n),this.Ii=new rP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new aP(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const o=new cP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,n){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class cP extends kM{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Ri=new ny,this.Vi=null}static mi(e){return new ry(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const o=Ne.fromPath(s);return this.gi(e,o).next(l=>{l||n.removeEntry(o,Ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rf{constructor(e,n){this.persistence=e,this.pi=new no(s=>zM(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Jx(this,n)}static mi(e,n){return new Rf(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(s,o)=>this.br(e,s,o).next(l=>l?ae.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,n).next(d=>{d||(s++,l.removeEntry(c,Ue.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$h(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=et(),o=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new iy(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return LN()?8:UM(Cn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.ys(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,n,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new hP;return this.Ss(e,n,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)})}).next(()=>l.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Go()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Go()<=Ze.DEBUG&&ye("QueryEngine","Query:",Ko(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Go()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):ae.resolve())}ys(e,n){if(Ew(n))return ae.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ug(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=et(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(e,ug(n,null,"F")):this.vs(e,g,n,m)}))})))}ws(e,n,s,o){return Ew(n)||o.isEqual(Ue.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?ae.resolve(null):(Go()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ko(n)),this.vs(e,c,n,xM(o,$u)).next(d=>d))})}Ds(e,n){let s=new tn(Ib(e));return n.forEach((o,l)=>{ed(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,s){return Go()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.ps.getDocumentsMatchingQuery(e,n,Ks.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="LocalStore",dP=3e8;class mP{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Mt(Je),this.xs=new no(l=>$g(l),Wg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function pP(t,e,n,s){return new mP(t,e,n,s)}async function Zb(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=et();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:d}))})})}function gP(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const w=g.batch,T=w.keys();let D=ae.resolve();return T.forEach(j=>{D=D.next(()=>_.getEntry(m,j)).next(W=>{const U=g.docVersions.get(j);ut(U!==null,48541),W.version.compareTo(U)<0&&(w.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),_.addEntry(W)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,w))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=et();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Jb(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yP(t,e){const n=Fe(t),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;d.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(l,_.addedDocuments,w)));let D=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(vn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(w,D),function(W,U,Y){return W.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=dP?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,D,_)&&d.push(n.Pi.updateTargetData(l,D))});let m=Ji(),g=et();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(_P(l,c,e.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!s.isEqual(Ue.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next(w=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.Ms=o,l))}function _P(t,e,n){let s=et(),o=et();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=Ji();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ye(sy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:c,qs:o}})}function vP(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function EP(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(l=>l?(o=l,ae.resolve(o)):n.Pi.allocateTargetId(s).next(c=>(o=new Us(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function mg(t,e,n){const s=Fe(t),o=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!gl(c))throw c;ye(sy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function xw(t,e,n){const s=Fe(t);let o=Ue.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const w=Fe(m),T=w.xs.get(_);return T!==void 0?ae.resolve(w.Ms.get(T)):w.Pi.getTargetData(g,_)}(s,c,ui(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ue.min(),n?l:et())).next(d=>(TP(s,ax(e),d),{documents:d,Qs:l})))}function TP(t,e,n){let s=t.Os.get(e)||Ue.min();n.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Os.set(e,s)}class Pw{constructor(){this.activeTargetIds=fx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wP{constructor(){this.Mo=new Pw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Pw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="ConnectivityMonitor";class Vw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Lw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Lw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function pg(){return Bh===null?Bh=function(){return 268435456+Math.round(2147483648*Math.random())}():Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RestConnection",bP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,l){const c=pg(),d=this.zo(e,n.toUriEncodedString());ye(Mp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:g}=new URL(d),_=fl(g);return this.Jo(e,d,m,s,_).then(w=>(ye(Mp,`Received RPC '${e}' ${c}: `,w),w),w=>{throw il(Mp,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",s),w})}Ho(e,n,s,o,l,c){return this.Go(e,n,s,o,l)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}zo(e,n){const s=bP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class CP extends AP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,l){const c=pg();return new Promise((d,m)=>{const g=new nb;g.setWithCredentials(!0),g.listenOnce(rb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Qh.NO_ERROR:const w=g.getResponseJson();ye(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Qh.TIMEOUT:ye(bn,`RPC '${e}' ${c} timed out`),m(new be(le.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const T=g.getStatus();if(ye(bn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const W=function(Y){const ue=Y.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ue)>=0?ue:le.UNKNOWN}(j.status);m(new be(W,j.message))}else m(new be(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new be(le.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(bn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);ye(bn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)})}T_(e,n,s){const o=pg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ab(),d=sb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const _=l.join("");ye(bn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const w=c.createWebChannel(_,m);this.I_(w);let T=!1,D=!1;const j=new RP({Yo:U=>{D?ye(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(T||(ye(bn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ye(bn,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Zo:()=>w.close()}),W=(U,Y,ue)=>{U.listen(Y,ee=>{try{ue(ee)}catch(he){setTimeout(()=>{throw he},0)}})};return W(w,Ou.EventType.OPEN,()=>{D||(ye(bn,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),W(w,Ou.EventType.CLOSE,()=>{D||(D=!0,ye(bn,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(w))}),W(w,Ou.EventType.ERROR,U=>{D||(D=!0,il(bn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new be(le.UNAVAILABLE,"The operation could not be completed")))}),W(w,Ou.EventType.MESSAGE,U=>{if(!D){const Y=U.data[0];ut(!!Y,16349);const ue=Y,ee=ue?.error||ue[0]?.error;if(ee){ye(bn,`RPC '${e}' stream ${o} received error:`,ee);const he=ee.status;let oe=function(A){const R=Gt[A];if(R!==void 0)return zb(R)}(he),P=ee.message;oe===void 0&&(oe=le.INTERNAL,P="Unknown error status: "+he+" with message "+ee.message),D=!0,j.a_(new be(oe,P)),w.close()}else ye(bn,`RPC '${e}' stream ${o} received:`,Y),j.u_(Y)}}),W(d,ib.STAT_EVENT,U=>{U.stat===rg.PROXY?ye(bn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===rg.NOPROXY&&ye(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){return new Ox(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="PersistentStream";class tA{constructor(e,n,s,o,l,c,d,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new be(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(kw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(kw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IP extends tA{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Px(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?hi(c.readTime):Ue.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=dg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=lg(m)?{documents:kx(l,m)}:{query:Ux(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=qb(l,c.resumeToken);const g=cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ue.min())>0){d.readTime=Af(l,c.snapshotVersion.toTimestamp());const g=cg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=zx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=dg(this.serializer),n.removeTarget=e,this.q_(n)}}class DP extends tA{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Vx(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=dg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Lx(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{}class OP extends NP{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,hg(n,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(le.UNKNOWN,l.toString())})}Ho(e,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,hg(n,s),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(le.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class MP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class xP{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{ro(this)&&(ye(Wa,"Restarting streams for network reachability change."),await async function(m){const g=Fe(m);g.Ea.add(4),await hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await sd(g)}(this))})}),this.Ra=new MP(s,o)}}async function sd(t){if(ro(t))for(const e of t.da)await e(!0)}async function hc(t){for(const e of t.da)await e(!1)}function nA(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uy(n)?ly(n):yl(n).O_()&&oy(n,e))}function ay(t,e){const n=Fe(t),s=yl(n);n.Ia.delete(e),s.O_()&&rA(n,e),n.Ia.size===0&&(s.O_()?s.L_():ro(n)&&n.Ra.set("Unknown"))}function oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(t).Y_(e)}function rA(t,e){t.Va.Ue(e),yl(t).Z_(e)}function ly(t){t.Va=new Cx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yl(t).start(),t.Ra.ua()}function uy(t){return ro(t)&&!yl(t).x_()&&t.Ia.size>0}function ro(t){return Fe(t).Ea.size===0}function iA(t){t.Va=void 0}async function PP(t){t.Ra.set("Online")}async function LP(t){t.Ia.forEach((e,n)=>{oy(t,e)})}async function VP(t,e){iA(t),uy(t)?(t.Ra.ha(e),ly(t)):t.Ra.set("Unknown")}async function kP(t,e,n){if(t.Ra.set("Online"),e instanceof Fb&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))}(t,e)}catch(s){ye(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cf(t,s)}else if(e instanceof Zh?t.Va.Ze(e):e instanceof Bb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const s=await Jb(t.localStore);n.compareTo(s)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(vn.EMPTY_BYTE_STRING,_.snapshotVersion)),rA(l,m);const w=new Us(_.target,m,g,_.sequenceNumber);oy(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(s){ye(Wa,"Failed to raise snapshot:",s),await Cf(t,s)}}async function Cf(t,e,n){if(!gl(e))throw e;t.Ea.add(1),await hc(t),t.Ra.set("Offline"),n||(n=()=>Jb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(Wa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sd(t)})}function sA(t,e){return e().catch(n=>Cf(t,n,e))}async function ad(t){const e=Fe(t),n=Ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kg;for(;UP(e);)try{const o=await vP(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,jP(e,o)}catch(o){await Cf(e,o)}aA(e)&&oA(e)}function UP(t){return ro(t)&&t.Ta.length<10}function jP(t,e){t.Ta.push(e);const n=Ws(t);n.O_()&&n.X_&&n.ea(e.mutations)}function aA(t){return ro(t)&&!Ws(t).x_()&&t.Ta.length>0}function oA(t){Ws(t).start()}async function zP(t){Ws(t).ra()}async function BP(t){const e=Ws(t);for(const n of t.Ta)e.ea(n.mutations)}async function FP(t,e,n){const s=t.Ta.shift(),o=Jg.from(s,e,n);await sA(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await ad(t)}async function qP(t,e){e&&Ws(t).X_&&await async function(s,o){if(function(c){return bx(c)&&c!==le.ABORTED}(o.code)){const l=s.Ta.shift();Ws(s).B_(),await sA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await ad(s)}}(t,e),aA(t)&&oA(t)}async function Uw(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ye(Wa,"RemoteStore received new credentials");const s=ro(n);n.Ea.add(3),await hc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sd(n)}async function HP(t,e){const n=Fe(t);e?(n.Ea.delete(2),await sd(n)):e||(n.Ea.add(2),await hc(n),n.Ra.set("Unknown"))}function yl(t){return t.ma||(t.ma=function(n,s,o){const l=Fe(n);return l.sa(),new IP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Xo:PP.bind(null,t),t_:LP.bind(null,t),r_:VP.bind(null,t),H_:kP.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),uy(t)?ly(t):t.Ra.set("Unknown")):(await t.ma.stop(),iA(t))})),t.ma}function Ws(t){return t.fa||(t.fa=function(n,s,o){const l=Fe(n);return l.sa(),new DP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zP.bind(null,t),r_:qP.bind(null,t),ta:BP.bind(null,t),na:FP.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ad(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Wa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,d=new cy(e,n,c,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(Xi("AsyncQueue",`${e}: ${t}`),gl(t))return new be(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=Mu(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.ga=new Mt(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ul{constructor(e,n,s,o,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new ul(e,n,Xo.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KP{constructor(){this.queries=zw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Fe(n),l=o.queries;o.queries=zw(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new be(le.ABORTED,"Firestore shutting down"))}}function zw(){return new no(t=>Cb(t),Jf)}async function lA(t,e){const n=Fe(t);let s=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new GP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=hy(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&fy(n)}async function uA(t,e){const n=Fe(t),s=e.query;let o=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YP(t,e){const n=Fe(t);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&fy(n)}function QP(t,e,n){const s=Fe(t),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);s.queries.delete(e)}function fy(t){t.Ca.forEach(e=>{e.next()})}var gg,Bw;(Bw=gg||(gg={})).Ma="default",Bw.Cache="cache";class cA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ul(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.key=e}}class fA{constructor(e){this.key=e}}class $P{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=Ib(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new jw,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),D=ed(this.query,w)?w:null,j=!!T&&this.mutatedKeys.has(T.key),W=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;T&&D?T.data.isEqual(D.data)?j!==W&&(s.track({type:3,doc:D}),U=!0):this.su(T,D)||(s.track({type:2,doc:D}),U=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(d=!0)):!T&&D?(s.track({type:0,doc:D}),U=!0):T&&!D&&(s.track({type:1,doc:T}),U=!0,(m||g)&&(d=!0)),U&&(D?(c=c.add(D),l=W?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((_,w)=>function(D,j){const W=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:U})}};return W(D)-W(j)}(_.type,w.type)||this.eu(_.doc,w.doc)),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new ul(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new fA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new hA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dy="SyncEngine";class WP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XP{constructor(e){this.key=e,this.hu=!1}}class ZP{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new no(d=>Cb(d),Jf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Ne.comparator),this.Au=new Map,this.Ru=new ny,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JP(t,e,n=!0){const s=_A(t);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await dA(s,e,n,!0),o}async function eL(t,e){const n=_A(t);await dA(n,e,!0,!1)}async function dA(t,e,n,s){const o=await EP(t.localStore,ui(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await tL(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&nA(t.remoteStore,o),d}async function tL(t,e,n,s,o){t.pu=(w,T,D)=>async function(W,U,Y,ue){let ee=U.view.ru(Y);ee.Cs&&(ee=await xw(W.localStore,U.query,!1).then(({documents:N})=>U.view.ru(N,ee)));const he=ue&&ue.targetChanges.get(U.targetId),oe=ue&&ue.targetMismatches.get(U.targetId)!=null,P=U.view.applyChanges(ee,W.isPrimaryClient,he,oe);return qw(W,U.targetId,P.au),P.snapshot}(t,w,T,D);const l=await xw(t.localStore,e,!0),c=new $P(e,l.Qs),d=c.ru(l.documents),m=cc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(d,t.isPrimaryClient,m);qw(t,n,g.au);const _=new WP(e,n,c);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function nL(t,e,n){const s=Fe(t),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter(c=>!Jf(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ay(s.remoteStore,o.targetId),yg(s,o.targetId)}).catch(pl)):(yg(s,o.targetId),await mg(s.localStore,o.targetId,!0))}async function rL(t,e){const n=Fe(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ay(n.remoteStore,s.targetId))}async function iL(t,e,n){const s=hL(t);try{const o=await function(c,d){const m=Fe(c),g=At.now(),_=d.reduce((D,j)=>D.add(j.key),et());let w,T;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let j=Ji(),W=et();return m.Ns.getEntries(D,_).next(U=>{j=U,j.forEach((Y,ue)=>{ue.isValidDocument()||(W=W.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,j)).next(U=>{w=U;const Y=[];for(const ue of d){const ee=vx(ue,w.get(ue.key).overlayedDocument);ee!=null&&Y.push(new ta(ue.key,ee,Eb(ee.value.mapValue),ci.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,Y,d)}).next(U=>{T=U;const Y=U.applyToLocalDocumentSet(w,W);return m.documentOverlayCache.saveOverlays(D,U.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:Nb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Mt(Je)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g}(s,o.batchId,n),await fc(s,o.changes),await ad(s.remoteStore)}catch(o){const l=hy(o,"Failed to persist write");n.reject(l)}}async function mA(t,e){const n=Fe(t);try{const s=await yP(n.localStore,e);e.targetChanges.forEach((o,l)=>{const c=n.Au.get(l);c&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ut(c.hu,14607):o.removedDocuments.size>0&&(ut(c.hu,42227),c.hu=!1))}),await fc(n,s,e)}catch(s){await pl(s)}}function Fw(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=Fe(c);m.onlineState=d;let g=!1;m.queries.forEach((_,w)=>{for(const T of w.Sa)T.va(d)&&(g=!0)}),g&&fy(m)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sL(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new Mt(Ne.comparator);c=c.insert(l,Rn.newNoDocument(l,Ue.min()));const d=et().add(l),m=new rd(Ue.min(),new Map,new Mt(Je),c,d);await mA(s,m),s.du=s.du.remove(l),s.Au.delete(e),my(s)}else await mg(s.localStore,e,!1).then(()=>yg(s,e,n)).catch(pl)}async function aL(t,e){const n=Fe(t),s=e.batch.batchId;try{const o=await gP(n.localStore,e);gA(n,s,null),pA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fc(n,o)}catch(o){await pl(o)}}async function oL(t,e,n){const s=Fe(t);try{const o=await function(c,d){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(w=>(ut(w!==null,37113),_=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(s.localStore,e);gA(s,e,n),pA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fc(s,o)}catch(o){await pl(o)}}function pA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function gA(t,e,n){const s=Fe(t);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||yA(t,s)})}function yA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ay(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),my(t))}function qw(t,e,n){for(const s of n)s instanceof hA?(t.Ru.addReference(s.key,e),lL(t,s)):s instanceof fA?(ye(dy,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||yA(t,s.key)):Pe(19791,{wu:s})}function lL(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(dy,"New document in limbo: "+n),t.Eu.add(s),my(t))}function my(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(bt.fromString(e)),s=t.fu.next();t.Au.set(s,new XP(n)),t.du=t.du.insert(n,s),nA(t.remoteStore,new Us(ui(Xg(n.path)),s,"TargetPurposeLimboResolution",$f.ce))}}async function fc(t,e,n){const s=Fe(t),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((d,m)=>{c.push(s.pu(m,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=iy.As(m.targetId,g);l.push(_)}}))}),await Promise.all(c),s.Pu.H_(o),await async function(m,g){const _=Fe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ae.forEach(g,T=>ae.forEach(T.Es,D=>_.persistence.referenceDelegate.addReference(w,T.targetId,D)).next(()=>ae.forEach(T.ds,D=>_.persistence.referenceDelegate.removeReference(w,T.targetId,D)))))}catch(w){if(!gl(w))throw w;ye(sy,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const D=_.Ms.get(T),j=D.snapshotVersion,W=D.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(T,W)}}}(s.localStore,l))}async function uL(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){ye(dy,"User change. New user:",e.toKey());const s=await Zb(n.localStore,e);n.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new be(le.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fc(n,s.Ls)}}function cL(t,e){const n=Fe(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let o=et();const l=n.Iu.get(e);if(!l)return o;for(const c of l){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function _A(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sL.bind(null,e),e.Pu.H_=YP.bind(null,e.eventManager),e.Pu.yu=QP.bind(null,e.eventManager),e}function hL(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oL.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pP(this.persistence,new fP,e.initialUser,this.serializer)}Cu(e){return new Xb(ry.mi,this.serializer)}Du(e){return new wP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class fL extends If{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Rf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Xx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Xb(s=>Rf.mi(s,n),this.serializer)}}class _g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uL.bind(null,this.syncEngine),await HP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KP}()}createDatastore(e){const n=id(e.databaseInfo.databaseId),s=function(l){return new CP(l)}(e.databaseInfo);return function(l,c,d,m){return new OP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,l,c,d){return new xP(s,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Fw(this.syncEngine,n,0),function(){return Vw.v()?new Vw:new SP}())}createSyncEngine(e,n){return function(o,l,c,d,m,g,_){const w=new ZP(o,l,c,d,m,g);return _&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Fe(n);ye(Wa,"RemoteStore shutting down."),s.Ea.add(5),await hc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_g.provider={build:()=>new _g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class dL{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ye(Xs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ye(Xs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pp(t,e){t.asyncQueue.verifyOperationInProgress(),ye(Xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Zb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mL(t);ye(Xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Uw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Uw(e.remoteStore,o)),t._onlineComponents=e}async function mL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(Xs,"Using user provided OfflineComponentProvider");try{await Pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;il("Error using user provided cache. Falling back to memory cache: "+n),await Pp(t,new If)}}else ye(Xs,"Using default OfflineComponentProvider"),await Pp(t,new fL(void 0));return t._offlineComponents}async function EA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(Xs,"Using user provided OnlineComponentProvider"),await Hw(t,t._uninitializedComponentsProvider._online)):(ye(Xs,"Using default OnlineComponentProvider"),await Hw(t,new _g))),t._onlineComponents}function pL(t){return EA(t).then(e=>e.syncEngine)}async function TA(t){const e=await EA(t),n=e.eventManager;return n.onListen=JP.bind(null,e.syncEngine),n.onUnlisten=nL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rL.bind(null,e.syncEngine),n}function gL(t,e,n={}){const s=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new vA({next:T=>{_.Nu(),c.enqueueAndForget(()=>uA(l,w));const D=T.docs.has(d);!D&&T.fromCache?g.reject(new be(le.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&m&&m.source==="server"?g.reject(new be(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new cA(Xg(d.path),_,{includeMetadataChanges:!0,qa:!0});return lA(l,w)}(await TA(t),t.asyncQueue,e,n,s)),s.promise}function yL(t,e,n={}){const s=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new vA({next:T=>{_.Nu(),c.enqueueAndForget(()=>uA(l,w)),T.fromCache&&m.source==="server"?g.reject(new be(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new cA(d,_,{includeMetadataChanges:!0,qa:!0});return lA(l,w)}(await TA(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firestore.googleapis.com",Kw=!0;class Yw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=Kw}else this.host=e.host,this.ssl=e.ssl??Kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$x)throw new be(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wM;switch(s.type){case"firstParty":return new RM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new be(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Gw.get(n);s&&(ye("ComponentProvider","Removing Datastore"),Gw.delete(n),s.terminate())}(this),Promise.resolve()}}function _L(t,e,n,s={}){t=Zi(t,od);const o=fl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;o&&(wS(`https://${d}`),SS("Firestore",!0)),l.host!==SA&&l.host!==d&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:o,emulatorOptions:s};if(!Gs(m,c)&&(t._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=An.MOCK_USER;else{g=CN(s.mockUserToken,t._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new be(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new An(w)}t._authCredentials=new SM(new lb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ld(this.firestore,e,this._query)}}class Yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lc(n,Yt._jsonSchema))return new Yt(e,s||null,new Ne(bt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Kt("string",Yt._jsonSchemaVersion),referencePath:Kt("string")};class Fs extends ld{constructor(e,n,s){super(e,n,Xg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Ne(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function py(t,e,...n){if(t=cn(t),ub("collection","path",e),t instanceof od){const s=bt.fromString(e,...n);return ow(s),new Fs(t,null,s)}{if(!(t instanceof Yt||t instanceof Fs))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return ow(s),new Fs(t.firestore,null,s)}}function Zs(t,e,...n){if(t=cn(t),arguments.length===1&&(e=Hg.newId()),ub("doc","path",e),t instanceof od){const s=bt.fromString(e,...n);return aw(s),new Yt(t,null,new Ne(s))}{if(!(t instanceof Yt||t instanceof Fs))throw new be(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(bt.fromString(e,...n));return aw(s),new Yt(t.firestore,t instanceof Fs?t.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="AsyncQueue";class $w{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eA(this,"async_queue_retry"),this._c=()=>{const s=xp();s&&ye(Qw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;ye(Qw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",Ww(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=cy.createAndSchedule(this,e,n,s,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:Ww(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ww(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class dc extends od{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new $w,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $w(e),this._firestoreClient=void 0,await e}}}function vL(t,e){const n=typeof t=="object"?t:kg(),s=typeof t=="string"?t:vf,o=to(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=AN("firestore");l&&_L(o,...l)}return o}function gy(t){if(t._terminated)throw new be(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EL(t),t._firestoreClient}function EL(t){const e=t._freezeSettings(),n=function(o,l,c,d){return new qM(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cr(vn.fromBase64String(e))}catch(n){throw new be(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Cr(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,Cr._jsonSchema))return Cr.fromBase64String(e.bytes)}}Cr._jsonSchemaVersion="firestore/bytes/1.0",Cr._jsonSchema={type:Kt("string",Cr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(lc(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Kt("string",fi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new di(e.vectorValues);throw new be(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Kt("string",di._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=/^__.*__$/;class wL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}class bA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:t})}}class _y{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AA(this.Ac)&&TL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||id(e)}Cc(e,n,s,o=!1){return new _y({Ac:e,methodName:n,Dc:s,path:_n.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RA(t){const e=t._freezeSettings(),n=id(t._databaseId);return new SL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bL(t,e,n,s,o,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);vy("Data must be an object, but it was:",c,s);const d=CA(s,c);let m,g;if(l.merge)m=new ur(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=vg(e,w,n);if(!c.contains(T))throw new be(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);DA(_,T)||_.push(T)}m=new ur(_),g=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=c.fieldTransforms;return new wL(new qn(d),m,g)}class cd extends yy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function AL(t,e,n,s){const o=t.Cc(1,e,n);vy("Data must be an object, but it was:",o,s);const l=[],c=qn.empty();ea(s,(m,g)=>{const _=Ey(e,m,n);g=cn(g);const w=o.yc(_);if(g instanceof cd)l.push(_);else{const T=hd(g,w);T!=null&&(l.push(_),c.set(_,T))}});const d=new ur(l);return new bA(c,d,o.fieldTransforms)}function RL(t,e,n,s,o,l){const c=t.Cc(1,e,n),d=[vg(e,s,n)],m=[o];if(l.length%2!=0)throw new be(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(vg(e,l[T])),m.push(l[T+1]);const g=[],_=qn.empty();for(let T=d.length-1;T>=0;--T)if(!DA(g,d[T])){const D=d[T];let j=m[T];j=cn(j);const W=c.yc(D);if(j instanceof cd)g.push(D);else{const U=hd(j,W);U!=null&&(g.push(D),_.set(D,U))}}const w=new ur(g);return new bA(_,w,c.fieldTransforms)}function hd(t,e){if(IA(t=cn(t)))return vy("Unsupported field value:",e,t),CA(t,e);if(t instanceof yy)return function(s,o){if(!AA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const d of s){let m=hd(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,o){if((s=cn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=At.fromDate(s);return{timestampValue:Af(o.serializer,l)}}if(s instanceof At){const l=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Af(o.serializer,l)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cr)return{bytesValue:qb(o.serializer,s._byteString)};if(s instanceof Yt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ty(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return function(c,d){return{mapValue:{fields:{[_b]:{stringValue:vb},[Ef]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Zg(d.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Gg(s)}`)}(t,e)}function CA(t,e){const n={};return fb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(s,o)=>{const l=hd(o,e.mc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function IA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof fi||t instanceof Cr||t instanceof Yt||t instanceof yy||t instanceof di)}function vy(t,e,n){if(!IA(n)||!cb(n)){const s=Gg(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function vg(t,e,n){if((e=cn(e))instanceof ud)return e._internalPath;if(typeof e=="string")return Ey(t,e);throw Df("Field path arguments must be of type string or ",t,!1,void 0,n)}const CL=new RegExp("[~\\*/\\[\\]]");function Ey(t,e,n){if(e.search(CL)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Df(t,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new be(le.INVALID_ARGUMENT,d+t+m)}function DA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IL extends NA{data(){return super.data()}}function OA(t,e){return typeof e=="string"?Ey(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NL{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ea(e,(o,l)=>{s[o]=this.convertValue(l,n)}),s}convertVectorValue(e){const n=e.fields?.[Ef].arrayValue?.values?.map(s=>Bt(s.doubleValue));return new di(n)}convertGeoPoint(e){return new fi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=bt.fromString(e);ut($b(s),9688,{name:e});const o=new Xu(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return o.isEqual(n)||Xi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends NA{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(OA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:Kt("string",Ha._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Jh extends Ha{data(e={}){return super.data(e)}}class Zo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Pu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Jh(this._firestore,this._userDataWriter,s.key,s,new Pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new Jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:ML(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ML(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){t=Zi(t,Yt);const e=Zi(t.firestore,dc);return gL(gy(e),t._key).then(n=>LL(e,t,n))}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:Kt("string",Zo._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class MA extends NL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function Ty(t){t=Zi(t,ld);const e=Zi(t.firestore,dc),n=gy(e),s=new MA(e);return DL(t._query),yL(n,t._query).then(o=>new Zo(e,s,t,o))}function PL(t,e,n){t=Zi(t,Yt);const s=Zi(t.firestore,dc),o=OL(t.converter,e);return xA(s,[bL(RA(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ci.none())])}function cl(t,e,n,...s){t=Zi(t,Yt);const o=Zi(t.firestore,dc),l=RA(o);let c;return c=typeof(e=cn(e))=="string"||e instanceof ud?RL(l,"updateDoc",t._key,e,n,s):AL(l,"updateDoc",t._key,e),xA(o,[c.toMutation(t._key,ci.exists(!0))])}function xA(t,e){return function(s,o){const l=new Yi;return s.asyncQueue.enqueueAndForget(async()=>iL(await pL(s),o,l)),l.promise}(gy(t),e)}function LL(t,e,n){const s=n.docs.get(e._key),o=new MA(t);return new Ha(t,o,e._key,s,new Pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ml=o})(dl),gi(new Qr("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new dc(new bM(s.getProvider("auth-internal")),new CM(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(g.options.projectId,_)}(c,o),c);return l={useFetchStreams:n,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ir(nw,rw,e),Ir(nw,rw,"esm2020")})();function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VL=PA,LA=new eo("auth","Firebase",PA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new Kf("@firebase/auth");function kL(t,...e){Nf.logLevel<=Ze.WARN&&Nf.warn(`Auth (${dl}): ${t}`,...e)}function ef(t,...e){Nf.logLevel<=Ze.ERROR&&Nf.error(`Auth (${dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw wy(t,...e)}function mi(t,...e){return wy(t,...e)}function VA(t,e,n){const s={...VL(),[e]:n};return new eo("auth","Firebase",s).create(e,{appName:t.name})}function Qi(t){return VA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return LA.create(t,...e)}function xe(t,e,...n){if(!t)throw wy(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ef(e),new Error(e)}function es(t,e){t||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){return typeof self<"u"&&self.location?.href||""}function UL(){return Xw()==="http:"||Xw()==="https:"}function Xw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UL()||bS()||"connection"in navigator)?navigator.onLine:!0}function zL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=NN()||xN()}get(){return jL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qL=new mc(3e4,6e4);function na(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ra(t,e,n,s,o={}){return UA(t,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=oc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return MN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&fl(t.emulatorConfig.host)&&(g.credentials="include"),kA.fetch()(await jA(t,t.config.apiHost,n,d),g)})}async function UA(t,e,n){t._canInitEmulator=!1;const s={...BL,...e};try{const o=new GL(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fh(t,"user-disabled",c);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw VA(t,_,g);$r(t,_)}}catch(o){if(o instanceof Zr)throw o;$r(t,"network-request-failed",{message:String(o)})}}async function pc(t,e,n,s,o={}){const l=await ra(t,e,n,s,o);return"mfaPendingCredential"in l&&$r(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function jA(t,e,n,s){const o=`${e}${n}?${s}`,l=t,c=l.config.emulator?Sy(t.config,o):`${t.config.apiScheme}://${o}`;return FL.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function HL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),qL.get())})}}function Fh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(t,e,s);return o.customData._tokenResponse=n,o}function Zw(t){return t!==void 0&&t.enterprise!==void 0}class KL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YL(t,e){return ra(t,"GET","/v2/recaptchaConfig",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return ra(t,"POST","/v1/accounts:delete",e)}async function Of(t,e){return ra(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $L(t,e=!1){const n=cn(t),s=await n.getIdToken(e),o=by(s);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:Bu(Lp(o.auth_time)),issuedAtTime:Bu(Lp(o.iat)),expirationTime:Bu(Lp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Lp(t){return Number(t)*1e3}function by(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const o=_S(n);return o?JSON.parse(o):(ef("Failed to decode base64 JWT payload"),null)}catch(o){return ef("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jw(t){const e=by(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zr&&WL(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function WL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){const e=t.auth,n=await t.getIdToken(),s=await tc(t,Of(e,{idToken:n}));xe(s?.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=o.providerUserInfo?.length?zA(o.providerUserInfo):[],c=JL(t.providerData,l),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!c?.length,g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Tg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function ZL(t){const e=cn(t);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JL(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function zA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){const n=await UA(t,{},async()=>{const s=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=await jA(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&fl(t.emulatorConfig.host)&&(m.credentials="include"),kA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tV(t,e){return ra(t,"POST","/v2/accounts:revokeToken",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=Jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await eV(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Jo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new XL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $L(this,e)}reload(){return ZL(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await tc(this,QL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:D,providerData:j,stsTokenManager:W}=n;xe(w&&W,e,"internal-error");const U=Jo.fromJSON(this.name,W);xe(typeof w=="string",e,"internal-error"),Ns(s,e.name),Ns(o,e.name),xe(typeof T=="boolean",e,"internal-error"),xe(typeof D=="boolean",e,"internal-error"),Ns(l,e.name),Ns(c,e.name),Ns(d,e.name),Ns(m,e.name),Ns(g,e.name),Ns(_,e.name);const Y=new Yr({uid:w,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(Y.providerData=j.map(ue=>({...ue}))),m&&(Y._redirectEventId=m),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Jo;o.updateFromServerResponse(n);const l=new Yr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?zA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Jo;d.updateFromIdToken(s);const m=new Yr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Tg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;function Hi(t){es(t instanceof Function,"Expected a class definition");let e=e0.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BA.type="NONE";const t0=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=tf(this.userKey,o.apiKey,l),this.fullPersistenceKey=tf("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Of(this.auth,{idToken:e}).catch(()=>{});return n?Yr._fromGetAccountInfoResponse(this.auth,n,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new el(Hi(t0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Hi(t0);const c=tf(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let w;if(typeof _=="string"){const T=await Of(e,{idToken:_}).catch(()=>{});if(!T)break;w=await Yr._fromGetAccountInfoResponse(e,T,_)}else w=Yr._fromJSON(e,_);g!==l&&(d=w),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new el(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new el(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(QA(e))return"Webos";if(qA(e))return"Safari";if((e.includes("chrome/")||HA(e))&&!e.includes("edge/"))return"Chrome";if(KA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function FA(t=Cn()){return/firefox\//i.test(t)}function qA(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HA(t=Cn()){return/crios\//i.test(t)}function GA(t=Cn()){return/iemobile/i.test(t)}function KA(t=Cn()){return/android/i.test(t)}function YA(t=Cn()){return/blackberry/i.test(t)}function QA(t=Cn()){return/webos/i.test(t)}function Ay(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nV(t=Cn()){return Ay(t)&&!!window.navigator?.standalone}function rV(){return PN()&&document.documentMode===10}function $A(t=Cn()){return Ay(t)||KA(t)||QA(t)||YA(t)||/windows phone/i.test(t)||GA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e=[]){let n;switch(t){case"Browser":n=n0(Cn());break;case"Worker":n=`${n0(Cn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e={}){return ra(t,"GET","/v2/passwordPolicy",na(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=6;class oV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new iV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Of(this,{idToken:e}),s=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(Qi(this));const n=e?cn(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sV(this),n=new oV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await tV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hi(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function io(t){return cn(t)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=BN(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uV(t){fd=t}function XA(t){return fd.loadJS(t)}function cV(){return fd.recaptchaEnterpriseScript}function hV(){return fd.gapiScript}function fV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class dV{constructor(){this.enterprise=new mV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pV="recaptcha-enterprise",ZA="NO_RECAPTCHA";class gV{constructor(e){this.type=pV,this.auth=io(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{YL(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new KL(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,c,d){const m=window.grecaptcha;Zw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(ZA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&Zw(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=cV();m.length!==0&&(m+=d),XA(m).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function i0(t,e,n,s=!1,o=!1){const l=new gV(t);let c;if(o)c=ZA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function wg(t,e,n,s,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await i0(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await i0(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t,e){const n=to(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Gs(l,e??{}))return o;$r(o,"already-initialized")}return n.initialize({options:e})}function _V(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Hi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function vV(t,e,n){const s=io(t);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=JA(e),{host:c,port:d}=EV(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(Gs(g,s.config.emulator)&&Gs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,fl(c)?(wS(`${l}//${c}${m}`),SS("Auth",!0)):TV()}function JA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EV(t){const e=JA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:s0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:s0(c)}}}function s0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function wV(t,e){return ra(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e){return pc(t,"POST","/v1/accounts:signInWithPassword",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return pc(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}async function AV(t,e){return pc(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Ry{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,n,"signInWithPassword",SV);case"emailLink":return bV(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wg(e,s,"signUpPassword",wV);case"emailLink":return AV(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return pc(t,"POST","/v1/accounts:signInWithIdp",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="http://localhost";class Xa extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new Xa(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:RV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IV(t){const e=Du(Nu(t)).link,n=e?Du(Nu(e)).deep_link_id:null,s=Du(Nu(t)).deep_link_id;return(s?Du(Nu(s)).link:null)||s||n||e||t}class Cy{constructor(e){const n=Du(Nu(e)),s=n.apiKey??null,o=n.oobCode??null,l=CV(n.mode??null);xe(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IV(e);try{return new Cy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,n){return nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Cy.parseLink(n);return xe(s,"argument-error"),nc._fromEmailAndCode(e,s.code,s.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends eR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends gc{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ls.credential(n,s)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends gc{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends gc{constructor(){super("twitter.com")}static credential(e,n){return Xa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ks.credential(n,s)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t,e){return pc(t,"POST","/v1/accounts:signUp",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await Yr._fromIdTokenResponse(e,s,o),c=a0(s);return new Za({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=a0(s);return new Za({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function a0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Zr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xf(e,n,s,o)}}function tR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?xf._fromErrorAndOperation(t,l,e,s):l})}async function NV(t,e,n=!1){const s=await tc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Za._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e,n=!1){const{auth:s}=t;if(Rr(s.app))return Promise.reject(Qi(s));const o="reauthenticate";try{const l=await tc(t,tR(s,o,e,t),n);xe(l.idToken,s,"internal-error");const c=by(l.idToken);xe(c,s,"internal-error");const{sub:d}=c;return xe(t.uid===d,s,"user-mismatch"),Za._forOperation(t,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&$r(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e,n=!1){if(Rr(t.app))return Promise.reject(Qi(t));const s="signIn",o=await tR(t,s,e),l=await Za._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(l.user),l}async function MV(t,e){return nR(io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t){const e=io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xV(t,e,n){if(Rr(t.app))return Promise.reject(Qi(t));const s=io(t),c=await wg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&rR(t),m}),d=await Za._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function PV(t,e,n){return Rr(t.app)?Promise.reject(Qi(t)):MV(cn(t),_l.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&rR(t),s})}function LV(t,e,n,s){return cn(t).onIdTokenChanged(e,n,s)}function VV(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function kV(t,e,n,s){return cn(t).onAuthStateChanged(e,n,s)}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=1e3,jV=10;class sR extends iR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$A(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);rV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jV):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sR.type="LOCAL";const zV=sR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR extends iR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aR.type="SESSION";const oR=aR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new dd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await BV(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Iy("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function qV(t){pi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function HV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GV(){return navigator?.serviceWorker?.controller||null}function KV(){return lR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebaseLocalStorageDb",YV=1,Lf="firebaseLocalStorage",cR="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function QV(){const t=indexedDB.deleteDatabase(uR);return new yc(t).toPromise()}function Sg(){const t=indexedDB.open(uR,YV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Lf,{keyPath:cR})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Lf)?e(s):(s.close(),await QV(),e(await Sg()))})})}async function o0(t,e,n){const s=md(t,!0).put({[cR]:e,value:n});return new yc(s).toPromise()}async function $V(t,e){const n=md(t,!1).get(e),s=await new yc(n).toPromise();return s===void 0?null:s.value}function l0(t,e){const n=md(t,!0).delete(e);return new yc(n).toPromise()}const WV=800,XV=3;class hR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>XV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(KV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HV(),!this.activeServiceWorker)return;this.sender=new FV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await o0(e,Pf,"1"),await l0(e,Pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>o0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$V(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=md(o,!1).getAll();return new yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hR.type="LOCAL";const ZV=hR;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e){return e?Hi(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e4(t){return nR(t.auth,new Dy(t),t.bypassAuthState)}function t4(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),OV(n,new Dy(t),t.bypassAuthState)}async function n4(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),NV(n,new Dy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e4;case"linkViaPopup":case"linkViaRedirect":return n4;case"reauthViaPopup":case"reauthViaRedirect":return t4;default:$r(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new mc(2e3,1e4);class $o extends fR{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,r4.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="pendingRedirect",nf=new Map;class s4 extends fR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const s=await a4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a4(t,e){const n=u4(e),s=l4(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function o4(t,e){nf.set(t._key(),e)}function l4(t){return Hi(t._redirectPersistence)}function u4(t){return tf(i4,t.config.apiKey,t.name)}async function c4(t,e,n=!1){if(Rr(t.app))return Promise.reject(Qi(t));const s=io(t),o=JV(s,e),c=await new s4(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=600*1e3;class f4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!dR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h4&&this.cachedEventUids.clear(),this.cachedEventUids.has(u0(e))}saveEventToCache(e){this.cachedEventUids.add(u0(e)),this.lastProcessedEventTime=Date.now()}}function u0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function d4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e={}){return ra(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g4=/^https?/;async function y4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m4(t);for(const n of e)try{if(_4(n))return}catch{}$r(t,"unauthorized-domain")}function _4(t){const e=Eg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!g4.test(n))return!1;if(p4.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new mc(3e4,6e4);function c0(){const t=pi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E4(t){return new Promise((e,n)=>{function s(){c0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c0(),n(mi(t,"network-request-failed"))},timeout:v4.get()})}if(pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pi().gapi?.load)s();else{const o=fV("iframefcb");return pi()[o]=()=>{gapi.load?s():n(mi(t,"network-request-failed"))},XA(`${hV()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw rf=null,e})}let rf=null;function T4(t){return rf=rf||E4(t),rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new mc(5e3,15e3),S4="__/auth/iframe",b4="emulator/auth/iframe",A4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C4(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sy(e,b4):`https://${t.config.authDomain}/${S4}`,s={apiKey:e.apiKey,appName:t.name,v:dl},o=R4.get(t.config.apiHost);o&&(s.eid=o);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${oc(s).slice(1)}`}async function I4(t){const e=await T4(t),n=pi().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:C4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=mi(t,"network-request-failed"),d=pi().setTimeout(()=>{l(c)},w4.get());function m(){pi().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N4=500,O4=600,M4="_blank",x4="http://localhost";class h0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P4(t,e,n,s=N4,o=O4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...D4,width:s.toString(),height:o.toString(),top:l,left:c},g=Cn().toLowerCase();n&&(d=HA(g)?M4:n),FA(g)&&(e=e||x4,m.scrollbars="yes");const _=Object.entries(m).reduce((T,[D,j])=>`${T}${D}=${j},`,"");if(nV(g)&&d!=="_self")return L4(e||"",d),new h0(null);const w=window.open(e||"",d,_);xe(w,t,"popup-blocked");try{w.focus()}catch{}return new h0(w)}function L4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__/auth/handler",k4="emulator/auth/handler",U4=encodeURIComponent("fac");async function f0(t,e,n,s,o,l){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:dl,eventId:o};if(e instanceof eR){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",zN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof gc){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await t._getAppCheckToken(),g=m?`#${U4}=${encodeURIComponent(m)}`:"";return`${j4(t)}?${oc(d).slice(1)}${g}`}function j4({config:t}){return t.emulator?Sy(t,k4):`https://${t.authDomain}/${V4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class z4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oR,this._completeRedirectFn=c4,this._overrideRedirectResult=o4}async _openPopup(e,n,s,o){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await f0(e,n,s,Eg(),o);return P4(e,l,Iy())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await f0(e,n,s,Eg(),o);return qV(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(es(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await I4(e),s=new f4(e);return n.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vp,{type:Vp},o=>{const l=o?.[0]?.[Vp];l!==void 0&&n(!!l),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $A()||qA()||Ay()}}const B4=z4;var d0="@firebase/auth",m0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H4(t){gi(new Qr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(t)},g=new lV(s,o,l,m);return _V(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),gi(new Qr("auth-internal",e=>{const n=io(e.getProvider("auth").getImmediate());return(s=>new F4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(d0,m0,q4(t)),Ir(d0,m0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=300,K4=TS("authIdTokenMaxAge")||G4;let p0=null;const Y4=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>K4)return;const o=n?.token;p0!==o&&(p0=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Q4(t=kg()){const e=to(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yV(t,{popupRedirectResolver:B4,persistence:[ZV,zV,oR]}),s=TS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Y4(l.toString());VV(n,c,()=>c(n.currentUser)),LV(n,d=>c(d))}}const o=vS("auth");return o&&vV(n,`http://${o}`),n}function $4(){return document.getElementsByTagName("head")?.[0]??document}uV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const l=mi("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",$4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H4("Browser");const W4={apiKey:"AIzaSyDHOq__gt6HEkEkCDfxquDCpSheirR5qEA",authDomain:"bingelog-e89f5.firebaseapp.com",projectId:"bingelog-e89f5",storageBucket:"bingelog-e89f5.firebasestorage.app",messagingSenderId:"1027526846013",appId:"1:1027526846013:web:ac40efa1ca0b6c4e50ec54",measurementId:"G-N05RJMX3YG"},Ny=NS(W4);_M(Ny);const Wr=vL(Ny),Oy=Q4(Ny),X4="_mainWrapper_9jvga_1",Z4={mainWrapper:X4};function J4(){return C.jsxs("main",{className:Z4.mainWrapper,children:[C.jsx("h1",{children:"What's BingeLog?"}),C.jsx("p",{children:"Netflix. Max. Hulu. Disney+. Crunchyroll. The age of streaming is a mishmash of different sources of entertainment with monthly new releases. Do you have the time to watch everything? Can you even keep track of it all? Welcome to BingeLog. Toss all your the shows and movies you still need to watch or catch up on into a list. Keep track of each and every episode and share with friends live updates so they dont spoil what happens two episodes from now in that big final episode of the season. Be as detailed as you want. Track entire characters and their arcs. Settings. Plot points. Make notes for each episode."}),C.jsx(Bi,{to:"/about",children:C.jsx("h2",{children:"Click here to learn more"})}),C.jsx("br",{})]})}function un({children:t,...e}){return C.jsx(C.Fragment,{children:C.jsx("button",{...e,children:t})})}const ek="_curWatchingWrapper_qlfa3_1",tk="_watchingList_qlfa3_19",g0={curWatchingWrapper:ek,watchingList:tk};function nk(){const t=st(e=>e.shows.currentlyBinging);return console.log(t),C.jsx(C.Fragment,{children:C.jsxs("main",{className:g0.curWatchingWrapper,children:[C.jsx("h2",{children:"Currently Binging:"}),C.jsx("div",{className:g0.watchingList,children:t.map(e=>C.jsx("p",{children:e.show},e.id))})]})})}const rk=F.createContext({userAccount:{id:void 0,email:void 0,userName:void 0,password:void 0,myShows:[],friendList:[]},bingeFeed:[{userName:void 0,currBinge:[],recentlyWatchedEp:{epName:void 0,showName:void 0},recentlyFinishedShow:void 0}],addFriend:()=>{},isCreatingAccount:!1,createNewUser:async()=>{},startCreatingAccount:()=>{},stopCreatingAccount:()=>{},isLoggingIn:!1,isLoggedIn:!1,startLoggingIn:()=>{},stopLoggingIn:()=>{},verifyLogin:()=>{},logOut:()=>{}});F.createContext({bio:[],editingBio:[!1],updateBio:()=>{},editBio:()=>{},saveBio:()=>{},bioAvatar:[],uploadAvatar:()=>{},myShows:[],saveShow:()=>{},displayShows:()=>{},currentlyBinging:[],binging:()=>{},bingingChecked:[],areNotesOpen:[],openNotes:()=>{},isEditingEpNotes:[],editEpNotes:()=>{},updateEpNotes:()=>{},saveNotes:()=>{},epNotes:[],isEditingCharNotes:[],editCharNotes:()=>{},updateCharNotes:()=>{},saveCharNotes:()=>{},characterNotes:[]});function ik(){const t=fr();function e(o){t(Hu.updateBio(o))}function n(){t(Hu.saveBio())}const s=st(o=>o.profile.bio);return C.jsxs(C.Fragment,{children:[C.jsx("label",{children:"Upload Avatar"}),C.jsx("input",{type:"file",accept:"image/*"}),C.jsxs("div",{children:[C.jsx("textarea",{value:s,onChange:o=>e(o.target.value)}),C.jsx(un,{onClick:n,children:"Save Bio"})]})]})}const sk="_mainWrapper_cfe5a_1",ak="_header_cfe5a_15",ok="_editBttn_cfe5a_27",lk="_totalBinge_cfe5a_37",uk="_bioBox_cfe5a_57",ck="_avatar_cfe5a_81",ka={mainWrapper:sk,header:ak,editBttn:ok,totalBinge:lk,bioBox:uk,avatar:ck};function hk({id:t}){const e=fr();function n(){e(Hu.editBio())}const s=st(m=>m.profile.bio),o=st(m=>m.auth.user.userName);st(m=>m.auth.user.id);const l=st(m=>m.profile.isEditingBio),c=st(m=>m.shows.currentlyBinging),d=st(m=>m.shows.finishedShows);return C.jsx(C.Fragment,{children:C.jsxs("main",{className:ka.mainWrapper,children:[C.jsxs("div",{className:ka.header,children:[C.jsx(un,{className:ka.editBttn,onClick:n,children:"Edit Bio"}),C.jsx(un,{className:ka.editBttn,children:" Add Friend"}),C.jsx("img",{className:ka.avatar,src:"/Bingelog/DefaultAvatar",width:"75",height:"75"}),C.jsx("h3",{children:o}),C.jsx("h3",{children:"Binging since: 2025"}),C.jsx(Bi,{to:"/friendsList",children:C.jsx("h2",{children:"Friends List"})}),l?C.jsx(ik,{}):C.jsx("div",{className:ka.bioBox,children:s}),C.jsxs("div",{className:ka.totalBinge,children:[C.jsxs("h4",{children:["Shows Finished: ",d.length," "]}),C.jsxs("h4",{children:["Currently Binging: ",c.length," shows"]})]})]}),C.jsx("a",{href:"http://localhost:5173/userPage/${userId}",to:"_blank",children:C.jsx("h4",{children:"Share Profile Link"})})]})})}const fk="_mainWrapper_9mvwk_1",dk="_menuBttns_9mvwk_19",mk="_mainContent_9mvwk_41",kp={mainWrapper:fk,menuBttns:dk,mainContent:mk};function nl({label:t,id:e,attribute:n,...s}){return C.jsxs(C.Fragment,{children:[C.jsx("label",{htmlFor:n,children:t}),C.jsx("input",{id:e,...s})]})}const pk="_showNotesWrapper_easm0_1",gk="_saveNotesBttn_easm0_47",yk="_noteBttnsDiv_easm0_63",_k="_editBttn_easm0_77",vk="_viewNotesBttn_easm0_91",Ek="_closeNotesBttn_easm0_107",Tk="_showNotes_easm0_1",Ua={showNotesWrapper:pk,saveNotesBttn:gk,noteBttnsDiv:yk,editBttn:_k,viewNotesBttn:vk,closeNotesBttn:Ek,showNotes:Tk};function wk({epTitle:t,showTitle:e}){const n=fr(),s=st(P=>P.notes.epNotes),o=st(P=>P.notes.charNotes),l=st(P=>P.auth.user.uid),c=st(P=>P.shows.watchedEps),[d,m]=F.useState({}),[g,_]=F.useState({}),[w,T]=F.useState(),[D,j]=F.useState();function W(P){T(P)}function U(P,N){m(A=>({...A,[N]:P}))}function Y(P,N){_(A=>({...A,[N]:P}))}async function ue(P,N){const A=c.some(L=>L.epName===P&&L.showName===N);let R=null;A?R=c.filter(L=>!(L.epName===P&&L.showName===N)):(R=[...c,{epName:P,showName:N}],alert(`Watched ${P}!`));try{const L=Zs(Wr,"Users",l);await cl(L,{watchedEps:R}),n(Fi.updateWatchedEps(R))}catch(L){console.error(L)}}async function ee(P){const N={...s,[P]:d[P]??s[P]},A={...o,[P]:g[P]??o[P]};try{const R=Zs(Wr,"Users",l);await cl(R,{epNotes:N,charNotes:A}),n(cf.updateEpNotes(N)),n(cf.updateCharNotes(A))}catch(R){console.error(R)}T()}function he(P){j(P)}function oe(){j()}return F.useEffect(()=>{const P=JSON.parse(localStorage.getItem("EpNotes: "+t));P&&U(P,t)},[t]),C.jsxs("main",{className:Ua.showNotesWrapper,children:[C.jsxs("div",{className:Ua.noteBttnsDiv,children:[w===t?C.jsx(un,{className:Ua.saveNotesBttn,onClick:()=>ee(t),children:"Save Notes"}):C.jsx(un,{className:Ua.editBttn,onClick:()=>W(t),children:"Edit Notes"}),w!==t&&D===t?C.jsx(un,{className:Ua.closeNotesBttn,onClick:()=>oe(),children:"Close Notes"}):C.jsx(un,{className:Ua.viewNotesBttn,onClick:()=>he(t),children:"View Notes"}),C.jsx(nl,{label:"Watched",type:"checkbox",value:t,checked:c.some(P=>P.epName===t&&P.showName===e),onChange:()=>ue(t,e)})]}),w===t&&C.jsxs("div",{children:[C.jsx("p",{children:"Episode Notes"}),C.jsx("textarea",{value:d[t]??s[t],onChange:P=>U(P.target.value,t)}),C.jsx("p",{children:"Character Notes"}),C.jsx("textarea",{value:g[t]??o[t],onChange:P=>Y(P.target.value,t)})]}),D===t&&C.jsxs("div",{className:Ua.showNotes,children:[C.jsx("p",{children:"Episode Notes "}),s[t],C.jsx("hr",{}),C.jsx("p",{children:"CharacterNotes"}),o[t]]})]})}const Sk="_epWrapper_9zql4_1",bk="_epList_9zql4_63",Ak="_singleEp_9zql4_87",qh={epWrapper:Sk,epList:bk,singleEp:Ak};function Rk({seasonTitle:t,show:e}){const n=e.seasons.find(s=>s.title===t);return C.jsxs("main",{className:qh.epWrapper,children:[C.jsx("div",{children:C.jsx("p",{className:qh.epList,children:"Episodes List"})}),n&&C.jsx("div",{children:n.episodes?.map(s=>C.jsxs("div",{className:qh.singleEp,id:s.title,children:[C.jsxs("header",{children:[C.jsx("h3",{children:s.title}),C.jsx("div",{className:qh.noteBttnsDiv,children:C.jsx(wk,{show:e,epTitle:s.title,showTitle:e.title})})]}),C.jsx("br",{})]},s.title))},n.title)]})}const Ck="_seasonsWrapper_u2jy9_1",Ik="_seasonsTitle_u2jy9_15",y0={seasonsWrapper:Ck,seasonsTitle:Ik};function Dk({show:t}){const[e,n]=F.useState("");function s(o){n(o),e===o&&n("")}return C.jsxs("main",{className:y0.seasonsWrapper,children:[C.jsx("p",{className:y0.seasonsTitle,children:"Seasons List"}),t&&C.jsxs("div",{children:[t.seasons?.map(o=>C.jsx("p",{onClick:()=>s(o.title),children:o.title},o.title)),e&&C.jsx(Rk,{seasonTitle:e,show:t})]},t.imdbId)]})}const Nk="_showWrapper_glu6g_1",Ok="_showTitle_glu6g_19",Mk="_showStatus_glu6g_47",Up={showWrapper:Nk,showTitle:Ok,showStatus:Mk},xk={};function My({children:t,open:e,handleClose:n}){const s=F.useRef();return F.useEffect(()=>{const o=s.current;return e&&o.showModal(),()=>{o.open&&o.close()}},[e]),pS.createPortal(C.jsxs("dialog",{onClose:n,ref:s,className:xk.dialog,children:[" ",t," "]}),document.getElementById("modal"))}function Pk({show:t}){const e=st(s=>s.shows.isReviewing),n=st(s=>s.shows.isReviewing);return C.jsx(C.Fragment,{children:C.jsx(My,{open:e,onClose:n,children:C.jsx("textarea",{defaultValue:t.title})})})}function _0({id:t}){const e=fr(),[n,s]=F.useState(""),o=st(T=>T.shows.myShows),l=st(T=>T.shows.currentlyBinging),c=st(T=>T.shows.finishedShows),d=st(T=>T.auth.user.uid);function m(T){s(T),n===T&&s("")}async function g(T,D){const j=c.some(U=>U.id===D);let W;j?W=c.filter(U=>U.id!==D):(W=[...c,{show:T,id:D}],alert(`Finished ${T}!`));try{const U=Zs(Wr,"Users",d);await cl(U,{finishedShows:W}),e(Fi.updateFinishedShows(W))}catch(U){console.log(U)}}async function _(T,D){const j=l.some(U=>U.id===D);let W;j?W=l.filter(U=>U.id!==D):W=[...l,{show:T,id:D}];try{const U=Zs(Wr,"Users",d);await cl(U,{currentlyBinging:W}),e(Fi.updateBinging(W))}catch(U){console.error(U)}}function w(){e(Fi.startReviewing())}return C.jsxs("main",{...t,className:Up.showWrapper,children:[C.jsx("h2",{children:"Show Sorting Options "}),o.map(T=>C.jsxs("div",{className:Up.showTitle,children:[C.jsx("p",{onClick:()=>m(T.imdbId),children:T.title}),C.jsxs("div",{className:Up.showStatus,children:[C.jsx(un,{onClick:()=>w(),children:"Post Review"}),C.jsx(Pk,{show:T}),C.jsxs("label",{children:[" Finished",C.jsx("input",{type:"checkbox",value:T.imdbId,checked:c.some(D=>D.id===T.imdbId),onChange:()=>g(T.title,T.imdbId)})]})," ||",C.jsxs("label",{children:[" Currently Binging",C.jsx("input",{type:"checkbox",value:T.imdbId,checked:l.some(D=>D.id===T.imdbId),onChange:()=>_(T.title,T.imdbId)})]})]}),n===T.imdbId&&C.jsx(Dk,{show:T})]},T.imdbId))]})}function Lk(){return C.jsx(C.Fragment,{children:C.jsxs("main",{children:[C.jsx("h1",{children:"Reviews"}),C.jsx("p",{children:"Walking Dead is great!"})]})})}function Vk(){const[t,e]=F.useState(C.jsx(_0,{})),s=oS().id;if(!st(m=>m.auth.isLoggedIn))return C.jsx(PD,{to:"/",replace:!0});function l(){e(C.jsx(_0,{userId:s}))}function c(){e(C.jsx(Lk,{userId:s}))}function d(){e(C.jsx(nk,{userId:s}))}return C.jsx(C.Fragment,{children:C.jsxs("main",{className:kp.mainWrapper,id:s,children:[C.jsx(hk,{id:s}),C.jsxs("div",{className:kp.menuBttns,children:[C.jsx(un,{onClick:l,children:"My Shows"})," |",C.jsx(un,{onClick:c,children:"My Reviews"})," |",C.jsx(un,{onClick:d,children:"Currently Watching"})]}),C.jsx("div",{className:kp.mainContent,children:t})]})})}const kk="_showWrapper_ok71v_1",Uk="_showInfo_ok71v_35",jk="_showDetails_ok71v_57",zk="_genres_ok71v_77",Bk="_seasonInfo_ok71v_89",Ru={showWrapper:kk,showInfo:Uk,showDetails:jk,genres:zk,seasonInfo:Bk};function Fk({showDetails:t}){console.log(t);const e=fr(),n=st(c=>c.shows.myShows),s=st(c=>c.auth.user.uid);async function o(c){const d={imdbId:c.imdbId,title:c.title,seasons:c.seasons?.map(_=>({title:_.title,episodes:_.episodes?.map(w=>({title:w.title}))}))},m=[...n,d];if(!s){console.error("No user logged in!");return}const g=Zs(Wr,"Users",s);await cl(g,{myShows:m}),e(Fi.updateMyShows(m))}function l(c){o(c)}return console.log(t),C.jsx("main",{className:Ru.showWrapper,children:t&&C.jsxs("div",{className:Ru.showInfo,children:[C.jsxs("header",{children:[C.jsx("h2",{children:t.title}),C.jsx(un,{onClick:()=>l(t),children:"Save Show"})]}),C.jsxs("div",{className:Ru.showDetails,children:[C.jsxs("div",{className:Ru.genres,children:[C.jsx("p",{children:t.genres[0].name}),"|",C.jsx("p",{children:t?.genres[1]?.name}),"|",C.jsx("p",{children:t?.genres[2]?.name})]}),C.jsxs("div",{className:Ru.seasonInfo,children:[C.jsxs("p",{children:[t?.seasonCount," Seasons"]})," -",C.jsxs("p",{children:[t.episodeCount," Episodes"]})]})]}),C.jsx("p",{children:t.overview}),C.jsx("img",{src:t.imageSet.verticalPoster.w240})]},t.imdbId)})}const qk="_mainDropdownWrapper_15h6a_1",Hk={mainDropdownWrapper:qk};function Gk({searchResults:t,query:e}){const[n,s]=F.useState(null);function o(l){s(l)}return console.log(t),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:Hk.mainDropdownWrapper,children:C.jsx("div",{children:t.filter(l=>l.title.toLowerCase().includes(e.toLowerCase())).map(l=>C.jsx("p",{onClick:()=>o(l),children:l.title},l.imdbId))})}),C.jsx("div",{children:n&&C.jsx(Fk,{showDetails:n})})]})}const Kk="_mainWrapper_vwg4t_1",Yk={mainWrapper:Kk};function Qk(){const[t,e]=F.useState(""),[n,s]=F.useState(null);return F.useEffect(()=>{if(!t)return;const o=setTimeout(()=>{async function l(c){try{const d=`https://streaming-availability.p.rapidapi.com/shows/search/title?title=${c}&country=us&series_granularity=episode&output_language=en`,_=await(await fetch(d,{method:"GET",headers:{"x-rapidapi-key":"a89fb87d38msh09f056f5c014528p1a7f90jsn35606eacd94f","x-rapidapi-host":"streaming-availability.p.rapidapi.com"}})).json();s(_),console.log(_)}catch(d){console.error(d)}}l(t)},500);return()=>clearTimeout(o)},[t]),C.jsxs("div",{className:Yk.mainWrapper,children:[C.jsx("input",{type:"search",placeholder:"Seach a show",value:t,onChange:o=>e(o.target.value)}),n&&C.jsx(Gk,{searchResults:n,query:t})]})}const $k="_mainWrapper_1yzt3_1",Wk={mainWrapper:$k};function Xk(){return C.jsx(C.Fragment,{children:C.jsx("main",{className:Wk.mainWrapper,children:C.jsxs("header",{children:[C.jsx("h1",{children:"Shows List Page"}),C.jsx(Qk,{})]})})})}const Zk="_mainWrapper_qoxgh_1",Jk="_header_qoxgh_23",eU="_actionBar_qoxgh_43",jp={mainWrapper:Zk,header:Jk,actionBar:eU};function tU({friend:t,key:e}){return C.jsxs("main",{className:jp.mainWrapper,children:[C.jsxs("article",{children:[C.jsx("header",{className:jp.header,children:C.jsx("p",{children:t?.userName})}),C.jsxs("div",{children:[C.jsxs("p",{children:["Currently Binging: ","",t.currentlyBinging?.length>0?t.currentlyBinging.map(n=>n.show).join(", "):"Friend is not bining anything"]}),C.jsxs("p",{children:["Recently Watched: ","",t.watchedEps?.length>0?`${t.watchedEps[t.watchedEps.length-1].epName} -
                      ${t.watchedEps[t.watchedEps.length-1].showName}`:"Friend has not recently watched anything"]}),C.jsxs("p",{children:["Recently Finished: ","",t.finishedShows?.length>0?t.finishedShows[t.finishedShows.length-1].show:""]})]})]}),C.jsx("div",{className:jp.actionBar,children:C.jsx("p",{children:"Action Bar"})})]},e)}const nU="_mainWrapper_7r4cv_1",rU={mainWrapper:nU};function iU(){fr();const t=st(s=>s.friends.friendsList),[e,n]=F.useState([]);return F.useEffect(()=>{async function s(){try{const l=(await Ty(py(Wr,"Users"))).docs.map(c=>({id:c.id,...c.data()}));n(l)}catch(o){console.error("Can't find global users",o)}}s()},[]),console.log(e),C.jsxs("main",{className:rU.mainWrapper,children:[C.jsx("h1",{children:"BingeLog Feed"}),t?.map(s=>{const o=e.find(l=>l.id===s);return o?C.jsx(tU,{friend:o},o.id):null})]})}const sU="_mainWrapper_1q5s2_1",aU={mainWrapper:sU},oU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAAAxCAYAAABQzoWlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAyqSURBVHhe7Z09axtLF8fzVQT+AoYUT3sFaQRuAreIIEUwT/EgXATj4iLSBPEUF+EiiBRGpDDoFgalCMhFwG4MSmFQCoNcGOQihQoXW7jYwsW5Z1YraXfmPzuzaynROufAD8xodnZ3Xv47c+bFz9hIEAThiQEDBUEQygwMFARBKDMwUBAEoczAQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUINvUODqj0dWYxpdn1N3bBnEEYc08b1D3fERjroej8y41noM4AgwUDCrUvgwpbSGNj6og7hNhq0q7/+9S77i3oPPXS6pugbir4nmN6q/rKWrScJdstWlkVMMxdV+AuCulQtU/0+VS/7NKFRh3I4CBgkGXxnE9Stl1F8QtOxVqHI8peIjfUbdwRB143Qr4ZOby+BOI97sC8kfZ+vNon86C+GZzC85oH8bdCGCght6oH9NTqVHvJk5mbqUQB4uwXT01YavQ/rlegzX73lnfl/oJCFv3On7wud2xAPj0ct+ekZHzetuwCdtRIs5a+C2EjY2/2u0CQ5LK4YhlUbNSCBsaigZ0dlABcUvMmwFN47ez2eiD7zs3aHAbUnif4HZADRg35ikKG1twvu/+GPgIGxqK+grno1iPsDW+TNL1435Cgz0cNycwUAP3VrwKK8lWi4b38cVJK81w7ulPHqDeWngzoNZenep7Lepf9KkJrsMUaAxPVNiiUc6nGoy/wEfYFL9k8mA9wmbWN+4svMVxcwIDNSzDMP62D96g+Jj9r2ajiaw0wvb0MRrlw4g6hXsDImxpc/TwfYXtl/BbCRvbbZ9q8BqNnT5N4ksM8y28aMasSZ3FDB33InZsvSYwi/O6RtswbpJtqqWuqdPLP2aVsfLHy1R4/bXfDGF03V+deGaxG/V+1jfTN3vvxnw286hFDc/nXFnlXcxstmlopDekdioPtTJxCNv2Tp2aH+JZ2g/NjPJ3oJ6Re6DdRF2al/NjsQsbm5rB3MHX+QlbwdnJrSq9XLyvqoPpOqHyNTtNR91wpJ9m2cba30xhG/6dfpaCbQUGamQIG9v4k2sioZpd2JnCxgV50KPRD8Mzt7T7KY0+t6ieysgKdb7Hvy8spOG7ZByTyvuh5gMMaXQ4q/D5vi4Vqh8OaHwXRwUW/hhRb1XD2ee71DnNmMlkC64tw+ePo4WPA9nS/6HwmBG1OLixcUN3XDv+pPLyjCbIjaHsbkyDvx3DvJjtPUddUmkd1h81OZJZ15XZfGJewpbv41N51aazWyPVhQVXvWgoazyzkablvjws7l1Z0n8IaXrJ6Rvvmq0nuhXsscNADceDOCYS4IRB0mzCtlWnzqW9UAwLuNG9Snx13+kixZY5o1c1Z2ynA9qNf/cWtq0G9W8y3zhhXPinTY+epJ3tdwOa+N4O3e8xQoRYsbCFgU8dcPmwatS+cE2LLC3gepL+UPrjFDa2kOu8MdJZqbBVqHEyyW53c+Ne5PhH/PfcfITtIaDA5waGkJdF2NjCby2LYIAM0Q0KW40riHdrXVqqq79LA6Mu8++2CgtmBCf/LHujXsK2xe/r334WlnsiJqZyABqDh6Xut+HC5m+2HjTXpav8dQmKjwc+wqbMKPMVCluN87FA61maj7DlsPCqS9VFWiUSNlul2v2itXI0VALCZp1oCCY0Ou9T7+SMRrYudqKXVf3H9OwlxSpJ80KrCprj3EfY4HOHExoeK1+X8hk0qPUZDRltjTKDF1wusPZyr+x6SIPjHg0uxjSFQ7jlEHvlQ9E3rZkP7JiH4vq973moF/02p7UoqwiHsIV3ExpzuYe2ITfokVePQCPn3sb4tEPN2I/TPBrCXq/bzWJiCltIwR3KW62XuSphy/BnB7cjOjvhfD8dci8Nl3dkeYUtDLjOcV2zduGSE4271IrLf2B0XjhPTpP1o0etHBOUCWCghilswfnAXE+jTyTs9GiiVcDJSd8USb3wVIM1Km7I1zaMSlv5HxciyMvFWqutDo30tBLCtwDECy+aqThOYXvB7xv/sjCbP2UHiNJNL/FVc2M+D9vdkNqGc5qHYYaTls3IB7/egD8F0rMIW3jT15Y1bFMTvT9/jNrJ9J41zSVGNge+6m3rPtH7YY7lLTNMYeN6cgDSjkz9FtfVFQmb8YFWxu/cS7ppYrb3cPvxF7aAhppPsvKqBz+40y/1RHozvN07+YGBGkjY9qkKKuHkeP4FqlD7u/Z2qpGj3p9WeKiXFX5vG6I2x7bodx7fLGhzEsG8p7mUxVUI1RM9jezJCvOeGcNkA9BgM5ffoGG5XokKCFEmBdJDwsbi0oL5ghob58HrRBxjMsjeY48w/LL5GxoUNpUG+pgpmwvtSoQN5QnfP2OZCWw/nsI2OcF+zQoqR27DeryNFDbVE+jfxgFziycS0Ozi8L3KXLewtdFs5vvk8+iAhb/JgkGr6VNDFtDoQe/JVQjmc095CJruVqc41YdIqgKm72nlNXgn7jFn9fhM4VUfomSFLyBEmRRIDzSIWV0DcZnWN71JpsukrrtCOMf1oU6aoZGv6TxyYxU2/s3qE1UfffRbbmED7YvTztzt4Wo/EUjYJtSzfYhfgOGw8S4bK2z8GxCN8Fvf6HYve1xuYTMrRkYGRlTM2Uy+y9IpDWY7VZrzExHA7CnaNuQqBPO585u3oxR83bMEIAI0nPQ1mylsWXniKhPz9/zmzFeNLGFT2Bz74V1ghq9C2ICgpPEpp7xl6fccmytsLCrOyvPAIrLwaaxD2KpmzzElbPyl/DCKw5c2Pd3l38B6N4tf5acIm+9m5iLCBoZlImxuC742Uvd04RI2rzYzt1UIm7MM26Yf2rjmtxM2xrYHNLbpFyUg9rT0FzaHF9yDOlz+buJTMMAnpQQMOPxngpe8doarEMznntLgbXoVdTY5zjpDXf3pgOoobow5LNOHWU9P2JDfc3SE8t5O3pXvbmFTeC5nyi1sdeBLTcyAA2rHpovCLKffUdgY6yJc4+XdLwwdjxlbt2DBgGn/3VPT3zK5MTwqyyGqhqsQ0HOrfLJNejwOUNH4fWZ+TBBfzfgZ8fXJhgJClAlIT00EwLgxKxY26JC/6RVan+aLn7Ax6KQO3XILG6rnbA9TY/ZS9Rzrh0Mzf5T9MmFz+dO9gYEabmFTXyDTj4UaGujd6S9sKfDgW9vYNoULxvKFQssxdMvYmeBsRPC5WTw/N+DOArW9ZxxMszdGZ2CsEVQWTqivb5t6btkJsfblHqiRZ83cMqsWNjgbjOrSjGgL0o+A7+m3RQvhLWyMc4F1AWHLFMwwoIk6neZ6mr1r4CcJGypv24gpJzBQw0fYGG1hYHq18RyQQeCFrSunH2YLAdWRLVNLjbCvGEf7R5PGQpyxPMPdiCy9R2X83FGFikk/O6dTRNzQuqvYooWs6l7WxazonqsXNjPP2MIpjS8G8eJhrYe8cmHLEA+1lzGuS4pJahGtxzFDFvIImyJzl0ARYWOK7khZ2M8SNtSj5tyIFpirRcRT7hhkLc+xAwM1PIWN2edu8GyF+jgxYZDET9hUDxAuKnWZbUHsHLR/dG5o4W4Cn0ZU+LnVcdv/0dNyY1ugnG22Rrt6YfM5uHJykqi4axA29UHz3jeZMu5d/ldPy01eYcucTCgobAq1h5h1wW1TFnVnmmsSNkuPOmWOZUwWYKCGv7C58RU2xTY1T/0rpDqdtel09IK1d7G5vgx+jUiR77kj/4fn6RSIyqsOjfRHsxn3HEcfbadXrEHYVKP96qi5yQ/KWoRNUaH6x1Hm6SdpwztdfMgvbArLZMIjhC1ifuoLqow8LB1Hp+KANI21b+sStlnvcppZLg73BQYGavwqYZtRedWi/uXUWikDdfzPgf9/zEFLP3wOVPRvRDMqf+xT72Ji92WoirWyE1Bnp/uO4Z5ENnWv0w7tZt5rHcKmyDjCKTrapvsThC0mbug2N0bk6rjsUwtsP/KlmLAxyLXwWGFLkDxPMHX2HJphN/6Xx/qETaF8m4NrXCjqeK/ueoRtc0gd9rjZ//4rjfZv5db7L+XSh2Vu1L+vS+bDry4/dThiIp9WddDkplA9aHl9NNEsKtrX+XNI1t0cy59MYKAgCGVmvrZUnWLCo4J9JNos7Pufkcuk0NBv04CBgiCUGLwUKKQwmM6WeqgJPotrJ+vAiRIBAwVBKCvw2C9Pc60qKA8wUBCE0uL4HxEWM8+8KzUwUBCE0qP+EVJnthA6wEPP8D6gycWAOk/vf+TCQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUBEEoMzBQEAShzMBAQRCEkvKM/gU6XAPgx+NWUwAAAABJRU5ErkJggg==";function lU(){return C.jsx(C.Fragment,{children:C.jsxs("footer",{className:aU.mainWrapper,children:[C.jsx("h4",{children:"Credits"}),C.jsxs("p",{children:[C.jsx("a",{href:"https://www.movieofthenight.com/about/api",children:C.jsx("img",{width:"110px",src:oU})})," | Show and Movie Data"]})]})})}function uU(){return C.jsxs(C.Fragment,{children:[C.jsx("h2",{children:"About Page"}),C.jsx(lU,{})]})}function cU(){fr();const t=st(s=>s.friends.friendsList),[e,n]=F.useState([]);return F.useEffect(()=>{async function s(){try{const l=(await Ty(py(Wr,"Users"))).docs.map(c=>({id:c.id,...c.data()}));n(l)}catch(o){console.error("Can't find global users",o)}}s()},[]),console.log("Global Users",e),console.log("Friend List",t),C.jsxs(C.Fragment,{children:[C.jsx("h1",{children:"Friends List"}),t.map(s=>{const o=e.find(l=>l.id===s);return C.jsx("div",{children:C.jsx("p",{children:o?.userName||"Unknown User"})},s)})]})}const hU="_showWrapper_ok71v_1",fU="_showInfo_ok71v_35",v0={showWrapper:hU,showInfo:fU};function dU({userDetails:t}){console.log(t);const e=fr(),n=st(c=>c.auth.user.uid),s=st(c=>c.friends.friendsList);oS().id;async function l(c){const d=[...s,c];try{const m=Zs(Wr,"Users",n);await cl(m,{friendsList:d}),e(z0.addFriend(s)),alert("Friend Added!")}catch(m){console.log(m),alert(m.message)}}return C.jsx("main",{className:v0.showWrapper,children:t&&C.jsx("div",{className:v0.showInfo,children:C.jsxs("header",{children:[C.jsx(Bi,{to:`/userPage/${t.id}`,children:C.jsx("h2",{children:t.userName})}),C.jsx(un,{onClick:()=>l(t.id),children:"Save User"})]})},t.id)})}const mU="_mainDropdownWrapper_15h6a_1",pU={mainDropdownWrapper:mU};function gU({searchResults:t}){const[e,n]=F.useState(null);function s(o){n(o)}return console.log(t),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:pU.mainDropdownWrapper,children:C.jsx("div",{children:t.map(o=>C.jsx("p",{onClick:()=>s(o),children:o.userName},o.id))})}),C.jsx("div",{children:e&&C.jsx(dU,{userDetails:e})})]})}const yU="_mainWrapper_vwg4t_1",_U={mainWrapper:yU};function vU(){const[t,e]=F.useState(""),[n,s]=F.useState(null);return F.useEffect(()=>{async function o(l){if(l)try{const m=(await Ty(py(Wr,"Users"))).docs.map(g=>({id:g.id,...g.data()})).filter(g=>g.userName?.toLowerCase().includes(l.toLowerCase()));s(m),console.log("Query Data",m)}catch(c){console.error("Can't find global users",c)}}o(t)},[t]),C.jsxs("div",{className:_U.mainWrapper,children:[C.jsx("input",{type:"search",placeholder:"Seach a user",value:t,onChange:o=>e(o.target.value)}),n&&C.jsx(gU,{searchResults:n})]})}const EU="_mainWrapper_1yzt3_1",TU={mainWrapper:EU};function wU(){return C.jsx(C.Fragment,{children:C.jsx("main",{className:TU.mainWrapper,children:C.jsxs("header",{children:[C.jsx("h1",{children:"User Search"}),C.jsx(vU,{})]})})})}const SU="_mainWrapper_m6cxa_1",bU="_nav_m6cxa_77",AU="_navList_m6cxa_95",zp={mainWrapper:SU,nav:bU,navList:AU},RU="_inputWrapper_mikpn_3",Vf={inputWrapper:RU};function CU({type:t,onSubmit:e}){return F.useContext(rk),st(n=>n.auth.user),fr(),C.jsx("form",{onSubmit:e,className:Vf.formWrapper,children:C.jsxs("div",{className:Vf.inputWrapper,children:[C.jsx(nl,{label:"User Name",htmlFor:"username",id:"username",name:"username"}),C.jsx(nl,{label:"Password",htmlFor:"password",id:"password",name:"password"}),C.jsx(nl,{label:"Email",htmlFor:"email",id:"email",name:"email"}),C.jsx(un,{type:t,children:"Sign Up"})]})})}function IU(){const t=fr(),e=st(l=>l.auth.isCreatingAccount),n=()=>t(Ki.stopCreatingAccount());async function s(l){try{const d=(await xV(Oy,l.email,l.password)).user.uid,m=Zs(Wr,"Users",d);await PL(m,{email:l.email,userName:l.userName,bio:"",bioAvatar:null,friendsList:[],myShows:[],epNotes:[],charNotes:[],currentlyBinging:[],watchedEps:[],finishedShows:[]}),t(Ki.login({uid:d,email:l.email,userName:l.userName})),t(Ki.stopCreatingAccount())}catch(c){console.error(c)}}function o(l){l.preventDefault();const c=new FormData(l.target),d=c.get("email"),m=c.get("username"),g=c.get("password");s({email:d,userName:m,password:g})}return C.jsx(C.Fragment,{children:C.jsx(My,{open:e,handleClose:n,children:C.jsx(CU,{onSubmit:o,type:"submit"})})})}function DU({type:t,onSubmit:e}){return C.jsx("form",{onSubmit:e,className:Vf.formWrapper,children:C.jsxs("div",{className:Vf.inputWrapper,children:[C.jsx(nl,{label:"Email",htmlFor:"email",id:"email",name:"email"}),C.jsx(nl,{label:"Password",htmlFor:"password",id:"password",name:"password"}),C.jsx(un,{type:t,children:"Sign In"})]})})}function NU(){const t=fr(),e=st(o=>o.auth.isLoggingIn);function n(){t(Ki.stopLoggingIn())}async function s(o){o.preventDefault();const l=new FormData(o.target),c=l.get("email"),d=l.get("password");try{const g=(await PV(Oy,c,d)).user;t(Ki.login({uid:g.uid,email:g.email}))}catch(m){console.error("Login failed:",m)}}return C.jsx(C.Fragment,{children:C.jsx(My,{open:e,onClose:n,children:C.jsx(DU,{onSubmit:s,type:"submit"})})})}function OU(){const t=fr(),e=st(c=>c.auth.isLoggedIn),n=st(c=>c.auth.user?.uid);function s(){t(Ki.startLoggingIn())}function o(){t(Ki.logOut())}function l(){t(Ki.startCreatingAccount())}return C.jsx("header",{className:zp.mainWrapper,children:C.jsxs("nav",{className:zp.nav,children:[C.jsxs("ul",{className:zp.navList,children:[C.jsxs("li",{children:[C.jsx(Bi,{to:"/",children:C.jsx("img",{width:"35px",src:"/BingeLog/HomeIcon.png"})}),C.jsx("br",{})]}),C.jsx("li",{children:!e&&C.jsx(un,{onClick:s,children:C.jsx("img",{width:"35px",src:"/BingeLog/LogIn.png"})})}),C.jsx("li",{children:!e&&C.jsx(un,{onClick:l,children:"Create Account"})}),C.jsx("li",{children:e&&C.jsx(Bi,{to:"/bingelog",children:C.jsx("img",{width:"35px",src:"/BingeLog/BingeLog.png"})})}),C.jsx("li",{children:e&&n&&C.jsx(Bi,{to:`/userPage/${n}`,children:C.jsx("img",{width:"35px",src:"/BingeLog/UserPage.png"})})}),C.jsx("li",{children:e&&C.jsx(Bi,{to:"/shows",children:C.jsx("img",{width:"35px",src:"/BingeLog/TvIcon.png"})})}),C.jsx("li",{children:e&&C.jsx(Bi,{to:"/userSearch",children:C.jsx("img",{width:"35px",src:"/BingeLog/UserSearchIcon.png"})})}),C.jsx("li",{children:e&&C.jsx(un,{onClick:o,children:C.jsx("img",{width:"35px",src:"/BingeLog/LogOut.png"})})})]}),C.jsx(IU,{}),C.jsx(NU,{})]})})}function MU(){return C.jsxs(C.Fragment,{children:[C.jsx("main",{children:C.jsx(LD,{})}),C.jsx(OU,{})]})}function xU(){const t=fr();st(n=>n.shows.myShows),st(n=>n.auth.isLoggedIn),F.useEffect(()=>{const n=kV(Oy,async s=>{if(s)try{const o=Zs(Wr,"Users",s?.uid),l=await xL(o);if(l.exists()){const c=l.data();t(Ki.login({uid:s.uid,userName:c.userName,email:c.email})),t(Hu.uploadAvatar(c.bioAvatar)),t(Hu.updateBio(c.bio)),t(Fi.updateMyShows(c.myShows||[])),t(Fi.updateBinging(c.currentlyBinging||[])),t(Fi.updateFinishedShows(c.finishedShows||[])),t(Fi.updateWatchedEps(c.watchedEps||[])),t(cf.updateEpNotes(c.epNotes||[])),t(cf.updateCharNotes(c.charNotes||[])),t(z0.addFriend(c.friendsList||[]))}}catch(o){console.error("Auth restore failed:",o)}});return()=>n},[t]);const e=sN([{path:"/",element:C.jsx(MU,{}),children:[{index:!0,element:C.jsx(J4,{})},{path:"userPage/:id",element:C.jsx(Vk,{})},{path:"friendsList",element:C.jsx(cU,{})},{path:"bingelog",element:C.jsx(iU,{})},{path:"userSearch",element:C.jsx(wU,{})},{path:"shows",element:C.jsx(Xk,{})},{path:"about",element:C.jsx(uU,{})}]}]);return C.jsx(C.Fragment,{children:C.jsx(gN,{router:e})})}$1.createRoot(document.getElementById("root")).render(C.jsx(F.StrictMode,{children:C.jsx(fC,{store:lI,children:C.jsx(xU,{})})}));
