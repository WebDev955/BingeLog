(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var ip={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function M1(){if(HE)return _u;HE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:l}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var qE;function x1(){return qE||(qE=1,ip.exports=M1()),ip.exports}var C=x1(),sp={exports:{}},vu={},ap={exports:{}},op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function P1(){return GE||(GE=1,function(n){function e(Q,fe){var ge=Q.length;Q.push(fe);e:for(;0<ge;){var je=ge-1>>>1,x=Q[je];if(0<o(x,fe))Q[je]=fe,Q[ge]=x,ge=je;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var fe=Q[0],ge=Q.pop();if(ge!==fe){Q[0]=ge;e:for(var je=0,x=Q.length,ne=x>>>1;je<ne;){var pe=2*(je+1)-1,de=Q[pe],Ee=pe+1,qe=Q[Ee];if(0>o(de,ge))Ee<x&&0>o(qe,de)?(Q[je]=qe,Q[Ee]=ge,je=Ee):(Q[je]=de,Q[pe]=ge,je=pe);else if(Ee<x&&0>o(qe,ge))Q[je]=qe,Q[Ee]=ge,je=Ee;else break e}}return fe}function o(Q,fe){var ge=Q.sortIndex-fe.sortIndex;return ge!==0?ge:Q.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,w=null,T=3,D=!1,j=!1,W=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function he(Q){for(var fe=t(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=Q)s(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=t(g)}}function oe(Q){if(W=!1,he(Q),!j)if(t(m)!==null)j=!0,P||(P=!0,z());else{var fe=t(g);fe!==null&&$e(oe,fe.startTime-Q)}}var P=!1,N=-1,A=5,R=-1;function V(){return U?!0:!(n.unstable_now()-R<A)}function L(){if(U=!1,P){var Q=n.unstable_now();R=Q;var fe=!0;try{e:{j=!1,W&&(W=!1,ue(N),N=-1),D=!0;var ge=T;try{t:{for(he(Q),w=t(m);w!==null&&!(w.expirationTime>Q&&V());){var je=w.callback;if(typeof je=="function"){w.callback=null,T=w.priorityLevel;var x=je(w.expirationTime<=Q);if(Q=n.unstable_now(),typeof x=="function"){w.callback=x,he(Q),fe=!0;break t}w===t(m)&&s(m),he(Q)}else s(m);w=t(m)}if(w!==null)fe=!0;else{var ne=t(g);ne!==null&&$e(oe,ne.startTime-Q),fe=!1}}break e}finally{w=null,T=ge,D=!1}fe=void 0}}finally{fe?z():P=!1}}}var z;if(typeof ee=="function")z=function(){ee(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Le=I.port2;I.port1.onmessage=L,z=function(){Le.postMessage(null)}}else z=function(){Y(L,0)};function $e(Q,fe){N=Y(function(){Q(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var ge=T;T=fe;try{return Q()}finally{T=ge}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=T;T=Q;try{return fe()}finally{T=ge}},n.unstable_scheduleCallback=function(Q,fe,ge){var je=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,Q){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,Q={id:_++,callback:fe,priorityLevel:Q,startTime:ge,expirationTime:x,sortIndex:-1},ge>je?(Q.sortIndex=ge,e(g,Q),t(m)===null&&Q===t(g)&&(W?(ue(N),N=-1):W=!0,$e(oe,ge-je))):(Q.sortIndex=x,e(m,Q),j||D||(j=!0,P||(P=!0,z()))),Q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Q){var fe=T;return function(){var ge=T;T=fe;try{return Q.apply(this,arguments)}finally{T=ge}}}}(op)),op}var KE;function V1(){return KE||(KE=1,ap.exports=P1()),ap.exports}var lp={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function L1(){if(YE)return Ge;YE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,W={};function U(x,ne,pe){this.props=x,this.context=ne,this.refs=W,this.updater=pe||D}U.prototype.isReactComponent={},U.prototype.setState=function(x,ne){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ne,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function ue(x,ne,pe){this.props=x,this.context=ne,this.refs=W,this.updater=pe||D}var ee=ue.prototype=new Y;ee.constructor=ue,j(ee,U.prototype),ee.isPureReactComponent=!0;var he=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function N(x,ne,pe,de,Ee,qe){return pe=qe.ref,{$$typeof:n,type:x,key:ne,ref:pe!==void 0?pe:null,props:qe}}function A(x,ne){return N(x.type,ne,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function V(x){var ne={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(pe){return ne[pe]})}var L=/\/+/g;function z(x,ne){return typeof x=="object"&&x!==null&&x.key!=null?V(""+x.key):ne.toString(36)}function I(){}function Le(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(I,I):(x.status="pending",x.then(function(ne){x.status==="pending"&&(x.status="fulfilled",x.value=ne)},function(ne){x.status==="pending"&&(x.status="rejected",x.reason=ne)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function $e(x,ne,pe,de,Ee){var qe=typeof x;(qe==="undefined"||qe==="boolean")&&(x=null);var De=!1;if(x===null)De=!0;else switch(qe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(x.$$typeof){case n:case e:De=!0;break;case _:return De=x._init,$e(De(x._payload),ne,pe,de,Ee)}}if(De)return Ee=Ee(x),De=de===""?"."+z(x,0):de,he(Ee)?(pe="",De!=null&&(pe=De.replace(L,"$&/")+"/"),$e(Ee,ne,pe,"",function(Gn){return Gn})):Ee!=null&&(R(Ee)&&(Ee=A(Ee,pe+(Ee.key==null||x&&x.key===Ee.key?"":(""+Ee.key).replace(L,"$&/")+"/")+De)),ne.push(Ee)),1;De=0;var Yt=de===""?".":de+":";if(he(x))for(var ot=0;ot<x.length;ot++)de=x[ot],qe=Yt+z(de,ot),De+=$e(de,ne,pe,qe,Ee);else if(ot=T(x),typeof ot=="function")for(x=ot.call(x),ot=0;!(de=x.next()).done;)de=de.value,qe=Yt+z(de,ot++),De+=$e(de,ne,pe,qe,Ee);else if(qe==="object"){if(typeof x.then=="function")return $e(Le(x),ne,pe,de,Ee);throw ne=String(x),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return De}function Q(x,ne,pe){if(x==null)return x;var de=[],Ee=0;return $e(x,de,"","",function(qe){return ne.call(pe,qe,Ee++)}),de}function fe(x){if(x._status===-1){var ne=x._result;ne=ne(),ne.then(function(pe){(x._status===0||x._status===-1)&&(x._status=1,x._result=pe)},function(pe){(x._status===0||x._status===-1)&&(x._status=2,x._result=pe)}),x._status===-1&&(x._status=0,x._result=ne)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function je(){}return Ge.Children={map:Q,forEach:function(x,ne,pe){Q(x,function(){ne.apply(this,arguments)},pe)},count:function(x){var ne=0;return Q(x,function(){ne++}),ne},toArray:function(x){return Q(x,function(ne){return ne})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ge.Component=U,Ge.Fragment=t,Ge.Profiler=o,Ge.PureComponent=ue,Ge.StrictMode=s,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(x){return oe.H.useMemoCache(x)}},Ge.cache=function(x){return function(){return x.apply(null,arguments)}},Ge.cloneElement=function(x,ne,pe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var de=j({},x.props),Ee=x.key,qe=void 0;if(ne!=null)for(De in ne.ref!==void 0&&(qe=void 0),ne.key!==void 0&&(Ee=""+ne.key),ne)!P.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(de[De]=ne[De]);var De=arguments.length-2;if(De===1)de.children=pe;else if(1<De){for(var Yt=Array(De),ot=0;ot<De;ot++)Yt[ot]=arguments[ot+2];de.children=Yt}return N(x.type,Ee,void 0,void 0,qe,de)},Ge.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Ge.createElement=function(x,ne,pe){var de,Ee={},qe=null;if(ne!=null)for(de in ne.key!==void 0&&(qe=""+ne.key),ne)P.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=ne[de]);var De=arguments.length-2;if(De===1)Ee.children=pe;else if(1<De){for(var Yt=Array(De),ot=0;ot<De;ot++)Yt[ot]=arguments[ot+2];Ee.children=Yt}if(x&&x.defaultProps)for(de in De=x.defaultProps,De)Ee[de]===void 0&&(Ee[de]=De[de]);return N(x,qe,void 0,void 0,null,Ee)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(x){return{$$typeof:d,render:x}},Ge.isValidElement=R,Ge.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:fe}},Ge.memo=function(x,ne){return{$$typeof:g,type:x,compare:ne===void 0?null:ne}},Ge.startTransition=function(x){var ne=oe.T,pe={};oe.T=pe;try{var de=x(),Ee=oe.S;Ee!==null&&Ee(pe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(je,ge)}catch(qe){ge(qe)}finally{oe.T=ne}},Ge.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ge.use=function(x){return oe.H.use(x)},Ge.useActionState=function(x,ne,pe){return oe.H.useActionState(x,ne,pe)},Ge.useCallback=function(x,ne){return oe.H.useCallback(x,ne)},Ge.useContext=function(x){return oe.H.useContext(x)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(x,ne){return oe.H.useDeferredValue(x,ne)},Ge.useEffect=function(x,ne,pe){var de=oe.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(x,ne)},Ge.useId=function(){return oe.H.useId()},Ge.useImperativeHandle=function(x,ne,pe){return oe.H.useImperativeHandle(x,ne,pe)},Ge.useInsertionEffect=function(x,ne){return oe.H.useInsertionEffect(x,ne)},Ge.useLayoutEffect=function(x,ne){return oe.H.useLayoutEffect(x,ne)},Ge.useMemo=function(x,ne){return oe.H.useMemo(x,ne)},Ge.useOptimistic=function(x,ne){return oe.H.useOptimistic(x,ne)},Ge.useReducer=function(x,ne,pe){return oe.H.useReducer(x,ne,pe)},Ge.useRef=function(x){return oe.H.useRef(x)},Ge.useState=function(x){return oe.H.useState(x)},Ge.useSyncExternalStore=function(x,ne,pe){return oe.H.useSyncExternalStore(x,ne,pe)},Ge.useTransition=function(){return oe.H.useTransition()},Ge.version="19.1.1",Ge}var QE;function Lf(){return QE||(QE=1,lp.exports=L1()),lp.exports}var up={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function k1(){if($E)return Sn;$E=1;var n=Lf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Sn.flushSync=function(m){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=_,s.d.f()}},Sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Sn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:D}):_==="script"&&s.d.X(m,{crossOrigin:w,integrity:T,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=d(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Sn.requestFormReset=function(m){s.d.r(m)},Sn.unstable_batchedUpdates=function(m,g){return m(g)},Sn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var WE;function y0(){if(WE)return up.exports;WE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),up.exports=k1(),up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function U1(){if(XE)return vu;XE=1;var n=V1(),e=Lf(),t=y0();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,u=i;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),r;if(p===u)return d(f),i;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,u=p;break}if(S===u){E=!0,u=f,a=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===a){E=!0,a=p,u=f;break}if(S===u){E=!0,u=p,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case U:return"Profiler";case W:return"StrictMode";case oe:return"Suspense";case P:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case ee:return(r.displayName||"Context")+".Provider";case ue:return(r._context.displayName||"Context")+".Consumer";case he:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return i=r.displayName||null,i!==null?i:Le(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return Le(r(i))}catch{}}return null}var $e=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],x=-1;function ne(r){return{current:r}}function pe(r){0>x||(r.current=je[x],je[x]=null,x--)}function de(r,i){x++,je[x]=r.current,r.current=i}var Ee=ne(null),qe=ne(null),De=ne(null),Yt=ne(null);function ot(r,i){switch(de(De,i),de(qe,r),de(Ee,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?yE(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=yE(i),r=_E(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Ee),de(Ee,r)}function Gn(){pe(Ee),pe(qe),pe(De)}function xt(r){r.memoizedState!==null&&de(Yt,r);var i=Ee.current,a=_E(i,r.type);i!==a&&(de(qe,r),de(Ee,a))}function Kn(r){qe.current===r&&(pe(Ee),pe(qe)),Yt.current===r&&(pe(Yt),du._currentValue=ge)}var _i=Object.prototype.hasOwnProperty,vi=n.unstable_scheduleCallback,Ln=n.unstable_cancelCallback,gl=n.unstable_shouldYield,na=n.unstable_requestPaint,cn=n.unstable_now,ro=n.unstable_getCurrentPriorityLevel,kt=n.unstable_ImmediatePriority,Ft=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,Mr=n.unstable_LowPriority,xr=n.unstable_IdlePriority,io=n.log,Pr=n.unstable_setDisableYieldValue,hn=null,_t=null;function In(r){if(typeof io=="function"&&Pr(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(hn,r)}catch{}}var Qt=Math.clz32?Math.clz32:ra,yl=Math.log,Yn=Math.LN2;function ra(r){return r>>>=0,r===0?32:31-(yl(r)/Yn|0)|0}var Qn=256,Vr=4194304;function $n(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Dn(r,i,a){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=$n(u):(E&=S,E!==0?f=$n(E):a||(a=S&~r,a!==0&&(f=$n(a))))):(S=u&~p,S!==0?f=$n(S):E!==0?f=$n(E):a||(a=u&~r,a!==0&&(f=$n(a)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:f}function Wn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ei(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ti(){var r=Qn;return Qn<<=1,(Qn&4194048)===0&&(Qn=256),r}function Zr(){var r=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),r}function wi(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function It(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ia(r,i,a,u,f,p){var E=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var S=r.entanglements,O=r.expirationTimes,K=r.hiddenUpdates;for(a=E&~a;0<a;){var te=31-Qt(a),se=1<<te;S[te]=0,O[te]=-1;var $=K[te];if($!==null)for(K[te]=null,te=0;te<$.length;te++){var X=$[te];X!==null&&(X.lane&=-536870913)}a&=~se}u!==0&&Xn(r,u,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function Xn(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Qt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|a&4194090}function Zn(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var u=31-Qt(a),f=1<<u;f&i|r[u]&i&&(r[u]|=i),a&=~f}}function sa(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function aa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function M(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:kE(r.type))}function H(r,i){var a=fe.p;try{return fe.p=r,i()}finally{fe.p=a}}var Z=Math.random().toString(36).slice(2),ie="__reactFiber$"+Z,ce="__reactProps$"+Z,ve="__reactContainer$"+Z,Se="__reactEvents$"+Z,_e="__reactListeners$"+Z,Re="__reactHandles$"+Z,Ae="__reactResources$"+Z,Te="__reactMarker$"+Z;function be(r){delete r[ie],delete r[ce],delete r[Se],delete r[_e],delete r[Re]}function ze(r){var i=r[ie];if(i)return i;for(var a=r.parentNode;a;){if(i=a[ve]||a[ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=wE(r);r!==null;){if(a=r[ie])return a;r=wE(r)}return i}r=a,a=r.parentNode}return null}function rt(r){if(r=r[ie]||r[ve]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function wt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function At(r){var i=r[Ae];return i||(i=r[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(r){r[Te]=!0}var lt=new Set,Nn={};function En(r,i){$t(r,i),$t(r+"Capture",i)}function $t(r,i){for(Nn[r]=i,r=0;r<i.length;r++)lt.add(i[r])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kn={},dr={};function Lr(r){return _i.call(dr,r)?!0:_i.call(kn,r)?!1:nn.test(r)?dr[r]=!0:(kn[r]=!0,!1)}function mr(r,i,a){if(Lr(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function pr(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function He(r,i,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+u)}}var Rt,kr;function On(r){if(Rt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rt=i&&i[1]||"",kr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+r+kr}var vt=!1;function Ur(r,i){if(!r||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var $=X}Reflect.construct(r,[],se)}else{try{se.call()}catch(X){$=X}r.call(se.prototype)}}else{try{throw Error()}catch(X){$=X}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var O=E.split(`
`),K=S.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===K.length)for(u=O.length-1,f=K.length-1;1<=u&&0<=f&&O[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==K[f]){var te=`
`+O[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?On(a):""}function so(r){switch(r.tag){case 26:case 27:case 5:return On(r.type);case 16:return On("Lazy");case 13:return On("Suspense");case 19:return On("SuspenseList");case 0:case 15:return Ur(r.type,!1);case 11:return Ur(r.type.render,!1);case 1:return Ur(r.type,!0);case 31:return On("Activity");default:return""}}function Jn(r){try{var i="";do i+=so(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ts(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oa(r){var i=ts(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ns(r){r._valueTracker||(r._valueTracker=oa(r))}function dt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return r&&(u=ts(r)?r.checked?"true":"false":r.value),r=u,r!==a?(i.setValue(r),!0):!1}function Si(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var la=/[\n"\\]/g;function rn(r){return r.replace(la,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _l(r,i,a,u,f,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Dt(i)):r.value!==""+Dt(i)&&(r.value=""+Dt(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?El(r,E,Dt(i)):a!=null?El(r,E,Dt(a)):u!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Dt(S):r.removeAttribute("name")}function vl(r,i,a,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+Dt(a):"",i=i!=null?""+Dt(i):a,S||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function El(r,i,a){i==="number"&&Si(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function rs(r,i,a,u){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&u&&(r[a].defaultSelected=!0)}else{for(a=""+Dt(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function yc(r,i,a){if(i!=null&&(i=""+Dt(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+Dt(a):""}function _c(r,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if($e(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Dt(i),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u)}function gr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(r,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,a):typeof a!="number"||a===0||bi.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function wl(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&Tl(r,f,u)}else for(var p in i)i.hasOwnProperty(p)&&Tl(r,p,i[p])}function ao(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ec=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jr(r){return Ec.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Sl=null;function bl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var is=null,Mn=null;function Tc(r){var i=rt(r);if(i&&(r=i.stateNode)){var a=r[ce]||null;e:switch(r=i.stateNode,i.type){case"input":if(_l(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==r&&u.form===r.form){var f=u[ce]||null;if(!f)throw Error(s(90));_l(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===r.form&&dt(u)}break e;case"textarea":yc(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&rs(r,!!a.multiple,i,!1)}}}var ua=!1;function ca(r,i,a){if(ua)return r(i,a);ua=!0;try{var u=r(i);return u}finally{if(ua=!1,(is!==null||Mn!==null)&&(ch(),is&&(i=is,r=Mn,Mn=is=null,Tc(i),r)))for(i=0;i<r.length;i++)Tc(r[i])}}function ss(r,i){var a=r.stateNode;if(a===null)return null;var u=a[ce]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(xn)try{var as={};Object.defineProperty(as,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Ai=!1}var yr=null,Et=null,oo=null;function wc(){if(oo)return oo;var r,i=Et,a=i.length,u,f="value"in yr?yr.value:yr.textContent,p=f.length;for(r=0;r<a&&i[r]===f[r];r++);var E=a-r;for(u=1;u<=E&&i[a-u]===f[p-u];u++);return oo=f.slice(r,1<u?1-u:void 0)}function ha(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function fa(){return!0}function Al(){return!1}function Wt(r){function i(a,u,f,p,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fa:Al,this.isPropagationStopped=Al,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),i}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Wt(Tn),ma=_({},Tn,{view:0,detail:0}),pa=Wt(ma),lo,ga,Jr,ya=_({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(lo=r.screenX-Jr.screenX,ga=r.screenY-Jr.screenY):ga=lo=0,Jr=r),lo)},movementY:function(r){return"movementY"in r?r.movementY:ga}}),_a=Wt(ya),dd=_({},ya,{dataTransfer:0}),Sc=Wt(dd),va=_({},ma,{relatedTarget:0}),uo=Wt(va),bc=_({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=Wt(bc),Cl=_({},Tn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ac=Wt(Cl),co=_({},Tn,{data:0}),Il=Wt(co),Rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ic(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Cc[r])?!!i[r]:!1}function ho(){return Ic}var Dc=_({},ma,{key:function(r){if(r.key){var i=Rc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ha(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ri[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(r){return r.type==="keypress"?ha(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ha(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),fo=Wt(Dc),Pn=_({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Wt(Pn),Nc=_({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),os=Wt(Nc),h=_({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Wt(h),v=_({},ya,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),b=Wt(v),G=_({},Tn,{newState:0,oldState:0}),J=Wt(G),me=[9,13,27,32],Be=xn&&"CompositionEvent"in window,St=null;xn&&"documentMode"in document&&(St=document.documentMode);var ct=xn&&"TextEvent"in window&&!St,Ut=xn&&(!Be||St&&8<St&&11>=St),er=" ",ei=!1;function zr(r,i){switch(r){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fr=!1;function Nl(r,i){switch(r){case"compositionend":return Br(i);case"keypress":return i.which!==32?null:(ei=!0,er);case"textInput":return r=i.data,r===er&&ei?null:r;default:return null}}function sR(r,i){if(Fr)return r==="compositionend"||!Be&&zr(r,i)?(r=wc(),oo=Et=yr=null,Fr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ut&&i.locale!=="ko"?null:i.data;default:return null}}var aR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!aR[r.type]:i==="textarea"}function My(r,i,a,u){is?Mn?Mn.push(u):Mn=[u]:is=u,i=gh(i,"onChange"),0<i.length&&(a=new da("onChange","change",null,a,u),r.push({event:a,listeners:i}))}var Ol=null,Ml=null;function oR(r){fE(r,0)}function Oc(r){var i=wt(r);if(dt(i))return r}function xy(r,i){if(r==="change")return i}var Py=!1;if(xn){var md;if(xn){var pd="oninput"in document;if(!pd){var Vy=document.createElement("div");Vy.setAttribute("oninput","return;"),pd=typeof Vy.oninput=="function"}md=pd}else md=!1;Py=md&&(!document.documentMode||9<document.documentMode)}function Ly(){Ol&&(Ol.detachEvent("onpropertychange",ky),Ml=Ol=null)}function ky(r){if(r.propertyName==="value"&&Oc(Ml)){var i=[];My(i,Ml,r,bl(r)),ca(oR,i)}}function lR(r,i,a){r==="focusin"?(Ly(),Ol=i,Ml=a,Ol.attachEvent("onpropertychange",ky)):r==="focusout"&&Ly()}function uR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oc(Ml)}function cR(r,i){if(r==="click")return Oc(i)}function hR(r,i){if(r==="input"||r==="change")return Oc(i)}function fR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var tr=typeof Object.is=="function"?Object.is:fR;function xl(r,i){if(tr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!_i.call(i,f)||!tr(r[f],i[f]))return!1}return!0}function Uy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jy(r,i){var a=Uy(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=i&&u>=i)return{node:a,offset:i-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Uy(a)}}function zy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?zy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function By(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Si(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Si(r.document)}return i}function gd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var dR=xn&&"documentMode"in document&&11>=document.documentMode,mo=null,yd=null,Pl=null,_d=!1;function Fy(r,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_d||mo==null||mo!==Si(u)||(u=mo,"selectionStart"in u&&gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&xl(Pl,u)||(Pl=u,u=gh(yd,"onSelect"),0<u.length&&(i=new da("onSelect","select",null,i,a),r.push({event:i,listeners:u}),i.target=mo)))}function Ea(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var po={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},vd={},Hy={};xn&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Ta(r){if(vd[r])return vd[r];if(!po[r])return r;var i=po[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Hy)return vd[r]=i[a];return r}var qy=Ta("animationend"),Gy=Ta("animationiteration"),Ky=Ta("animationstart"),mR=Ta("transitionrun"),pR=Ta("transitionstart"),gR=Ta("transitioncancel"),Yy=Ta("transitionend"),Qy=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function Hr(r,i){Qy.set(r,i),En(i,[r])}var $y=new WeakMap;function _r(r,i){if(typeof r=="object"&&r!==null){var a=$y.get(r);return a!==void 0?a:(i={value:r,source:i,stack:Jn(i)},$y.set(r,i),i)}return{value:r,source:i,stack:Jn(i)}}var vr=[],go=0,Td=0;function Mc(){for(var r=go,i=Td=go=0;i<r;){var a=vr[i];vr[i++]=null;var u=vr[i];vr[i++]=null;var f=vr[i];vr[i++]=null;var p=vr[i];if(vr[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&Wy(a,f,p)}}function xc(r,i,a,u){vr[go++]=r,vr[go++]=i,vr[go++]=a,vr[go++]=u,Td|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function wd(r,i,a,u){return xc(r,i,a,u),Pc(r)}function yo(r,i){return xc(r,null,null,i),Pc(r)}function Wy(r,i,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var f=!1,p=r.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-Qt(a),r=p.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=a|536870912),p):null}function Pc(r){if(50<su)throw su=0,Im=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var _o={};function yR(r,i,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,i,a,u){return new yR(r,i,a,u)}function Sd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ci(r,i){var a=r.alternate;return a===null?(a=nr(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Xy(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Vc(r,i,a,u,f,p){var E=0;if(u=r,typeof r=="function")Sd(r)&&(E=1);else if(typeof r=="string")E=v1(r,a,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=nr(31,a,i,f),r.elementType=R,r.lanes=p,r;case j:return wa(a.children,f,p,i);case W:E=8,f|=24;break;case U:return r=nr(12,a,i,f|2),r.elementType=U,r.lanes=p,r;case oe:return r=nr(13,a,i,f),r.elementType=oe,r.lanes=p,r;case P:return r=nr(19,a,i,f),r.elementType=P,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:case ee:E=10;break e;case ue:E=9;break e;case he:E=11;break e;case N:E=14;break e;case A:E=16,u=null;break e}E=29,a=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=nr(E,a,i,f),i.elementType=r,i.type=u,i.lanes=p,i}function wa(r,i,a,u){return r=nr(7,r,u,i),r.lanes=a,r}function bd(r,i,a){return r=nr(6,r,null,i),r.lanes=a,r}function Ad(r,i,a){return i=nr(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var vo=[],Eo=0,Lc=null,kc=0,Er=[],Tr=0,Sa=null,Ii=1,Di="";function ba(r,i){vo[Eo++]=kc,vo[Eo++]=Lc,Lc=r,kc=i}function Zy(r,i,a){Er[Tr++]=Ii,Er[Tr++]=Di,Er[Tr++]=Sa,Sa=r;var u=Ii;r=Di;var f=32-Qt(u)-1;u&=~(1<<f),a+=1;var p=32-Qt(i)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ii=1<<32-Qt(i)+f|a<<f|u,Di=p+r}else Ii=1<<p|a<<f|u,Di=r}function Rd(r){r.return!==null&&(ba(r,1),Zy(r,1,0))}function Cd(r){for(;r===Lc;)Lc=vo[--Eo],vo[Eo]=null,kc=vo[--Eo],vo[Eo]=null;for(;r===Sa;)Sa=Er[--Tr],Er[Tr]=null,Di=Er[--Tr],Er[Tr]=null,Ii=Er[--Tr],Er[Tr]=null}var Vn=null,Pt=null,at=!1,Aa=null,ti=!1,Id=Error(s(519));function Ra(r){var i=Error(s(418,""));throw kl(_r(i,r)),Id}function Jy(r){var i=r.stateNode,a=r.type,u=r.memoizedProps;switch(i[ie]=r,i[ce]=u,a){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(a=0;a<ou.length;a++)Xe(ou[a],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),vl(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ns(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),_c(i,u.value,u.defaultValue,u.children),ns(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||gE(i.textContent,a)?(u.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),u.onScroll!=null&&Xe("scroll",i),u.onScrollEnd!=null&&Xe("scrollend",i),u.onClick!=null&&(i.onclick=yh),i=!0):i=!1,i||Ra(r)}function e_(r){for(Vn=r.return;Vn;)switch(Vn.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Vn=Vn.return}}function Vl(r){if(r!==Vn)return!1;if(!at)return e_(r),at=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||qm(r.type,r.memoizedProps)),a=!a),a&&Pt&&Ra(r),e_(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){Pt=Gr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}Pt=null}}else i===27?(i=Pt,Ss(r.type)?(r=Qm,Qm=null,Pt=r):Pt=i):Pt=Vn?Gr(r.stateNode.nextSibling):null;return!0}function Ll(){Pt=Vn=null,at=!1}function t_(){var r=Aa;return r!==null&&(zn===null?zn=r:zn.push.apply(zn,r),Aa=null),r}function kl(r){Aa===null?Aa=[r]:Aa.push(r)}var Dd=ne(null),Ca=null,Ni=null;function ls(r,i,a){de(Dd,i._currentValue),i._currentValue=a}function Oi(r){r._currentValue=Dd.current,pe(Dd)}function Nd(r,i,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===a)break;r=r.return}}function Od(r,i,a,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var O=0;O<i.length;O++)if(S.context===i[O]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),Nd(p.return,a,r),u||(E=null);break e}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),Nd(E,a,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ul(r,i,a,u){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;tr(f.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(f===Yt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(du):r=[du])}f=f.return}r!==null&&Od(i,r,a,u),i.flags|=262144}function Uc(r){for(r=r.firstContext;r!==null;){if(!tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ia(r){Ca=r,Ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wn(r){return n_(Ca,r)}function jc(r,i){return Ca===null&&Ia(r),n_(r,i)}function n_(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(r===null)throw Error(s(308));Ni=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ni=Ni.next=i;return a}var _R=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},vR=n.unstable_scheduleCallback,ER=n.unstable_NormalPriority,Xt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new _R,data:new Map,refCount:0}}function jl(r){r.refCount--,r.refCount===0&&vR(ER,function(){r.controller.abort()})}var zl=null,xd=0,To=0,wo=null;function TR(r,i){if(zl===null){var a=zl=[];xd=0,To=Vm(),wo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return xd++,i.then(r_,r_),i}function r_(){if(--xd===0&&zl!==null){wo!==null&&(wo.status="fulfilled");var r=zl;zl=null,To=0,wo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function wR(r,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var i_=Q.S;Q.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&TR(r,i),i_!==null&&i_(r,i)};var Da=ne(null);function Pd(){var r=Da.current;return r!==null?r:Tt.pooledCache}function zc(r,i){i===null?de(Da,Da.current):de(Da,i.pool)}function s_(){var r=Pd();return r===null?null:{parent:Xt._currentValue,pool:r}}var Bl=Error(s(460)),a_=Error(s(474)),Bc=Error(s(542)),Vd={then:function(){}};function o_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fc(){}function l_(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(Fc,Fc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,c_(r),r;default:if(typeof i.status=="string")i.then(Fc,Fc);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,c_(r),r}throw Fl=i,Bl}}var Fl=null;function u_(){if(Fl===null)throw Error(s(459));var r=Fl;return Fl=null,r}function c_(r){if(r===Bl||r===Bc)throw Error(s(483))}var us=!1;function Ld(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function cs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function hs(r,i,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Pc(r),Wy(r,null,a),i}return xc(r,u,i,a),Pc(r)}function Hl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Zn(r,a)}}function Ud(r,i){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=i:p=p.next=i}else f=p=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var jd=!1;function ql(){if(jd){var r=wo;if(r!==null)throw r}}function Gl(r,i,a,u){jd=!1;var f=r.updateQueue;us=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,K=O.next;O.next=null,E===null?p=K:E.next=K,E=O;var te=r.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==E&&(S===null?te.firstBaseUpdate=K:S.next=K,te.lastBaseUpdate=O))}if(p!==null){var se=f.baseState;E=0,te=K=O=null,S=p;do{var $=S.lane&-536870913,X=$!==S.lane;if(X?(tt&$)===$:(u&$)===$){$!==0&&$===To&&(jd=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ve=r,Oe=S;$=i;var gt=a;switch(Oe.tag){case 1:if(Ve=Oe.payload,typeof Ve=="function"){se=Ve.call(gt,se,$);break e}se=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Oe.payload,$=typeof Ve=="function"?Ve.call(gt,se,$):Ve,$==null)break e;se=_({},se,$);break e;case 2:us=!0}}$=S.callback,$!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(K=te=X,O=se):te=te.next=X,E|=$;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(O=se),f.baseState=O,f.firstBaseUpdate=K,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),vs|=E,r.lanes=E,r.memoizedState=se}}function h_(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function f_(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)h_(a[r],i)}var So=ne(null),Hc=ne(0);function d_(r,i){r=Ui,de(Hc,r),de(So,i),Ui=r|i.baseLanes}function zd(){de(Hc,Ui),de(So,So.current)}function Bd(){Ui=Hc.current,pe(So),pe(Hc)}var fs=0,Ke=null,mt=null,Ht=null,qc=!1,bo=!1,Na=!1,Gc=0,Kl=0,Ao=null,SR=0;function jt(){throw Error(s(321))}function Fd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!tr(r[a],i[a]))return!1;return!0}function Hd(r,i,a,u,f,p){return fs=p,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=r===null||r.memoizedState===null?W_:X_,Na=!1,p=a(u,f),Na=!1,bo&&(p=p_(i,a,u,f)),m_(r),p}function m_(r){Q.H=Xc;var i=mt!==null&&mt.next!==null;if(fs=0,Ht=mt=Ke=null,qc=!1,Kl=0,Ao=null,i)throw Error(s(300));r===null||sn||(r=r.dependencies,r!==null&&Uc(r)&&(sn=!0))}function p_(r,i,a,u){Ke=r;var f=0;do{if(bo&&(Ao=null),Kl=0,bo=!1,25<=f)throw Error(s(301));if(f+=1,Ht=mt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=NR,p=i(a,u)}while(bo);return p}function bR(){var r=Q.H,i=r.useState()[0];return i=typeof i.then=="function"?Yl(i):i,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(Ke.flags|=1024),i}function qd(){var r=Gc!==0;return Gc=0,r}function Gd(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function Kd(r){if(qc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qc=!1}fs=0,Ht=mt=Ke=null,bo=!1,Kl=Gc=0,Ao=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ke.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function qt(){if(mt===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=Ht===null?Ke.memoizedState:Ht.next;if(i!==null)Ht=i,mt=r;else{if(r===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ht===null?Ke.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(r){var i=Kl;return Kl+=1,Ao===null&&(Ao=[]),r=l_(Ao,r,i),i=Ke,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?W_:X_),r}function Kc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yl(r);if(r.$$typeof===ee)return wn(r)}throw Error(s(438,String(r)))}function Qd(r){var i=null,a=Ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Yd(),Ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),u=0;u<r;u++)a[u]=V;return i.index++,a}function Mi(r,i){return typeof i=="function"?i(r):i}function Yc(r){var i=qt();return $d(i,mt,r)}function $d(r,i,a){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=r.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,u.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var S=E=null,O=null,K=i,te=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(tt&se)===se:(fs&se)===se){var $=K.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===To&&(te=!0);else if((fs&$)===$){K=K.next,$===To&&(te=!0);continue}else se={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=se,E=p):O=O.next=se,Ke.lanes|=$,vs|=$;se=K.action,Na&&a(p,se),p=K.hasEagerState?K.eagerState:a(p,se)}else $={lane:se,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=$,E=p):O=O.next=$,Ke.lanes|=se,vs|=se;K=K.next}while(K!==null&&K!==i);if(O===null?E=p:O.next=S,!tr(p,r.memoizedState)&&(sn=!0,te&&(a=wo,a!==null)))throw a;r.memoizedState=p,r.baseState=E,r.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Wd(r){var i=qt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var u=a.dispatch,f=a.pending,p=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);tr(p,i.memoizedState)||(sn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function g_(r,i,a){var u=Ke,f=qt(),p=at;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!tr((mt||f).memoizedState,a);E&&(f.memoizedState=a,sn=!0),f=f.queue;var S=v_.bind(null,u,f,r);if(Ql(2048,8,S,[r]),f.getSnapshot!==i||E||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Ro(9,Qc(),__.bind(null,u,f,a,i),null),Tt===null)throw Error(s(349));p||(fs&124)!==0||y_(u,i,a)}return a}function y_(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Ke.updateQueue,i===null?(i=Yd(),Ke.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function __(r,i,a,u){i.value=a,i.getSnapshot=u,E_(i)&&T_(r)}function v_(r,i,a){return a(function(){E_(i)&&T_(r)})}function E_(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!tr(r,a)}catch{return!0}}function T_(r){var i=yo(r,2);i!==null&&or(i,r,2)}function Xd(r){var i=Un();if(typeof r=="function"){var a=r;if(r=a(),Na){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:r},i}function w_(r,i,a,u){return r.baseState=a,$d(r,mt,typeof u=="function"?u:Mi)}function AR(r,i,a,u,f){if(Wc(r))throw Error(s(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Q.T!==null?a(!0):p.isTransition=!1,u(p),a=i.pending,a===null?(p.next=i.pending=p,S_(i,p)):(p.next=a.next,i.pending=a.next=p)}}function S_(r,i){var a=i.action,u=i.payload,f=r.state;if(i.isTransition){var p=Q.T,E={};Q.T=E;try{var S=a(f,u),O=Q.S;O!==null&&O(E,S),b_(r,i,S)}catch(K){Zd(r,i,K)}finally{Q.T=p}}else try{p=a(f,u),b_(r,i,p)}catch(K){Zd(r,i,K)}}function b_(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){A_(r,i,u)},function(u){return Zd(r,i,u)}):A_(r,i,a)}function A_(r,i,a){i.status="fulfilled",i.value=a,R_(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,S_(r,a)))}function Zd(r,i,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,R_(i),i=i.next;while(i!==u)}r.action=null}function R_(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function C_(r,i){return i}function I_(r,i){if(at){var a=Tt.formState;if(a!==null){e:{var u=Ke;if(at){if(Pt){t:{for(var f=Pt,p=ti;f.nodeType!==8;){if(!p){f=null;break t}if(f=Gr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Pt=Gr(f.nextSibling),u=f.data==="F!";break e}}Ra(u)}u=!1}u&&(i=a[0])}}return a=Un(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:i},a.queue=u,a=Y_.bind(null,Ke,u),u.dispatch=a,u=Xd(!1),p=rm.bind(null,Ke,!1,u.queue),u=Un(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,a=AR.bind(null,Ke,f,p,a),f.dispatch=a,u.memoizedState=r,[i,a,!1]}function D_(r){var i=qt();return N_(i,mt,r)}function N_(r,i,a){if(i=$d(r,i,C_)[0],r=Yc(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Yl(i)}catch(E){throw E===Bl?Bc:E}else u=i;i=qt();var f=i.queue,p=f.dispatch;return a!==i.memoizedState&&(Ke.flags|=2048,Ro(9,Qc(),RR.bind(null,f,a),null)),[u,p,r]}function RR(r,i){r.action=i}function O_(r){var i=qt(),a=mt;if(a!==null)return N_(i,a,r);qt(),i=i.memoizedState,a=qt();var u=a.queue.dispatch;return a.memoizedState=r,[i,u,!1]}function Ro(r,i,a,u){return r={tag:r,create:a,deps:u,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=Yd(),Ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,i.lastEffect=r),r}function Qc(){return{destroy:void 0,resource:void 0}}function M_(){return qt().memoizedState}function $c(r,i,a,u){var f=Un();u=u===void 0?null:u,Ke.flags|=r,f.memoizedState=Ro(1|i,Qc(),a,u)}function Ql(r,i,a,u){var f=qt();u=u===void 0?null:u;var p=f.memoizedState.inst;mt!==null&&u!==null&&Fd(u,mt.memoizedState.deps)?f.memoizedState=Ro(i,p,a,u):(Ke.flags|=r,f.memoizedState=Ro(1|i,p,a,u))}function x_(r,i){$c(8390656,8,r,i)}function P_(r,i){Ql(2048,8,r,i)}function V_(r,i){return Ql(4,2,r,i)}function L_(r,i){return Ql(4,4,r,i)}function k_(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function U_(r,i,a){a=a!=null?a.concat([r]):null,Ql(4,4,k_.bind(null,i,r),a)}function Jd(){}function j_(r,i){var a=qt();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Fd(i,u[1])?u[0]:(a.memoizedState=[r,i],r)}function z_(r,i){var a=qt();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Fd(i,u[1]))return u[0];if(u=r(),Na){In(!0);try{r()}finally{In(!1)}}return a.memoizedState=[u,i],u}function em(r,i,a){return a===void 0||(fs&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=Hv(),Ke.lanes|=r,vs|=r,a)}function B_(r,i,a,u){return tr(a,i)?a:So.current!==null?(r=em(r,a,u),tr(r,i)||(sn=!0),r):(fs&42)===0?(sn=!0,r.memoizedState=a):(r=Hv(),Ke.lanes|=r,vs|=r,i)}function F_(r,i,a,u,f){var p=fe.p;fe.p=p!==0&&8>p?p:8;var E=Q.T,S={};Q.T=S,rm(r,!1,i,a);try{var O=f(),K=Q.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=wR(O,u);$l(r,i,te,ar(r))}else $l(r,i,u,ar(r))}catch(se){$l(r,i,{then:function(){},status:"rejected",reason:se},ar())}finally{fe.p=p,Q.T=E}}function CR(){}function tm(r,i,a,u){if(r.tag!==5)throw Error(s(476));var f=H_(r).queue;F_(r,f,i,ge,a===null?CR:function(){return q_(r),a(u)})}function H_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function q_(r){var i=H_(r).next.queue;$l(r,i,{},ar())}function nm(){return wn(du)}function G_(){return qt().memoizedState}function K_(){return qt().memoizedState}function IR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=ar();r=cs(a);var u=hs(i,r,a);u!==null&&(or(u,i,a),Hl(u,i,a)),i={cache:Md()},r.payload=i;return}i=i.return}}function DR(r,i,a){var u=ar();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wc(r)?Q_(i,a):(a=wd(r,i,a,u),a!==null&&(or(a,r,u),$_(a,i,u)))}function Y_(r,i,a){var u=ar();$l(r,i,a,u)}function $l(r,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wc(r))Q_(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,S=p(E,a);if(f.hasEagerState=!0,f.eagerState=S,tr(S,E))return xc(r,i,f,0),Tt===null&&Mc(),!1}catch{}finally{}if(a=wd(r,i,f,u),a!==null)return or(a,r,u),$_(a,i,u),!0}return!1}function rm(r,i,a,u){if(u={lane:2,revertLane:Vm(),action:u,hasEagerState:!1,eagerState:null,next:null},Wc(r)){if(i)throw Error(s(479))}else i=wd(r,a,u,2),i!==null&&or(i,r,2)}function Wc(r){var i=r.alternate;return r===Ke||i!==null&&i===Ke}function Q_(r,i){bo=qc=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function $_(r,i,a){if((a&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Zn(r,a)}}var Xc={readContext:wn,use:Kc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},W_={readContext:wn,use:Kc,useCallback:function(r,i){return Un().memoizedState=[r,i===void 0?null:i],r},useContext:wn,useEffect:x_,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,$c(4194308,4,k_.bind(null,i,r),a)},useLayoutEffect:function(r,i){return $c(4194308,4,r,i)},useInsertionEffect:function(r,i){$c(4,2,r,i)},useMemo:function(r,i){var a=Un();i=i===void 0?null:i;var u=r();if(Na){In(!0);try{r()}finally{In(!1)}}return a.memoizedState=[u,i],u},useReducer:function(r,i,a){var u=Un();if(a!==void 0){var f=a(i);if(Na){In(!0);try{a(i)}finally{In(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=DR.bind(null,Ke,r),[u.memoizedState,r]},useRef:function(r){var i=Un();return r={current:r},i.memoizedState=r},useState:function(r){r=Xd(r);var i=r.queue,a=Y_.bind(null,Ke,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:Jd,useDeferredValue:function(r,i){var a=Un();return em(a,r,i)},useTransition:function(){var r=Xd(!1);return r=F_.bind(null,Ke,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var u=Ke,f=Un();if(at){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Tt===null)throw Error(s(349));(tt&124)!==0||y_(u,i,a)}f.memoizedState=a;var p={value:a,getSnapshot:i};return f.queue=p,x_(v_.bind(null,u,p,r),[r]),u.flags|=2048,Ro(9,Qc(),__.bind(null,u,p,a,i),null),a},useId:function(){var r=Un(),i=Tt.identifierPrefix;if(at){var a=Di,u=Ii;a=(u&~(1<<32-Qt(u)-1)).toString(32)+a,i=""+i+"R"+a,a=Gc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=SR++,i=""+i+"r"+a.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:nm,useFormState:I_,useActionState:I_,useOptimistic:function(r){var i=Un();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rm.bind(null,Ke,!0,a),a.dispatch=i,[r,i]},useMemoCache:Qd,useCacheRefresh:function(){return Un().memoizedState=IR.bind(null,Ke)}},X_={readContext:wn,use:Kc,useCallback:j_,useContext:wn,useEffect:P_,useImperativeHandle:U_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:z_,useReducer:Yc,useRef:M_,useState:function(){return Yc(Mi)},useDebugValue:Jd,useDeferredValue:function(r,i){var a=qt();return B_(a,mt.memoizedState,r,i)},useTransition:function(){var r=Yc(Mi)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Yl(r),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:nm,useFormState:D_,useActionState:D_,useOptimistic:function(r,i){var a=qt();return w_(a,mt,r,i)},useMemoCache:Qd,useCacheRefresh:K_},NR={readContext:wn,use:Kc,useCallback:j_,useContext:wn,useEffect:P_,useImperativeHandle:U_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:z_,useReducer:Wd,useRef:M_,useState:function(){return Wd(Mi)},useDebugValue:Jd,useDeferredValue:function(r,i){var a=qt();return mt===null?em(a,r,i):B_(a,mt.memoizedState,r,i)},useTransition:function(){var r=Wd(Mi)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Yl(r),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:nm,useFormState:O_,useActionState:O_,useOptimistic:function(r,i){var a=qt();return mt!==null?w_(a,mt,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:Qd,useCacheRefresh:K_},Co=null,Wl=0;function Zc(r){var i=Wl;return Wl+=1,Co===null&&(Co=[]),l_(Co,r,i)}function Xl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Jc(r,i){throw i.$$typeof===w?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Z_(r){var i=r._init;return i(r._payload)}function J_(r){function i(B,k){if(r){var q=B.deletions;q===null?(B.deletions=[k],B.flags|=16):q.push(k)}}function a(B,k){if(!r)return null;for(;k!==null;)i(B,k),k=k.sibling;return null}function u(B){for(var k=new Map;B!==null;)B.key!==null?k.set(B.key,B):k.set(B.index,B),B=B.sibling;return k}function f(B,k){return B=Ci(B,k),B.index=0,B.sibling=null,B}function p(B,k,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<k?(B.flags|=67108866,k):q):(B.flags|=67108866,k)):(B.flags|=1048576,k)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,k,q,re){return k===null||k.tag!==6?(k=bd(q,B.mode,re),k.return=B,k):(k=f(k,q),k.return=B,k)}function O(B,k,q,re){var we=q.type;return we===j?te(B,k,q.props.children,re,q.key):k!==null&&(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Z_(we)===k.type)?(k=f(k,q.props),Xl(k,q),k.return=B,k):(k=Vc(q.type,q.key,q.props,null,B.mode,re),Xl(k,q),k.return=B,k)}function K(B,k,q,re){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Ad(q,B.mode,re),k.return=B,k):(k=f(k,q.children||[]),k.return=B,k)}function te(B,k,q,re,we){return k===null||k.tag!==7?(k=wa(q,B.mode,re,we),k.return=B,k):(k=f(k,q),k.return=B,k)}function se(B,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=bd(""+k,B.mode,q),k.return=B,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case T:return q=Vc(k.type,k.key,k.props,null,B.mode,q),Xl(q,k),q.return=B,q;case D:return k=Ad(k,B.mode,q),k.return=B,k;case A:var re=k._init;return k=re(k._payload),se(B,k,q)}if($e(k)||z(k))return k=wa(k,B.mode,q,null),k.return=B,k;if(typeof k.then=="function")return se(B,Zc(k),q);if(k.$$typeof===ee)return se(B,jc(B,k),q);Jc(B,k)}return null}function $(B,k,q,re){var we=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return we!==null?null:S(B,k,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===we?O(B,k,q,re):null;case D:return q.key===we?K(B,k,q,re):null;case A:return we=q._init,q=we(q._payload),$(B,k,q,re)}if($e(q)||z(q))return we!==null?null:te(B,k,q,re,null);if(typeof q.then=="function")return $(B,k,Zc(q),re);if(q.$$typeof===ee)return $(B,k,jc(B,q),re);Jc(B,q)}return null}function X(B,k,q,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(q)||null,S(k,B,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return B=B.get(re.key===null?q:re.key)||null,O(k,B,re,we);case D:return B=B.get(re.key===null?q:re.key)||null,K(k,B,re,we);case A:var Ye=re._init;return re=Ye(re._payload),X(B,k,q,re,we)}if($e(re)||z(re))return B=B.get(q)||null,te(k,B,re,we,null);if(typeof re.then=="function")return X(B,k,q,Zc(re),we);if(re.$$typeof===ee)return X(B,k,q,jc(k,re),we);Jc(k,re)}return null}function Ve(B,k,q,re){for(var we=null,Ye=null,Ie=k,Me=k=0,on=null;Ie!==null&&Me<q.length;Me++){Ie.index>Me?(on=Ie,Ie=null):on=Ie.sibling;var it=$(B,Ie,q[Me],re);if(it===null){Ie===null&&(Ie=on);break}r&&Ie&&it.alternate===null&&i(B,Ie),k=p(it,k,Me),Ye===null?we=it:Ye.sibling=it,Ye=it,Ie=on}if(Me===q.length)return a(B,Ie),at&&ba(B,Me),we;if(Ie===null){for(;Me<q.length;Me++)Ie=se(B,q[Me],re),Ie!==null&&(k=p(Ie,k,Me),Ye===null?we=Ie:Ye.sibling=Ie,Ye=Ie);return at&&ba(B,Me),we}for(Ie=u(Ie);Me<q.length;Me++)on=X(Ie,B,Me,q[Me],re),on!==null&&(r&&on.alternate!==null&&Ie.delete(on.key===null?Me:on.key),k=p(on,k,Me),Ye===null?we=on:Ye.sibling=on,Ye=on);return r&&Ie.forEach(function(Is){return i(B,Is)}),at&&ba(B,Me),we}function Oe(B,k,q,re){if(q==null)throw Error(s(151));for(var we=null,Ye=null,Ie=k,Me=k=0,on=null,it=q.next();Ie!==null&&!it.done;Me++,it=q.next()){Ie.index>Me?(on=Ie,Ie=null):on=Ie.sibling;var Is=$(B,Ie,it.value,re);if(Is===null){Ie===null&&(Ie=on);break}r&&Ie&&Is.alternate===null&&i(B,Ie),k=p(Is,k,Me),Ye===null?we=Is:Ye.sibling=Is,Ye=Is,Ie=on}if(it.done)return a(B,Ie),at&&ba(B,Me),we;if(Ie===null){for(;!it.done;Me++,it=q.next())it=se(B,it.value,re),it!==null&&(k=p(it,k,Me),Ye===null?we=it:Ye.sibling=it,Ye=it);return at&&ba(B,Me),we}for(Ie=u(Ie);!it.done;Me++,it=q.next())it=X(Ie,B,Me,it.value,re),it!==null&&(r&&it.alternate!==null&&Ie.delete(it.key===null?Me:it.key),k=p(it,k,Me),Ye===null?we=it:Ye.sibling=it,Ye=it);return r&&Ie.forEach(function(O1){return i(B,O1)}),at&&ba(B,Me),we}function gt(B,k,q,re){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var we=q.key;k!==null;){if(k.key===we){if(we=q.type,we===j){if(k.tag===7){a(B,k.sibling),re=f(k,q.props.children),re.return=B,B=re;break e}}else if(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Z_(we)===k.type){a(B,k.sibling),re=f(k,q.props),Xl(re,q),re.return=B,B=re;break e}a(B,k);break}else i(B,k);k=k.sibling}q.type===j?(re=wa(q.props.children,B.mode,re,q.key),re.return=B,B=re):(re=Vc(q.type,q.key,q.props,null,B.mode,re),Xl(re,q),re.return=B,B=re)}return E(B);case D:e:{for(we=q.key;k!==null;){if(k.key===we)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(B,k.sibling),re=f(k,q.children||[]),re.return=B,B=re;break e}else{a(B,k);break}else i(B,k);k=k.sibling}re=Ad(q,B.mode,re),re.return=B,B=re}return E(B);case A:return we=q._init,q=we(q._payload),gt(B,k,q,re)}if($e(q))return Ve(B,k,q,re);if(z(q)){if(we=z(q),typeof we!="function")throw Error(s(150));return q=we.call(q),Oe(B,k,q,re)}if(typeof q.then=="function")return gt(B,k,Zc(q),re);if(q.$$typeof===ee)return gt(B,k,jc(B,q),re);Jc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(B,k.sibling),re=f(k,q),re.return=B,B=re):(a(B,k),re=bd(q,B.mode,re),re.return=B,B=re),E(B)):a(B,k)}return function(B,k,q,re){try{Wl=0;var we=gt(B,k,q,re);return Co=null,we}catch(Ie){if(Ie===Bl||Ie===Bc)throw Ie;var Ye=nr(29,Ie,null,B.mode);return Ye.lanes=re,Ye.return=B,Ye}finally{}}}var Io=J_(!0),ev=J_(!1),wr=ne(null),ni=null;function ds(r){var i=r.alternate;de(Zt,Zt.current&1),de(wr,r),ni===null&&(i===null||So.current!==null||i.memoizedState!==null)&&(ni=r)}function tv(r){if(r.tag===22){if(de(Zt,Zt.current),de(wr,r),ni===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ni=r)}}else ms()}function ms(){de(Zt,Zt.current),de(wr,wr.current)}function xi(r){pe(wr),ni===r&&(ni=null),pe(Zt)}var Zt=ne(0);function eh(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ym(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function im(r,i,a,u){i=r.memoizedState,a=a(u,i),a=a==null?i:_({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var sm={enqueueSetState:function(r,i,a){r=r._reactInternals;var u=ar(),f=cs(u);f.payload=i,a!=null&&(f.callback=a),i=hs(r,f,u),i!==null&&(or(i,r,u),Hl(i,r,u))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var u=ar(),f=cs(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=hs(r,f,u),i!==null&&(or(i,r,u),Hl(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=ar(),u=cs(a);u.tag=2,i!=null&&(u.callback=i),i=hs(r,u,a),i!==null&&(or(i,r,a),Hl(i,r,a))}};function nv(r,i,a,u,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):i.prototype&&i.prototype.isPureReactComponent?!xl(a,u)||!xl(f,p):!0}function rv(r,i,a,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==r&&sm.enqueueReplaceState(i,i.state,null)}function Oa(r,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(r=r.defaultProps){a===i&&(a=_({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var th=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function iv(r){th(r)}function sv(r){console.error(r)}function av(r){th(r)}function nh(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function ov(r,i,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function am(r,i,a){return a=cs(a),a.tag=3,a.payload={element:null},a.callback=function(){nh(r,i)},a}function lv(r){return r=cs(r),r.tag=3,r}function uv(r,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;r.payload=function(){return f(p)},r.callback=function(){ov(i,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){ov(i,a,u),typeof f!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function OR(r,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Ul(i,a,f,!0),a=wr.current,a!==null){switch(a.tag){case 13:return ni===null?Nm():a.alternate===null&&Vt===0&&(Vt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Vd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Mm(r,u,f)),!1;case 22:return a.flags|=65536,u===Vd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Mm(r,u,f)),!1}throw Error(s(435,a.tag))}return Mm(r,u,f),Nm(),!1}if(at)return i=wr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Id&&(r=Error(s(422),{cause:u}),kl(_r(r,a)))):(u!==Id&&(i=Error(s(423),{cause:u}),kl(_r(i,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=_r(u,a),f=am(r.stateNode,u,f),Ud(r,f),Vt!==4&&(Vt=2)),!1;var p=Error(s(520),{cause:u});if(p=_r(p,a),iu===null?iu=[p]:iu.push(p),Vt!==4&&(Vt=2),i===null)return!0;u=_r(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=am(a.stateNode,u,r),Ud(a,r),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Es===null||!Es.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lv(f),uv(f,r,a,u),Ud(a,f),!1}a=a.return}while(a!==null);return!1}var cv=Error(s(461)),sn=!1;function fn(r,i,a,u){i.child=r===null?ev(i,null,a,u):Io(i,r.child,a,u)}function hv(r,i,a,u,f){a=a.render;var p=i.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Ia(i),u=Hd(r,i,a,E,p,f),S=qd(),r!==null&&!sn?(Gd(r,i,f),Pi(r,i,f)):(at&&S&&Rd(i),i.flags|=1,fn(r,i,u,f),i.child)}function fv(r,i,a,u,f){if(r===null){var p=a.type;return typeof p=="function"&&!Sd(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,dv(r,i,p,u,f)):(r=Vc(a.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!mm(r,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:xl,a(E,u)&&r.ref===i.ref)return Pi(r,i,f)}return i.flags|=1,r=Ci(p,u),r.ref=i.ref,r.return=i,i.child=r}function dv(r,i,a,u,f){if(r!==null){var p=r.memoizedProps;if(xl(p,u)&&r.ref===i.ref)if(sn=!1,i.pendingProps=u=p,mm(r,f))(r.flags&131072)!==0&&(sn=!0);else return i.lanes=r.lanes,Pi(r,i,f)}return om(r,i,a,u,f)}function mv(r,i,a){var u=i.pendingProps,f=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,r!==null){for(f=i.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return pv(r,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&zc(i,p!==null?p.cachePool:null),p!==null?d_(i,p):zd(),tv(i);else return i.lanes=i.childLanes=536870912,pv(r,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(zc(i,p.cachePool),d_(i,p),ms(),i.memoizedState=null):(r!==null&&zc(i,null),zd(),ms());return fn(r,i,f,a),i.child}function pv(r,i,a,u){var f=Pd();return f=f===null?null:{parent:Xt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},r!==null&&zc(i,null),zd(),tv(i),r!==null&&Ul(r,i,u,!0),null}function rh(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function om(r,i,a,u,f){return Ia(i),a=Hd(r,i,a,u,void 0,f),u=qd(),r!==null&&!sn?(Gd(r,i,f),Pi(r,i,f)):(at&&u&&Rd(i),i.flags|=1,fn(r,i,a,f),i.child)}function gv(r,i,a,u,f,p){return Ia(i),i.updateQueue=null,a=p_(i,u,a,f),m_(r),u=qd(),r!==null&&!sn?(Gd(r,i,p),Pi(r,i,p)):(at&&u&&Rd(i),i.flags|=1,fn(r,i,a,p),i.child)}function yv(r,i,a,u,f){if(Ia(i),i.stateNode===null){var p=_o,E=a.contextType;typeof E=="object"&&E!==null&&(p=wn(E)),p=new a(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=sm,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Ld(i),E=a.contextType,p.context=typeof E=="object"&&E!==null?wn(E):_o,p.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(im(i,a,E,u),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&sm.enqueueReplaceState(p,p.state,null),Gl(i,u,p,f),ql(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){p=i.stateNode;var S=i.memoizedProps,O=Oa(a,S);p.props=O;var K=p.context,te=a.contextType;E=_o,typeof te=="object"&&te!==null&&(E=wn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||K!==E)&&rv(i,p,u,E),us=!1;var $=i.memoizedState;p.state=$,Gl(i,u,p,f),ql(),K=i.memoizedState,S||$!==K||us?(typeof se=="function"&&(im(i,a,se,u),K=i.memoizedState),(O=us||nv(i,a,O,u,$,K,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),p.props=u,p.state=K,p.context=E,u=O):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,kd(r,i),E=i.memoizedProps,te=Oa(a,E),p.props=te,se=i.pendingProps,$=p.context,K=a.contextType,O=_o,typeof K=="object"&&K!==null&&(O=wn(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==se||$!==O)&&rv(i,p,u,O),us=!1,$=i.memoizedState,p.state=$,Gl(i,u,p,f),ql();var X=i.memoizedState;E!==se||$!==X||us||r!==null&&r.dependencies!==null&&Uc(r.dependencies)?(typeof S=="function"&&(im(i,a,S,u),X=i.memoizedState),(te=us||nv(i,a,te,u,$,X,O)||r!==null&&r.dependencies!==null&&Uc(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,O)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=X),p.props=u,p.state=X,p.context=O,u=te):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(i.flags|=1024),u=!1)}return p=u,rh(r,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&u?(i.child=Io(i,r.child,null,f),i.child=Io(i,null,a,f)):fn(r,i,a,f),i.memoizedState=p.state,r=i.child):r=Pi(r,i,f),r}function _v(r,i,a,u){return Ll(),i.flags|=256,fn(r,i,a,u),i.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function um(r){return{baseLanes:r,cachePool:s_()}}function cm(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=Sr),r}function vv(r,i,a){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Zt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(at){if(f?ds(i):ms(),at){var S=Pt,O;if(O=S){e:{for(O=S,S=ti;O.nodeType!==8;){if(!S){S=null;break e}if(O=Gr(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(i.memoizedState={dehydrated:S,treeContext:Sa!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},O=nr(18,null,null,0),O.stateNode=S,O.return=i,i.child=O,Vn=i,Pt=null,O=!0):O=!1}O||Ra(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Ym(S)?i.lanes=32:i.lanes=536870912,null;xi(i)}return S=u.children,u=u.fallback,f?(ms(),f=i.mode,S=ih({mode:"hidden",children:S},f),u=wa(u,f,a,null),S.return=i,u.return=i,S.sibling=u,i.child=S,f=i.child,f.memoizedState=um(a),f.childLanes=cm(r,E,a),i.memoizedState=lm,u):(ds(i),hm(i,S))}if(O=r.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(p)i.flags&256?(ds(i),i.flags&=-257,i=fm(r,i,a)):i.memoizedState!==null?(ms(),i.child=r.child,i.flags|=128,i=null):(ms(),f=u.fallback,S=i.mode,u=ih({mode:"visible",children:u.children},S),f=wa(f,S,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,Io(i,r.child,null,a),u=i.child,u.memoizedState=um(a),u.childLanes=cm(r,E,a),i.memoizedState=lm,i=f);else if(ds(i),Ym(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(s(419)),u.stack="",u.digest=E,kl({value:u,source:null,stack:null}),i=fm(r,i,a)}else if(sn||Ul(r,i,a,!1),E=(a&r.childLanes)!==0,sn||E){if(E=Tt,E!==null&&(u=a&-a,u=(u&42)!==0?1:sa(u),u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,yo(r,u),or(E,r,u),cv;S.data==="$?"||Nm(),i=fm(r,i,a)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=O.treeContext,Pt=Gr(S.nextSibling),Vn=i,at=!0,Aa=null,ti=!1,r!==null&&(Er[Tr++]=Ii,Er[Tr++]=Di,Er[Tr++]=Sa,Ii=r.id,Di=r.overflow,Sa=i),i=hm(i,u.children),i.flags|=4096);return i}return f?(ms(),f=u.fallback,S=i.mode,O=r.child,K=O.sibling,u=Ci(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?f=Ci(K,f):(f=wa(f,S,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,S=r.child.memoizedState,S===null?S=um(a):(O=S.cachePool,O!==null?(K=Xt._currentValue,O=O.parent!==K?{parent:K,pool:K}:O):O=s_(),S={baseLanes:S.baseLanes|a,cachePool:O}),f.memoizedState=S,f.childLanes=cm(r,E,a),i.memoizedState=lm,u):(ds(i),a=r.child,r=a.sibling,a=Ci(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=a,i.memoizedState=null,a)}function hm(r,i){return i=ih({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function ih(r,i){return r=nr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function fm(r,i,a){return Io(i,r.child,null,a),r=hm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ev(r,i,a){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Nd(r.return,i,a)}function dm(r,i,a,u,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=f)}function Tv(r,i,a){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(fn(r,i,u.children,a),u=Zt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ev(r,a,i);else if(r.tag===19)Ev(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(de(Zt,u),f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&eh(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),dm(i,!1,f,a,p);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&eh(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}dm(i,!0,a,null,p);break;case"together":dm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),vs|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Ul(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=Ci(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Ci(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function mm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Uc(r)))}function MR(r,i,a){switch(i.tag){case 3:ot(i,i.stateNode.containerInfo),ls(i,Xt,r.memoizedState.cache),Ll();break;case 27:case 5:xt(i);break;case 4:ot(i,i.stateNode.containerInfo);break;case 10:ls(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ds(i),i.flags|=128,null):(a&i.child.childLanes)!==0?vv(r,i,a):(ds(i),r=Pi(r,i,a),r!==null?r.sibling:null);ds(i);break;case 19:var f=(r.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Ul(r,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return Tv(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(Zt,Zt.current),u)break;return null;case 22:case 23:return i.lanes=0,mv(r,i,a);case 24:ls(i,Xt,r.memoizedState.cache)}return Pi(r,i,a)}function wv(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)sn=!0;else{if(!mm(r,a)&&(i.flags&128)===0)return sn=!1,MR(r,i,a);sn=(r.flags&131072)!==0}else sn=!1,at&&(i.flags&1048576)!==0&&Zy(i,kc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Sd(u)?(r=Oa(u,r),i.tag=1,i=yv(null,i,u,r,a)):(i.tag=0,i=om(null,i,u,r,a));else{if(u!=null){if(f=u.$$typeof,f===he){i.tag=11,i=hv(null,i,u,r,a);break e}else if(f===N){i.tag=14,i=fv(null,i,u,r,a);break e}}throw i=Le(u)||u,Error(s(306,i,""))}}return i;case 0:return om(r,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Oa(u,i.pendingProps),yv(r,i,u,f,a);case 3:e:{if(ot(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,kd(r,i),Gl(i,u,null,a);var E=i.memoizedState;if(u=E.cache,ls(i,Xt,u),u!==p.cache&&Od(i,[Xt],a,!0),ql(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=_v(r,i,u,a);break e}else if(u!==f){f=_r(Error(s(424)),i),kl(f),i=_v(r,i,u,a);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Pt=Gr(r.firstChild),Vn=i,at=!0,Aa=null,ti=!0,a=ev(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ll(),u===f){i=Pi(r,i,a);break e}fn(r,i,u,a)}i=i.child}return i;case 26:return rh(r,i),r===null?(a=RE(i.type,null,i.pendingProps,null))?i.memoizedState=a:at||(a=i.type,r=i.pendingProps,u=_h(De.current).createElement(a),u[ie]=i,u[ce]=r,mn(u,a,r),ke(u),i.stateNode=u):i.memoizedState=RE(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return xt(i),r===null&&at&&(u=i.stateNode=SE(i.type,i.pendingProps,De.current),Vn=i,ti=!0,f=Pt,Ss(i.type)?(Qm=f,Pt=Gr(u.firstChild)):Pt=f),fn(r,i,i.pendingProps.children,a),rh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&at&&((f=u=Pt)&&(u=a1(u,i.type,i.pendingProps,ti),u!==null?(i.stateNode=u,Vn=i,Pt=Gr(u.firstChild),ti=!1,f=!0):f=!1),f||Ra(i)),xt(i),f=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,qm(f,p)?u=null:E!==null&&qm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Hd(r,i,bR,null,null,a),du._currentValue=f),rh(r,i),fn(r,i,u,a),i.child;case 6:return r===null&&at&&((r=a=Pt)&&(a=o1(a,i.pendingProps,ti),a!==null?(i.stateNode=a,Vn=i,Pt=null,r=!0):r=!1),r||Ra(i)),null;case 13:return vv(r,i,a);case 4:return ot(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Io(i,null,u,a):fn(r,i,u,a),i.child;case 11:return hv(r,i,i.type,i.pendingProps,a);case 7:return fn(r,i,i.pendingProps,a),i.child;case 8:return fn(r,i,i.pendingProps.children,a),i.child;case 12:return fn(r,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,ls(i,i.type,u.value),fn(r,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ia(i),f=wn(f),u=u(f),i.flags|=1,fn(r,i,u,a),i.child;case 14:return fv(r,i,i.type,i.pendingProps,a);case 15:return dv(r,i,i.type,i.pendingProps,a);case 19:return Tv(r,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},r===null?(a=ih(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ci(r.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return mv(r,i,a);case 24:return Ia(i),u=wn(Xt),r===null?(f=Pd(),f===null&&(f=Tt,p=Md(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),i.memoizedState={parent:u,cache:f},Ld(i),ls(i,Xt,f)):((r.lanes&a)!==0&&(kd(r,i),Gl(i,null,null,a),ql()),f=r.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ls(i,Xt,u)):(u=p.cache,ls(i,Xt,u),u!==f.cache&&Od(i,[Xt],a,!0))),fn(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(r){r.flags|=4}function Sv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!OE(i)){if(i=wr.current,i!==null&&((tt&4194048)===tt?ni!==null:(tt&62914560)!==tt&&(tt&536870912)===0||i!==ni))throw Fl=Vd,a_;r.flags|=8192}}function sh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Zr():536870912,r.lanes|=i,Mo|=i)}function Zl(r,i){if(!at)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Nt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=a,i}function xR(r,i,a){var u=i.pendingProps;switch(Cd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Nt(i),null;case 3:return a=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Oi(Xt),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Vl(i)?Vi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,t_())),Nt(i),null;case 26:return a=i.memoizedState,r===null?(Vi(i),a!==null?(Nt(i),Sv(i,a)):(Nt(i),i.flags&=-16777217)):a?a!==r.memoizedState?(Vi(i),Nt(i),Sv(i,a)):(Nt(i),i.flags&=-16777217):(r.memoizedProps!==u&&Vi(i),Nt(i),i.flags&=-16777217),null;case 27:Kn(i),a=De.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Nt(i),null}r=Ee.current,Vl(i)?Jy(i):(r=SE(f,u,a),i.stateNode=r,Vi(i))}return Nt(i),null;case 5:if(Kn(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Nt(i),null}if(r=Ee.current,Vl(i))Jy(i);else{switch(f=_h(De.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}r[ie]=i,r[ce]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(mn(r,a,u),a){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vi(i)}}return Nt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=De.current,Vl(i)){if(r=i.stateNode,a=i.memoizedProps,u=null,f=Vn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[ie]=i,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||gE(r.nodeValue,a)),r||Ra(i)}else r=_h(r).createTextNode(u),r[ie]=i,i.stateNode=r}return Nt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Vl(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ie]=i}else Ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),f=!1}else f=t_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(xi(i),i):(xi(i),null)}if(xi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,r=r!==null&&r.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),sh(i,i.updateQueue),Nt(i),null;case 4:return Gn(),r===null&&jm(i.stateNode.containerInfo),Nt(i),null;case 10:return Oi(i.type),Nt(i),null;case 19:if(pe(Zt),f=i.memoizedState,f===null)return Nt(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)Zl(f,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=eh(r),p!==null){for(i.flags|=128,Zl(f,!1),r=p.updateQueue,i.updateQueue=r,sh(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)Xy(a,r),a=a.sibling;return de(Zt,Zt.current&1|2),i.child}r=r.sibling}f.tail!==null&&cn()>lh&&(i.flags|=128,u=!0,Zl(f,!1),i.lanes=4194304)}else{if(!u)if(r=eh(p),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,sh(i,r),Zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!at)return Nt(i),null}else 2*cn()-f.renderingStartTime>lh&&a!==536870912&&(i.flags|=128,u=!0,Zl(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(r=f.last,r!==null?r.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=cn(),i.sibling=null,r=Zt.current,de(Zt,u?r&1|2:r&1),i):(Nt(i),null);case 22:case 23:return xi(i),Bd(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),a=i.updateQueue,a!==null&&sh(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),r!==null&&pe(Da),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Xt),Nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function PR(r,i){switch(Cd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Oi(Xt),Gn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 13:if(xi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ll()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pe(Zt),null;case 4:return Gn(),null;case 10:return Oi(i.type),null;case 22:case 23:return xi(i),Bd(),r!==null&&pe(Da),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Oi(Xt),null;case 25:return null;default:return null}}function bv(r,i){switch(Cd(i),i.tag){case 3:Oi(Xt),Gn();break;case 26:case 27:case 5:Kn(i);break;case 4:Gn();break;case 13:xi(i);break;case 19:pe(Zt);break;case 10:Oi(i.type);break;case 22:case 23:xi(i),Bd(),r!==null&&pe(Da);break;case 24:Oi(Xt)}}function Jl(r,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&r)===r){u=void 0;var p=a.create,E=a.inst;u=p(),E.destroy=u}a=a.next}while(a!==f)}}catch(S){yt(i,i.return,S)}}function ps(r,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var O=a,K=S;try{K()}catch(te){yt(f,O,te)}}}u=u.next}while(u!==p)}}catch(te){yt(i,i.return,te)}}function Av(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{f_(i,a)}catch(u){yt(r,r.return,u)}}}function Rv(r,i,a){a.props=Oa(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){yt(r,i,u)}}function eu(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(f){yt(r,i,f)}}function ri(r,i){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){yt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){yt(r,i,f)}else a.current=null}function Cv(r){var i=r.type,a=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){yt(r,r.return,f)}}function pm(r,i,a){try{var u=r.stateNode;t1(u,r.type,a,i),u[ce]=i}catch(f){yt(r,r.return,f)}}function Iv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ss(r.type)||r.tag===4}function gm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Iv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ss(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ym(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=yh));else if(u!==4&&(u===27&&Ss(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(ym(r,i,a),r=r.sibling;r!==null;)ym(r,i,a),r=r.sibling}function ah(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(u!==4&&(u===27&&Ss(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(ah(r,i,a),r=r.sibling;r!==null;)ah(r,i,a),r=r.sibling}function Dv(r){var i=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);mn(i,u,a),i[ie]=r,i[ce]=a}catch(p){yt(r,r.return,p)}}var Li=!1,zt=!1,_m=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,an=null;function VR(r,i){if(r=r.containerInfo,Fm=bh,r=By(r),gd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,S=-1,O=-1,K=0,te=0,se=r,$=null;t:for(;;){for(var X;se!==a||f!==0&&se.nodeType!==3||(S=E+f),se!==p||u!==0&&se.nodeType!==3||(O=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(X=se.firstChild)!==null;)$=se,se=X;for(;;){if(se===r)break t;if($===a&&++K===f&&(S=E),$===p&&++te===u&&(O=E),(X=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=X}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hm={focusedElem:r,selectionRange:a},bh=!1,an=i;an!==null;)if(i=an,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,an=r;else for(;an!==null;){switch(i=an,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,a=i,f=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Ve=Oa(a.type,f,a.elementType===a.type);r=u.getSnapshotBeforeUpdate(Ve,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){yt(a,a.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)Km(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Km(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,an=r;break}an=i.return}}function Ov(r,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:gs(r,a),u&4&&Jl(5,a);break;case 1:if(gs(r,a),u&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(E){yt(a,a.return,E)}else{var f=Oa(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){yt(a,a.return,E)}}u&64&&Av(a),u&512&&eu(a,a.return);break;case 3:if(gs(r,a),u&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{f_(r,i)}catch(E){yt(a,a.return,E)}}break;case 27:i===null&&u&4&&Dv(a);case 26:case 5:gs(r,a),i===null&&u&4&&Cv(a),u&512&&eu(a,a.return);break;case 12:gs(r,a);break;case 13:gs(r,a),u&4&&Pv(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=qR.bind(null,a),l1(r,a))));break;case 22:if(u=a.memoizedState!==null||Li,!u){i=i!==null&&i.memoizedState!==null||zt,f=Li;var p=zt;Li=u,(zt=i)&&!p?ys(r,a,(a.subtreeFlags&8772)!==0):gs(r,a),Li=f,zt=p}break;case 30:break;default:gs(r,a)}}function Mv(r){var i=r.alternate;i!==null&&(r.alternate=null,Mv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&be(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,jn=!1;function ki(r,i,a){for(a=a.child;a!==null;)xv(r,i,a),a=a.sibling}function xv(r,i,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(hn,a)}catch{}switch(a.tag){case 26:zt||ri(a,i),ki(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||ri(a,i);var u=Ct,f=jn;Ss(a.type)&&(Ct=a.stateNode,jn=!1),ki(r,i,a),uu(a.stateNode),Ct=u,jn=f;break;case 5:zt||ri(a,i);case 6:if(u=Ct,f=jn,Ct=null,ki(r,i,a),Ct=u,jn=f,Ct!==null)if(jn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(p){yt(a,i,p)}else try{Ct.removeChild(a.stateNode)}catch(p){yt(a,i,p)}break;case 18:Ct!==null&&(jn?(r=Ct,TE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),yu(r)):TE(Ct,a.stateNode));break;case 4:u=Ct,f=jn,Ct=a.stateNode.containerInfo,jn=!0,ki(r,i,a),Ct=u,jn=f;break;case 0:case 11:case 14:case 15:zt||ps(2,a,i),zt||ps(4,a,i),ki(r,i,a);break;case 1:zt||(ri(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Rv(a,i,u)),ki(r,i,a);break;case 21:ki(r,i,a);break;case 22:zt=(u=zt)||a.memoizedState!==null,ki(r,i,a),zt=u;break;default:ki(r,i,a)}}function Pv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{yu(r)}catch(a){yt(i,i.return,a)}}function LR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Nv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Nv),i;default:throw Error(s(435,r.tag))}}function vm(r,i){var a=LR(r);i.forEach(function(u){var f=GR.bind(null,r,u);a.has(u)||(a.add(u),u.then(f,f))})}function rr(r,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],p=r,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Ss(S.type)){Ct=S.stateNode,jn=!1;break e}break;case 5:Ct=S.stateNode,jn=!1;break e;case 3:case 4:Ct=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(Ct===null)throw Error(s(160));xv(p,E,f),Ct=null,jn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vv(i,r),i=i.sibling}var qr=null;function Vv(r,i){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(i,r),ir(r),u&4&&(ps(3,r,r.return),Jl(3,r),ps(5,r,r.return));break;case 1:rr(i,r),ir(r),u&512&&(zt||a===null||ri(a,a.return)),u&64&&Li&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=qr;if(rr(i,r),ir(r),u&512&&(zt||a===null||ri(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){e:{u=r.type,a=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Te]||p[ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),mn(p,u,a),p[ie]=r,ke(p),u=p;break e;case"link":var E=DE("link","href",f).get(u+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}p=f.createElement(u),mn(p,u,a),f.head.appendChild(p);break;case"meta":if(E=DE("meta","content",f).get(u+(a.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}p=f.createElement(u),mn(p,u,a),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[ie]=r,ke(p),u=p}r.stateNode=u}else NE(f,r.type,r.stateNode);else r.stateNode=IE(f,u,r.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?NE(f,r.type,r.stateNode):IE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&pm(r,r.memoizedProps,a.memoizedProps)}break;case 27:rr(i,r),ir(r),u&512&&(zt||a===null||ri(a,a.return)),a!==null&&u&4&&pm(r,r.memoizedProps,a.memoizedProps);break;case 5:if(rr(i,r),ir(r),u&512&&(zt||a===null||ri(a,a.return)),r.flags&32){f=r.stateNode;try{gr(f,"")}catch(X){yt(r,r.return,X)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,pm(r,f,a!==null?a.memoizedProps:f)),u&1024&&(_m=!0);break;case 6:if(rr(i,r),ir(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(X){yt(r,r.return,X)}}break;case 3:if(Th=null,f=qr,qr=vh(i.containerInfo),rr(i,r),qr=f,ir(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{yu(i.containerInfo)}catch(X){yt(r,r.return,X)}_m&&(_m=!1,Lv(r));break;case 4:u=qr,qr=vh(r.stateNode.containerInfo),rr(i,r),ir(r),qr=u;break;case 12:rr(i,r),ir(r);break;case 13:rr(i,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Am=cn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,vm(r,u)));break;case 22:f=r.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,K=Li,te=zt;if(Li=K||f,zt=te||O,rr(i,r),zt=te,Li=K,ir(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||O||Li||zt||Ma(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var se=O.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){yt(O,O.return,X)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(X){yt(O,O.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,vm(r,a))));break;case 19:rr(i,r),ir(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,vm(r,u)));break;case 30:break;case 21:break;default:rr(i,r),ir(r)}}function ir(r){var i=r.flags;if(i&2){try{for(var a,u=r.return;u!==null;){if(Iv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=gm(r);ah(r,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(gr(E,""),a.flags&=-33);var S=gm(r);ah(r,S,E);break;case 3:case 4:var O=a.stateNode.containerInfo,K=gm(r);ym(r,K,O);break;default:throw Error(s(161))}}catch(te){yt(r,r.return,te)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Lv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function gs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ov(r,i.alternate,i),i=i.sibling}function Ma(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ps(4,i,i.return),Ma(i);break;case 1:ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Rv(i,i.return,a),Ma(i);break;case 27:uu(i.stateNode);case 26:case 5:ri(i,i.return),Ma(i);break;case 22:i.memoizedState===null&&Ma(i);break;case 30:Ma(i);break;default:Ma(i)}r=r.sibling}}function ys(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:ys(f,p,a),Jl(4,p);break;case 1:if(ys(f,p,a),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){yt(u,u.return,K)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)h_(O[f],S)}catch(K){yt(u,u.return,K)}}a&&E&64&&Av(p),eu(p,p.return);break;case 27:Dv(p);case 26:case 5:ys(f,p,a),a&&u===null&&E&4&&Cv(p),eu(p,p.return);break;case 12:ys(f,p,a);break;case 13:ys(f,p,a),a&&E&4&&Pv(f,p);break;case 22:p.memoizedState===null&&ys(f,p,a),eu(p,p.return);break;case 30:break;default:ys(f,p,a)}i=i.sibling}}function Em(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&jl(a))}function Tm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jl(r))}function ii(r,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kv(r,i,a,u),i=i.sibling}function kv(r,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ii(r,i,a,u),f&2048&&Jl(9,i);break;case 1:ii(r,i,a,u);break;case 3:ii(r,i,a,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jl(r)));break;case 12:if(f&2048){ii(r,i,a,u),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){yt(i,i.return,O)}}else ii(r,i,a,u);break;case 13:ii(r,i,a,u);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?ii(r,i,a,u):tu(r,i):p._visibility&2?ii(r,i,a,u):(p._visibility|=2,Do(r,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&Em(E,i);break;case 24:ii(r,i,a,u),f&2048&&Tm(i.alternate,i);break;default:ii(r,i,a,u)}}function Do(r,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,S=a,O=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:Do(p,E,S,O,f),Jl(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Do(p,E,S,O,f):tu(p,E):(te._visibility|=2,Do(p,E,S,O,f)),f&&K&2048&&Em(E.alternate,E);break;case 24:Do(p,E,S,O,f),f&&K&2048&&Tm(E.alternate,E);break;default:Do(p,E,S,O,f)}i=i.sibling}}function tu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,u=i,f=u.flags;switch(u.tag){case 22:tu(a,u),f&2048&&Em(u.alternate,u);break;case 24:tu(a,u),f&2048&&Tm(u.alternate,u);break;default:tu(a,u)}i=i.sibling}}var nu=8192;function No(r){if(r.subtreeFlags&nu)for(r=r.child;r!==null;)Uv(r),r=r.sibling}function Uv(r){switch(r.tag){case 26:No(r),r.flags&nu&&r.memoizedState!==null&&T1(qr,r.memoizedState,r.memoizedProps);break;case 5:No(r);break;case 3:case 4:var i=qr;qr=vh(r.stateNode.containerInfo),No(r),qr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=nu,nu=16777216,No(r),nu=i):No(r));break;default:No(r)}}function jv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function ru(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];an=u,Bv(u,r)}jv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zv(r),r=r.sibling}function zv(r){switch(r.tag){case 0:case 11:case 15:ru(r),r.flags&2048&&ps(9,r,r.return);break;case 3:ru(r);break;case 12:ru(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,oh(r)):ru(r);break;default:ru(r)}}function oh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];an=u,Bv(u,r)}jv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ps(8,i,i.return),oh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,oh(i));break;default:oh(i)}r=r.sibling}}function Bv(r,i){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:ps(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:jl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,an=u;else e:for(a=r;an!==null;){u=an;var f=u.sibling,p=u.return;if(Mv(u),u===a){an=null;break e}if(f!==null){f.return=p,an=f;break e}an=p}}}var kR={getCacheForType:function(r){var i=wn(Xt),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},UR=typeof WeakMap=="function"?WeakMap:Map,ht=0,Tt=null,We=null,tt=0,ft=0,sr=null,_s=!1,Oo=!1,wm=!1,Ui=0,Vt=0,vs=0,xa=0,Sm=0,Sr=0,Mo=0,iu=null,zn=null,bm=!1,Am=0,lh=1/0,uh=null,Es=null,dn=0,Ts=null,xo=null,Po=0,Rm=0,Cm=null,Fv=null,su=0,Im=null;function ar(){if((ht&2)!==0&&tt!==0)return tt&-tt;if(Q.T!==null){var r=To;return r!==0?r:Vm()}return M()}function Hv(){Sr===0&&(Sr=(tt&536870912)===0||at?Ti():536870912);var r=wr.current;return r!==null&&(r.flags|=32),Sr}function or(r,i,a){(r===Tt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(Vo(r,0),ws(r,tt,Sr,!1)),It(r,a),((ht&2)===0||r!==Tt)&&(r===Tt&&((ht&2)===0&&(xa|=a),Vt===4&&ws(r,tt,Sr,!1)),si(r))}function qv(r,i,a){if((ht&6)!==0)throw Error(s(327));var u=!a&&(i&124)===0&&(i&r.expiredLanes)===0||Wn(r,i),f=u?BR(r,i):Om(r,i,!0),p=u;do{if(f===0){Oo&&!u&&ws(r,i,0,!1);break}else{if(a=r.current.alternate,p&&!jR(a)){f=Om(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=r;f=iu;var O=S.current.memoizedState.isDehydrated;if(O&&(Vo(S,E).flags|=256),E=Om(S,E,!1),E!==2){if(wm&&!O){S.errorRecoveryDisabledLanes|=p,xa|=p,f=4;break e}p=zn,zn=f,p!==null&&(zn===null?zn=p:zn.push.apply(zn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Vo(r,0),ws(r,i,0,!0);break}e:{switch(u=r,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ws(u,i,Sr,!_s);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Am+300-cn(),10<f)){if(ws(u,i,Sr,!_s),Dn(u,0,!0)!==0)break e;u.timeoutHandle=vE(Gv.bind(null,u,a,zn,uh,bm,i,Sr,xa,Mo,_s,p,2,-0,0),f);break e}Gv(u,a,zn,uh,bm,i,Sr,xa,Mo,_s,p,0,-0,0)}}break}while(!0);si(r)}function Gv(r,i,a,u,f,p,E,S,O,K,te,se,$,X){if(r.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(fu={stylesheets:null,count:0,unsuspend:E1},Uv(i),se=w1(),se!==null)){r.cancelPendingCommit=se(Zv.bind(null,r,i,p,a,u,f,E,S,O,te,1,$,X)),ws(r,p,E,!K);return}Zv(r,i,p,a,u,f,E,S,O)}function jR(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],p=f.getSnapshot;f=f.value;try{if(!tr(p(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ws(r,i,a,u){i&=~Sm,i&=~xa,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var p=31-Qt(f),E=1<<p;u[p]=-1,f&=~E}a!==0&&Xn(r,a,i)}function ch(){return(ht&6)===0?(au(0),!1):!0}function Dm(){if(We!==null){if(ft===0)var r=We.return;else r=We,Ni=Ca=null,Kd(r),Co=null,Wl=0,r=We;for(;r!==null;)bv(r.alternate,r),r=r.return;We=null}}function Vo(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,r1(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Dm(),Tt=r,We=a=Ci(r.current,null),tt=i,ft=0,sr=null,_s=!1,Oo=Wn(r,i),wm=!1,Mo=Sr=Sm=xa=vs=Vt=0,zn=iu=null,bm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-Qt(u),p=1<<f;i|=r[f],u&=~p}return Ui=i,Mc(),a}function Kv(r,i){Ke=null,Q.H=Xc,i===Bl||i===Bc?(i=u_(),ft=3):i===a_?(i=u_(),ft=4):ft=i===cv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sr=i,We===null&&(Vt=1,nh(r,_r(i,r.current)))}function Yv(){var r=Q.H;return Q.H=Xc,r===null?Xc:r}function Qv(){var r=Q.A;return Q.A=kR,r}function Nm(){Vt=4,_s||(tt&4194048)!==tt&&wr.current!==null||(Oo=!0),(vs&134217727)===0&&(xa&134217727)===0||Tt===null||ws(Tt,tt,Sr,!1)}function Om(r,i,a){var u=ht;ht|=2;var f=Yv(),p=Qv();(Tt!==r||tt!==i)&&(uh=null,Vo(r,i)),i=!1;var E=Vt;e:do try{if(ft!==0&&We!==null){var S=We,O=sr;switch(ft){case 8:Dm(),E=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(i=!0);var K=ft;if(ft=0,sr=null,Lo(r,S,O,K),a&&Oo){E=0;break e}break;default:K=ft,ft=0,sr=null,Lo(r,S,O,K)}}zR(),E=Vt;break}catch(te){Kv(r,te)}while(!0);return i&&r.shellSuspendCounter++,Ni=Ca=null,ht=u,Q.H=f,Q.A=p,We===null&&(Tt=null,tt=0,Mc()),E}function zR(){for(;We!==null;)$v(We)}function BR(r,i){var a=ht;ht|=2;var u=Yv(),f=Qv();Tt!==r||tt!==i?(uh=null,lh=cn()+500,Vo(r,i)):Oo=Wn(r,i);e:do try{if(ft!==0&&We!==null){i=We;var p=sr;t:switch(ft){case 1:ft=0,sr=null,Lo(r,i,p,1);break;case 2:case 9:if(o_(p)){ft=0,sr=null,Wv(i);break}i=function(){ft!==2&&ft!==9||Tt!==r||(ft=7),si(r)},p.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:o_(p)?(ft=0,sr=null,Wv(i)):(ft=0,sr=null,Lo(r,i,p,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var S=We;if(!E||OE(E)){ft=0,sr=null;var O=S.sibling;if(O!==null)We=O;else{var K=S.return;K!==null?(We=K,hh(K)):We=null}break t}}ft=0,sr=null,Lo(r,i,p,5);break;case 6:ft=0,sr=null,Lo(r,i,p,6);break;case 8:Dm(),Vt=6;break e;default:throw Error(s(462))}}FR();break}catch(te){Kv(r,te)}while(!0);return Ni=Ca=null,Q.H=u,Q.A=f,ht=a,We!==null?0:(Tt=null,tt=0,Mc(),Vt)}function FR(){for(;We!==null&&!gl();)$v(We)}function $v(r){var i=wv(r.alternate,r,Ui);r.memoizedProps=r.pendingProps,i===null?hh(r):We=i}function Wv(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=gv(a,i,i.pendingProps,i.type,void 0,tt);break;case 11:i=gv(a,i,i.pendingProps,i.type.render,i.ref,tt);break;case 5:Kd(i);default:bv(a,i),i=We=Xy(i,Ui),i=wv(a,i,Ui)}r.memoizedProps=r.pendingProps,i===null?hh(r):We=i}function Lo(r,i,a,u){Ni=Ca=null,Kd(i),Co=null,Wl=0;var f=i.return;try{if(OR(r,f,i,a,tt)){Vt=1,nh(r,_r(a,r.current)),We=null;return}}catch(p){if(f!==null)throw We=f,p;Vt=1,nh(r,_r(a,r.current)),We=null;return}i.flags&32768?(at||u===1?r=!0:Oo||(tt&536870912)!==0?r=!1:(_s=r=!0,(u===2||u===9||u===3||u===6)&&(u=wr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Xv(i,r)):hh(i)}function hh(r){var i=r;do{if((i.flags&32768)!==0){Xv(i,_s);return}r=i.return;var a=xR(i.alternate,i,Ui);if(a!==null){We=a;return}if(i=i.sibling,i!==null){We=i;return}We=i=r}while(i!==null);Vt===0&&(Vt=5)}function Xv(r,i){do{var a=PR(r.alternate,r);if(a!==null){a.flags&=32767,We=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){We=r;return}We=r=a}while(r!==null);Vt=6,We=null}function Zv(r,i,a,u,f,p,E,S,O){r.cancelPendingCommit=null;do fh();while(dn!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=Td,ia(r,a,p,E,S,O),r===Tt&&(We=Tt=null,tt=0),xo=i,Ts=r,Po=a,Rm=p,Cm=f,Fv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,KR(Or,function(){return rE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=fe.p,fe.p=2,E=ht,ht|=4;try{VR(r,i,a)}finally{ht=E,fe.p=f,Q.T=u}}dn=1,Jv(),eE(),tE()}}function Jv(){if(dn===1){dn=0;var r=Ts,i=xo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{Vv(i,r);var p=Hm,E=By(r.containerInfo),S=p.focusedElem,O=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&zy(S.ownerDocument.documentElement,S)){if(O!==null&&gd(S)){var K=O.start,te=O.end;if(te===void 0&&(te=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var X=$.getSelection(),Ve=S.textContent.length,Oe=Math.min(O.start,Ve),gt=O.end===void 0?Oe:Math.min(O.end,Ve);!X.extend&&Oe>gt&&(E=gt,gt=Oe,Oe=E);var B=jy(S,Oe),k=jy(S,gt);if(B&&k&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var q=se.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),Oe>gt?(X.addRange(q),X.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),X.addRange(q))}}}}for(se=[],X=S;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}bh=!!Fm,Hm=Fm=null}finally{ht=f,fe.p=u,Q.T=a}}r.current=i,dn=2}}function eE(){if(dn===2){dn=0;var r=Ts,i=xo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{Ov(r,i.alternate,i)}finally{ht=f,fe.p=u,Q.T=a}}dn=3}}function tE(){if(dn===4||dn===3){dn=0,na();var r=Ts,i=xo,a=Po,u=Fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,xo=Ts=null,nE(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(Es=null),aa(a),i=i.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(hn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=Q.T,f=fe.p,fe.p=2,Q.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{Q.T=i,fe.p=f}}(Po&3)!==0&&fh(),si(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===Im?su++:(su=0,Im=r):su=0,au(0)}}function nE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,jl(i)))}function fh(r){return Jv(),eE(),tE(),rE()}function rE(){if(dn!==5)return!1;var r=Ts,i=Rm;Rm=0;var a=aa(Po),u=Q.T,f=fe.p;try{fe.p=32>a?32:a,Q.T=null,a=Cm,Cm=null;var p=Ts,E=Po;if(dn=0,xo=Ts=null,Po=0,(ht&6)!==0)throw Error(s(331));var S=ht;if(ht|=4,zv(p.current),kv(p,p.current,E,a),ht=S,au(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(hn,p)}catch{}return!0}finally{fe.p=f,Q.T=u,nE(r,i)}}function iE(r,i,a){i=_r(a,i),i=am(r.stateNode,i,2),r=hs(r,i,2),r!==null&&(It(r,2),si(r))}function yt(r,i,a){if(r.tag===3)iE(r,r,a);else for(;i!==null;){if(i.tag===3){iE(i,r,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Es===null||!Es.has(u))){r=_r(a,r),a=lv(2),u=hs(i,a,2),u!==null&&(uv(a,u,i,r),It(u,2),si(u));break}}i=i.return}}function Mm(r,i,a){var u=r.pingCache;if(u===null){u=r.pingCache=new UR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(wm=!0,f.add(a),r=HR.bind(null,r,i,a),i.then(r,r))}function HR(r,i,a){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Tt===r&&(tt&a)===a&&(Vt===4||Vt===3&&(tt&62914560)===tt&&300>cn()-Am?(ht&2)===0&&Vo(r,0):Sm|=a,Mo===tt&&(Mo=0)),si(r)}function sE(r,i){i===0&&(i=Zr()),r=yo(r,i),r!==null&&(It(r,i),si(r))}function qR(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),sE(r,a)}function GR(r,i){var a=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),sE(r,a)}function KR(r,i){return vi(r,i)}var dh=null,ko=null,xm=!1,mh=!1,Pm=!1,Pa=0;function si(r){r!==ko&&r.next===null&&(ko===null?dh=ko=r:ko=ko.next=r),mh=!0,xm||(xm=!0,QR())}function au(r,i){if(!Pm&&mh){Pm=!0;do for(var a=!1,u=dh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Qt(42|r)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,uE(u,p))}else p=tt,p=Dn(u,u===Tt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Wn(u,p)||(a=!0,uE(u,p));u=u.next}while(a);Pm=!1}}function YR(){aE()}function aE(){mh=xm=!1;var r=0;Pa!==0&&(n1()&&(r=Pa),Pa=0);for(var i=cn(),a=null,u=dh;u!==null;){var f=u.next,p=oE(u,i);p===0?(u.next=null,a===null?dh=f:a.next=f,f===null&&(ko=a)):(a=u,(r!==0||(p&3)!==0)&&(mh=!0)),u=f}au(r)}function oE(r,i){for(var a=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-Qt(p),S=1<<E,O=f[E];O===-1?((S&a)===0||(S&u)!==0)&&(f[E]=Ei(S,i)):O<=i&&(r.expiredLanes|=S),p&=~S}if(i=Tt,a=tt,a=Dn(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===i&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ln(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Wn(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(u!==null&&Ln(u),aa(a)){case 2:case 8:a=Ft;break;case 32:a=Or;break;case 268435456:a=xr;break;default:a=Or}return u=lE.bind(null,r),a=vi(a,u),r.callbackPriority=i,r.callbackNode=a,i}return u!==null&&u!==null&&Ln(u),r.callbackPriority=2,r.callbackNode=null,2}function lE(r,i){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(fh()&&r.callbackNode!==a)return null;var u=tt;return u=Dn(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(qv(r,u,i),oE(r,cn()),r.callbackNode!=null&&r.callbackNode===a?lE.bind(null,r):null)}function uE(r,i){if(fh())return null;qv(r,i,!0)}function QR(){i1(function(){(ht&6)!==0?vi(kt,YR):aE()})}function Vm(){return Pa===0&&(Pa=Ti()),Pa}function cE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:jr(""+r)}function hE(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function $R(r,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var p=cE((f[ce]||null).action),E=u.submitter;E&&(i=(i=E[ce]||null)?cE(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var S=new da("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Pa!==0){var O=E?hE(f,E):new FormData(f);tm(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(S.preventDefault(),O=E?hE(f,E):new FormData(f),tm(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Lm=0;Lm<Ed.length;Lm++){var km=Ed[Lm],WR=km.toLowerCase(),XR=km[0].toUpperCase()+km.slice(1);Hr(WR,"on"+XR)}Hr(qy,"onAnimationEnd"),Hr(Gy,"onAnimationIteration"),Hr(Ky,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(mR,"onTransitionRun"),Hr(pR,"onTransitionStart"),Hr(gR,"onTransitionCancel"),Hr(Yy,"onTransitionEnd"),$t("onMouseEnter",["mouseout","mouseover"]),$t("onMouseLeave",["mouseout","mouseover"]),$t("onPointerEnter",["pointerout","pointerover"]),$t("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function fE(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var E=u.length-1;0<=E;E--){var S=u[E],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(te){th(te)}f.currentTarget=null,p=O}else for(E=0;E<u.length;E++){if(S=u[E],O=S.instance,K=S.currentTarget,S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(te){th(te)}f.currentTarget=null,p=O}}}}function Xe(r,i){var a=i[Se];a===void 0&&(a=i[Se]=new Set);var u=r+"__bubble";a.has(u)||(dE(i,r,2,!1),a.add(u))}function Um(r,i,a){var u=0;i&&(u|=4),dE(a,r,u,i)}var ph="_reactListening"+Math.random().toString(36).slice(2);function jm(r){if(!r[ph]){r[ph]=!0,lt.forEach(function(a){a!=="selectionchange"&&(ZR.has(a)||Um(a,!1,r),Um(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[ph]||(i[ph]=!0,Um("selectionchange",!1,i))}}function dE(r,i,a,u){switch(kE(i)){case 2:var f=A1;break;case 8:f=R1;break;default:f=Jm}a=f.bind(null,i,a,r),f=void 0,!Ai||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function zm(r,i,a,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ze(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=p=E;continue e}S=S.parentNode}}u=u.return}ca(function(){var K=p,te=bl(a),se=[];e:{var $=Qy.get(r);if($!==void 0){var X=da,Ve=r;switch(r){case"keypress":if(ha(a)===0)break e;case"keydown":case"keyup":X=fo;break;case"focusin":Ve="focus",X=uo;break;case"focusout":Ve="blur",X=uo;break;case"beforeblur":case"afterblur":X=uo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=_a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=os;break;case qy:case Gy:case Ky:X=Rl;break;case Yy:X=y;break;case"scroll":case"scrollend":X=pa;break;case"wheel":X=b;break;case"copy":case"cut":case"paste":X=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Dl;break;case"toggle":case"beforetoggle":X=J}var Oe=(i&4)!==0,gt=!Oe&&(r==="scroll"||r==="scrollend"),B=Oe?$!==null?$+"Capture":null:$;Oe=[];for(var k=K,q;k!==null;){var re=k;if(q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||q===null||B===null||(re=ss(k,B),re!=null&&Oe.push(lu(k,re,q))),gt)break;k=k.return}0<Oe.length&&($=new X($,Ve,null,a,te),se.push({event:$,listeners:Oe}))}}if((i&7)===0){e:{if($=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",$&&a!==Sl&&(Ve=a.relatedTarget||a.fromElement)&&(ze(Ve)||Ve[ve]))break e;if((X||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,X?(Ve=a.relatedTarget||a.toElement,X=K,Ve=Ve?ze(Ve):null,Ve!==null&&(gt=l(Ve),Oe=Ve.tag,Ve!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ve=null)):(X=null,Ve=K),X!==Ve)){if(Oe=_a,re="onMouseLeave",B="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Dl,re="onPointerLeave",B="onPointerEnter",k="pointer"),gt=X==null?$:wt(X),q=Ve==null?$:wt(Ve),$=new Oe(re,k+"leave",X,a,te),$.target=gt,$.relatedTarget=q,re=null,ze(te)===K&&(Oe=new Oe(B,k+"enter",Ve,a,te),Oe.target=q,Oe.relatedTarget=gt,re=Oe),gt=re,X&&Ve)t:{for(Oe=X,B=Ve,k=0,q=Oe;q;q=Uo(q))k++;for(q=0,re=B;re;re=Uo(re))q++;for(;0<k-q;)Oe=Uo(Oe),k--;for(;0<q-k;)B=Uo(B),q--;for(;k--;){if(Oe===B||B!==null&&Oe===B.alternate)break t;Oe=Uo(Oe),B=Uo(B)}Oe=null}else Oe=null;X!==null&&mE(se,$,X,Oe,!1),Ve!==null&&gt!==null&&mE(se,gt,Ve,Oe,!0)}}e:{if($=K?wt(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var we=xy;else if(Oy($))if(Py)we=hR;else{we=uR;var Ye=lR}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&ao(K.elementType)&&(we=xy):we=cR;if(we&&(we=we(r,K))){My(se,we,a,te);break e}Ye&&Ye(r,$,K),r==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&El($,"number",$.value)}switch(Ye=K?wt(K):window,r){case"focusin":(Oy(Ye)||Ye.contentEditable==="true")&&(mo=Ye,yd=K,Pl=null);break;case"focusout":Pl=yd=mo=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,Fy(se,a,te);break;case"selectionchange":if(dR)break;case"keydown":case"keyup":Fy(se,a,te)}var Ie;if(Be)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Fr?zr(r,a)&&(Me="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ut&&a.locale!=="ko"&&(Fr||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Fr&&(Ie=wc()):(yr=te,Et="value"in yr?yr.value:yr.textContent,Fr=!0)),Ye=gh(K,Me),0<Ye.length&&(Me=new Il(Me,r,null,a,te),se.push({event:Me,listeners:Ye}),Ie?Me.data=Ie:(Ie=Br(a),Ie!==null&&(Me.data=Ie)))),(Ie=ct?Nl(r,a):sR(r,a))&&(Me=gh(K,"onBeforeInput"),0<Me.length&&(Ye=new Il("onBeforeInput","beforeinput",null,a,te),se.push({event:Ye,listeners:Me}),Ye.data=Ie)),$R(se,r,K,a,te)}fE(se,i)})}function lu(r,i,a){return{instance:r,listener:i,currentTarget:a}}function gh(r,i){for(var a=i+"Capture",u=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ss(r,a),f!=null&&u.unshift(lu(r,f,p)),f=ss(r,i),f!=null&&u.push(lu(r,f,p))),r.tag===3)return u;r=r.return}return[]}function Uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function mE(r,i,a,u,f){for(var p=i._reactName,E=[];a!==null&&a!==u;){var S=a,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,f?(K=ss(a,p),K!=null&&E.unshift(lu(a,K,O))):f||(K=ss(a,p),K!=null&&E.push(lu(a,K,O)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var JR=/\r\n?/g,e1=/\u0000|\uFFFD/g;function pE(r){return(typeof r=="string"?r:""+r).replace(JR,`
`).replace(e1,"")}function gE(r,i){return i=pE(i),pE(r)===i}function yh(){}function pt(r,i,a,u,f,p){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||gr(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&gr(r,""+u);break;case"className":pr(r,"class",u);break;case"tabIndex":pr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(r,a,u);break;case"style":wl(r,u,p);break;case"data":if(i!=="object"){pr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=jr(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&pt(r,i,"name",f.name,f,null),pt(r,i,"formEncType",f.formEncType,f,null),pt(r,i,"formMethod",f.formMethod,f,null),pt(r,i,"formTarget",f.formTarget,f,null)):(pt(r,i,"encType",f.encType,f,null),pt(r,i,"method",f.method,f,null),pt(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=jr(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=yh);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=jr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),mr(r,"popover",u);break;case"xlinkActuate":He(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vc.get(a)||a,mr(r,a,u))}}function Bm(r,i,a,u,f,p){switch(a){case"style":wl(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof u=="string"?gr(r,u):(typeof u=="number"||typeof u=="bigint")&&gr(r,""+u);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=yh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),p=r[ce]||null,p=p!=null?p[a]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,u,f);break e}a in r?r[a]=u:u===!0?r.setAttribute(a,""):mr(r,a,u)}}}function mn(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var u=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,p,E,a,null)}}f&&pt(r,i,"srcSet",a.srcSet,a,null),u&&pt(r,i,"src",a.src,a,null);return;case"input":Xe("invalid",r);var S=p=E=f=null,O=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var te=a[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":O=te;break;case"defaultChecked":K=te;break;case"value":p=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:pt(r,i,u,te,a,null)}}vl(r,p,S,O,K,E,f,!1),ns(r);return;case"select":Xe("invalid",r),u=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:pt(r,i,f,S,a,null)}i=p,a=E,r.multiple=!!u,i!=null?rs(r,!!u,i,!1):a!=null&&rs(r,!!u,a,!0);return;case"textarea":Xe("invalid",r),p=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:pt(r,i,E,S,a,null)}_c(r,u,f,p),ns(r);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(r,i,O,u,a,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(u=0;u<ou.length;u++)Xe(ou[u],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,K,u,a,null)}return;default:if(ao(i)){for(te in a)a.hasOwnProperty(te)&&(u=a[te],u!==void 0&&Bm(r,i,te,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&pt(r,i,S,u,a,null))}function t1(r,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,O=null,K=null,te=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=se;default:u.hasOwnProperty(X)||pt(r,i,X,null,u,se)}}for(var $ in u){var X=u[$];if(se=a[$],u.hasOwnProperty($)&&(X!=null||se!=null))switch($){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==se&&pt(r,i,$,X,u,se)}}_l(r,E,S,O,K,te,p,f);return;case"select":X=E=S=$=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(p)||pt(r,i,p,null,u,O)}for(f in u)if(p=u[f],O=a[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==O&&pt(r,i,f,p,u,O)}i=S,a=E,u=X,$!=null?rs(r,!!a,$,!1):!!u!=!!a&&(i!=null?rs(r,!!a,i,!0):rs(r,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(r,i,S,null,u,f)}for(E in u)if(f=u[E],p=a[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&pt(r,i,E,f,u,p)}yc(r,$,X);return;case"option":for(var Ve in a)if($=a[Ve],a.hasOwnProperty(Ve)&&$!=null&&!u.hasOwnProperty(Ve))switch(Ve){case"selected":r.selected=!1;break;default:pt(r,i,Ve,null,u,$)}for(O in u)if($=u[O],X=a[O],u.hasOwnProperty(O)&&$!==X&&($!=null||X!=null))switch(O){case"selected":r.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:pt(r,i,O,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in a)$=a[Oe],a.hasOwnProperty(Oe)&&$!=null&&!u.hasOwnProperty(Oe)&&pt(r,i,Oe,null,u,$);for(K in u)if($=u[K],X=a[K],u.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:pt(r,i,K,$,u,X)}return;default:if(ao(i)){for(var gt in a)$=a[gt],a.hasOwnProperty(gt)&&$!==void 0&&!u.hasOwnProperty(gt)&&Bm(r,i,gt,void 0,u,$);for(te in u)$=u[te],X=a[te],!u.hasOwnProperty(te)||$===X||$===void 0&&X===void 0||Bm(r,i,te,$,u,X);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&pt(r,i,B,null,u,$);for(se in u)$=u[se],X=a[se],!u.hasOwnProperty(se)||$===X||$==null&&X==null||pt(r,i,se,$,u,X)}var Fm=null,Hm=null;function _h(r){return r.nodeType===9?r:r.ownerDocument}function yE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function qm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gm=null;function n1(){var r=window.event;return r&&r.type==="popstate"?r===Gm?!1:(Gm=r,!0):(Gm=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(r){return EE.resolve(null).then(r).catch(s1)}:vE;function s1(r){setTimeout(function(){throw r})}function Ss(r){return r==="head"}function TE(r,i){var a=i,u=0,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var E=r.ownerDocument;if(a&1&&uu(E.documentElement),a&2&&uu(E.body),a&4)for(a=E.head,uu(a),E=a.firstChild;E;){var S=E.nextSibling,O=E.nodeName;E[Te]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){r.removeChild(p),yu(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);yu(i)}function Km(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Km(a),be(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function a1(r,i,a,u){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Te])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Gr(r.nextSibling),r===null)break}return null}function o1(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Gr(r.nextSibling),r===null))return null;return r}function Ym(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function l1(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Gr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Qm=null;function wE(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function SE(r,i,a){switch(i=_h(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function uu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);be(r)}var br=new Map,bE=new Set;function vh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=fe.d;fe.d={f:u1,r:c1,D:h1,C:f1,L:d1,m:m1,X:g1,S:p1,M:y1};function u1(){var r=ji.f(),i=ch();return r||i}function c1(r){var i=rt(r);i!==null&&i.tag===5&&i.type==="form"?q_(i):ji.r(r)}var jo=typeof document>"u"?null:document;function AE(r,i,a){var u=jo;if(u&&typeof i=="string"&&i){var f=rn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bE.has(f)||(bE.add(f),r={rel:r,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),mn(i,"link",r),ke(i),u.head.appendChild(i)))}}function h1(r){ji.D(r),AE("dns-prefetch",r,null)}function f1(r,i){ji.C(r,i),AE("preconnect",r,i)}function d1(r,i,a){ji.L(r,i,a);var u=jo;if(u&&r&&i){var f='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+rn(a.imageSizes)+'"]')):f+='[href="'+rn(r)+'"]';var p=f;switch(i){case"style":p=zo(r);break;case"script":p=Bo(r)}br.has(p)||(r=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),br.set(p,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(cu(p))||i==="script"&&u.querySelector(hu(p))||(i=u.createElement("link"),mn(i,"link",r),ke(i),u.head.appendChild(i)))}}function m1(r,i){ji.m(r,i);var a=jo;if(a&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(r)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Bo(r)}if(!br.has(p)&&(r=_({rel:"modulepreload",href:r},i),br.set(p,r),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hu(p)))return}u=a.createElement("link"),mn(u,"link",r),ke(u),a.head.appendChild(u)}}}function p1(r,i,a){ji.S(r,i,a);var u=jo;if(u&&r){var f=At(u).hoistableStyles,p=zo(r);i=i||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(cu(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},a),(a=br.get(p))&&$m(r,a);var O=E=u.createElement("link");ke(O),mn(O,"link",r),O._p=new Promise(function(K,te){O.onload=K,O.onerror=te}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Eh(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function g1(r,i){ji.X(r,i);var a=jo;if(a&&r){var u=At(a).hoistableScripts,f=Bo(r),p=u.get(f);p||(p=a.querySelector(hu(f)),p||(r=_({src:r,async:!0},i),(i=br.get(f))&&Wm(r,i),p=a.createElement("script"),ke(p),mn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function y1(r,i){ji.M(r,i);var a=jo;if(a&&r){var u=At(a).hoistableScripts,f=Bo(r),p=u.get(f);p||(p=a.querySelector(hu(f)),p||(r=_({src:r,async:!0,type:"module"},i),(i=br.get(f))&&Wm(r,i),p=a.createElement("script"),ke(p),mn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function RE(r,i,a,u){var f=(f=De.current)?vh(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=zo(a.href),a=At(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=zo(a.href);var p=At(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(cu(r)))&&!p._p&&(E.instance=p,E.state.loading=5),br.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},br.set(r,a),p||_1(f,r,a,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Bo(a),a=At(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function zo(r){return'href="'+rn(r)+'"'}function cu(r){return'link[rel="stylesheet"]['+r+"]"}function CE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function _1(r,i,a,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),mn(i,"link",a),ke(i),r.head.appendChild(i))}function Bo(r){return'[src="'+rn(r)+'"]'}function hu(r){return"script[async]"+r}function IE(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+rn(a.href)+'"]');if(u)return i.instance=u,ke(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ke(u),mn(u,"style",f),Eh(u,a.precedence,r),i.instance=u;case"stylesheet":f=zo(a.href);var p=r.querySelector(cu(f));if(p)return i.state.loading|=4,i.instance=p,ke(p),p;u=CE(a),(f=br.get(f))&&$m(u,f),p=(r.ownerDocument||r).createElement("link"),ke(p);var E=p;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),mn(p,"link",u),i.state.loading|=4,Eh(p,a.precedence,r),i.instance=p;case"script":return p=Bo(a.src),(f=r.querySelector(hu(p)))?(i.instance=f,ke(f),f):(u=a,(f=br.get(p))&&(u=_({},a),Wm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),ke(f),mn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Eh(u,a.precedence,r));return i.instance}function Eh(r,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===i)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function $m(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Wm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Th=null;function DE(r,i,a){if(Th===null){var u=new Map,f=Th=new Map;f.set(a,u)}else f=Th,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var p=a[f];if(!(p[Te]||p[ie]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function NE(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function v1(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function OE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var fu=null;function E1(){}function T1(r,i,a){if(fu===null)throw Error(s(475));var u=fu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=zo(a.href),p=r.querySelector(cu(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=wh.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=p,ke(p);return}p=r.ownerDocument||r,a=CE(a),(f=br.get(f))&&$m(a,f),p=p.createElement("link"),ke(p);var E=p;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),mn(p,"link",a),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=wh.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function w1(){if(fu===null)throw Error(s(475));var r=fu;return r.stylesheets&&r.count===0&&Xm(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&Xm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function wh(){if(this.count--,this.count===0){if(this.stylesheets)Xm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Sh=null;function Xm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Sh=new Map,i.forEach(S1,r),Sh=null,wh.call(r))}function S1(r,i){if(!(i.state.loading&4)){var a=Sh.get(r);if(a)var u=a.get(null);else{a=new Map,Sh.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||u,p===u&&a.set(null,f),a.set(E,f),this.count++,u=wh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var du={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function b1(r,i,a,u,f,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function ME(r,i,a,u,f,p,E,S,O,K,te,se){return r=new b1(r,i,a,E,S,O,K,se),i=1,p===!0&&(i|=24),p=nr(3,null,null,i),r.current=p,p.stateNode=r,i=Md(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:i},Ld(p),r}function xE(r){return r?(r=_o,r):_o}function PE(r,i,a,u,f,p){f=xE(f),u.context===null?u.context=f:u.pendingContext=f,u=cs(i),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=hs(r,u,i),a!==null&&(or(a,r,i),Hl(a,r,i))}function VE(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Zm(r,i){VE(r,i),(r=r.alternate)&&VE(r,i)}function LE(r){if(r.tag===13){var i=yo(r,67108864);i!==null&&or(i,r,67108864),Zm(r,67108864)}}var bh=!0;function A1(r,i,a,u){var f=Q.T;Q.T=null;var p=fe.p;try{fe.p=2,Jm(r,i,a,u)}finally{fe.p=p,Q.T=f}}function R1(r,i,a,u){var f=Q.T;Q.T=null;var p=fe.p;try{fe.p=8,Jm(r,i,a,u)}finally{fe.p=p,Q.T=f}}function Jm(r,i,a,u){if(bh){var f=ep(u);if(f===null)zm(r,i,u,Ah,a),UE(r,u);else if(I1(f,r,i,a,u))u.stopPropagation();else if(UE(r,u),i&4&&-1<C1.indexOf(r)){for(;f!==null;){var p=rt(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=$n(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-Qt(E);S.entanglements[1]|=O,E&=~O}si(p),(ht&6)===0&&(lh=cn()+500,au(0))}}break;case 13:S=yo(p,2),S!==null&&or(S,p,2),ch(),Zm(p,2)}if(p=ep(u),p===null&&zm(r,i,u,Ah,a),p===f)break;f=p}f!==null&&u.stopPropagation()}else zm(r,i,u,null,a)}}function ep(r){return r=bl(r),tp(r)}var Ah=null;function tp(r){if(Ah=null,r=ze(r),r!==null){var i=l(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=c(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Ah=r,null}function kE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ro()){case kt:return 2;case Ft:return 8;case Or:case Mr:return 32;case xr:return 268435456;default:return 32}default:return 32}}var np=!1,bs=null,As=null,Rs=null,mu=new Map,pu=new Map,Cs=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UE(r,i){switch(r){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":mu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(i.pointerId)}}function gu(r,i,a,u,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=rt(i),i!==null&&LE(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function I1(r,i,a,u,f){switch(i){case"focusin":return bs=gu(bs,r,i,a,u,f),!0;case"dragenter":return As=gu(As,r,i,a,u,f),!0;case"mouseover":return Rs=gu(Rs,r,i,a,u,f),!0;case"pointerover":var p=f.pointerId;return mu.set(p,gu(mu.get(p)||null,r,i,a,u,f)),!0;case"gotpointercapture":return p=f.pointerId,pu.set(p,gu(pu.get(p)||null,r,i,a,u,f)),!0}return!1}function jE(r){var i=ze(r.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){r.blockedOn=i,H(r.priority,function(){if(a.tag===13){var u=ar();u=sa(u);var f=yo(a,u);f!==null&&or(f,a,u),Zm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=ep(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);Sl=u,a.target.dispatchEvent(u),Sl=null}else return i=rt(a),i!==null&&LE(i),r.blockedOn=a,!1;i.shift()}return!0}function zE(r,i,a){Rh(r)&&a.delete(i)}function D1(){np=!1,bs!==null&&Rh(bs)&&(bs=null),As!==null&&Rh(As)&&(As=null),Rs!==null&&Rh(Rs)&&(Rs=null),mu.forEach(zE),pu.forEach(zE)}function Ch(r,i){r.blockedOn===i&&(r.blockedOn=null,np||(np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,D1)))}var Ih=null;function BE(r){Ih!==r&&(Ih=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ih===r&&(Ih=null);for(var i=0;i<r.length;i+=3){var a=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(tp(u||a)===null)continue;break}var p=rt(a);p!==null&&(r.splice(i,3),i-=3,tm(p,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function yu(r){function i(O){return Ch(O,r)}bs!==null&&Ch(bs,r),As!==null&&Ch(As,r),Rs!==null&&Ch(Rs,r),mu.forEach(i),pu.forEach(i);for(var a=0;a<Cs.length;a++){var u=Cs[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Cs.length&&(a=Cs[0],a.blockedOn===null);)jE(a),a.blockedOn===null&&Cs.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],p=a[u+1],E=f[ce]||null;if(typeof p=="function")E||BE(a);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ce]||null)S=E.formAction;else if(tp(f)!==null)continue}else S=E.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),BE(a)}}}function rp(r){this._internalRoot=r}Dh.prototype.render=rp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=ar();PE(a,u,r,i,null,null)},Dh.prototype.unmount=rp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;PE(r.current,2,null,r,null,null),ch(),i[ve]=null}};function Dh(r){this._internalRoot=r}Dh.prototype.unstable_scheduleHydration=function(r){if(r){var i=M();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Cs.length&&i!==0&&i<Cs[a].priority;a++);Cs.splice(a,0,r),a===0&&jE(r)}};var FE=e.version;if(FE!=="19.1.1")throw Error(s(527,FE,"19.1.1"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var N1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{hn=Nh.inject(N1),_t=Nh}catch{}}return vu.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,u="",f=iv,p=sv,E=av,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=ME(r,1,!1,null,null,a,u,f,p,E,S,null),r[ve]=i.current,jm(r),new rp(i)},vu.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var u=!1,f="",p=iv,E=sv,S=av,O=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),i=ME(r,1,!0,i,a??null,u,f,p,E,S,O,K),i.context=xE(null),a=i.current,u=ar(),u=sa(u),f=cs(u),f.callback=null,hs(a,f,u),a=u,i.current.lanes=a,It(i,a),si(i),r[ve]=i.current,jm(r),new Dh(i)},vu.version="19.1.1",vu}var ZE;function j1(){if(ZE)return sp.exports;ZE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sp.exports=U1(),sp.exports}var z1=j1(),F=Lf(),cp={exports:{}},hp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function B1(){if(JE)return hp;JE=1;var n=Lf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return hp.useSyncExternalStoreWithSelector=function(m,g,_,w,T){var D=o(null);if(D.current===null){var j={hasValue:!1,value:null};D.current=j}else j=D.current;D=c(function(){function U(oe){if(!Y){if(Y=!0,ue=oe,oe=w(oe),T!==void 0&&j.hasValue){var P=j.value;if(T(P,oe))return ee=P}return ee=oe}if(P=ee,t(ue,oe))return P;var N=w(oe);return T!==void 0&&T(P,N)?(ue=oe,P):(ue=oe,ee=N)}var Y=!1,ue,ee,he=_===void 0?null:_;return[function(){return U(g())},he===null?void 0:function(){return U(he())}]},[g,_,w,T]);var W=s(m,D[0],D[1]);return l(function(){j.hasValue=!0,j.value=W},[W]),d(W),W},hp}var eT;function F1(){return eT||(eT=1,cp.exports=B1()),cp.exports}var H1=F1();function q1(n){n()}function G1(){let n=null,e=null;return{clear(){n=null,e=null},notify(){q1(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=n;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var tT={notify(){},get:()=>[]};function K1(n,e){let t,s=tT,o=0,l=!1;function c(W){_();const U=s.subscribe(W);let Y=!1;return()=>{Y||(Y=!0,U(),w())}}function d(){s.notify()}function m(){j.onStateChange&&j.onStateChange()}function g(){return l}function _(){o++,t||(t=n.subscribe(m),s=G1())}function w(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=tT)}function T(){l||(l=!0,_())}function D(){l&&(l=!1,w())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:T,tryUnsubscribe:D,getListeners:()=>s};return j}var Y1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q1=Y1(),$1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",W1=$1(),X1=()=>Q1||W1?F.useLayoutEffect:F.useEffect,Z1=X1(),J1=Symbol.for("react-redux-context"),eC=typeof globalThis<"u"?globalThis:{};function tC(){if(!F.createContext)return{};const n=eC[J1]??=new Map;let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var Fs=tC();function nC(n){const{children:e,context:t,serverState:s,store:o}=n,l=F.useMemo(()=>{const m=K1(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),c=F.useMemo(()=>o.getState(),[o]);Z1(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||Fs;return F.createElement(d.Provider,{value:l},e)}var rC=nC;function wg(n=Fs){return function(){return F.useContext(n)}}var _0=wg();function v0(n=Fs){const e=n===Fs?_0:wg(n),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var iC=v0();function sC(n=Fs){const e=n===Fs?iC:v0(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var fr=sC(),aC=(n,e)=>n===e;function oC(n=Fs){const e=n===Fs?_0:wg(n),t=(s,o={})=>{const{equalityFn:l=aC}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:m,getServerState:g}=c;F.useRef(!0);const _=F.useCallback({[s.name](T){return s(T)}}[s.name],[s]),w=H1.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,_,l);return F.useDebugValue(w),w};return Object.assign(t,{withTypes:()=>t}),t}var st=oC();function pn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var lC=typeof Symbol=="function"&&Symbol.observable||"@@observable",nT=lC,fp=()=>Math.random().toString(36).substring(7).split("").join("."),uC={INIT:`@@redux/INIT${fp()}`,REPLACE:`@@redux/REPLACE${fp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fp()}`},rf=uC;function Sg(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function E0(n,e,t){if(typeof n!="function")throw new Error(pn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(pn(1));return t(E0)(n,e)}let s=n,o=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((U,Y)=>{c.set(Y,U)}))}function _(){if(m)throw new Error(pn(3));return o}function w(U){if(typeof U!="function")throw new Error(pn(4));if(m)throw new Error(pn(5));let Y=!0;g();const ue=d++;return c.set(ue,U),function(){if(Y){if(m)throw new Error(pn(6));Y=!1,g(),c.delete(ue),l=null}}}function T(U){if(!Sg(U))throw new Error(pn(7));if(typeof U.type>"u")throw new Error(pn(8));if(typeof U.type!="string")throw new Error(pn(17));if(m)throw new Error(pn(9));try{m=!0,o=s(o,U)}finally{m=!1}return(l=c).forEach(ue=>{ue()}),U}function D(U){if(typeof U!="function")throw new Error(pn(10));s=U,T({type:rf.REPLACE})}function j(){const U=w;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error(pn(11));function ue(){const he=Y;he.next&&he.next(_())}return ue(),{unsubscribe:U(ue)}},[nT](){return this}}}return T({type:rf.INIT}),{dispatch:T,subscribe:w,getState:_,replaceReducer:D,[nT]:j}}function cC(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:rf.INIT})>"u")throw new Error(pn(12));if(typeof t(void 0,{type:rf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pn(13))})}function hC(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const s=Object.keys(t);let o;try{cC(t)}catch(l){o=l}return function(c={},d){if(o)throw o;let m=!1;const g={};for(let _=0;_<s.length;_++){const w=s[_],T=t[w],D=c[w],j=T(D,d);if(typeof j>"u")throw d&&d.type,new Error(pn(14));g[w]=j,m=m||j!==D}return m=m||s.length!==Object.keys(c).length,m?g:c}}function sf(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...s)=>e(t(...s)))}function fC(...n){return e=>(t,s)=>{const o=e(t,s);let l=()=>{throw new Error(pn(15))};const c={getState:o.getState,dispatch:(m,...g)=>l(m,...g)},d=n.map(m=>m(c));return l=sf(...d)(o.dispatch),{...o,dispatch:l}}}function dC(n){return Sg(n)&&"type"in n&&typeof n.type=="string"}var T0=Symbol.for("immer-nothing"),rT=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Kr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var tl=Object.getPrototypeOf;function Fa(n){return!!n&&!!n[hr]}function Yi(n){return n?w0(n)||Array.isArray(n)||!!n[rT]||!!n.constructor?.[rT]||rc(n)||Uf(n):!1}var mC=Object.prototype.constructor.toString();function w0(n){if(!n||typeof n!="object")return!1;const e=tl(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===mC}function af(n,e){kf(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,s)=>e(s,t,n))}function kf(n){const e=n[hr];return e?e.type_:Array.isArray(n)?1:rc(n)?2:Uf(n)?3:0}function jp(n,e){return kf(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function S0(n,e,t){const s=kf(n);s===2?n.set(e,t):s===3?n.add(t):n[e]=t}function pC(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function rc(n){return n instanceof Map}function Uf(n){return n instanceof Set}function La(n){return n.copy_||n.base_}function zp(n,e){if(rc(n))return new Map(n);if(Uf(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=w0(n);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(n);delete s[hr];let o=Reflect.ownKeys(s);for(let l=0;l<o.length;l++){const c=o[l],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(tl(n),s)}else{const s=tl(n);if(s!==null&&t)return{...n};const o=Object.create(s);return Object.assign(o,n)}}function bg(n,e=!1){return jf(n)||Fa(n)||!Yi(n)||(kf(n)>1&&Object.defineProperties(n,{set:{value:Oh},add:{value:Oh},clear:{value:Oh},delete:{value:Oh}}),Object.freeze(n),e&&Object.values(n).forEach(t=>bg(t,!0))),n}function Oh(){Kr(2)}function jf(n){return Object.isFrozen(n)}var gC={};function Ha(n){const e=gC[n];return e||Kr(0,n),e}var zu;function b0(){return zu}function yC(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iT(n,e){e&&(Ha("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Bp(n){Fp(n),n.drafts_.forEach(_C),n.drafts_=null}function Fp(n){n===zu&&(zu=n.parent_)}function sT(n){return zu=yC(zu,n)}function _C(n){const e=n[hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function aT(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[hr].modified_&&(Bp(e),Kr(4)),Yi(n)&&(n=of(e,n),e.parent_||lf(e,n)),e.patches_&&Ha("Patches").generateReplacementPatches_(t[hr].base_,n,e.patches_,e.inversePatches_)):n=of(e,t,[]),Bp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==T0?n:void 0}function of(n,e,t){if(jf(e))return e;const s=e[hr];if(!s)return af(e,(o,l)=>oT(n,s,e,o,l,t)),e;if(s.scope_!==n)return e;if(!s.modified_)return lf(n,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),af(l,(d,m)=>oT(n,s,o,d,m,t,c)),lf(n,o,!1),t&&n.patches_&&Ha("Patches").generatePatches_(s,t,n.patches_,n.inversePatches_)}return s.copy_}function oT(n,e,t,s,o,l,c){if(Fa(o)){const d=l&&e&&e.type_!==3&&!jp(e.assigned_,s)?l.concat(s):void 0,m=of(n,o,d);if(S0(t,s,m),Fa(m))n.canAutoFreeze_=!1;else return}else c&&t.add(o);if(Yi(o)&&!jf(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;of(n,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(rc(t)?t.has(s):Object.prototype.propertyIsEnumerable.call(t,s))&&lf(n,o)}}function lf(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&bg(e,t)}function vC(n,e){const t=Array.isArray(n),s={type_:t?1:0,scope_:e?e.scope_:b0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,l=Ag;t&&(o=[s],l=Bu);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return s.draft_=d,s.revoke_=c,d}var Ag={get(n,e){if(e===hr)return n;const t=La(n);if(!jp(t,e))return EC(n,t,e);const s=t[e];return n.finalized_||!Yi(s)?s:s===dp(n.base_,e)?(mp(n),n.copy_[e]=qp(s,n)):s},has(n,e){return e in La(n)},ownKeys(n){return Reflect.ownKeys(La(n))},set(n,e,t){const s=A0(La(n),e);if(s?.set)return s.set.call(n.draft_,t),!0;if(!n.modified_){const o=dp(La(n),e),l=o?.[hr];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(pC(t,o)&&(t!==void 0||jp(n.base_,e)))return!0;mp(n),Hp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return dp(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,mp(n),Hp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=La(n),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Kr(11)},getPrototypeOf(n){return tl(n.base_)},setPrototypeOf(){Kr(12)}},Bu={};af(Ag,(n,e)=>{Bu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bu.deleteProperty=function(n,e){return Bu.set.call(this,n,e,void 0)};Bu.set=function(n,e,t){return Ag.set.call(this,n[0],e,t,n[0])};function dp(n,e){const t=n[hr];return(t?La(t):n)[e]}function EC(n,e,t){const s=A0(e,t);return s?"value"in s?s.value:s.get?.call(n.draft_):void 0}function A0(n,e){if(!(e in n))return;let t=tl(n);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=tl(t)}}function Hp(n){n.modified_||(n.modified_=!0,n.parent_&&Hp(n.parent_))}function mp(n){n.copy_||(n.copy_=zp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var TC=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(m=l,...g){return c.produce(m,_=>t.call(this,_,...g))}}typeof t!="function"&&Kr(6),s!==void 0&&typeof s!="function"&&Kr(7);let o;if(Yi(e)){const l=sT(this),c=qp(e,void 0);let d=!0;try{o=t(c),d=!1}finally{d?Bp(l):Fp(l)}return iT(l,s),aT(o,l)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===T0&&(o=void 0),this.autoFreeze_&&bg(o,!0),s){const l=[],c=[];Ha("Patches").generateReplacementPatches_(e,o,l,c),s(l,c)}return o}else Kr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let s,o;return[this.produce(e,t,(c,d)=>{s=c,o=d}),s,o]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Yi(n)||Kr(8),Fa(n)&&(n=wC(n));const e=sT(this),t=qp(n,void 0);return t[hr].isManual_=!0,Fp(e),t}finishDraft(n,e){const t=n&&n[hr];(!t||!t.isManual_)&&Kr(9);const{scope_:s}=t;return iT(s,e),aT(void 0,s)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const s=Ha("Patches").applyPatches_;return Fa(n)?s(n,e):this.produce(n,o=>s(o,e))}};function qp(n,e){const t=rc(n)?Ha("MapSet").proxyMap_(n,e):Uf(n)?Ha("MapSet").proxySet_(n,e):vC(n,e);return(e?e.scope_:b0()).drafts_.push(t),t}function wC(n){return Fa(n)||Kr(10,n),R0(n)}function R0(n){if(!Yi(n)||jf(n))return n;const e=n[hr];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=zp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=zp(n,!0);return af(t,(s,o)=>{S0(t,s,R0(o))}),e&&(e.finalized_=!1),t}var SC=new TC,C0=SC.produce;function I0(n){return({dispatch:t,getState:s})=>o=>l=>typeof l=="function"?l(t,s,n):o(l)}var bC=I0(),AC=I0,RC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sf:sf.apply(null,arguments)};function lT(n,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(qi(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:s[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=s=>dC(s)&&s.type===n,t}var D0=class bu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,bu.prototype)}static get[Symbol.species](){return bu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new bu(...e[0].concat(this)):new bu(...e.concat(this))}};function uT(n){return Yi(n)?C0(n,()=>{}):n}function Mh(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function CC(n){return typeof n=="boolean"}var IC=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new D0;return t&&(CC(t)?c.push(bC):c.push(AC(t.extraArgument))),c},DC="RTK_autoBatch",cT=n=>e=>{setTimeout(e,n)},NC=(n={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,l=!1,c=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cT(10):n.type==="callback"?n.queueNotification:cT(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const w=()=>o&&_(),T=s.subscribe(w);return d.add(_),()=>{T(),d.delete(_)}},dispatch(_){try{return o=!_?.meta?.[DC],l=!o,l&&(c||(c=!0,m(g))),s.dispatch(_)}finally{o=!0}}})},OC=n=>function(t){const{autoBatch:s=!0}=t??{};let o=new D0(n);return s&&o.push(NC(typeof s=="object"?s:void 0)),o};function MC(n){const e=IC(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(Sg(t))d=hC(t);else throw new Error(qi(1));let m;typeof s=="function"?m=s(e):m=e();let g=sf;o&&(g=RC({trace:!1,...typeof o=="object"&&o}));const _=fC(...m),w=OC(_);let T=typeof c=="function"?c(w):w();const D=g(...T);return E0(d,l,D)}function N0(n){const e={},t=[];let s;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(qi(28));if(d in e)throw new Error(qi(29));return e[d]=c,o},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),o},addMatcher(l,c){return t.push({matcher:l,reducer:c}),o},addDefaultCase(l){return s=l,o}};return n(o),[e,t,s]}function xC(n){return typeof n=="function"}function PC(n,e){let[t,s,o]=N0(e),l;if(xC(n))l=()=>uT(n());else{const d=uT(n);l=()=>d}function c(d=l(),m){let g=[t[m.type],...s.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,w)=>{if(w)if(Fa(_)){const D=w(_,m);return D===void 0?_:D}else{if(Yi(_))return C0(_,T=>w(T,m));{const T=w(_,m);if(T===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return _},d)}return c.getInitialState=l,c}var VC=Symbol.for("rtk-slice-createasyncthunk");function LC(n,e){return`${n}/${e}`}function kC({creators:n}={}){const e=n?.asyncThunk?.[VC];return function(s){const{name:o,reducerPath:l=o}=s;if(!o)throw new Error(qi(11));const c=(typeof s.reducers=="function"?s.reducers(jC()):s.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(ee,he){const oe=typeof ee=="string"?ee:ee.type;if(!oe)throw new Error(qi(12));if(oe in m.sliceCaseReducersByType)throw new Error(qi(13));return m.sliceCaseReducersByType[oe]=he,g},addMatcher(ee,he){return m.sliceMatchers.push({matcher:ee,reducer:he}),g},exposeAction(ee,he){return m.actionCreators[ee]=he,g},exposeCaseReducer(ee,he){return m.sliceCaseReducersByName[ee]=he,g}};d.forEach(ee=>{const he=c[ee],oe={reducerName:ee,type:LC(o,ee),createNotation:typeof s.reducers=="function"};BC(he)?HC(oe,he,g,e):zC(oe,he,g)});function _(){const[ee={},he=[],oe=void 0]=typeof s.extraReducers=="function"?N0(s.extraReducers):[s.extraReducers],P={...ee,...m.sliceCaseReducersByType};return PC(s.initialState,N=>{for(let A in P)N.addCase(A,P[A]);for(let A of m.sliceMatchers)N.addMatcher(A.matcher,A.reducer);for(let A of he)N.addMatcher(A.matcher,A.reducer);oe&&N.addDefaultCase(oe)})}const w=ee=>ee,T=new Map,D=new WeakMap;let j;function W(ee,he){return j||(j=_()),j(ee,he)}function U(){return j||(j=_()),j.getInitialState()}function Y(ee,he=!1){function oe(N){let A=N[ee];return typeof A>"u"&&he&&(A=Mh(D,oe,U)),A}function P(N=w){const A=Mh(T,he,()=>new WeakMap);return Mh(A,N,()=>{const R={};for(const[V,L]of Object.entries(s.selectors??{}))R[V]=UC(L,N,()=>Mh(D,N,U),he);return R})}return{reducerPath:ee,getSelectors:P,get selectors(){return P(oe)},selectSlice:oe}}const ue={name:o,reducer:W,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:U,...Y(l),injectInto(ee,{reducerPath:he,...oe}={}){const P=he??l;return ee.inject({reducerPath:P,reducer:W},oe),{...ue,...Y(P,!0)}}};return ue}}function UC(n,e,t,s){function o(l,...c){let d=e(l);return typeof d>"u"&&s&&(d=t()),n(d,...c)}return o.unwrapped=n,o}var ic=kC();function jC(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function zC({type:n,reducerName:e,createNotation:t},s,o){let l,c;if("reducer"in s){if(t&&!FC(s))throw new Error(qi(17));l=s.reducer,c=s.prepare}else l=s;o.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?lT(n,c):lT(n))}function BC(n){return n._reducerDefinitionType==="asyncThunk"}function FC(n){return n._reducerDefinitionType==="reducerWithPrepare"}function HC({type:n,reducerName:e},t,s,o){if(!o)throw new Error(qi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:_}=t,w=o(n,l,_);s.exposeAction(e,w),c&&s.addCase(w.fulfilled,c),d&&s.addCase(w.pending,d),m&&s.addCase(w.rejected,m),g&&s.addMatcher(w.settled,g),s.exposeCaseReducer(e,{fulfilled:c||xh,pending:d||xh,rejected:m||xh,settled:g||xh})}function xh(){}function qi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const O0={user:null,isCreatingAccount:!1,isLoggedIn:!1,isLoggingIn:!1};console.log(O0.user);const M0=ic({name:"auth",initialState:O0,reducers:{startCreatingAccount(n){n.isCreatingAccount=!0},stopCreatingAccount(n){n.isCreatingAccount=!1},startLoggingIn(n){n.isLoggingIn=!0},stopLoggingIn(n){n.isLoggingIn=!1},login(n,e){const{uid:t,email:s,userName:o}=e.payload;n.user={uid:t,email:s,userName:o},n.isLoggedIn=!0,n.isLoggingIn=!1},logOut(n){n.user=null,n.isLoggedIn=!1}}}),Gi=M0.actions,qC=M0.reducer,GC={bio:"Set bio here!",isEditingBio:!1},x0=ic({name:"profile",initialState:GC,reducers:{editBio(n){n.isEditingBio=!0},saveBio(n){n.isEditingBio=!1},updateBio(n,e){n.bio=e.payload},uploadAvatar(n,e){n.bioAvatar=e.payload}}}),Fu=x0.actions,KC=x0.reducer,YC={myShows:[],currentlyBinging:[],watchedEps:[],finishedShows:[],isReviewing:!1,reviews:[]},P0=ic({name:"shows",initialState:YC,reducers:{updateMyShows(n,e){n.myShows=e.payload},updateBinging(n,e){n.currentlyBinging=e.payload},updateWatchedEps(n,e){n.watchedEps=e.payload},updateFinishedShows(n,e){n.finishedShows=e.payload},startReviewing(n){n.isReviewing=!0}}}),Bi=P0.actions,QC=P0.reducer,$C={epNotes:[],charNotes:[]},V0=ic({name:"notes",initialState:$C,reducers:{updateEpNotes(n,e){n.epNotes=e.payload},updateCharNotes(n,e){n.charNotes=e.payload}}}),uf=V0.actions,WC=V0.reducer,XC={friendsList:[]},L0=ic({name:"friends",initialState:XC,reducers:{addFriend(n,e){n.friendsList=e.payload}}}),k0=L0.actions,ZC=L0.reducer,JC=MC({reducer:{auth:qC,profile:KC,shows:QC,notes:WC,friends:ZC}});/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U0=n=>{throw TypeError(n)},eI=(n,e,t)=>e.has(n)||U0("Cannot "+t),pp=(n,e,t)=>(eI(n,e,"read from private field"),t?t.call(n):e.get(n)),tI=(n,e,t)=>e.has(n)?U0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),hT="popstate";function nI(n={}){function e(o,l){let{pathname:c="/",search:d="",hash:m=""}=es(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Hu("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Hs(l))}function s(o,l){Lt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return iI(e,t,s,n)}function Qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rI(){return Math.random().toString(36).substring(2,10)}function fT(n,e){return{usr:n.state,key:n.key,idx:e}}function Hu(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?es(e):e,state:t,key:e&&e.key||s||rI()}}function Hs({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function es(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function iI(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function w(){d="POP";let U=_(),Y=U==null?null:U-g;g=U,m&&m({action:d,location:W.location,delta:Y})}function T(U,Y){d="PUSH";let ue=Hu(W.location,U,Y);t&&t(ue,U),g=_()+1;let ee=fT(ue,g),he=W.createHref(ue);try{c.pushState(ee,"",he)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(he)}l&&m&&m({action:d,location:W.location,delta:1})}function D(U,Y){d="REPLACE";let ue=Hu(W.location,U,Y);t&&t(ue,U),g=_();let ee=fT(ue,g),he=W.createHref(ue);c.replaceState(ee,"",he),l&&m&&m({action:d,location:W.location,delta:0})}function j(U){return j0(U)}let W={get action(){return d},get location(){return n(o,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(hT,w),m=U,()=>{o.removeEventListener(hT,w),m=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let Y=j(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:D,go(U){return c.go(U)}};return W}function j0(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Hs(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}var Au,dT=class{constructor(n){if(tI(this,Au,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(pp(this,Au).has(n))return pp(this,Au).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){pp(this,Au).set(n,e)}};Au=new WeakMap;var sI=new Set(["lazy","caseSensitive","path","id","index","children"]);function aI(n){return sI.has(n)}var oI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function lI(n){return oI.has(n)}function uI(n){return n.index===!0}function qu(n,e,t=[],s={},o=!1){return n.map((l,c)=>{let d=[...t,String(c)],m=typeof l.id=="string"?l.id:d.join("-");if(Qe(l.index!==!0||!l.children,"Cannot specify children on an index route"),Qe(o||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),uI(l)){let g={...l,...e(l),id:m};return s[m]=g,g}else{let g={...l,...e(l),id:m,children:void 0};return s[m]=g,l.children&&(g.children=qu(l.children,e,d,s,o)),g}})}function Os(n,e,t="/"){return Hh(n,e,t,!1)}function Hh(n,e,t,s){let o=typeof e=="string"?es(e):e,l=Dr(o.pathname||"/",t);if(l==null)return null;let c=z0(n);hI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=wI(l);d=EI(c[m],g,s)}return d}function cI(n,e){let{route:t,pathname:s,params:o}=n;return{id:t.id,pathname:s,params:o,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function z0(n,e=[],t=[],s=""){let o=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Qe(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=oi([s,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(Qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),z0(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:_I(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let d of B0(l.path))o(l,c,d)}),e}function B0(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=B0(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function hI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:vI(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var fI=/^:[\w-]+$/,dI=3,mI=2,pI=1,gI=10,yI=-2,mT=n=>n==="*";function _I(n,e){let t=n.split("/"),s=t.length;return t.some(mT)&&(s+=yI),e&&(s+=mI),t.filter(o=>!mT(o)).reduce((o,l)=>o+(fI.test(l)?dI:l===""?pI:gI),s)}function vI(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function EI(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",w=cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),T=m.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:oi([l,w.pathname]),pathnameBase:RI(oi([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=oi([l,w.pathnameBase]))}return c}function cf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=TI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},T)=>{if(_==="*"){let j=d[T]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const D=d[T];return w&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function TI(n,e=!1,t=!0){Lt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function SI({basename:n,pathname:e}){return e==="/"?n:oi([n,e])}function bI(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?es(n):n;return{pathname:t?t.startsWith("/")?t:AI(t,e):e,search:CI(s),hash:II(o)}}function AI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gp(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F0(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zf(n){let e=F0(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Bf(n,e,t,s=!1){let o;typeof n=="string"?o=es(n):(o={...n},Qe(!o.pathname||!o.pathname.includes("?"),gp("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),gp("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),gp("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let w=e.length-1;if(!s&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}d=w>=0?e[w]:"/"}let m=bI(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var oi=n=>n.join("/").replace(/\/\/+/g,"/"),RI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,II=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,hf=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Gu(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var H0=["POST","PUT","PATCH","DELETE"],DI=new Set(H0),NI=["GET",...H0],OI=new Set(NI),MI=new Set([301,302,303,307,308]),xI=new Set([307,308]),yp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},PI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},VI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rg=n=>VI.test(n),LI=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),q0="remix-router-transitions",G0=Symbol("ResetLoaderData");function kI(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=n.hydrationRouteProperties||[],o=n.mapRouteProperties||LI,l={},c=qu(n.routes,o,void 0,l),d,m=n.basename||"/",g=n.dataStrategy||FI,_={unstable_middleware:!1,...n.future},w=null,T=new Set,D=null,j=null,W=null,U=n.hydrationData!=null,Y=Os(c,n.history.location,m),ue=!1,ee=null,he;if(Y==null&&!n.patchRoutesOnNavigation){let M=Ar(404,{pathname:n.history.location.pathname}),{matches:H,route:Z}=RT(c);he=!0,Y=H,ee={[Z.id]:M}}else if(Y&&!n.hydrationData&&Xn(Y,c,n.history.location.pathname).active&&(Y=null),Y)if(Y.some(M=>M.route.lazy))he=!1;else if(!Y.some(M=>M.route.loader))he=!0;else{let M=n.hydrationData?n.hydrationData.loaderData:null,H=n.hydrationData?n.hydrationData.errors:null;if(H){let Z=Y.findIndex(ie=>H[ie.route.id]!==void 0);he=Y.slice(0,Z+1).every(ie=>!Kp(ie.route,M,H))}else he=Y.every(Z=>!Kp(Z.route,M,H))}else{he=!1,Y=[];let M=Xn(null,c,n.history.location.pathname);M.active&&M.matches&&(ue=!0,Y=M.matches)}let oe,P={historyAction:n.history.action,location:n.history.location,matches:Y,initialized:he,navigation:yp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},N="POP",A=!1,R,V=!1,L=new Map,z=null,I=!1,Le=!1,$e=new Set,Q=new Map,fe=0,ge=-1,je=new Map,x=new Set,ne=new Map,pe=new Map,de=new Set,Ee=new Map,qe,De=null;function Yt(){if(w=n.history.listen(({action:M,location:H,delta:Z})=>{if(qe){qe(),qe=void 0;return}Lt(Ee.size===0||Z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Ei({currentLocation:P.location,nextLocation:H,historyAction:M});if(ie&&Z!=null){let ce=new Promise(ve=>{qe=ve});n.history.go(Z*-1),Wn(ie,{state:"blocked",location:H,proceed(){Wn(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),ce.then(()=>n.history.go(Z))},reset(){let ve=new Map(P.blockers);ve.set(ie,Eu),xt({blockers:ve})}});return}return Ln(M,H)}),t){JI(e,L);let M=()=>eD(e,L);e.addEventListener("pagehide",M),z=()=>e.removeEventListener("pagehide",M)}return P.initialized||Ln("POP",P.location,{initialHydration:!0}),oe}function ot(){w&&w(),z&&z(),T.clear(),R&&R.abort(),P.fetchers.forEach((M,H)=>Qt(H)),P.blockers.forEach((M,H)=>Dn(H))}function Gn(M){return T.add(M),()=>T.delete(M)}function xt(M,H={}){M.matches&&(M.matches=M.matches.map(ce=>{let ve=l[ce.route.id],Se=ce.route;return Se.element!==ve.element||Se.errorElement!==ve.errorElement||Se.hydrateFallbackElement!==ve.hydrateFallbackElement?{...ce,route:ve}:ce})),P={...P,...M};let Z=[],ie=[];P.fetchers.forEach((ce,ve)=>{ce.state==="idle"&&(de.has(ve)?Z.push(ve):ie.push(ve))}),de.forEach(ce=>{!P.fetchers.has(ce)&&!Q.has(ce)&&Z.push(ce)}),[...T].forEach(ce=>ce(P,{deletedFetchers:Z,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),Z.forEach(ce=>Qt(ce)),ie.forEach(ce=>P.fetchers.delete(ce))}function Kn(M,H,{flushSync:Z}={}){let ie=P.actionData!=null&&P.navigation.formMethod!=null&&Fn(P.navigation.formMethod)&&P.navigation.state==="loading"&&M.state?._isRedirect!==!0,ce;H.actionData?Object.keys(H.actionData).length>0?ce=H.actionData:ce=null:ie?ce=P.actionData:ce=null;let ve=H.loaderData?bT(P.loaderData,H.loaderData,H.matches||[],H.errors):P.loaderData,Se=P.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Te,be)=>Se.set(be,Eu)));let _e=I?!1:ia(M,H.matches||P.matches),Re=A===!0||P.navigation.formMethod!=null&&Fn(P.navigation.formMethod)&&M.state?._isRedirect!==!0;d&&(c=d,d=void 0),I||N==="POP"||(N==="PUSH"?n.history.push(M,M.state):N==="REPLACE"&&n.history.replace(M,M.state));let Ae;if(N==="POP"){let Te=L.get(P.location.pathname);Te&&Te.has(M.pathname)?Ae={currentLocation:P.location,nextLocation:M}:L.has(M.pathname)&&(Ae={currentLocation:M,nextLocation:P.location})}else if(V){let Te=L.get(P.location.pathname);Te?Te.add(M.pathname):(Te=new Set([M.pathname]),L.set(P.location.pathname,Te)),Ae={currentLocation:P.location,nextLocation:M}}xt({...H,actionData:ce,loaderData:ve,historyAction:N,location:M,initialized:!0,navigation:yp,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:Re,blockers:Se},{viewTransitionOpts:Ae,flushSync:Z===!0}),N="POP",A=!1,V=!1,I=!1,Le=!1,De?.resolve(),De=null}async function _i(M,H){if(typeof M=="number"){n.history.go(M);return}let Z=Gp(P.location,P.matches,m,M,H?.fromRouteId,H?.relative),{path:ie,submission:ce,error:ve}=pT(!1,Z,H),Se=P.location,_e=Hu(P.location,ie,H&&H.state);_e={..._e,...n.history.encodeLocation(_e)};let Re=H&&H.replace!=null?H.replace:void 0,Ae="PUSH";Re===!0?Ae="REPLACE":Re===!1||ce!=null&&Fn(ce.formMethod)&&ce.formAction===P.location.pathname+P.location.search&&(Ae="REPLACE");let Te=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,be=(H&&H.flushSync)===!0,ze=Ei({currentLocation:Se,nextLocation:_e,historyAction:Ae});if(ze){Wn(ze,{state:"blocked",location:_e,proceed(){Wn(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),_i(M,H)},reset(){let rt=new Map(P.blockers);rt.set(ze,Eu),xt({blockers:rt})}});return}await Ln(Ae,_e,{submission:ce,pendingError:ve,preventScrollReset:Te,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:be})}function vi(){De||(De=tD()),Pr(),xt({revalidation:"loading"});let M=De.promise;return P.navigation.state==="submitting"?M:P.navigation.state==="idle"?(Ln(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),M):(Ln(N||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:V===!0}),M)}async function Ln(M,H,Z){R&&R.abort(),R=null,N=M,I=(Z&&Z.startUninterruptedRevalidation)===!0,It(P.location,P.matches),A=(Z&&Z.preventScrollReset)===!0,V=(Z&&Z.enableViewTransition)===!0;let ie=d||c,ce=Z&&Z.overrideNavigation,ve=Z?.initialHydration&&P.matches&&P.matches.length>0&&!ue?P.matches:Os(ie,H,m),Se=(Z&&Z.flushSync)===!0;if(ve&&P.initialized&&!Le&&QI(P.location,H)&&!(Z&&Z.submission&&Fn(Z.submission.formMethod))){Kn(H,{matches:ve},{flushSync:Se});return}let _e=Xn(ve,ie,H.pathname);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){let{error:At,notFoundMatches:ke,route:lt}=Ti(H.pathname);Kn(H,{matches:ke,loaderData:{},errors:{[lt.id]:At}},{flushSync:Se});return}R=new AbortController;let Re=Ho(n.history,H,R.signal,Z&&Z.submission),Ae=n.unstable_getContext?await n.unstable_getContext():new dT,Te;if(Z&&Z.pendingError)Te=[Ms(ve).route.id,{type:"error",error:Z.pendingError}];else if(Z&&Z.submission&&Fn(Z.submission.formMethod)){let At=await gl(Re,H,Z.submission,ve,Ae,_e.active,Z&&Z.initialHydration===!0,{replace:Z.replace,flushSync:Se});if(At.shortCircuited)return;if(At.pendingActionResult){let[ke,lt]=At.pendingActionResult;if(lr(lt)&&Gu(lt.error)&&lt.error.status===404){R=null,Kn(H,{matches:At.matches,loaderData:{},errors:{[ke]:lt.error}});return}}ve=At.matches||ve,Te=At.pendingActionResult,ce=_p(H,Z.submission),Se=!1,_e.active=!1,Re=Ho(n.history,Re.url,Re.signal)}let{shortCircuited:be,matches:ze,loaderData:rt,errors:wt}=await na(Re,H,ve,Ae,_e.active,ce,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Se,Te);be||(R=null,Kn(H,{matches:ze||ve,...AT(Te),loaderData:rt,errors:wt}))}async function gl(M,H,Z,ie,ce,ve,Se,_e={}){Pr();let Re=XI(H,Z);if(xt({navigation:Re},{flushSync:_e.flushSync===!0}),ve){let be=await Zn(ie,H.pathname,M.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let ze=Ms(be.partialMatches).route.id;return{matches:be.partialMatches,pendingActionResult:[ze,{type:"error",error:be.error}]}}else if(be.matches)ie=be.matches;else{let{notFoundMatches:ze,error:rt,route:wt}=Ti(H.pathname);return{matches:ze,pendingActionResult:[wt.id,{type:"error",error:rt}]}}}let Ae,Te=qh(ie,H);if(!Te.route.action&&!Te.route.lazy)Ae={type:"error",error:Ar(405,{method:M.method,pathname:H.pathname,routeId:Te.route.id})};else{let be=$o(o,l,M,ie,Te,Se?[]:s,ce),ze=await xr(M,be,ce,null);if(Ae=ze[Te.route.id],!Ae){for(let rt of ie)if(ze[rt.route.id]){Ae=ze[rt.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(Ua(Ae)){let be;return _e&&_e.replace!=null?be=_e.replace:be=TT(Ae.response.headers.get("Location"),new URL(M.url),m)===P.location.pathname+P.location.search,await Mr(M,Ae,!0,{submission:Z,replace:be}),{shortCircuited:!0}}if(lr(Ae)){let be=Ms(ie,Te.route.id);return(_e&&_e.replace)!==!0&&(N="PUSH"),{matches:ie,pendingActionResult:[be.route.id,Ae,Te.route.id]}}return{matches:ie,pendingActionResult:[Te.route.id,Ae]}}async function na(M,H,Z,ie,ce,ve,Se,_e,Re,Ae,Te,be){let ze=ve||_p(H,Se),rt=Se||_e||IT(ze),wt=!I&&!Ae;if(ce){if(wt){let Rt=cn(be);xt({navigation:ze,...Rt!==void 0?{actionData:Rt}:{}},{flushSync:Te})}let He=await Zn(Z,H.pathname,M.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Rt=Ms(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[Rt]:He.error}}}else if(He.matches)Z=He.matches;else{let{error:Rt,notFoundMatches:kr,route:On}=Ti(H.pathname);return{matches:kr,loaderData:{},errors:{[On.id]:Rt}}}}let At=d||c,{dsMatches:ke,revalidatingFetchers:lt}=gT(M,ie,o,l,n.history,P,Z,rt,H,Ae?[]:s,Ae===!0,Le,$e,de,ne,x,At,m,n.patchRoutesOnNavigation!=null,be);if(ge=++fe,!n.dataStrategy&&!ke.some(He=>He.shouldLoad)&&!ke.some(He=>He.route.unstable_middleware)&&lt.length===0){let He=Qn();return Kn(H,{matches:Z,loaderData:{},errors:be&&lr(be[1])?{[be[0]]:be[1].error}:null,...AT(be),...He?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(wt){let He={};if(!ce){He.navigation=ze;let Rt=cn(be);Rt!==void 0&&(He.actionData=Rt)}lt.length>0&&(He.fetchers=ro(lt)),xt(He,{flushSync:Te})}lt.forEach(He=>{Yn(He.key),He.controller&&Q.set(He.key,He.controller)});let Nn=()=>lt.forEach(He=>Yn(He.key));R&&R.signal.addEventListener("abort",Nn);let{loaderResults:En,fetcherResults:$t}=await io(ke,lt,M,ie);if(M.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Nn),lt.forEach(He=>Q.delete(He.key));let nn=Ph(En);if(nn)return await Mr(M,nn.result,!0,{replace:Re}),{shortCircuited:!0};if(nn=Ph($t),nn)return x.add(nn.key),await Mr(M,nn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:kn,errors:dr}=ST(P,Z,En,be,lt,$t);Ae&&P.errors&&(dr={...P.errors,...dr});let Lr=Qn(),mr=Vr(ge),pr=Lr||mr||lt.length>0;return{matches:Z,loaderData:kn,errors:dr,...pr?{fetchers:new Map(P.fetchers)}:{}}}function cn(M){if(M&&!lr(M[1]))return{[M[0]]:M[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function ro(M){return M.forEach(H=>{let Z=P.fetchers.get(H.key),ie=Tu(void 0,Z?Z.data:void 0);P.fetchers.set(H.key,ie)}),new Map(P.fetchers)}async function kt(M,H,Z,ie){Yn(M);let ce=(ie&&ie.flushSync)===!0,ve=d||c,Se=Gp(P.location,P.matches,m,Z,H,ie?.relative),_e=Os(ve,Se,m),Re=Xn(_e,ve,Se);if(Re.active&&Re.matches&&(_e=Re.matches),!_e){_t(M,H,Ar(404,{pathname:Se}),{flushSync:ce});return}let{path:Ae,submission:Te,error:be}=pT(!0,Se,ie);if(be){_t(M,H,be,{flushSync:ce});return}let ze=n.unstable_getContext?await n.unstable_getContext():new dT,rt=(ie&&ie.preventScrollReset)===!0;if(Te&&Fn(Te.formMethod)){await Ft(M,H,Ae,_e,ze,Re.active,ce,rt,Te);return}ne.set(M,{routeId:H,path:Ae}),await Or(M,H,Ae,_e,ze,Re.active,ce,rt,Te)}async function Ft(M,H,Z,ie,ce,ve,Se,_e,Re){Pr(),ne.delete(M);let Ae=P.fetchers.get(M);hn(M,ZI(Re,Ae),{flushSync:Se});let Te=new AbortController,be=Ho(n.history,Z,Te.signal,Re);if(ve){let vt=await Zn(ie,new URL(be.url).pathname,be.signal,M);if(vt.type==="aborted")return;if(vt.type==="error"){_t(M,H,vt.error,{flushSync:Se});return}else if(vt.matches)ie=vt.matches;else{_t(M,H,Ar(404,{pathname:Z}),{flushSync:Se});return}}let ze=qh(ie,Z);if(!ze.route.action&&!ze.route.lazy){let vt=Ar(405,{method:Re.formMethod,pathname:Z,routeId:H});_t(M,H,vt,{flushSync:Se});return}Q.set(M,Te);let rt=fe,wt=$o(o,l,be,ie,ze,s,ce),ke=(await xr(be,wt,ce,M))[ze.route.id];if(be.signal.aborted){Q.get(M)===Te&&Q.delete(M);return}if(de.has(M)){if(Ua(ke)||lr(ke)){hn(M,Ns(void 0));return}}else{if(Ua(ke))if(Q.delete(M),ge>rt){hn(M,Ns(void 0));return}else return x.add(M),hn(M,Tu(Re)),Mr(be,ke,!1,{fetcherSubmission:Re,preventScrollReset:_e});if(lr(ke)){_t(M,H,ke.error);return}}let lt=P.navigation.location||P.location,Nn=Ho(n.history,lt,Te.signal),En=d||c,$t=P.navigation.state!=="idle"?Os(En,P.navigation.location,m):P.matches;Qe($t,"Didn't find any matches after fetcher action");let nn=++fe;je.set(M,nn);let kn=Tu(Re,ke.data);P.fetchers.set(M,kn);let{dsMatches:dr,revalidatingFetchers:Lr}=gT(Nn,ce,o,l,n.history,P,$t,Re,lt,s,!1,Le,$e,de,ne,x,En,m,n.patchRoutesOnNavigation!=null,[ze.route.id,ke]);Lr.filter(vt=>vt.key!==M).forEach(vt=>{let Ur=vt.key,so=P.fetchers.get(Ur),Jn=Tu(void 0,so?so.data:void 0);P.fetchers.set(Ur,Jn),Yn(Ur),vt.controller&&Q.set(Ur,vt.controller)}),xt({fetchers:new Map(P.fetchers)});let mr=()=>Lr.forEach(vt=>Yn(vt.key));Te.signal.addEventListener("abort",mr);let{loaderResults:pr,fetcherResults:He}=await io(dr,Lr,Nn,ce);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",mr),je.delete(M),Q.delete(M),Lr.forEach(vt=>Q.delete(vt.key)),P.fetchers.has(M)){let vt=Ns(ke.data);P.fetchers.set(M,vt)}let Rt=Ph(pr);if(Rt)return Mr(Nn,Rt.result,!1,{preventScrollReset:_e});if(Rt=Ph(He),Rt)return x.add(Rt.key),Mr(Nn,Rt.result,!1,{preventScrollReset:_e});let{loaderData:kr,errors:On}=ST(P,$t,pr,void 0,Lr,He);Vr(nn),P.navigation.state==="loading"&&nn>ge?(Qe(N,"Expected pending action"),R&&R.abort(),Kn(P.navigation.location,{matches:$t,loaderData:kr,errors:On,fetchers:new Map(P.fetchers)})):(xt({errors:On,loaderData:bT(P.loaderData,kr,$t,On),fetchers:new Map(P.fetchers)}),Le=!1)}async function Or(M,H,Z,ie,ce,ve,Se,_e,Re){let Ae=P.fetchers.get(M);hn(M,Tu(Re,Ae?Ae.data:void 0),{flushSync:Se});let Te=new AbortController,be=Ho(n.history,Z,Te.signal);if(ve){let lt=await Zn(ie,new URL(be.url).pathname,be.signal,M);if(lt.type==="aborted")return;if(lt.type==="error"){_t(M,H,lt.error,{flushSync:Se});return}else if(lt.matches)ie=lt.matches;else{_t(M,H,Ar(404,{pathname:Z}),{flushSync:Se});return}}let ze=qh(ie,Z);Q.set(M,Te);let rt=fe,wt=$o(o,l,be,ie,ze,s,ce),ke=(await xr(be,wt,ce,M))[ze.route.id];if(Q.get(M)===Te&&Q.delete(M),!be.signal.aborted){if(de.has(M)){hn(M,Ns(void 0));return}if(Ua(ke))if(ge>rt){hn(M,Ns(void 0));return}else{x.add(M),await Mr(be,ke,!1,{preventScrollReset:_e});return}if(lr(ke)){_t(M,H,ke.error);return}hn(M,Ns(ke.data))}}async function Mr(M,H,Z,{submission:ie,fetcherSubmission:ce,preventScrollReset:ve,replace:Se}={}){H.response.headers.has("X-Remix-Revalidate")&&(Le=!0);let _e=H.response.headers.get("Location");Qe(_e,"Expected a Location header on the redirect Response"),_e=TT(_e,new URL(M.url),m);let Re=Hu(P.location,_e,{_isRedirect:!0});if(t){let wt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(Rg(_e)){const At=j0(_e,!0);wt=At.origin!==e.location.origin||Dr(At.pathname,m)==null}if(wt){Se?e.location.replace(_e):e.location.assign(_e);return}}R=null;let Ae=Se===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:be,formEncType:ze}=P.navigation;!ie&&!ce&&Te&&be&&ze&&(ie=IT(P.navigation));let rt=ie||ce;if(xI.has(H.response.status)&&rt&&Fn(rt.formMethod))await Ln(Ae,Re,{submission:{...rt,formAction:_e},preventScrollReset:ve||A,enableViewTransition:Z?V:void 0});else{let wt=_p(Re,ie);await Ln(Ae,Re,{overrideNavigation:wt,fetcherSubmission:ce,preventScrollReset:ve||A,enableViewTransition:Z?V:void 0})}}async function xr(M,H,Z,ie){let ce,ve={};try{ce=await HI(g,M,H,ie,Z,!1)}catch(Se){return H.filter(_e=>_e.shouldLoad).forEach(_e=>{ve[_e.route.id]={type:"error",error:Se}}),ve}if(M.signal.aborted)return ve;for(let[Se,_e]of Object.entries(ce))if($I(_e)){let Re=_e.result;ve[Se]={type:"redirect",response:KI(Re,M,Se,H,m)}}else ve[Se]=await GI(_e);return ve}async function io(M,H,Z,ie){let ce=xr(Z,M,ie,null),ve=Promise.all(H.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let Te=(await xr(Re.request,Re.matches,ie,Re.key))[Re.match.route.id];return{[Re.key]:Te}}else return Promise.resolve({[Re.key]:{type:"error",error:Ar(404,{pathname:Re.path})}})})),Se=await ce,_e=(await ve).reduce((Re,Ae)=>Object.assign(Re,Ae),{});return{loaderResults:Se,fetcherResults:_e}}function Pr(){Le=!0,ne.forEach((M,H)=>{Q.has(H)&&$e.add(H),Yn(H)})}function hn(M,H,Z={}){P.fetchers.set(M,H),xt({fetchers:new Map(P.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function _t(M,H,Z,ie={}){let ce=Ms(P.matches,H);Qt(M),xt({errors:{[ce.route.id]:Z},fetchers:new Map(P.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function In(M){return pe.set(M,(pe.get(M)||0)+1),de.has(M)&&de.delete(M),P.fetchers.get(M)||PI}function Qt(M){let H=P.fetchers.get(M);Q.has(M)&&!(H&&H.state==="loading"&&je.has(M))&&Yn(M),ne.delete(M),je.delete(M),x.delete(M),de.delete(M),$e.delete(M),P.fetchers.delete(M)}function yl(M){let H=(pe.get(M)||0)-1;H<=0?(pe.delete(M),de.add(M)):pe.set(M,H),xt({fetchers:new Map(P.fetchers)})}function Yn(M){let H=Q.get(M);H&&(H.abort(),Q.delete(M))}function ra(M){for(let H of M){let Z=In(H),ie=Ns(Z.data);P.fetchers.set(H,ie)}}function Qn(){let M=[],H=!1;for(let Z of x){let ie=P.fetchers.get(Z);Qe(ie,`Expected fetcher: ${Z}`),ie.state==="loading"&&(x.delete(Z),M.push(Z),H=!0)}return ra(M),H}function Vr(M){let H=[];for(let[Z,ie]of je)if(ie<M){let ce=P.fetchers.get(Z);Qe(ce,`Expected fetcher: ${Z}`),ce.state==="loading"&&(Yn(Z),je.delete(Z),H.push(Z))}return ra(H),H.length>0}function $n(M,H){let Z=P.blockers.get(M)||Eu;return Ee.get(M)!==H&&Ee.set(M,H),Z}function Dn(M){P.blockers.delete(M),Ee.delete(M)}function Wn(M,H){let Z=P.blockers.get(M)||Eu;Qe(Z.state==="unblocked"&&H.state==="blocked"||Z.state==="blocked"&&H.state==="blocked"||Z.state==="blocked"&&H.state==="proceeding"||Z.state==="blocked"&&H.state==="unblocked"||Z.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${Z.state} -> ${H.state}`);let ie=new Map(P.blockers);ie.set(M,H),xt({blockers:ie})}function Ei({currentLocation:M,nextLocation:H,historyAction:Z}){if(Ee.size===0)return;Ee.size>1&&Lt(!1,"A router only supports one blocker at a time");let ie=Array.from(Ee.entries()),[ce,ve]=ie[ie.length-1],Se=P.blockers.get(ce);if(!(Se&&Se.state==="proceeding")&&ve({currentLocation:M,nextLocation:H,historyAction:Z}))return ce}function Ti(M){let H=Ar(404,{pathname:M}),Z=d||c,{matches:ie,route:ce}=RT(Z);return{notFoundMatches:ie,route:ce,error:H}}function Zr(M,H,Z){if(D=M,W=H,j=Z||null,!U&&P.navigation===yp){U=!0;let ie=ia(P.location,P.matches);ie!=null&&xt({restoreScrollPosition:ie})}return()=>{D=null,W=null,j=null}}function wi(M,H){return j&&j(M,H.map(ie=>cI(ie,P.loaderData)))||M.key}function It(M,H){if(D&&W){let Z=wi(M,H);D[Z]=W()}}function ia(M,H){if(D){let Z=wi(M,H),ie=D[Z];if(typeof ie=="number")return ie}return null}function Xn(M,H,Z){if(n.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:Hh(H,Z,m,!0)}}else return{active:!0,matches:Hh(H,Z,m,!0)||[]};return{active:!1,matches:null}}async function Zn(M,H,Z,ie){if(!n.patchRoutesOnNavigation)return{type:"success",matches:M};let ce=M;for(;;){let ve=d==null,Se=d||c,_e=l;try{await n.patchRoutesOnNavigation({signal:Z,path:H,matches:ce,fetcherKey:ie,patch:(Te,be)=>{Z.aborted||yT(Te,be,Se,_e,o,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:ce}}finally{ve&&!Z.aborted&&(c=[...c])}if(Z.aborted)return{type:"aborted"};let Re=Os(Se,H,m);if(Re)return{type:"success",matches:Re};let Ae=Hh(Se,H,m,!0);if(!Ae||ce.length===Ae.length&&ce.every((Te,be)=>Te.route.id===Ae[be].route.id))return{type:"success",matches:null};ce=Ae}}function sa(M){l={},d=qu(M,o,void 0,l)}function aa(M,H,Z=!1){let ie=d==null;yT(M,H,d||c,l,o,Z),ie&&(c=[...c],xt({}))}return oe={get basename(){return m},get future(){return _},get state(){return P},get routes(){return c},get window(){return e},initialize:Yt,subscribe:Gn,enableScrollRestoration:Zr,navigate:_i,fetch:kt,revalidate:vi,createHref:M=>n.history.createHref(M),encodeLocation:M=>n.history.encodeLocation(M),getFetcher:In,deleteFetcher:yl,dispose:ot,getBlocker:$n,deleteBlocker:Dn,patchRoutes:aa,_internalFetchControllers:Q,_internalSetRoutes:sa,_internalSetStateDoNotUseOrYouWillBreakYourApp(M){xt(M)}},oe}function UI(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Gp(n,e,t,s,o,l){let c,d;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){d=g;break}}else c=e,d=e[e.length-1];let m=Bf(s||".",zf(c),Dr(n.pathname,t)||n.pathname,l==="path");if(s==null&&(m.search=n.search,m.hash=n.hash),(s==null||s===""||s===".")&&d){let g=Cg(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(m.search),w=_.getAll("index");_.delete("index"),w.filter(D=>D).forEach(D=>_.append("index",D));let T=_.toString();m.search=T?`?${T}`:""}}return t!=="/"&&(m.pathname=SI({basename:t,pathname:m.pathname})),Hs(m)}function pT(n,e,t){if(!t||!UI(t))return{path:e};if(t.formMethod&&!WI(t.formMethod))return{path:e,error:Ar(405,{method:t.formMethod})};let s=()=>({path:e,error:Ar(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=Z0(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Fn(l))return s();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[D,j])=>`${T}${D}=${j}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Fn(l))return s();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return s()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let d,m;if(t.formData)d=Qp(t.formData),m=t.formData;else if(t.body instanceof FormData)d=Qp(t.body),m=t.body;else if(t.body instanceof URLSearchParams)d=t.body,m=wT(d);else if(t.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(t.body),m=wT(d)}catch{return s()}let g={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Fn(g.formMethod))return{path:e,submission:g};let _=es(e);return n&&_.search&&Cg(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Hs(_),submission:g}}function gT(n,e,t,s,o,l,c,d,m,g,_,w,T,D,j,W,U,Y,ue,ee){let he=ee?lr(ee[1])?ee[1].error:ee[1].data:void 0,oe=o.createURL(l.location),P=o.createURL(m),N;if(_&&l.errors){let I=Object.keys(l.errors)[0];N=c.findIndex(Le=>Le.route.id===I)}else if(ee&&lr(ee[1])){let I=ee[0];N=c.findIndex(Le=>Le.route.id===I)-1}let A=ee?ee[1].statusCode:void 0,R=A&&A>=400,V={currentUrl:oe,currentParams:l.matches[0]?.params||{},nextUrl:P,nextParams:c[0].params,...d,actionResult:he,actionStatus:A},L=c.map((I,Le)=>{let{route:$e}=I,Q=null;if(N!=null&&Le>N?Q=!1:$e.lazy?Q=!0:$e.loader==null?Q=!1:_?Q=Kp($e,l.loaderData,l.errors):jI(l.loaderData,l.matches[Le],I)&&(Q=!0),Q!==null)return Yp(t,s,n,I,g,e,Q);let fe=R?!1:w||oe.pathname+oe.search===P.pathname+P.search||oe.search!==P.search||zI(l.matches[Le],I),ge={...V,defaultShouldRevalidate:fe},je=ff(I,ge);return Yp(t,s,n,I,g,e,je,ge)}),z=[];return j.forEach((I,Le)=>{if(_||!c.some(pe=>pe.route.id===I.routeId)||D.has(Le))return;let $e=l.fetchers.get(Le),Q=$e&&$e.state!=="idle"&&$e.data===void 0,fe=Os(U,I.path,Y);if(!fe){if(ue&&Q)return;z.push({key:Le,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(W.has(Le))return;let ge=qh(fe,I.path),je=new AbortController,x=Ho(o,I.path,je.signal),ne=null;if(T.has(Le))T.delete(Le),ne=$o(t,s,x,fe,ge,g,e);else if(Q)w&&(ne=$o(t,s,x,fe,ge,g,e));else{let pe={...V,defaultShouldRevalidate:R?!1:w};ff(ge,pe)&&(ne=$o(t,s,x,fe,ge,g,e,pe))}ne&&z.push({key:Le,routeId:I.routeId,path:I.path,matches:ne,match:ge,request:x,controller:je})}),{dsMatches:L,revalidatingFetchers:z}}function Kp(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let s=e!=null&&n.id in e,o=t!=null&&t[n.id]!==void 0;return!s&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!s&&!o}function jI(n,e,t){let s=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return s||o}function zI(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ff(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function yT(n,e,t,s,o,l){let c;if(n){let g=s[n];Qe(g,`No route found to patch children into: routeId = ${n}`),g.children||(g.children=[]),c=g.children}else c=t;let d=[],m=[];if(e.forEach(g=>{let _=c.find(w=>K0(g,w));_?m.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=qu(d,o,[n||"_","patch",String(c?.length||"0")],s);c.push(...g)}if(l&&m.length>0)for(let g=0;g<m.length;g++){let{existingRoute:_,newRoute:w}=m[g],T=_,[D]=qu([w],o,[],{},!0);Object.assign(T,{element:D.element?D.element:T.element,errorElement:D.errorElement?D.errorElement:T.errorElement,hydrateFallbackElement:D.hydrateFallbackElement?D.hydrateFallbackElement:T.hydrateFallbackElement})}}function K0(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,s)=>e.children?.some(o=>K0(t,o))):!1}var _T=new WeakMap,Y0=({key:n,route:e,manifest:t,mapRouteProperties:s})=>{let o=t[e.id];if(Qe(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[n];if(!l)return;let c=_T.get(o);c||(c={},_T.set(o,c));let d=c[n];if(d)return d;let m=(async()=>{let g=aI(n),w=o[n]!==void 0&&n!=="hasErrorBoundary";if(g)Lt(!g,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),c[n]=Promise.resolve();else if(w)Lt(!1,`Route "${o.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let T=await l();T!=null&&(Object.assign(o,{[n]:T}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[n]=void 0,Object.values(o.lazy).every(T=>T===void 0)&&(o.lazy=void 0))})();return c[n]=m,m},vT=new WeakMap;function BI(n,e,t,s,o){let l=t[n.id];if(Qe(l,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let _=vT.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let w=(async()=>{Qe(typeof n.lazy=="function","No lazy route function found");let T=await n.lazy(),D={};for(let j in T){let W=T[j];if(W===void 0)continue;let U=lI(j),ue=l[j]!==void 0&&j!=="hasErrorBoundary";U?Lt(!U,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ue?Lt(!ue,`Route "${l.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):D[j]=W}Object.assign(l,D),Object.assign(l,{...s(l),lazy:void 0})})();return vT.set(l,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let c=Object.keys(n.lazy),d=[],m;for(let _ of c){if(o&&o.includes(_))continue;let w=Y0({key:_,route:n,manifest:t,mapRouteProperties:s});w&&(d.push(w),_===e&&(m=w))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function ET(n){let e=n.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{t[e[l].route.id]=o}),t}async function FI(n){if(!n.matches.some(t=>t.route.unstable_middleware))return ET(n);let e=!1;return $0(n,()=>(e=!0,ET(n)),(t,s)=>Q0(t,s,n.matches,e))}function Q0(n,e,t,s){return s?{[e]:{type:"error",result:n}}:{[Ms(t,t.find(l=>l.route.id===e||l.route.loader)?.route.id||e).route.id]:{type:"error",result:n}}}async function $0(n,e,t){let{matches:s,request:o,params:l,context:c}=n,d=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(_=>[g.route.id,_]):[]),m={};return await W0({request:o,params:l,context:c},d,e,t,m),m}async function W0(n,e,t,s,o={},l=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d){let T=await t();Object.assign(o,T);return}let[m,g]=d,_=!1,w=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0;try{let T=await W0(n,e,t,s,o,l+1);Object.assign(o,T)}catch(T){let D=await s(T,m);Object.assign(o,D)}};try{let T=await g({request:n.request,params:n.params,context:n.context},w);typeof T<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",T),_||await w()}catch(T){let D=await s(T,m);Object.assign(o,D)}}function X0(n,e,t,s,o){let l=Y0({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:n}),c=BI(s.route,Fn(t.method)?"action":"loader",e,n,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function Yp(n,e,t,s,o,l,c,d=null){let m=!1,g=X0(n,e,t,s,o);return{...s,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(_){return m=!0,d?typeof _=="boolean"?ff(s,{...d,defaultShouldRevalidate:_}):ff(s,d):c},resolve(_){return m||c||_&&!Fn(t.method)&&(s.route.lazy||s.route.loader)?qI({request:t,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function $o(n,e,t,s,o,l,c,d=null){return s.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:X0(n,e,t,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Yp(n,e,t,m,l,c,!0,d))}async function HI(n,e,t,s,o,l){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let c={request:e,params:t[0].params,context:o,matches:t},m=await n({...c,fetcherKey:s,unstable_runClientMiddleware:g=>{let _=c,w=!1;return $0(_,()=>(w=!0,g({..._,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(T,D)=>Q0(T,D,t,w))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return m}async function qI({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:s,handlerOverride:o,scopedContext:l}){let c,d,m=Fn(n.method),g=m?"action":"loader",_=w=>{let T,D=new Promise((U,Y)=>T=Y);d=()=>T(),n.signal.addEventListener("abort",d);let j=U=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):w({request:n,params:e.params,context:l},...U!==void 0?[U]:[]),W=(async()=>{try{return{type:"data",result:await(o?o(Y=>j(Y)):j())}}catch(U){return{type:"error",result:U}}})();return Promise.race([W,D])};try{let w=m?e.route.action:e.route.loader;if(t||s)if(w){let T,[D]=await Promise.all([_(w).catch(j=>{T=j}),t,s]);if(T!==void 0)throw T;c=D}else{await t;let T=m?e.route.action:e.route.loader;if(T)[c]=await Promise.all([_(T),s]);else if(g==="action"){let D=new URL(n.url),j=D.pathname+D.search;throw Ar(405,{method:n.method,pathname:j,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(w)c=await _(w);else{let T=new URL(n.url),D=T.pathname+T.search;throw Ar(404,{pathname:D})}}catch(w){return{type:"error",result:w}}finally{d&&n.signal.removeEventListener("abort",d)}return c}async function GI(n){let{result:e,type:t}=n;if(J0(e)){let s;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(o){return{type:"error",error:o}}return t==="error"?{type:"error",error:new hf(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return t==="error"?CT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new hf(e.init?.status||500,void 0,e.data),statusCode:Gu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Gu(e)?e.status:void 0}:CT(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function KI(n,e,t,s,o){let l=n.headers.get("Location");if(Qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Rg(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===t)+1);l=Gp(new URL(e.url),c,o,l),n.headers.set("Location",l)}return n}function TT(n,e,t){if(Rg(n)){let s=n,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=Dr(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return n}function Ho(n,e,t,s){let o=n.createURL(Z0(e)).toString(),l={signal:t};if(s&&Fn(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=Qp(s.formData):l.body=s.formData}return new Request(o,l)}function Qp(n){let e=new URLSearchParams;for(let[t,s]of n.entries())e.append(t,typeof s=="string"?s:s.name);return e}function wT(n){let e=new FormData;for(let[t,s]of n.entries())e.append(t,s);return e}function YI(n,e,t,s=!1,o=!1){let l={},c=null,d,m=!1,g={},_=t&&lr(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,D=e[T];if(Qe(!Ua(D),"Cannot handle redirect results in processLoaderData"),lr(D)){let j=D.error;if(_!==void 0&&(j=_,_=void 0),c=c||{},o)c[T]=j;else{let W=Ms(n,T);c[W.route.id]==null&&(c[W.route.id]=j)}s||(l[T]=G0),m||(m=!0,d=Gu(D.error)?D.error.status:500),D.headers&&(g[T]=D.headers)}else l[T]=D.data,D.statusCode&&D.statusCode!==200&&!m&&(d=D.statusCode),D.headers&&(g[T]=D.headers)}),_!==void 0&&t&&(c={[t[0]]:_},t[2]&&(l[t[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function ST(n,e,t,s,o,l){let{loaderData:c,errors:d}=YI(e,t,s);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:_,controller:w}=m;if(w&&w.signal.aborted)return;let T=l[g];if(Qe(T,"Did not find corresponding fetcher result"),lr(T)){let D=Ms(n.matches,_?.route.id);d&&d[D.route.id]||(d={...d,[D.route.id]:T.error}),n.fetchers.delete(g)}else if(Ua(T))Qe(!1,"Unhandled fetcher revalidation redirect");else{let D=Ns(T.data);n.fetchers.set(g,D)}}),{loaderData:c,errors:d}}function bT(n,e,t,s){let o=Object.entries(e).filter(([,l])=>l!==G0).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(o[c]=n[c]),s&&s.hasOwnProperty(c))break}return o}function AT(n){return n?lr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Ms(n,e){return(e?n.slice(0,n.findIndex(s=>s.route.id===e)+1):[...n]).reverse().find(s=>s.route.hasErrorBoundary===!0)||n[0]}function RT(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ar(n,{pathname:e,routeId:t,method:s,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return n===400?(c="Bad Request",s&&e&&t?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):n===403?(c="Forbidden",d=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",d=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",s&&e&&t?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new hf(n||500,c,new Error(d),!0)}function Ph(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[s,o]=e[t];if(Ua(o))return{key:s,result:o}}}function Z0(n){let e=typeof n=="string"?es(n):n;return Hs({...e,hash:""})}function QI(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function $I(n){return J0(n.result)&&MI.has(n.result.status)}function lr(n){return n.type==="error"}function Ua(n){return(n&&n.type)==="redirect"}function CT(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function J0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function WI(n){return OI.has(n.toUpperCase())}function Fn(n){return DI.has(n.toUpperCase())}function Cg(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function qh(n,e){let t=typeof e=="string"?es(e).search:e.search;if(n[n.length-1].route.index&&Cg(t||""))return n[n.length-1];let s=F0(n);return s[s.length-1]}function IT(n){let{formMethod:e,formAction:t,formEncType:s,text:o,formData:l,json:c}=n;if(!(!e||!t||!s)){if(o!=null)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:s,formData:void 0,json:c,text:void 0}}}function _p(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function XI(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tu(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZI(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ns(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function JI(n,e){try{let t=n.sessionStorage.getItem(q0);if(t){let s=JSON.parse(t);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function eD(n,e){if(e.size>0){let t={};for(let[s,o]of e)t[s]=[...o];try{n.sessionStorage.setItem(q0,JSON.stringify(t))}catch(s){Lt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function tD(){let n,e,t=new Promise((s,o)=>{n=async l=>{s(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Xa=F.createContext(null);Xa.displayName="DataRouter";var sc=F.createContext(null);sc.displayName="DataRouterState";F.createContext(!1);var Ig=F.createContext({isTransitioning:!1});Ig.displayName="ViewTransition";var eS=F.createContext(new Map);eS.displayName="Fetchers";var nD=F.createContext(null);nD.displayName="Await";var Wr=F.createContext(null);Wr.displayName="Navigation";var Ff=F.createContext(null);Ff.displayName="Location";var Nr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Dg=F.createContext(null);Dg.displayName="RouteError";function rD(n,{relative:e}={}){Qe(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(Wr),{hash:o,pathname:l,search:c}=ac(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:oi([t,l])),s.createHref({pathname:d,search:c,hash:o})}function ll(){return F.useContext(Ff)!=null}function Xs(){return Qe(ll(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Ff).location}var tS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nS(n){F.useContext(Wr).static||F.useLayoutEffect(n)}function rS(){let{isDataRoute:n}=F.useContext(Nr);return n?_D():iD()}function iD(){Qe(ll(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Xa),{basename:e,navigator:t}=F.useContext(Wr),{matches:s}=F.useContext(Nr),{pathname:o}=Xs(),l=JSON.stringify(zf(s)),c=F.useRef(!1);return nS(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Lt(c.current,tS),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=Bf(m,JSON.parse(l),o,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:oi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,o,n])}var sD=F.createContext(null);function aD(n){let e=F.useContext(Nr).outlet;return e&&F.createElement(sD.Provider,{value:n},e)}function iS(){let{matches:n}=F.useContext(Nr),e=n[n.length-1];return e?e.params:{}}function ac(n,{relative:e}={}){let{matches:t}=F.useContext(Nr),{pathname:s}=Xs(),o=JSON.stringify(zf(t));return F.useMemo(()=>Bf(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function oD(n,e,t,s){Qe(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(Wr),{matches:l}=F.useContext(Nr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let Y=_&&_.path||"";sS(m,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let w=Xs(),T;T=w;let D=T.pathname||"/",j=D;if(g!=="/"){let Y=g.replace(/^\//,"").split("/");j="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let W=Os(n,{pathname:j});return Lt(_||W!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Lt(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),fD(W&&W.map(Y=>Object.assign({},Y,{params:Object.assign({},d,Y.params),pathname:oi([g,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?g:oi([g,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),l,t,s)}function lD(){let n=yD(),e=Gu(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,c)}var uD=F.createElement(lD,null),cD=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Nr.Provider,{value:this.props.routeContext},F.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hD({routeContext:n,match:e,children:t}){let s=F.useContext(Xa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Nr.Provider,{value:n},t)}function fD(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Qe(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:w}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,_)=>{let w,T=!1,D=null,j=null;t&&(w=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||uD,c&&(d<0&&_===0?(sS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,j=null):d===_&&(T=!0,j=g.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,_+1)),U=()=>{let Y;return w?Y=D:T?Y=j:g.route.Component?Y=F.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=m,F.createElement(hD,{match:g,routeContext:{outlet:m,matches:W,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?F.createElement(cD,{location:t.location,revalidation:t.revalidation,component:D,error:w,children:U(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):U()},null)}function Ng(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dD(n){let e=F.useContext(Xa);return Qe(e,Ng(n)),e}function mD(n){let e=F.useContext(sc);return Qe(e,Ng(n)),e}function pD(n){let e=F.useContext(Nr);return Qe(e,Ng(n)),e}function Og(n){let e=pD(n),t=e.matches[e.matches.length-1];return Qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gD(){return Og("useRouteId")}function yD(){let n=F.useContext(Dg),e=mD("useRouteError"),t=Og("useRouteError");return n!==void 0?n:e.errors?.[t]}function _D(){let{router:n}=dD("useNavigate"),e=Og("useNavigate"),t=F.useRef(!1);return nS(()=>{t.current=!0}),F.useCallback(async(o,l={})=>{Lt(t.current,tS),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var DT={};function sS(n,e,t){!e&&!DT[n]&&(DT[n]=!0,Lt(!1,t))}var NT={};function OT(n,e){!n&&!NT[e]&&(NT[e]=!0,console.warn(e))}function vD(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Lt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Lt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Lt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var ED=["HydrateFallback","hydrateFallbackElement"],TD=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",t(s))}})}};function wD({router:n,flushSync:e}){let[t,s]=F.useState(n.state),[o,l]=F.useState(),[c,d]=F.useState({isTransitioning:!1}),[m,g]=F.useState(),[_,w]=F.useState(),[T,D]=F.useState(),j=F.useRef(new Map),W=F.useCallback((ee,{deletedFetchers:he,flushSync:oe,viewTransitionOpts:P})=>{ee.fetchers.forEach((A,R)=>{A.data!==void 0&&j.current.set(R,A.data)}),he.forEach(A=>j.current.delete(A)),OT(oe===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(OT(P==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!N){e&&oe?e(()=>s(ee)):F.startTransition(()=>s(ee));return}if(e&&oe){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>s(ee))});A.finished.finally(()=>{e(()=>{g(void 0),w(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>w(A));return}_?(m&&m.resolve(),_.skipTransition(),D({state:ee,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(l(ee),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[n.window,e,_,m]);F.useLayoutEffect(()=>n.subscribe(W),[n,W]),F.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new TD)},[c]),F.useEffect(()=>{if(m&&o&&n.window){let ee=o,he=m.promise,oe=n.window.document.startViewTransition(async()=>{F.startTransition(()=>s(ee)),await he});oe.finished.finally(()=>{g(void 0),w(void 0),l(void 0),d({isTransitioning:!1})}),w(oe)}},[o,m,n.window]),F.useEffect(()=>{m&&o&&t.location.key===o.location.key&&m.resolve()},[m,_,t.location,o]),F.useEffect(()=>{!c.isTransitioning&&T&&(l(T.state),d({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),D(void 0))},[c.isTransitioning,T]);let U=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ee=>n.navigate(ee),push:(ee,he,oe)=>n.navigate(ee,{state:he,preventScrollReset:oe?.preventScrollReset}),replace:(ee,he,oe)=>n.navigate(ee,{replace:!0,state:he,preventScrollReset:oe?.preventScrollReset})}),[n]),Y=n.basename||"/",ue=F.useMemo(()=>({router:n,navigator:U,static:!1,basename:Y}),[n,U,Y]);return F.createElement(F.Fragment,null,F.createElement(Xa.Provider,{value:ue},F.createElement(sc.Provider,{value:t},F.createElement(eS.Provider,{value:j.current},F.createElement(Ig.Provider,{value:c},F.createElement(CD,{basename:Y,location:t.location,navigationType:t.historyAction,navigator:U},F.createElement(SD,{routes:n.routes,future:n.future,state:t})))))),null)}var SD=F.memo(bD);function bD({routes:n,future:e,state:t}){return oD(n,void 0,t,e)}function AD({to:n,replace:e,state:t,relative:s}){Qe(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Wr);Lt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Nr),{pathname:c}=Xs(),d=rS(),m=Bf(n,zf(l),c,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function RD(n){return aD(n.context)}function CD({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){Qe(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=es(t));let{pathname:m="/",search:g="",hash:_="",state:w=null,key:T="default"}=t,D=F.useMemo(()=>{let j=Dr(m,c);return j==null?null:{location:{pathname:j,search:g,hash:_,state:w,key:T},navigationType:s}},[c,m,g,_,w,T,s]);return Lt(D!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:F.createElement(Wr.Provider,{value:d},F.createElement(Ff.Provider,{children:e,value:D}))}var Gh="get",Kh="application/x-www-form-urlencoded";function Hf(n){return n!=null&&typeof n.tagName=="string"}function ID(n){return Hf(n)&&n.tagName.toLowerCase()==="button"}function DD(n){return Hf(n)&&n.tagName.toLowerCase()==="form"}function ND(n){return Hf(n)&&n.tagName.toLowerCase()==="input"}function OD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MD(n,e){return n.button===0&&(!e||e==="_self")&&!OD(n)}var Vh=null;function xD(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var PD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vp(n){return n!=null&&!PD.has(n)?(Lt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):n}function VD(n,e){let t,s,o,l,c;if(DD(n)){let d=n.getAttribute("action");s=d?Dr(d,e):null,t=n.getAttribute("method")||Gh,o=vp(n.getAttribute("enctype"))||Kh,l=new FormData(n)}else if(ID(n)||ND(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?Dr(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Gh,o=vp(n.getAttribute("formenctype"))||vp(d.getAttribute("enctype"))||Kh,l=new FormData(d,n),!xD()){let{name:g,type:_,value:w}=n;if(_==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,w)}}else{if(Hf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gh,s=null,o=Kh,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function LD(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Dr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function kD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jD(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await kD(l,t);return c.links?c.links():[]}return[]}));return HD(s.flat(1).filter(UD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function MT(n,e,t,s,o,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function zD(n,e,{includeHydrateFallback:t}={}){return BD(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function BD(n){return[...new Set(n)]}function FD(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function HD(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(FD(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function aS(){let n=F.useContext(Xa);return Mg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qD(){let n=F.useContext(sc);return Mg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xg=F.createContext(void 0);xg.displayName="FrameworkContext";function oS(){let n=F.useContext(xg);return Mg(n,"You must render this element inside a <HydratedRouter> element"),n}function GD(n,e){let t=F.useContext(xg),[s,o]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,T=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let W=Y=>{Y.forEach(ue=>{c(ue.isIntersecting)})},U=new IntersectionObserver(W,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[n]),F.useEffect(()=>{if(s){let W=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(W)}}},[s]);let D=()=>{o(!0)},j=()=>{o(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:wu(d,D),onBlur:wu(m,j),onMouseEnter:wu(g,D),onMouseLeave:wu(_,j),onTouchStart:wu(w,D)}]:[!1,T,{}]}function wu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function KD({page:n,...e}){let{router:t}=aS(),s=F.useMemo(()=>Os(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?F.createElement(QD,{page:n,matches:s,...e}):null}function YD(n){let{manifest:e,routeModules:t}=oS(),[s,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return jD(n,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[n,e,t]),s}function QD({page:n,matches:e,...t}){let s=Xs(),{manifest:o,routeModules:l}=oS(),{basename:c}=aS(),{loaderData:d,matches:m}=qD(),g=F.useMemo(()=>MT(n,e,m,o,s,"data"),[n,e,m,o,s]),_=F.useMemo(()=>MT(n,e,m,o,s,"assets"),[n,e,m,o,s]),w=F.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let j=new Set,W=!1;if(e.forEach(Y=>{let ue=o.routes[Y.route.id];!ue||!ue.hasLoader||(!g.some(ee=>ee.route.id===Y.route.id)&&Y.route.id in d&&l[Y.route.id]?.shouldRevalidate||ue.hasClientLoader?W=!0:j.add(Y.route.id))}),j.size===0)return[];let U=LD(n,c,"data");return W&&j.size>0&&U.searchParams.set("_routes",e.filter(Y=>j.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[c,d,s,o,g,e,n,l]),T=F.useMemo(()=>zD(_,o),[_,o]),D=YD(_);return F.createElement(F.Fragment,null,w.map(j=>F.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),T.map(j=>F.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),D.map(({key:j,link:W})=>F.createElement("link",{key:j,nonce:t.nonce,...W})))}function $D(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lS&&(window.__reactRouterVersion="7.8.0")}catch{}function WD(n,e){return kI({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:nI({window:e?.window}),hydrationData:XD(),routes:n,mapRouteProperties:vD,hydrationRouteProperties:ED,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function XD(){let n=window?.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:ZD(n.errors)}),n}function ZD(n){if(!n)return null;let e=Object.entries(n),t={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")t[s]=new hf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",t[s]=c}catch{}}if(t[s]==null){let l=new Error(o.message);l.stack="",t[s]=l}}else t[s]=o;return t}var uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cS=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:w,...T},D){let{basename:j}=F.useContext(Wr),W=typeof g=="string"&&uS.test(g),U,Y=!1;if(typeof g=="string"&&W&&(U=g,lS))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=Dr(V.pathname,j);V.origin===R.origin&&L!=null?g=L+V.search+V.hash:Y=!0}catch{Lt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=rD(g,{relative:o}),[ee,he,oe]=GD(s,T),P=tN(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:w});function N(R){e&&e(R),R.defaultPrevented||P(R)}let A=F.createElement("a",{...T,...oe,href:U||ue,onClick:Y||l?e:N,ref:$D(D,he),target:m,"data-discover":!W&&t==="render"?"true":void 0});return ee&&!W?F.createElement(F.Fragment,null,A,F.createElement(KD,{page:ue})):A});cS.displayName="Link";var zi=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let w=ac(c,{relative:g.relative}),T=Xs(),D=F.useContext(sc),{navigator:j,basename:W}=F.useContext(Wr),U=D!=null&&aN(w)&&d===!0,Y=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,ue=T.pathname,ee=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(ue=ue.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&W&&(ee=Dr(ee,W)||ee);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=ue===Y||!o&&ue.startsWith(Y)&&ue.charAt(he)==="/",P=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),N={isActive:oe,isPending:P,isTransitioning:U},A=oe?e:void 0,R;typeof s=="function"?R=s(N):R=[s,oe?"active":null,P?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(N):l;return F.createElement(cS,{...g,"aria-current":A,className:R,ref:_,style:V,to:c,viewTransition:d},typeof m=="function"?m(N):m)});zi.displayName="NavLink";var JD=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=Gh,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:w,...T},D)=>{let j=iN(),W=sN(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&uS.test(d),ue=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let he=ee.nativeEvent.submitter,oe=he?.getAttribute("formmethod")||c;j(he||ee.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:w})};return F.createElement("form",{ref:D,method:U,action:W,onSubmit:s?m:ue,...T,"data-discover":!Y&&n==="render"?"true":void 0})});JD.displayName="Form";function eN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(n){let e=F.useContext(Xa);return Qe(e,eN(n)),e}function tN(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=rS(),m=Xs(),g=ac(n,{relative:l});return F.useCallback(_=>{if(MD(_,e)){_.preventDefault();let w=t!==void 0?t:Hs(m)===Hs(g);d(n,{replace:w,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[m,d,g,t,s,e,n,o,l,c])}var nN=0,rN=()=>`__${String(++nN)}__`;function iN(){let{router:n}=hS("useSubmit"),{basename:e}=F.useContext(Wr),t=gD();return F.useCallback(async(s,o={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=VD(s,e);if(o.navigate===!1){let _=o.fetcherKey||rN();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function sN(n,{relative:e}={}){let{basename:t}=F.useContext(Wr),s=F.useContext(Nr);Qe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ac(n||".",{relative:e})},c=Xs();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(w=>w).forEach(w=>d.append("index",w));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:oi([t,l.pathname])),Hs(l)}function aN(n,{relative:e}={}){let t=F.useContext(Ig);Qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hS("useViewTransitionState"),o=ac(n,{relative:e});if(!t.isTransitioning)return!1;let l=Dr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Dr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return cf(o.pathname,c)!=null||cf(o.pathname,l)!=null}var fS=y0();function oN(n){return F.createElement(wD,{flushSync:fS.flushSync,...n})}const lN=()=>{};var xT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},uN=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=l>>2,w=(l&3)<<4|d>>4;let T=(d&15)<<2|g>>6,D=g&63;m||(D=64,c||(T=64)),s.push(t[_],t[w],t[T],t[D])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||g==null||w==null)throw new cN;const T=l<<2|d>>4;if(s.push(T),g!==64){const D=d<<4&240|g>>2;if(s.push(D),w!==64){const j=g<<6&192|w;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hN=function(n){const e=dS(n);return mS.encodeByteArray(e,!0)},df=function(n){return hN(n).replace(/\./g,"")},pS=function(n){try{return mS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=()=>fN().__FIREBASE_DEFAULTS__,mN=()=>{if(typeof process>"u"||typeof xT>"u")return;const n=xT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pS(n[1]);return e&&JSON.parse(e)},qf=()=>{try{return lN()||dN()||mN()||pN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gS=n=>qf()?.emulatorHosts?.[n],gN=n=>{const e=gS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},yS=()=>qf()?.config,_S=n=>qf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[df(JSON.stringify(t)),df(JSON.stringify(c)),""].join(".")}const Mu={};function vN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Mu))Mu[e]?n.emulator.push(e):n.prod.push(e);return n}function EN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let PT=!1;function ES(n,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Mu[n]===e||Mu[n]||PT)return;Mu[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=vN().prod.length>0;function c(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{PT=!0,c()},T}function _(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=EN(s),D=t("text"),j=document.getElementById(D)||document.createElement("span"),W=t("learnmore"),U=document.getElementById(W)||document.createElement("a"),Y=t("preprendIcon"),ue=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ee=T.element;d(ee),_(U,W);const he=g();m(ue,Y),ee.append(ue,j,U,he),document.body.appendChild(ee)}l?(j.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function wN(){const n=qf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AN(){const n=Cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RN(){return!wN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function CN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="FirebaseError";class Xr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=IN,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?DN(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Xr(o,d,s)}}function DN(n,e){return n.replace(NN,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NN=/\{\$([^}]+)}/g;function ON(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qs(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],c=e[o];if(VT(l)&&VT(c)){if(!qs(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function VT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ru(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Cu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function MN(n,e){const t=new xN(n,e);return t.subscribe.bind(t)}class xN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");PN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ep),o.error===void 0&&(o.error=Ep),o.complete===void 0&&(o.complete=Ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1e3,LN=2,kN=14400*1e3,UN=.5;function LT(n,e=VN,t=LN){const s=e*Math.pow(t,n),o=Math.round(UN*s*(Math.random()-.5)*2);return Math.min(kN,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(n){return n&&n._delegate?n._delegate:n}class Qr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new yN;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BN(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zN(n){return n===ka?void 0:n}function BN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const HN={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},qN=Ze.INFO,GN={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},KN=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=GN[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gf{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=KN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const YN=(n,e)=>e.some(t=>n instanceof t);let kT,UT;function QN(){return kT||(kT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $N(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bS=new WeakMap,$p=new WeakMap,AS=new WeakMap,Tp=new WeakMap,Pg=new WeakMap;function WN(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Us(n.result)),o()},c=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&bS.set(t,n)}).catch(()=>{}),Pg.set(e,n),e}function XN(n){if($p.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});$p.set(n,e)}let Wp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $p.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZN(n){Wp=n(Wp)}function JN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(wp(this),e,...t);return AS.set(s,e.sort?e.sort():[e]),Us(s)}:$N().includes(n)?function(...e){return n.apply(wp(this),e),Us(bS.get(this))}:function(...e){return Us(n.apply(wp(this),e))}}function e2(n){return typeof n=="function"?JN(n):(n instanceof IDBTransaction&&XN(n),YN(n,QN())?new Proxy(n,Wp):n)}function Us(n){if(n instanceof IDBRequest)return WN(n);if(Tp.has(n))return Tp.get(n);const e=e2(n);return e!==n&&(Tp.set(n,e),Pg.set(e,n)),e}const wp=n=>Pg.get(n);function RS(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=Us(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Us(c.result),m.oldVersion,m.newVersion,Us(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const t2=["get","getKey","getAll","getAllKeys","count"],n2=["put","add","delete","clear"],Sp=new Map;function jT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=n2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||t2.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return Sp.set(e,l),l}ZN(n=>({...n,get:(e,t,s)=>jT(e,t)||n.get(e,t,s),has:(e,t)=>!!jT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(i2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function i2(n){return n.getComponent()?.type==="VERSION"}const Xp="@firebase/app",zT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Gf("@firebase/app"),s2="@firebase/app-compat",a2="@firebase/analytics-compat",o2="@firebase/analytics",l2="@firebase/app-check-compat",u2="@firebase/app-check",c2="@firebase/auth",h2="@firebase/auth-compat",f2="@firebase/database",d2="@firebase/data-connect",m2="@firebase/database-compat",p2="@firebase/functions",g2="@firebase/functions-compat",y2="@firebase/installations",_2="@firebase/installations-compat",v2="@firebase/messaging",E2="@firebase/messaging-compat",T2="@firebase/performance",w2="@firebase/performance-compat",S2="@firebase/remote-config",b2="@firebase/remote-config-compat",A2="@firebase/storage",R2="@firebase/storage-compat",C2="@firebase/firestore",I2="@firebase/ai",D2="@firebase/firestore-compat",N2="firebase",O2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="[DEFAULT]",M2={[Xp]:"fire-core",[s2]:"fire-core-compat",[o2]:"fire-analytics",[a2]:"fire-analytics-compat",[u2]:"fire-app-check",[l2]:"fire-app-check-compat",[c2]:"fire-auth",[h2]:"fire-auth-compat",[f2]:"fire-rtdb",[d2]:"fire-data-connect",[m2]:"fire-rtdb-compat",[p2]:"fire-fn",[g2]:"fire-fn-compat",[y2]:"fire-iid",[_2]:"fire-iid-compat",[v2]:"fire-fcm",[E2]:"fire-fcm-compat",[T2]:"fire-perf",[w2]:"fire-perf-compat",[S2]:"fire-rc",[b2]:"fire-rc-compat",[A2]:"fire-gcs",[R2]:"fire-gcs-compat",[C2]:"fire-fst",[D2]:"fire-fst-compat",[I2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new Map,x2=new Map,Jp=new Map;function BT(n,e){try{n.container.addComponent(e)}catch(t){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pi(n){const e=n.name;if(Jp.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,n);for(const t of mf.values())BT(t,n);for(const t of x2.values())BT(t,n);return!0}function Ja(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Za("app","Firebase",P2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=O2;function CS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Zp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw js.create("bad-app-name",{appName:String(o)});if(t||(t=yS()),!t)throw js.create("no-options");const l=mf.get(o);if(l){if(qs(t,l.options)&&qs(s,l.config))return l;throw js.create("duplicate-app",{appName:o})}const c=new FN(o);for(const m of Jp.values())c.addComponent(m);const d=new V2(t,s,c);return mf.set(o,d),d}function Vg(n=Zp){const e=mf.get(n);if(!e&&n===Zp&&yS())return CS();if(!e)throw js.create("no-app",{appName:n});return e}function Ir(n,e,t){let s=M2[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(c.join(" "));return}pi(new Qr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebase-heartbeat-database",k2=1,Ku="firebase-heartbeat-store";let bp=null;function IS(){return bp||(bp=RS(L2,k2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ku)}catch(t){console.warn(t)}}}}).catch(n=>{throw js.create("idb-open",{originalErrorMessage:n.message})})),bp}async function U2(n){try{const t=(await IS()).transaction(Ku),s=await t.objectStore(Ku).get(DS(n));return await t.done,s}catch(e){if(e instanceof Xr)Qi.warn(e.message);else{const t=js.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(t.message)}}}async function FT(n,e){try{const s=(await IS()).transaction(Ku,"readwrite");await s.objectStore(Ku).put(e,DS(n)),await s.done}catch(t){if(t instanceof Xr)Qi.warn(t.message);else{const s=js.create("idb-set",{originalErrorMessage:t?.message});Qi.warn(s.message)}}}function DS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=1024,z2=30;class B2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>z2){const o=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HT(),{heartbeatsToSend:t,unsentEntries:s}=F2(this._heartbeatsCache.heartbeats),o=df(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qi.warn(e),""}}}function HT(){return new Date().toISOString().substring(0,10)}function F2(n,e=j2){const t=[];let s=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),qT(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),qT(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class H2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await U2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qT(n){return df(JSON.stringify({version:2,heartbeats:n})).length}function q2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(n){pi(new Qr("platform-logger",e=>new r2(e),"PRIVATE")),pi(new Qr("heartbeat",e=>new B2(e),"PRIVATE")),Ir(Xp,zT,n),Ir(Xp,zT,"esm2020"),Ir("fire-js","")}G2("");var K2="firebase",Y2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(K2,Y2,"app");const NS="@firebase/installations",Lg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1e4,MS=`w:${Lg}`,xS="FIS_v2",Q2="https://firebaseinstallations.googleapis.com/v1",$2=3600*1e3,W2="installations",X2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qa=new Za(W2,X2,Z2);function PS(n){return n instanceof Xr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS({projectId:n}){return`${Q2}/projects/${n}/installations`}function LS(n){return{token:n.token,requestStatus:2,expiresIn:eO(n.expiresIn),creationTime:Date.now()}}async function kS(n,e){const s=(await e.json()).error;return qa.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function US({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function J2(n,{refreshToken:e}){const t=US(n);return t.append("Authorization",tO(e)),t}async function jS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function eO(n){return Number(n.replace("s","000"))}function tO(n){return`${xS} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=VS(n),o=US(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:t,authVersion:xS,appId:n.appId,sdkVersion:MS},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await jS(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:LS(g.authToken)}}else throw await kS("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=/^[cdef][\w-]{21}$/,eg="";function sO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=aO(n);return iO.test(t)?t:eg}catch{return eg}}function aO(n){return rO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Map;function FS(n,e){const t=Kf(n);HS(t,e),oO(t,e)}function HS(n,e){const t=BS.get(n);if(t)for(const s of t)s(e)}function oO(n,e){const t=lO();t&&t.postMessage({key:n,fid:e}),uO()}let ja=null;function lO(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=n=>{HS(n.data.key,n.data.fid)}),ja}function uO(){BS.size===0&&ja&&(ja.close(),ja=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firebase-installations-database",hO=1,Ga="firebase-installations-store";let Ap=null;function kg(){return Ap||(Ap=RS(cO,hO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ga)}}})),Ap}async function pf(n,e){const t=Kf(n),o=(await kg()).transaction(Ga,"readwrite"),l=o.objectStore(Ga),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&FS(n,e.fid),e}async function qS(n){const e=Kf(n),s=(await kg()).transaction(Ga,"readwrite");await s.objectStore(Ga).delete(e),await s.done}async function Yf(n,e){const t=Kf(n),o=(await kg()).transaction(Ga,"readwrite"),l=o.objectStore(Ga),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&FS(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ug(n){let e;const t=await Yf(n.appConfig,s=>{const o=fO(s),l=dO(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===eg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function fO(n){const e=n||{fid:sO(),registrationStatus:0};return GS(e)}function dO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(qa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=mO(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pO(n)}:{installationEntry:e}}async function mO(n,e){try{const t=await nO(n,e);return pf(n.appConfig,t)}catch(t){throw PS(t)&&t.customData.serverCode===409?await qS(n.appConfig):await pf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function pO(n){let e=await GT(n.appConfig);for(;e.registrationStatus===1;)await zS(100),e=await GT(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Ug(n);return s||t}return e}function GT(n){return Yf(n,e=>{if(!e)throw qa.create("installation-not-found");return GS(e)})}function GS(n){return gO(n)?{fid:n.fid,registrationStatus:0}:n}function gO(n){return n.registrationStatus===1&&n.registrationTime+OS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO({appConfig:n,heartbeatServiceProvider:e},t){const s=_O(n,t),o=J2(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:MS,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await jS(()=>fetch(s,d));if(m.ok){const g=await m.json();return LS(g)}else throw await kS("Generate Auth Token",m)}function _O(n,{fid:e}){return`${VS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(n,e=!1){let t;const s=await Yf(n.appConfig,l=>{if(!KS(l))throw qa.create("not-registered");const c=l.authToken;if(!e&&TO(c))return l;if(c.requestStatus===1)return t=vO(n,e),l;{if(!navigator.onLine)throw qa.create("app-offline");const d=SO(l);return t=EO(n,d),d}});return t?await t:s.authToken}async function vO(n,e){let t=await KT(n.appConfig);for(;t.authToken.requestStatus===1;)await zS(100),t=await KT(n.appConfig);const s=t.authToken;return s.requestStatus===0?jg(n,e):s}function KT(n){return Yf(n,e=>{if(!KS(e))throw qa.create("not-registered");const t=e.authToken;return bO(t)?{...e,authToken:{requestStatus:0}}:e})}async function EO(n,e){try{const t=await yO(n,e),s={...e,authToken:t};return await pf(n.appConfig,s),t}catch(t){if(PS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await qS(n.appConfig);else{const s={...e,authToken:{requestStatus:0}};await pf(n.appConfig,s)}throw t}}function KS(n){return n!==void 0&&n.registrationStatus===2}function TO(n){return n.requestStatus===2&&!wO(n)}function wO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$2}function SO(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function bO(n){return n.requestStatus===1&&n.requestTime+OS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(n){const e=n,{installationEntry:t,registrationPromise:s}=await Ug(e);return s?s.catch(console.error):jg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(n,e=!1){const t=n;return await CO(t),(await jg(t,e)).token}async function CO(n){const{registrationPromise:e}=await Ug(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){if(!n||!n.options)throw Rp("App Configuration");if(!n.name)throw Rp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Rp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Rp(n){return qa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="installations",DO="installations-internal",NO=n=>{const e=n.getProvider("app").getImmediate(),t=IO(e),s=Ja(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},OO=n=>{const e=n.getProvider("app").getImmediate(),t=Ja(e,YS).getImmediate();return{getId:()=>AO(t),getToken:o=>RO(t,o)}};function MO(){pi(new Qr(YS,NO,"PUBLIC")),pi(new Qr(DO,OO,"PRIVATE"))}MO();Ir(NS,Lg);Ir(NS,Lg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="analytics",xO="firebase_id",PO="origin",VO=60*1e3,LO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new Gf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cr=new Za("analytics","Analytics",kO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){if(!n.startsWith(zg)){const e=cr.create("invalid-gtag-resource",{gtagURL:n});return qn.warn(e.message),""}return n}function QS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function jO(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function zO(n,e){const t=jO("firebase-js-sdk-policy",{createScriptURL:UO}),s=document.createElement("script"),o=`${zg}?l=${n}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function BO(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function FO(n,e,t,s,o,l){const c=s[o];try{if(c)await e[c];else{const m=(await QS(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){qn.error(d)}n("config",o,l)}async function HO(n,e,t,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await QS(t);for(const m of c){const g=d.find(w=>w.measurementId===m),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,o||{})}catch(l){qn.error(l)}}function qO(n,e,t,s){async function o(l,...c){try{if(l==="event"){const[d,m]=c;await HO(n,e,t,d,m)}else if(l==="config"){const[d,m]=c;await FO(n,e,t,s,d,m)}else if(l==="consent"){const[d,m]=c;n("consent",d,m)}else if(l==="get"){const[d,m,g]=c;n("get",d,m,g)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){qn.error(d)}}return o}function GO(n,e,t,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=qO(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function KO(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(zg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=30,QO=1e3;class $O{constructor(e={},t=QO){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $S=new $O;function WO(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function XO(n){const{appId:e,apiKey:t}=n,s={method:"GET",headers:WO(t)},o=LO.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function ZO(n,e=$S,t){const{appId:s,apiKey:o,measurementId:l}=n.options;if(!s)throw cr.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw cr.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new tM;return setTimeout(async()=>{d.abort()},VO),WS({appId:s,apiKey:o,measurementId:l},c,d,e)}async function WS(n,{throttleEndTimeMillis:e,backoffCount:t},s,o=$S){const{appId:l,measurementId:c}=n;try{await JO(s,e)}catch(d){if(c)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await XO(n);return o.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!eM(m)){if(o.deleteThrottleMetadata(l),c)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?LT(t,o.intervalMillis,YO):LT(t,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return o.setThrottleMetadata(l,_),qn.debug(`Calling attemptFetch again in ${g} millis`),WS(n,_,s,o)}}function JO(n,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),s(cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eM(n){if(!(n instanceof Xr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class tM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nM(n,e,t,s,o){if(o&&o.global){n("event",t,s);return}else{const l=await e,c={...s,send_to:l};n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(){if(wS())try{await SS()}catch(n){return qn.warn(cr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return qn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iM(n,e,t,s,o,l,c){const d=ZO(n);d.then(T=>{t[T.measurementId]=T.appId,n.options.measurementId&&T.measurementId!==n.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>qn.error(T)),e.push(d);const m=rM().then(T=>{if(T)return s.getId()}),[g,_]=await Promise.all([d,m]);KO(l)||zO(l,g.measurementId),o("js",new Date);const w=c?.config??{};return w[PO]="firebase",w.update=!0,_!=null&&(w[xO]=_),o("config",g.measurementId,w),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.app=e}_delete(){return delete xu[this.app.options.appId],Promise.resolve()}}let xu={},YT=[];const QT={};let Cp="dataLayer",aM="gtag",$T,XS,WT=!1;function oM(){const n=[];if(TS()&&n.push("This is a browser extension environment."),CN()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=cr.create("invalid-analytics-context",{errorInfo:e});qn.warn(t.message)}}function lM(n,e,t){oM();const s=n.options.appId;if(!s)throw cr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cr.create("no-api-key");if(xu[s]!=null)throw cr.create("already-exists",{id:s});if(!WT){BO(Cp);const{wrappedGtag:l,gtagCore:c}=GO(xu,YT,QT,Cp,aM);XS=l,$T=c,WT=!0}return xu[s]=iM(n,YT,QT,e,$T,Cp,t),new sM(n)}function uM(n=Vg()){n=_n(n);const e=Ja(n,gf);return e.isInitialized()?e.getImmediate():cM(n)}function cM(n,e={}){const t=Ja(n,gf);if(t.isInitialized()){const o=t.getImmediate();if(qs(e,t.getOptions()))return o;throw cr.create("already-initialized")}return t.initialize({options:e})}function hM(n,e,t,s){n=_n(n),nM(XS,xu[n.app.options.appId],e,t,s).catch(o=>qn.error(o))}const XT="@firebase/analytics",ZT="0.10.18";function fM(){pi(new Qr(gf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return lM(s,o,t)},"PUBLIC")),pi(new Qr("analytics-internal",n,"PRIVATE")),Ir(XT,ZT),Ir(XT,ZT,"esm2020");function n(e){try{const t=e.getProvider(gf).getImmediate();return{logEvent:(s,o,l)=>hM(t,s,o,l)}}catch(t){throw cr.create("interop-component-reg-failed",{reason:t})}}}fM();var JT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,ZS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,L,z){for(var I=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)I[Le-2]=arguments[Le];return A.prototype[L].apply(V,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)V[L]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(L=0;L<16;++L)V[L]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],L=N.g[2];let z=N.g[3],I;I=A+(z^R&(L^z))+V[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(L^A&(R^L))+V[1]+3905402710&4294967295,z=A+(I<<12&4294967295|I>>>20),I=L+(R^z&(A^R))+V[2]+606105819&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(A^L&(z^A))+V[3]+3250441966&4294967295,R=L+(I<<22&4294967295|I>>>10),I=A+(z^R&(L^z))+V[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(L^A&(R^L))+V[5]+1200080426&4294967295,z=A+(I<<12&4294967295|I>>>20),I=L+(R^z&(A^R))+V[6]+2821735955&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(A^L&(z^A))+V[7]+4249261313&4294967295,R=L+(I<<22&4294967295|I>>>10),I=A+(z^R&(L^z))+V[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(L^A&(R^L))+V[9]+2336552879&4294967295,z=A+(I<<12&4294967295|I>>>20),I=L+(R^z&(A^R))+V[10]+4294925233&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(A^L&(z^A))+V[11]+2304563134&4294967295,R=L+(I<<22&4294967295|I>>>10),I=A+(z^R&(L^z))+V[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=z+(L^A&(R^L))+V[13]+4254626195&4294967295,z=A+(I<<12&4294967295|I>>>20),I=L+(R^z&(A^R))+V[14]+2792965006&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(A^L&(z^A))+V[15]+1236535329&4294967295,R=L+(I<<22&4294967295|I>>>10),I=A+(L^z&(R^L))+V[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(A^R))+V[6]+3225465664&4294967295,z=A+(I<<9&4294967295|I>>>23),I=L+(A^R&(z^A))+V[11]+643717713&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(L^z))+V[0]+3921069994&4294967295,R=L+(I<<20&4294967295|I>>>12),I=A+(L^z&(R^L))+V[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(A^R))+V[10]+38016083&4294967295,z=A+(I<<9&4294967295|I>>>23),I=L+(A^R&(z^A))+V[15]+3634488961&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(L^z))+V[4]+3889429448&4294967295,R=L+(I<<20&4294967295|I>>>12),I=A+(L^z&(R^L))+V[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(A^R))+V[14]+3275163606&4294967295,z=A+(I<<9&4294967295|I>>>23),I=L+(A^R&(z^A))+V[3]+4107603335&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(L^z))+V[8]+1163531501&4294967295,R=L+(I<<20&4294967295|I>>>12),I=A+(L^z&(R^L))+V[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(A^R))+V[2]+4243563512&4294967295,z=A+(I<<9&4294967295|I>>>23),I=L+(A^R&(z^A))+V[7]+1735328473&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^A&(L^z))+V[12]+2368359562&4294967295,R=L+(I<<20&4294967295|I>>>12),I=A+(R^L^z)+V[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^L)+V[8]+2272392833&4294967295,z=A+(I<<11&4294967295|I>>>21),I=L+(z^A^R)+V[11]+1839030562&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^A)+V[14]+4259657740&4294967295,R=L+(I<<23&4294967295|I>>>9),I=A+(R^L^z)+V[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^L)+V[4]+1272893353&4294967295,z=A+(I<<11&4294967295|I>>>21),I=L+(z^A^R)+V[7]+4139469664&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^A)+V[10]+3200236656&4294967295,R=L+(I<<23&4294967295|I>>>9),I=A+(R^L^z)+V[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^L)+V[0]+3936430074&4294967295,z=A+(I<<11&4294967295|I>>>21),I=L+(z^A^R)+V[3]+3572445317&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^A)+V[6]+76029189&4294967295,R=L+(I<<23&4294967295|I>>>9),I=A+(R^L^z)+V[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=z+(A^R^L)+V[12]+3873151461&4294967295,z=A+(I<<11&4294967295|I>>>21),I=L+(z^A^R)+V[15]+530742520&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^A)+V[2]+3299628645&4294967295,R=L+(I<<23&4294967295|I>>>9),I=A+(L^(R|~z))+V[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~L))+V[7]+1126891415&4294967295,z=A+(I<<10&4294967295|I>>>22),I=L+(A^(z|~R))+V[14]+2878612391&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~A))+V[5]+4237533241&4294967295,R=L+(I<<21&4294967295|I>>>11),I=A+(L^(R|~z))+V[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~L))+V[3]+2399980690&4294967295,z=A+(I<<10&4294967295|I>>>22),I=L+(A^(z|~R))+V[10]+4293915773&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~A))+V[1]+2240044497&4294967295,R=L+(I<<21&4294967295|I>>>11),I=A+(L^(R|~z))+V[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~L))+V[15]+4264355552&4294967295,z=A+(I<<10&4294967295|I>>>22),I=L+(A^(z|~R))+V[6]+2734768916&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~A))+V[13]+1309151649&4294967295,R=L+(I<<21&4294967295|I>>>11),I=A+(L^(R|~z))+V[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=z+(R^(A|~L))+V[11]+3174756917&4294967295,z=A+(I<<10&4294967295|I>>>22),I=L+(A^(z|~R))+V[2]+718787259&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,V=this.C;let L=this.h,z=0;for(;z<A;){if(L==0)for(;z<=R;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(V[L++]=N.charCodeAt(z++),L==this.blockSize){o(this,V),L=0;break}}else for(;z<A;)if(V[L++]=N[z++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[A++]=this.g[R]>>>V&255;return N};function l(N,A){var R=d;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function c(N,A){this.h=A;const R=[];let V=!0;for(let L=N.length-1;L>=0;L--){const z=N[L]|0;V&&z==A||(R[L]=z,V=!1)}this.g=R}var d={};function m(N){return-128<=N&&N<128?l(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return U(g(-N));const A=[];let R=1;for(let V=0;N>=R;V++)A[V]=N/R|0,R*=4294967296;return new c(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return U(_(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let V=w;for(let z=0;z<N.length;z+=8){var L=Math.min(8,N.length-z);const I=parseInt(N.substring(z,z+L),A);L<8?(L=g(Math.pow(A,L)),V=V.j(L).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var w=m(0),T=m(1),D=m(16777216);n=c.prototype,n.m=function(){if(W(this))return-U(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(W(this))return"-"+U(this).toString(N);const A=g(Math.pow(N,6));var R=this;let V="";for(;;){const L=he(R,A).g;R=Y(R,L.j(A));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=L,j(R))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}n.l=function(N){return N=Y(this,N),W(N)?-1:j(N)?0:1};function U(N){const A=N.g.length,R=[];for(let V=0;V<A;V++)R[V]=~N.g[V];return new c(R,~N.h).add(T)}n.abs=function(){return W(this)?U(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let L=0;L<=A;L++){let z=V+(this.i(L)&65535)+(N.i(L)&65535),I=(z>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);V=I>>>16,z&=65535,I&=65535,R[L]=I<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(N,A){return N.add(U(A))}n.j=function(N){if(j(this)||j(N))return w;if(W(this))return W(N)?U(this).j(U(N)):U(U(this).j(N));if(W(N))return U(this.j(U(N)));if(this.l(D)<0&&N.l(D)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<N.g.length;L++){const z=this.i(V)>>>16,I=this.i(V)&65535,Le=N.i(L)>>>16,$e=N.i(L)&65535;R[2*V+2*L]+=I*$e,ue(R,2*V+2*L),R[2*V+2*L+1]+=z*$e,ue(R,2*V+2*L+1),R[2*V+2*L+1]+=I*Le,ue(R,2*V+2*L+1),R[2*V+2*L+2]+=z*Le,ue(R,2*V+2*L+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new c(R,0)};function ue(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ee(N,A){this.g=N,this.h=A}function he(N,A){if(j(A))throw Error("division by zero");if(j(N))return new ee(w,w);if(W(N))return A=he(U(N),A),new ee(U(A.g),U(A.h));if(W(A))return A=he(N,U(A)),new ee(U(A.g),A.h);if(N.g.length>30){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=A;V.l(N)<=0;)R=oe(R),V=oe(V);var L=P(R,1),z=P(V,1);for(V=P(V,2),R=P(R,2);!j(V);){var I=z.add(V);I.l(N)<=0&&(L=L.add(R),z=I),V=P(V,1),R=P(R,1)}return A=Y(N,L.j(A)),new ee(L,A)}for(L=w;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=g(R),I=z.j(A);W(I)||I.l(N)>0;)R-=V,z=g(R),I=z.j(A);j(z)&&(z=T),L=L.add(z),N=Y(N,I)}return new ee(L,N)}n.B=function(N){return he(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&N.i(V);return new c(R,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|N.i(V);return new c(R,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^N.i(V);return new c(R,this.h^N.h)};function oe(N){const A=N.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(R,N.h)}function P(N,A){const R=A>>5;A%=32;const V=N.g.length-R,L=[];for(let z=0;z<V;z++)L[z]=A>0?N.i(z+R)>>>A|N.i(z+R+1)<<32-A:N.i(z+R);return new c(L,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ZS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,zs=c}).apply(typeof JT<"u"?JT:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JS,Iu,eb,Yh,tg,tb,nb,rb;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var G=h[b];if(!(G in v))break e;v=v[G]}h=h[h.length-1],b=v[h],y=y(b),y!=b&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=m,g.apply(null,arguments)}function _(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function w(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(b,G,J){for(var me=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)me[Be-2]=arguments[Be];return y.prototype[G].apply(b,me)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=h[b];return v}return[]}function j(h,y){for(let b=1;b<arguments.length;b++){const G=arguments[b];var v=typeof G;if(v=v!="object"?v:G?Array.isArray(G)?"array":v:"null",v=="array"||v=="object"&&typeof G.length=="number"){v=h.length||0;const J=G.length||0;h.length=v+J;for(let me=0;me<J;me++)h[v+me]=G[me]}else h.push(G)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,v){const b=ee.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new W(()=>new he,h=>h.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,P=!1,N=new ue,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(R)}};function R(){for(var h;h=Y();){try{h.h.call(h.g)}catch(v){U(v)}var y=ee;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}P=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h}();function I(h){return/^[\s\xa0]*$/.test(h)}function Le(h,y){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}w(Le,L),Le.prototype.init=function(h,y){const v=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),Q=0;function fe(h,y,v,b,G){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=G,this.key=++Q,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,y,v){for(const b in h)y.call(v,h[b],b,h)}function x(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function ne(h){const y={};for(const v in h)y[v]=h[v];return y}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,y){let v,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(v in b)h[v]=b[v];for(let J=0;J<pe.length;J++)v=pe[J],Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,y,v,b,G){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const me=De(h,y,b,G);return me>-1?(y=h[me],v||(y.fa=!1)):(y=new fe(y,this.src,J,!!b,G),y.fa=v,h.push(y)),y};function qe(h,y){const v=y.type;if(v in h.g){var b=h.g[v],G=Array.prototype.indexOf.call(b,y,void 0),J;(J=G>=0)&&Array.prototype.splice.call(b,G,1),J&&(ge(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function De(h,y,v,b){for(let G=0;G<h.length;++G){const J=h[G];if(!J.da&&J.listener==y&&J.capture==!!v&&J.ha==b)return G}return-1}var Yt="closure_lm_"+(Math.random()*1e6|0),ot={};function Gn(h,y,v,b,G){if(Array.isArray(y)){for(let J=0;J<y.length;J++)Gn(h,y[J],v,b,G);return null}return v=ro(v),h&&h[$e]?h.J(y,v,d(b)?!!b.capture:!1,G):xt(h,y,v,!1,b,G)}function xt(h,y,v,b,G,J){if(!y)throw Error("Invalid event type");const me=d(G)?!!G.capture:!!G;let Be=na(h);if(Be||(h[Yt]=Be=new Ee(h)),v=Be.add(y,v,b,me,J),v.proxy)return v;if(b=Kn(),v.proxy=b,b.src=h,b.listener=v,h.addEventListener)z||(G=me),G===void 0&&(G=!1),h.addEventListener(y.toString(),b,G);else if(h.attachEvent)h.attachEvent(Ln(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kn(){function h(v){return y.call(h.src,h.listener,v)}const y=gl;return h}function _i(h,y,v,b,G){if(Array.isArray(y))for(var J=0;J<y.length;J++)_i(h,y[J],v,b,G);else b=d(b)?!!b.capture:!!b,v=ro(v),h&&h[$e]?(h=h.i,J=String(y).toString(),J in h.g&&(y=h.g[J],v=De(y,v,b,G),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[J],h.h--)))):h&&(h=na(h))&&(y=h.g[y.toString()],h=-1,y&&(h=De(y,v,b,G)),(v=h>-1?y[h]:null)&&vi(v))}function vi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[$e])qe(y.i,h);else{var v=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(v,b,h.capture):y.detachEvent?y.detachEvent(Ln(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=na(y))?(qe(v,h),v.h==0&&(v.src=null,y[Yt]=null)):ge(h)}}}function Ln(h){return h in ot?ot[h]:ot[h]="on"+h}function gl(h,y){if(h.da)h=!0;else{y=new Le(y,this);const v=h.listener,b=h.ha||h.src;h.fa&&vi(h),h=v.call(b,y)}return h}function na(h){return h=h[Yt],h instanceof Ee?h:null}var cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ro(h){return typeof h=="function"?h:(h[cn]||(h[cn]=function(y){return h.handleEvent(y)}),h[cn])}function kt(){V.call(this),this.i=new Ee(this),this.M=this,this.G=null}w(kt,V),kt.prototype[$e]=!0,kt.prototype.removeEventListener=function(h,y,v,b){_i(this,h,y,v,b)};function Ft(h,y){var v,b=h.G;if(b)for(v=[];b;b=b.G)v.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new L(y,h);else if(y instanceof L)y.target=y.target||h;else{var G=y;y=new L(b,h),de(y,G)}G=!0;let J,me;if(v)for(me=v.length-1;me>=0;me--)J=y.g=v[me],G=Or(J,b,!0,y)&&G;if(J=y.g=h,G=Or(J,b,!0,y)&&G,G=Or(J,b,!1,y)&&G,v)for(me=0;me<v.length;me++)J=y.g=v[me],G=Or(J,b,!1,y)&&G}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let b=0;b<v.length;b++)ge(v[b]);delete h.g[y],h.h--}}this.G=null},kt.prototype.J=function(h,y,v,b){return this.i.add(String(h),y,!1,v,b)},kt.prototype.K=function(h,y,v,b){return this.i.add(String(h),y,!0,v,b)};function Or(h,y,v,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let J=0;J<y.length;++J){const me=y[J];if(me&&!me.da&&me.capture==v){const Be=me.listener,St=me.ha||me.src;me.fa&&qe(h.i,me),G=Be.call(St,b)!==!1&&G}}return G&&!b.defaultPrevented}function Mr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function xr(h){h.g=Mr(()=>{h.g=null,h.i&&(h.i=!1,xr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class io extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(h){V.call(this),this.h=h,this.g={}}w(Pr,V);var hn=[];function _t(h){je(h.g,function(y,v){this.g.hasOwnProperty(v)&&vi(y)},h),h.g={}}Pr.prototype.N=function(){Pr.Z.N.call(this),_t(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=c.JSON.stringify,Qt=c.JSON.parse,yl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Yn(){}function ra(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vr(){L.call(this,"d")}w(Vr,L);function $n(){L.call(this,"c")}w($n,L);var Dn={},Wn=null;function Ei(){return Wn=Wn||new kt}Dn.Ia="serverreachability";function Ti(h){L.call(this,Dn.Ia,h)}w(Ti,L);function Zr(h){const y=Ei();Ft(y,new Ti(y))}Dn.STAT_EVENT="statevent";function wi(h,y){L.call(this,Dn.STAT_EVENT,h),this.stat=y}w(wi,L);function It(h){const y=Ei();Ft(y,new wi(y,h))}Dn.Ja="timingevent";function ia(h,y){L.call(this,Dn.Ja,h),this.size=y}w(ia,L);function Xn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function sa(h,y,v,b,G,J){h.info(function(){if(h.g)if(J){var me="",Be=J.split("&");for(let ct=0;ct<Be.length;ct++){var St=Be[ct].split("=");if(St.length>1){const Ut=St[0];St=St[1];const er=Ut.split("_");me=er.length>=2&&er[1]=="type"?me+(Ut+"="+St+"&"):me+(Ut+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+y+`
`+v+`
`+me})}function aa(h,y,v,b,G,J,me){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+y+`
`+v+`
`+J+" "+me})}function M(h,y,v,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Z(h,v)+(b?" "+b:"")})}function H(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function Z(h,y){if(!h.g)return y;if(!y)return null;try{const J=JSON.parse(y);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var v=J[h];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var G=b[0];if(G!="noop"&&G!="stop"&&G!="close")for(let me=1;me<b.length;me++)b[me]=""}}}}return In(J)}catch{return y}}var ie={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ve;function Se(){}w(Se,Yn),Se.prototype.g=function(){return new XMLHttpRequest},ve=new Se;function _e(h){return encodeURIComponent(String(h))}function Re(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Ae(h,y,v,b){this.j=h,this.i=y,this.l=v,this.S=b||1,this.V=new Pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var be={},ze={};function rt(h,y,v){h.M=1,h.A=Si(Dt(y)),h.u=v,h.R=!0,wt(h,null)}function wt(h,y){h.F=Date.now(),Nn(h),h.B=Dt(h.A);var v=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),vc(v.i,"t",b),h.C=0,v=h.j.L,h.h=new Te,h.g=ho(h.j,v?y:null,!h.u),h.P>0&&(h.O=new io(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,b=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(hn[0]=G.toString()),G=hn);for(let J=0;J<G.length;J++){const me=Gn(v,G[J],b||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?ne(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Zr(),sa(h.i,h.v,h.B,h.l,h.S,h.u)}Ae.prototype.ba=function(h){h=h.target;const y=this.O;y&&Tn(h)==3?y.j():this.Y(h)},Ae.prototype.Y=function(h){try{if(h==this.g)e:{const Be=Tn(this.g),St=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||da(this.g)))){this.K||Be!=4||St==7||(St==8||ct<=0?Zr(3):Zr(2)),$t(this);var y=this.g.ca();this.X=y;var v=At(this);if(this.o=y==200,aa(this.i,this.v,this.B,this.l,this.S,Be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,G=this.g;if((b=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var J=b;break t}}J=null}if(h=J)M(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dr(this,h);else{this.o=!1,this.m=3,It(12),kn(this),nn(this);break e}}if(this.R){h=!0;let Ut;for(;!this.K&&this.C<v.length;)if(Ut=lt(this,v),Ut==ze){Be==4&&(this.m=4,It(14),h=!1),M(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==be){this.m=4,It(15),M(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else M(this.i,this.l,Ut,null),dr(this,Ut);if(ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||v.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)M(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),nn(this);else if(v.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Cl(me),me.P=!0,It(11))}}else M(this.i,this.l,v,null),dr(this,v);Be==4&&kn(this),this.o&&!this.K&&(Be==4?Il(this.j,this):(this.o=!1,Nn(this)))}else ma(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),kn(this),nn(this)}}}catch{}finally{}};function At(h){if(!ke(h))return h.g.la();const y=da(h.g);if(y==="")return"";let v="";const b=y.length,G=Tn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),nn(h),"";h.h.i=new c.TextDecoder}for(let J=0;J<b;J++)h.h.h=!0,v+=h.h.i.decode(y[J],{stream:!(G&&J==b-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function ke(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function lt(h,y){var v=h.C,b=y.indexOf(`
`,v);return b==-1?ze:(v=Number(y.substring(v,b)),isNaN(v)?be:(b+=1,b+v>y.length?ze:(y=y.slice(b,b+v),h.C=b+v,y)))}Ae.prototype.cancel=function(){this.K=!0,kn(this)};function Nn(h){h.T=Date.now()+h.H,En(h,h.H)}function En(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Xn(g(h.aa,h),y)}function $t(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ae.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(H(this.i,this.B),this.M!=2&&(Zr(),It(17)),kn(this),this.m=2,nn(this)):En(this,this.T-h)};function nn(h){h.j.I==0||h.K||Il(h.j,h)}function kn(h){$t(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,_t(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function dr(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Rt(v.h,h))){if(!h.L&&Rt(v.h,h)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)co(v),Jr(v);else break e;Rl(v),It(18)}}else v.xa=G[1],0<v.xa-v.K&&G[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xn(g(v.Va,v),6e3));He(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((h.L||v.g==h)&&co(v),!I(y))for(G=v.Ba.g.parse(y),y=0;y<G.length;y++){let ct=G[y];const Ut=ct[0];if(!(Ut<=v.K))if(v.K=Ut,ct=ct[1],v.I==2)if(ct[0]=="c"){v.M=ct[1],v.ba=ct[2];const er=ct[3];er!=null&&(v.ka=er,v.j.info("VER="+v.ka));const ei=ct[4];ei!=null&&(v.za=ei,v.j.info("SVER="+v.za));const zr=ct[5];zr!=null&&typeof zr=="number"&&zr>0&&(b=1.5*zr,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Br=h.g;if(Br){const Fr=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var J=b.h;J.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(kr(J,J.h),J.h=null))}if(b.G){const Nl=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(b.wa=Nl,dt(b.J,b.G,Nl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var me=h;if(b.na=Ic(b,b.L?b.ba:null,b.W),me.L){On(b.h,me);var Be=me,St=b.O;St&&(Be.H=St),Be.D&&($t(Be),Nn(Be)),b.g=me}else bc(b);v.i.length>0&&_a(v)}else ct[0]!="stop"&&ct[0]!="close"||Ri(v,7);else v.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ri(v,7):ga(v):ct[0]!="noop"&&v.l&&v.l.qa(ct),v.A=0)}}Zr(4)}catch{}}var Lr=class{constructor(h,y){this.g=h,this.map=y}};function mr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function He(h){return h.h?1:h.g?h.g.size:0}function Rt(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function kr(h,y){h.g?h.g.add(y):h.h=y}function On(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}mr.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vt(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return D(h.i)}var Ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const b=h[v].indexOf("=");let G,J=null;b>=0?(G=h[v].substring(0,b),J=h[v].substring(b+1)):G=h[v],y(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Jn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Jn?(this.l=h.l,ts(this,h.j),this.o=h.o,this.g=h.g,oa(this,h.u),this.h=h.h,ns(this,Ec(h.i)),this.m=h.m):h&&(y=String(h).match(Ur))?(this.l=!1,ts(this,y[1]||"",!0),this.o=la(y[2]||""),this.g=la(y[3]||"",!0),oa(this,y[4]),this.h=la(y[5]||"",!0),ns(this,y[6]||"",!0),this.m=la(y[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}Jn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(rn(y,vl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(rn(y,vl,!0),"@"),h.push(_e(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(rn(v,v.charAt(0)=="/"?rs:El,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",rn(v,_c)),h.join("")},Jn.prototype.resolve=function(h){const y=Dt(this);let v=!!h.j;v?ts(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var b=h.h;if(v)oa(y,h.u);else if(v=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var G=y.h.lastIndexOf("/");G!=-1&&(b=y.h.slice(0,G+1)+b)}if(G=b,G==".."||G==".")b="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){b=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let me=0;me<G.length;){const Be=G[me++];Be=="."?b&&me==G.length&&J.push(""):Be==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),b&&me==G.length&&J.push("")):(J.push(Be),b=!0)}b=J.join("/")}else b=G}return v?y.h=b:v=h.i.toString()!=="",v?ns(y,Ec(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Dt(h){return new Jn(h)}function ts(h,y,v){h.j=v?la(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function oa(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function ns(h,y,v){y instanceof gr?(h.i=y,Sl(h.i,h.l)):(v||(y=rn(y,yc)),h.i=new gr(y,h.l))}function dt(h,y,v){h.i.set(y,v)}function Si(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function la(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rn(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,_l),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _l(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var vl=/[#\/\?@]/g,El=/[#\?:]/g,rs=/[#\?]/g,yc=/[#\?@]/g,_c=/#/g;function gr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function bi(h){h.g||(h.g=new Map,h.h=0,h.i&&so(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=gr.prototype,n.add=function(h,y){bi(this),this.i=null,h=jr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Tl(h,y){bi(h),y=jr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function wl(h,y){return bi(h),y=jr(h,y),h.g.has(y)}n.forEach=function(h,y){bi(this),this.g.forEach(function(v,b){v.forEach(function(G){h.call(y,G,b,this)},this)},this)};function ao(h,y){bi(h);let v=[];if(typeof y=="string")wl(h,y)&&(v=v.concat(h.g.get(jr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}n.set=function(h,y){return bi(this),this.i=null,h=jr(this,h),wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=ao(this,h),h.length>0?String(h[0]):y):y};function vc(h,y,v){Tl(h,y),v.length>0&&(h.i=null,h.g.set(jr(h,y),D(v)),h.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const G=_e(v);v=ao(this,v);for(let J=0;J<v.length;J++){let me=G;v[J]!==""&&(me+="="+_e(v[J])),h.push(me)}}return this.i=h.join("&")};function Ec(h){const y=new gr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function jr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Sl(h,y){y&&!h.j&&(bi(h),h.i=null,h.g.forEach(function(v,b){const G=b.toLowerCase();b!=G&&(Tl(this,b),vc(this,G,v))},h)),h.j=y}function bl(h,y){const v=new Zn;if(c.Image){const b=new Image;b.onload=_(Mn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=_(Mn,v,"TestLoadImage: error",!1,y,b),b.onabort=_(Mn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(Mn,v,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function is(h,y){const v=new Zn,b=new AbortController,G=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(J=>{clearTimeout(G),J.ok?Mn(v,"TestPingServer: ok",!0,y):Mn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Mn(v,"TestPingServer: error",!1,y)})}function Mn(h,y,v,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(v)}catch{}}function Tc(){this.g=new yl}function ua(h){this.i=h.Sb||null,this.h=h.ab||!1}w(ua,Yn),ua.prototype.g=function(){return new ca(this.i,this.h)};function ca(h,y){kt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ca,kt),n=ca.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ai(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ss(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ss(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xn(this):Ai(this),this.readyState==3&&ss(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,xn(this))},n.Na=function(h){this.g&&(this.response=h,xn(this))},n.ga=function(){this.g&&xn(this)};function xn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ai(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function as(h){let y="";return je(h,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function yr(h,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=as(v),typeof h=="string"?v!=null&&_e(v):dt(h,y,v))}function Et(h){kt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Et,kt);var oo=/^https?$/i,wc=["POST","PUT"];n=Et.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ve.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(J){ha(this,J);return}if(h=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)v.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const J of b.keys())v.set(J,b.get(J));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(J=>J.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(wc,y,void 0)>=0)||b||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of v)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){ha(this,J)}};function ha(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,fa(h),Wt(h)}function fa(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),Wt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Et.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Al(this):this.Xa())},n.Xa=function(){Al(this)};function Al(h){if(h.h&&typeof l<"u"){if(h.v&&Tn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),Tn(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=J===0){let me=String(h.D).match(Ur)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),b=!oo.test(me?me.toLowerCase():"")}v=b}if(v)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var G=Tn(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",fa(h)}}finally{Wt(h)}}}}function Wt(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Ft(h,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tn(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Tn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Qt(y)}};function da(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ma(h){const y={};h=(h.g&&Tn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(I(h[b]))continue;var v=Re(h[b]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const J=y[G]||[];y[G]=J,J.push(v)}x(y,function(b){return b.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function lo(h){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pa("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pa("baseRetryDelayMs",5e3,h),this.Za=pa("retryDelaySeedMs",1e4,h),this.Ta=pa("forwardChannelMaxRetries",2,h),this.va=pa("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new mr(h&&h.concurrentRequestLimit),this.Ba=new Tc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=lo.prototype,n.ka=8,n.I=1,n.connect=function(h,y,v,b){It(0),this.W=h,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ic(this,null,this.W),_a(this)};function ga(h){if(ya(h),h.I==3){var y=h.V++,v=Dt(h.J);if(dt(v,"SID",h.M),dt(v,"RID",y),dt(v,"TYPE","terminate"),va(h,v),y=new Ae(h,h.j,y),y.M=2,y.A=Si(Dt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=ho(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Nn(y)}Cc(h)}function Jr(h){h.g&&(Cl(h),h.g.cancel(),h.g=null)}function ya(h){Jr(h),h.v&&(c.clearTimeout(h.v),h.v=null),co(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function _a(h){if(!pr(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||A(),P||(oe(),P=!0),N.add(y,h),h.D=0}}function dd(h,y){return He(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Xn(g(h.Ea,h,y),Rc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Ae(this,this.j,h);let J=this.o;if(this.U&&(J?(J=ne(J),de(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=uo(this,G,y),v=Dt(this.J),dt(v,"RID",h),dt(v,"CVER",22),this.G&&dt(v,"X-HTTP-Session-Id",this.G),va(this,v),J&&(this.R?y="headers="+_e(as(J))+"&"+y:this.u&&yr(v,this.u,J)),kr(this.h,G),this.Ra&&dt(v,"TYPE","init"),this.S?(dt(v,"$req",y),dt(v,"SID","null"),G.U=!0,rt(G,v,null)):rt(G,v,y),this.I=2}}else this.I==3&&(h?Sc(this,h):this.i.length==0||pr(this.h)||Sc(this))};function Sc(h,y){var v;y?v=y.l:v=h.V++;const b=Dt(h.J);dt(b,"SID",h.M),dt(b,"RID",v),dt(b,"AID",h.K),va(h,b),h.u&&h.o&&yr(b,h.u,h.o),v=new Ae(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=uo(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),kr(h.h,v),rt(v,b,y)}function va(h,y){h.H&&je(h.H,function(v,b){dt(y,b,v)}),h.l&&je({},function(v,b){dt(y,b,v)})}function uo(h,y,v){v=Math.min(h.i.length,v);const b=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let Be=-1;for(;;){const St=["count="+v];Be==-1?v>0?(Be=G[0].g,St.push("ofs="+Be)):Be=0:St.push("ofs="+Be);let ct=!0;for(let Ut=0;Ut<v;Ut++){var J=G[Ut].g;const er=G[Ut].map;if(J-=Be,J<0)Be=Math.max(0,G[Ut].g-100),ct=!1;else try{J="req"+J+"_"||"";try{var me=er instanceof Map?er:Object.entries(er);for(const[ei,zr]of me){let Br=zr;d(zr)&&(Br=In(zr)),St.push(J+ei+"="+encodeURIComponent(Br))}}catch(ei){throw St.push(J+"type="+encodeURIComponent("_badmap")),ei}}catch{b&&b(er)}}if(ct){me=St.join("&");break e}}me=void 0}return h=h.i.splice(0,v),y.G=h,me}function bc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||A(),P||(oe(),P=!0),N.add(y,h),h.A=0}}function Rl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Xn(g(h.Da,h),Rc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Xn(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Jr(this),Ac(this))};function Cl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ac(h){h.g=new Ae(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Dt(h.na);dt(y,"RID","rpc"),dt(y,"SID",h.M),dt(y,"AID",h.K),dt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(y,"TO",h.ia),dt(y,"TYPE","xmlhttp"),va(h,y),h.u&&h.o&&yr(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Si(Dt(y)),v.u=null,v.R=!0,wt(v,h)}n.Va=function(){this.C!=null&&(this.C=null,Jr(this),Rl(this),It(19))};function co(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Il(h,y){var v=null;if(h.g==y){co(h),Cl(h),h.g=null;var b=2}else if(Rt(h.h,y))v=y.G,On(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var G=h.D;b=Ei(),Ft(b,new ia(b,v)),_a(h)}else bc(h);else if(G=y.m,G==3||G==0&&y.X>0||!(b==1&&dd(h,y)||b==2&&Rl(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),G){case 1:Ri(h,5);break;case 4:Ri(h,10);break;case 3:Ri(h,6);break;default:Ri(h,2)}}}function Rc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ri(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),b=h.Ua;const G=!b;b=new Jn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ts(b,"https"),Si(b),G?bl(b.toString(),v):is(b.toString(),v)}else It(2);h.I=0,h.l&&h.l.pa(y),Cc(h),ya(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Cc(h){if(h.I=0,h.ja=[],h.l){const y=vt(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function Ic(h,y,v){var b=v instanceof Jn?Dt(v):new Jn(v);if(b.g!="")y&&(b.g=y+"."+b.g),oa(b,b.u);else{var G=c.location;b=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const J=new Jn(null);b&&ts(J,b),y&&(J.g=y),G&&oa(J,G),v&&(J.h=v),b=J}return v=h.G,y=h.wa,v&&y&&dt(b,v,y),dt(b,"VER",h.ka),va(h,b),b}function ho(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Et(new ua({ab:v})):new Et(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}n=Dc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fo(){}fo.prototype.g=function(h,y){return new Pn(h,y)};function Pn(h,y){kt.call(this),this.g=new lo(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new os(this)}w(Pn,kt),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){ga(this.g)},Pn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=In(h),h=v);y.i.push(new Lr(y.Ya++,h)),y.I==3&&_a(y)},Pn.prototype.N=function(){this.g.l=null,delete this.j,ga(this.g),delete this.g,Pn.Z.N.call(this)};function Dl(h){Vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}w(Dl,Vr);function Nc(){$n.call(this),this.status=1}w(Nc,$n);function os(h){this.g=h}w(os,Dc),os.prototype.ra=function(){Ft(this.g,"a")},os.prototype.qa=function(h){Ft(this.g,new Dl(h))},os.prototype.pa=function(h){Ft(this.g,new Nc)},os.prototype.oa=function(){Ft(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,rb=function(){return new fo},nb=function(){return Ei()},tb=Dn,tg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,Yh=ie,ce.COMPLETE="complete",eb=ce,ra.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",kt.prototype.listen=kt.prototype.J,Iu=ra,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,JS=Et}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore",tw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Gf("@firebase/firestore");function qo(){return Ka.logLevel}function ye(n,...e){if(Ka.logLevel<=Ze.DEBUG){const t=e.map(Bg);Ka.debug(`Firestore (${hl}): ${n}`,...t)}}function $i(n,...e){if(Ka.logLevel<=Ze.ERROR){const t=e.map(Bg);Ka.error(`Firestore (${hl}): ${n}`,...t)}}function nl(n,...e){if(Ka.logLevel<=Ze.WARN){const t=e.map(Bg);Ka.warn(`Firestore (${hl}): ${n}`,...t)}}function Bg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,ib(n,s,t)}function ib(n,e,t){let s=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw $i(s),new Error(s)}function ut(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||ib(e,o,s)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Xr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class mM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pM{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ut(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Bs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Bs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new sb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class gM{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yM{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new gM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _M{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vM(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Je(n,e){return n<e?-1:n>e?1:0}function ng(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return Ip(o)===Ip(l)?Je(o,l):Ip(o)?1:-1}return Je(n.length,e.length)}const EM=55296,TM=57343;function Ip(n){const e=n.charCodeAt(0);return e>=EM&&e<=TM}function rl(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__name__";class ai{constructor(e,t,s){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Pe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ai.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Je(e.length,t.length)}static compareSegments(e,t){const s=ai.isNumericId(e),o=ai.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(t)):ng(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class Ot extends ai{construct(e,t,s){return new Ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ot(t)}static emptyPath(){return new Ot([])}}const wM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ai{construct(e,t,s){return new yn(e,t,s)}static isValidIdentifier(e){return wM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rw}static keyField(){return new yn([rw])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ot.fromString(e))}static fromName(e){return new Ne(Ot.fromString(e).popFirst(5))}static empty(){return new Ne(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n,e,t){if(!t)throw new Ce(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bM(n,e,t,s){if(e===!0&&s===!0)throw new Ce(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iw(n){if(!Ne.isDocumentKey(n))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ab(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Hg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function Ya(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hg(n);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n,e){const t={typeString:n};return e&&(t.value=e),t}function lc(n,e){if(!ab(n))throw new Ce(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new Ce(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-62135596800,aw=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*aw);return new bt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sw)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aw}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Kt("string",bt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new bt(0,0))}static max(){return new Ue(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=-1;function AM(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(s===1e9?new bt(t+1,0):new bt(t,s));return new Gs(o,Ne.empty(),e)}function RM(n){return new Gs(n.readTime,n.key,Yu)}class Gs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Gs(Ue.min(),Ne.empty(),Yu)}static max(){return new Gs(Ue.max(),Ne.empty(),Yu)}}function CM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==IM)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},m=>s(m))}),c=!0,l===o&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(o=>o?ae.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,o)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++d,d===l&&s(c)},_=>o(_))}})}static doWhile(e,t){return new ae((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function NM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function dl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function $f(n){return n==null}function yf(n){return n===0&&1/n==-1/0}function OM(n){return typeof n=="number"&&Number.isInteger(n)&&!yf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="";function MM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ow(e)),e=xM(n.get(t),e);return ow(e)}function xM(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case ob:t+="";break;default:t+=l}}return t}function ow(n){return n+ob+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??gn.RED,this.left=o??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new gn(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uw(this.data.getIterator())}getIteratorFrom(e){return new uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tn(this.comparator);return t.data=e,t}}class uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new ur([])}unionWith(e){let t=new tn(yn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ub("Invalid base64 string: "+l):l}}(e);return new vn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const PM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(n){if(ut(!!n,39018),typeof n=="string"){let e=0;const t=PM.exec(n);if(ut(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?vn.fromBase64String(n):vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="server_timestamp",hb="__type__",fb="__previous_value__",db="__local_write_time__";function Gg(n){return(n?.mapValue?.fields||{})[hb]?.stringValue===cb}function Wf(n){const e=n.mapValue.fields[fb];return Gg(e)?Wf(e):e}function Qu(n){const e=Ks(n.mapValue.fields[db].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,t,s,o,l,c,d,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const _f="(default)";class $u{constructor(e,t){this.projectId=e,this.database=t||_f}static empty(){return new $u("","")}get isDefaultDatabase(){return this.database===_f}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="__type__",LM="__max__",Uh={mapValue:{}},pb="__vector__",vf="value";function Qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gg(n)?4:UM(n)?9007199254740991:kM(n)?10:11:Pe(28295,{value:n})}function gi(n,e){if(n===e)return!0;const t=Qs(n);if(t!==Qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qu(n).isEqual(Qu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ks(o.timestampValue),d=Ks(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ys(o.bytesValue).isEqual(Ys(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return Bt(o.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(o.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Bt(o.integerValue)===Bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Bt(o.doubleValue),d=Bt(l.doubleValue);return c===d?yf(c)===yf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return rl(n.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(lw(c)!==lw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!gi(c[m],d[m])))return!1;return!0}(n,e);default:return Pe(52216,{left:n})}}function Wu(n,e){return(n.values||[]).find(t=>gi(t,e))!==void 0}function il(n,e){if(n===e)return 0;const t=Qs(n),s=Qs(e);if(t!==s)return Je(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Bt(l.integerValue||l.doubleValue),m=Bt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return cw(n.timestampValue,e.timestampValue);case 4:return cw(Qu(n),Qu(e));case 5:return ng(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ys(l),m=Ys(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Je(d[g],m[g]);if(_!==0)return _}return Je(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Je(Bt(l.latitude),Bt(c.latitude));return d!==0?d:Je(Bt(l.longitude),Bt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return hw(n.arrayValue,e.arrayValue);case 10:return function(l,c){const d=l.fields||{},m=c.fields||{},g=d[vf]?.arrayValue,_=m[vf]?.arrayValue,w=Je(g?.values?.length||0,_?.values?.length||0);return w!==0?w:hw(g,_)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Uh.mapValue&&c===Uh.mapValue)return 0;if(l===Uh.mapValue)return 1;if(c===Uh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let w=0;w<m.length&&w<_.length;++w){const T=ng(m[w],_[w]);if(T!==0)return T;const D=il(d[m[w]],g[_[w]]);if(D!==0)return D}return Je(m.length,_.length)}(n.mapValue,e.mapValue);default:throw Pe(23264,{he:t})}}function cw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Ks(n),s=Ks(e),o=Je(t.seconds,s.seconds);return o!==0?o:Je(t.nanos,s.nanos)}function hw(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=il(t[o],s[o]);if(l)return l}return Je(t.length,s.length)}function sl(n){return rg(n)}function rg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ks(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=rg(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${rg(t.fields[c])}`;return o+"}"}(n.mapValue):Pe(61005,{value:n})}function Qh(n){switch(Qs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wf(n);return e?16+Qh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Qh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Zs(s.fields,(l,c)=>{o+=l.length+Qh(c)}),o}(n.mapValue);default:throw Pe(13486,{value:n})}}function ig(n){return!!n&&"integerValue"in n}function Kg(n){return!!n&&"arrayValue"in n}function fw(n){return!!n&&"nullValue"in n}function dw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $h(n){return!!n&&"mapValue"in n}function kM(n){return(n?.mapValue?.fields||{})[mb]?.stringValue===pb}function Pu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Pu(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(n.arrayValue.values[t]);return e}return{...n}}function UM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!$h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=yn.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=Pu(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());$h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];$h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Zs(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Hn(Pu(this.value))}}function gb(n){const e=[];return Zs(n.fields,(t,s)=>{const o=new yn([t]);if($h(s)){const l=gb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t,s,o,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Rn(e,0,Ue.min(),Ue.min(),Ue.min(),Hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Rn(e,1,t,Ue.min(),s,o,0)}static newNoDocument(e,t){return new Rn(e,2,t,Ue.min(),Ue.min(),Hn.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,Ue.min(),Ue.min(),Hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.position=e,this.inclusive=t}}function mw(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(c.referenceValue),t.key):s=il(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function pw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function jM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{}class Jt extends yb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new BM(e,t,s):t==="array-contains"?new qM(e,s):t==="in"?new GM(e,s):t==="not-in"?new KM(e,s):t==="array-contains-any"?new YM(e,s):new Jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new FM(e,s):new HM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Qs(this.value)===Qs(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends yb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yi(e,t)}matches(e){return _b(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _b(n){return n.op==="and"}function vb(n){return zM(n)&&_b(n)}function zM(n){for(const e of n.filters)if(e instanceof yi)return!1;return!0}function sg(n){if(n instanceof Jt)return n.field.canonicalString()+n.op.toString()+sl(n.value);if(vb(n))return n.filters.map(e=>sg(e)).join(",");{const e=n.filters.map(t=>sg(t)).join(",");return`${n.op}(${e})`}}function Eb(n,e){return n instanceof Jt?function(s,o){return o instanceof Jt&&s.op===o.op&&s.field.isEqual(o.field)&&gi(s.value,o.value)}(n,e):n instanceof yi?function(s,o){return o instanceof yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,d)=>l&&Eb(c,o.filters[d]),!0):!1}(n,e):void Pe(19439)}function Tb(n){return n instanceof Jt?function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`}(n):n instanceof yi?function(t){return t.op.toString()+" {"+t.getFilters().map(Tb).join(" ,")+"}"}(n):"Filter"}class BM extends Jt{constructor(e,t,s){super(e,t,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class FM extends Jt{constructor(e,t){super(e,"in",t),this.keys=wb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HM extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=wb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wb(n,e){return(e.arrayValue?.values||[]).map(t=>Ne.fromName(t.referenceValue))}class qM extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kg(t)&&Wu(t.arrayValue,this.value)}}class GM extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wu(this.value.arrayValue,t)}}class KM extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wu(this.value.arrayValue,t)}}class YM extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t=null,s=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function gw(n,e=null,t=[],s=[],o=null,l=null,c=null){return new QM(n,e,t,s,o,l,c)}function Yg(n){const e=Fe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>sg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),$f(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>sl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>sl(s)).join(",")),e.Te=t}return e.Te}function Qg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Eb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pw(n.startAt,e.startAt)&&pw(n.endAt,e.endAt)}function ag(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t=null,s=[],o=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $M(n,e,t,s,o,l,c,d){return new Xf(n,e,t,s,o,l,c,d)}function $g(n){return new Xf(n)}function yw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WM(n){return n.collectionGroup!==null}function Vu(n){const e=Fe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(yn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tf(l,s))}),t.has(yn.keyField().canonicalString())||e.Ie.push(new Tf(yn.keyField(),s))}return e.Ie}function li(n){const e=Fe(n);return e.Ee||(e.Ee=XM(e,Vu(n))),e.Ee}function XM(n,e){if(n.limitType==="F")return gw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Tf(o.field,l)});const t=n.endAt?new Ef(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Ef(n.startAt.position,n.startAt.inclusive):null;return gw(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function og(n,e,t){return new Xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zf(n,e){return Qg(li(n),li(e))&&n.limitType===e.limitType}function Sb(n){return`${Yg(li(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Tb(o)).join(", ")}]`),$f(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>sl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>sl(o)).join(",")),`Target(${s})`}(li(n))}; limitType=${n.limitType})`}function Jf(n,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,o){for(const l of Vu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(c,d,m){const g=mw(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Vu(s),o)||s.endAt&&!function(c,d,m){const g=mw(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Vu(s),o))}(n,e)}function ZM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bb(n){return(e,t)=>{let s=!1;for(const o of Vu(n)){const l=JM(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function JM(n,e,t){const s=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?il(m,g):Pe(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Pe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return lb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Mt(Ne.comparator);function Wi(){return ex}const Ab=new Mt(Ne.comparator);function Du(...n){let e=Ab;for(const t of n)e=e.insert(t.key,t);return e}function Rb(n){let e=Ab;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function za(){return Lu()}function Cb(){return Lu()}function Lu(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}const tx=new Mt(Ne.comparator),nx=new tn(Ne.comparator);function et(...n){let e=nx;for(const t of n)e=e.add(t);return e}const rx=new tn(Je);function ix(){return rx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function Ib(n){return{integerValue:""+n}}function sx(n,e){return OM(e)?Ib(e):Wg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this._=void 0}}function ax(n,e,t){return n instanceof wf?function(o,l){const c={fields:{[hb]:{stringValue:cb},[db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Gg(l)&&(l=Wf(l)),l&&(c.fields[fb]=l),{mapValue:c}}(t,e):n instanceof Xu?Nb(n,e):n instanceof Zu?Ob(n,e):function(o,l){const c=Db(o,l),d=_w(c)+_w(o.Ae);return ig(c)&&ig(o.Ae)?Ib(d):Wg(o.serializer,d)}(n,e)}function ox(n,e,t){return n instanceof Xu?Nb(n,e):n instanceof Zu?Ob(n,e):t}function Db(n,e){return n instanceof Sf?function(s){return ig(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class wf extends ed{}class Xu extends ed{constructor(e){super(),this.elements=e}}function Nb(n,e){const t=Mb(e);for(const s of n.elements)t.some(o=>gi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Zu extends ed{constructor(e){super(),this.elements=e}}function Ob(n,e){let t=Mb(e);for(const s of n.elements)t=t.filter(o=>!gi(o,s));return{arrayValue:{values:t}}}class Sf extends ed{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function _w(n){return Bt(n.integerValue||n.doubleValue)}function Mb(n){return Kg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function lx(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof Xu&&o instanceof Xu||s instanceof Zu&&o instanceof Zu?rl(s.elements,o.elements,gi):s instanceof Sf&&o instanceof Sf?gi(s.Ae,o.Ae):s instanceof wf&&o instanceof wf}(n.transform,e.transform)}class ux{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class td{}function xb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vb(n.key,ui.none()):new uc(n.key,n.data,ui.none());{const t=n.data,s=Hn.empty();let o=new tn(yn.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Js(n.key,s,new ur(o.toArray()),ui.none())}}function cx(n,e,t){n instanceof uc?function(o,l,c){const d=o.value.clone(),m=Ew(o.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Js?function(o,l,c){if(!Wh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Ew(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Pb(o)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ku(n,e,t,s){return n instanceof uc?function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=l.value.clone(),_=Tw(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Js?function(l,c,d,m){if(!Wh(l.precondition,c))return d;const g=Tw(l.fieldTransforms,m,c),_=c.data;return _.setAll(Pb(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,s):function(l,c,d){return Wh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function hx(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=Db(s.transform,o||null);l!=null&&(t===null&&(t=Hn.empty()),t.set(s.field,l))}return t||null}function vw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&rl(s,o,(l,c)=>lx(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class uc extends td{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Js extends td{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Pb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function Ew(n,e,t){const s=new Map;ut(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);s.set(l.field,ox(c,d,t[o]))}return s}function Tw(n,e,t){const s=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);s.set(o.field,ax(l,c,e))}return s}class Vb extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fx extends td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&cx(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Cb();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const m=xb(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Ue.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),et())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(t,s)=>vw(t,s))&&rl(this.baseMutations,e.baseMutations,(t,s)=>vw(t,s))}}class Xg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return tx}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Xg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,nt;function gx(n){switch(n){case le.OK:return Pe(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function Lb(n){if(n===void 0)return $i("GRPC error has no .code"),le.UNKNOWN;switch(n){case Gt.OK:return le.OK;case Gt.CANCELLED:return le.CANCELLED;case Gt.UNKNOWN:return le.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return le.INTERNAL;case Gt.UNAVAILABLE:return le.UNAVAILABLE;case Gt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Gt.NOT_FOUND:return le.NOT_FOUND;case Gt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Gt.ABORTED:return le.ABORTED;case Gt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Gt.DATA_LOSS:return le.DATA_LOSS;default:return Pe(39323,{code:n})}}(nt=Gt||(Gt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new zs([4294967295,4294967295],0);function ww(n){const e=yx().encode(n),t=new ZS;return t.update(e),new Uint8Array(t.digest())}function Sw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zs([t,s],0),new zs([o,l],0)]}class Zg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(s<0)throw new Nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=zs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(zs.fromNumber(s)));return o.compare(_x)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ww(e),[s,o]=Sw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zg(l,o,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const t=ww(e),[s,o]=Sw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new nd(Ue.min(),o,new Mt(Je),Wi(),et())}}class cc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new cc(s,t,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class kb{constructor(e,t){this.targetId=e,this.Ce=t}}class Ub{constructor(e,t,s=vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class bw{constructor(){this.ve=0,this.Fe=Aw(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),t=et(),s=et();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Pe(38017,{changeType:l})}}),new cc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Aw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wi(),this.Je=jh(),this.He=jh(),this.Ye=new Mt(Je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(ag(l))if(s===0){const c=new Ne(l.path);this.et(t,c,Rn.newNoDocument(c,Ue.min()))}else ut(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=Ys(s).toUint8Array()}catch(m){if(m instanceof ub)return nl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Zg(c,o,l)}catch(m){return nl(m instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ag(d.target)){const m=new Ne(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,Rn.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let s=et();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new nd(e,t,this.Ye,this.je,s);return this.je=Wi(),this.Je=jh(),this.He=jh(),this.Ye=new Mt(Je),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new bw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new tn(Je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new tn(Je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bw),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function jh(){return new Mt(Ne.comparator)}function Aw(){return new Mt(Ne.comparator)}const Ex={asc:"ASCENDING",desc:"DESCENDING"},Tx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wx={and:"AND",or:"OR"};class Sx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lg(n,e){return n.useProto3Json||$f(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bx(n,e){return bf(n,e.toTimestamp())}function ci(n){return ut(!!n,49232),Ue.fromTimestamp(function(t){const s=Ks(t);return new bt(s.seconds,s.nanos)}(n))}function Jg(n,e){return ug(n,e).canonicalString()}function ug(n,e){const t=function(o){return new Ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zb(n){const e=Ot.fromString(n);return ut(Gb(e),10190,{key:e.toString()}),e}function cg(n,e){return Jg(n.databaseId,e.path)}function Dp(n,e){const t=zb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(Fb(t))}function Bb(n,e){return Jg(n.databaseId,e)}function Ax(n){const e=zb(n);return e.length===4?Ot.emptyPath():Fb(e)}function hg(n){return new Ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fb(n){return ut(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Rw(n,e,t){return{name:cg(n,e),fields:t.value.mapValue.fields}}function Rx(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(ut(_===void 0||typeof _=="string",58123),vn.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?le.UNKNOWN:Lb(g.code);return new Ce(_,g.message||"")}(c);t=new Ub(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dp(n,s.document.name),l=ci(s.document.updateTime),c=s.document.createTime?ci(s.document.createTime):Ue.min(),d=new Hn({mapValue:{fields:s.document.fields}}),m=Rn.newFoundDocument(o,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new Xh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dp(n,s.document),l=s.readTime?ci(s.readTime):Ue.min(),c=Rn.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Xh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dp(n,s.document),l=s.removedTargetIds||[];t=new Xh([],l,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new px(o,l),d=s.targetId;t=new kb(d,c)}}return t}function Cx(n,e){let t;if(e instanceof uc)t={update:Rw(n,e.key,e.value)};else if(e instanceof Vb)t={delete:cg(n,e.key)};else if(e instanceof Js)t={update:Rw(n,e.key,e.data),updateMask:Lx(e.fieldMask)};else{if(!(e instanceof fx))return Pe(16599,{Vt:e.type});t={verify:cg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof wf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Sf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Pe(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:bx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)}(n,e.precondition)),t}function Ix(n,e){return n&&n.length>0?(ut(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?ci(o.updateTime):ci(l);return c.isEqual(Ue.min())&&(c=ci(l)),new ux(c,o.transformResults||[])}(t,e))):[]}function Dx(n,e){return{documents:[Bb(n,e.path)]}}function Nx(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Bb(n,o);const l=function(g){if(g.length!==0)return qb(yi.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:Ko(T.field),direction:xx(T.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=lg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function Ox(n){let e=Ax(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ut(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const T=Hb(w);return T instanceof yi&&vb(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(j){return new Tf(Yo(j.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,$f(T)?null:T}(t.limit));let m=null;t.startAt&&(m=function(w){const T=!!w.before,D=w.values||[];return new Ef(D,T)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const T=!w.before,D=w.values||[];return new Ef(D,T)}(t.endAt)),$M(e,o,c,l,d,"F",m,g)}function Mx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Hb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Yo(t.unaryFilter.field);return Jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Yo(t.unaryFilter.field);return Jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(t.unaryFilter.field);return Jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Yo(t.unaryFilter.field);return Jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Jt.create(Yo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yi.create(t.compositeFilter.filters.map(s=>Hb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(t.compositeFilter.op))}(n):Pe(30097,{filter:n})}function xx(n){return Ex[n]}function Px(n){return Tx[n]}function Vx(n){return wx[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Yo(n){return yn.fromServerFormat(n.fieldPath)}function qb(n){return n instanceof Jt?function(t){if(t.op==="=="){if(dw(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(fw(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dw(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(fw(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:Px(t.op),value:t.value}}}(n):n instanceof yi?function(t){const s=t.getFilters().map(o=>qb(o));return s.length===1?s[0]:{compositeFilter:{op:Vx(t.op),filters:s}}}(n):Pe(54877,{filter:n})}function Lx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,s,o,l=Ue.min(),c=Ue.min(),d=vn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.yt=e}}function Ux(n){const e=Ox({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.Cn=new zx}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Gs.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class zx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new tn(Ot.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new tn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kb=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(Kb,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LruGarbageCollector",Bx=1048576;function Dw([n,e],[t,s]){const o=Je(n,t);return o===0?Je(e,s):o}class Fx{constructor(e){this.Ir=e,this.buffer=new tn(Dw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Dw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hx{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Iw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){dl(t)?ye(Iw,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.Vr(3e5)})}}class qx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(Qf.ce);const s=new Fx(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Cw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),qo()<=Ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${w} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function Gx(n,e){return new qx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ku(s.mutation,o,ur.empty(),bt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,t,s=et()){const o=za();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Du();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=za();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,et()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,o){let l=Wi();const c=Lu(),d=function(){return Lu()}();return t.forEach((m,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Js)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),ku(_.mutation,g,_.mutation.getFieldMask(),bt.now())):c.set(g.key,ur.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>d.set(g,new Yx(_,c.get(g)??null))),d))}recalculateAndSaveOverlays(e,t){const s=Lu();let o=new Mt((c,d)=>c-d),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=s.get(m)||ur.empty();_=d.applyToLocalView(g,_),s.set(m,_);const w=(o.get(d.batchId)||et()).add(m);o=o.insert(d.batchId,w)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,w=Cb();_.forEach(T=>{if(!l.has(T)){const D=xb(t.get(T),s.get(T));D!==null&&w.set(T,D),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ae.resolve(za());let d=Yu,m=l;return c.next(g=>ae.forEach(g,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{m=m.insert(_,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,et())).next(_=>({batchId:d,changes:Rb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(s=>{let o=Du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const g=function(w,T){return new Xf(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,Rn.newInvalidDocument(_)))});let d=Du();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&ku(_.mutation,g,ur.empty(),bt.now()),Jf(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:Ux(o.bundledQuery),readTime:ci(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.overlays=new Mt(Ne.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=za();return ae.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const o=za(),l=t.length+1,c=new Ne(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new Mt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=za(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=za(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ae.resolve(d)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new mx(t,s));let l=this.qr.get(t);l===void 0&&(l=et(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Qr=new tn(ln.$r),this.Ur=new tn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new ln(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new ln(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Ne(new Ot([])),s=new ln(t,e),o=new ln(t,e+1),l=[];return this.Ur.forEachInRange([s,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ne(new Ot([])),s=new ln(t,e),o=new ln(t,e+1);let l=et();return this.Ur.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new ln(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ne.comparator(e.key,t.key)||Je(e.Yr,t.Yr)}static Kr(e,t){return Je(e.Yr,t.Yr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new tn(ln.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dx(l,t,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ln(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?qg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ln(t,0),o=new ln(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],c=>{const d=this.Xr(c.Yr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new tn(Je);return t.forEach(o=>{const l=new ln(o,0),c=new ln(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{s=s.add(d.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Ne(l),0);let d=new tn(Je);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},c),ae.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ut(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(t.mutations,o=>{const l=new ln(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new ln(t,0),o=this.Zr.firstAfterOrEqual(s);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.ri=e,this.docs=function(){return new Mt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let s=Wi();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Rn.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Wi();const c=t.path,d=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||CM(RM(_),s)<=0||(o.has(_.key)||Jf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Pe(9500)}ii(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new eP(this)}getSize(e){return ae.resolve(this.size)}}class eP extends Kx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.persistence=e,this.si=new eo(t=>Yg(t),Qg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new ey,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new al(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ae.waitFor(l).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qf(0),this.li=!1,this.li=!0,this.hi=new Xx,this.referenceDelegate=e(this),this.Pi=new tP(this),this.indexManager=new jx,this.remoteDocumentCache=function(o){return new Jx(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new kx(t),this.Ii=new $x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new Zx(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ye("MemoryPersistence","Starting transaction:",e);const o=new nP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class nP extends DM{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Ri=new ey,this.Vi=null}static mi(e){return new ty(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const o=Ne.fromPath(s);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Ue.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Af{constructor(e,t){this.persistence=e,this.pi=new eo(s=>MM(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Gx(this,t)}static mi(e,t){return new Af(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ae.forEach(this.pi,(s,o)=>this.br(e,s,o).next(l=>l?ae.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Ue.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qh(e.data.value)),t}br(e,t,s){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=et(),o=et();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ny(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RN()?8:NM(Cn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new rP;return this.Ss(e,t,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)})}).next(()=>l.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(qo()<=Ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(qo()<=Ze.DEBUG&&ye("QueryEngine","Query:",Go(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(qo()<=Ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):ae.resolve())}ys(e,t){if(yw(t))return ae.resolve(null);let s=li(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=og(t,null,"F"),s=li(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=et(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,og(t,null,"F")):this.vs(e,g,t,m)}))})))}ws(e,t,s,o){return yw(t)||o.isEqual(Ue.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?ae.resolve(null):(qo()<=Ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Go(t)),this.vs(e,c,t,AM(o,Yu)).next(d=>d))})}Ds(e,t){let s=new tn(bb(e));return t.forEach((o,l)=>{Jf(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return qo()<=Ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Go(t)),this.ps.getDocumentsMatchingQuery(e,t,Gs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",sP=3e8;class aP{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Mt(Je),this.xs=new eo(l=>Yg(l),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function oP(n,e,t,s){return new aP(n,e,t,s)}async function Qb(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=et();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:d}))})})}function lP(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const w=g.batch,T=w.keys();let D=ae.resolve();return T.forEach(j=>{D=D.next(()=>_.getEntry(m,j)).next(W=>{const U=g.docVersions.get(j);ut(U!==null,48541),W.version.compareTo(U)<0&&(w.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),_.addEntry(W)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=et();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function $b(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function uP(n,e){const t=Fe(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,_.addedDocuments,w)));let D=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?D=D.withResumeToken(vn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(w,D),function(W,U,Y){return W.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=sP?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,D,_)&&d.push(t.Pi.updateTargetData(l,D))});let m=Wi(),g=et();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(cP(l,c,e.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!s.isEqual(Ue.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ms=o,l))}function cP(n,e,t){let s=et(),o=et();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let c=Wi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ye(ry,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:c,qs:o}})}function hP(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=qg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fP(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(l=>l?(o=l,ae.resolve(o)):t.Pi.allocateTargetId(s).next(c=>(o=new ks(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function fg(n,e,t){const s=Fe(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!dl(c))throw c;ye(ry,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Nw(n,e,t){const s=Fe(n);let o=Ue.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const w=Fe(m),T=w.xs.get(_);return T!==void 0?ae.resolve(w.Ms.get(T)):w.Pi.getTargetData(g,_)}(s,c,li(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Ue.min(),t?l:et())).next(d=>(dP(s,ZM(e),d),{documents:d,Qs:l})))}function dP(n,e,t){let s=n.Os.get(e)||Ue.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Os.set(e,s)}class Ow{constructor(){this.activeTargetIds=ix()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mP{constructor(){this.Mo=new Ow,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ow,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="ConnectivityMonitor";class xw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Mw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh=null;function dg(){return zh===null?zh=function(){return 268435456+Math.round(2147483648*Math.random())}():zh++,"0x"+zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="RestConnection",gP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_f?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=dg(),d=this.zo(e,t.toUriEncodedString());ye(Np,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:g}=new URL(d),_=ul(g);return this.Jo(e,d,m,s,_).then(w=>(ye(Np,`Received RPC '${e}' ${c}: `,w),w),w=>{throw nl(Np,`RPC '${e}' ${c} failed with error: `,w,"url: ",d,"request:",s),w})}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const s=gP[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class vP extends yP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=dg();return new Promise((d,m)=>{const g=new JS;g.setWithCredentials(!0),g.listenOnce(eb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yh.NO_ERROR:const w=g.getResponseJson();ye(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),d(w);break;case Yh.TIMEOUT:ye(bn,`RPC '${e}' ${c} timed out`),m(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case Yh.HTTP_ERROR:const T=g.getStatus();if(ye(bn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const W=function(Y){const ue=Y.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ue)>=0?ue:le.UNKNOWN}(j.status);m(new Ce(W,j.message))}else m(new Ce(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(bn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);ye(bn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",_,s,15)})}T_(e,t,s){const o=dg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=rb(),d=nb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const _=l.join("");ye(bn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const w=c.createWebChannel(_,m);this.I_(w);let T=!1,D=!1;const j=new _P({Yo:U=>{D?ye(bn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(T||(ye(bn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ye(bn,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Zo:()=>w.close()}),W=(U,Y,ue)=>{U.listen(Y,ee=>{try{ue(ee)}catch(he){setTimeout(()=>{throw he},0)}})};return W(w,Iu.EventType.OPEN,()=>{D||(ye(bn,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),W(w,Iu.EventType.CLOSE,()=>{D||(D=!0,ye(bn,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(w))}),W(w,Iu.EventType.ERROR,U=>{D||(D=!0,nl(bn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),W(w,Iu.EventType.MESSAGE,U=>{if(!D){const Y=U.data[0];ut(!!Y,16349);const ue=Y,ee=ue?.error||ue[0]?.error;if(ee){ye(bn,`RPC '${e}' stream ${o} received error:`,ee);const he=ee.status;let oe=function(A){const R=Gt[A];if(R!==void 0)return Lb(R)}(he),P=ee.message;oe===void 0&&(oe=le.INTERNAL,P="Unknown error status: "+he+" with message "+ee.message),D=!0,j.a_(new Ce(oe,P)),w.close()}else ye(bn,`RPC '${e}' stream ${o} received:`,Y),j.u_(Y)}}),W(d,tb.STAT_EVENT,U=>{U.stat===tg.PROXY?ye(bn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===tg.NOPROXY&&ye(bn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(n){return new Sx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="PersistentStream";class Xb{constructor(e,t,s,o,l,c,d,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new Ce(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(Pw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ye(Pw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EP extends Xb{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Rx(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?ci(c.readTime):Ue.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=hg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=ag(m)?{documents:Dx(l,m)}:{query:Nx(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=jb(l,c.resumeToken);const g=lg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ue.min())>0){d.readTime=bf(l,c.snapshotVersion.toTimestamp());const g=lg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=Mx(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=hg(this.serializer),t.removeTarget=e,this.q_(t)}}class TP extends Xb{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Ix(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=hg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Cx(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{}class SP extends wP{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,ug(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(le.UNKNOWN,l.toString())})}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,ug(t,s),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(le.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class bP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="RemoteStore";class AP{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{to(this)&&(ye(Qa,"Restarting streams for network reachability change."),await async function(m){const g=Fe(m);g.Ea.add(4),await hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await id(g)}(this))})}),this.Ra=new bP(s,o)}}async function id(n){if(to(n))for(const e of n.da)await e(!0)}async function hc(n){for(const e of n.da)await e(!1)}function Zb(n,e){const t=Fe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),oy(t)?ay(t):ml(t).O_()&&sy(t,e))}function iy(n,e){const t=Fe(n),s=ml(t);t.Ia.delete(e),s.O_()&&Jb(t,e),t.Ia.size===0&&(s.O_()?s.L_():to(t)&&t.Ra.set("Unknown"))}function sy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ml(n).Y_(e)}function Jb(n,e){n.Va.Ue(e),ml(n).Z_(e)}function ay(n){n.Va=new vx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ml(n).start(),n.Ra.ua()}function oy(n){return to(n)&&!ml(n).x_()&&n.Ia.size>0}function to(n){return Fe(n).Ea.size===0}function eA(n){n.Va=void 0}async function RP(n){n.Ra.set("Online")}async function CP(n){n.Ia.forEach((e,t)=>{sy(n,e)})}async function IP(n,e){eA(n),oy(n)?(n.Ra.ha(e),ay(n)):n.Ra.set("Unknown")}async function DP(n,e,t){if(n.Ra.set("Online"),e instanceof Ub&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(s){ye(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rf(n,s)}else if(e instanceof Xh?n.Va.Ze(e):e instanceof kb?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ue.min()))try{const s=await $b(n.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(vn.EMPTY_BYTE_STRING,_.snapshotVersion)),Jb(l,m);const w=new ks(_.target,m,g,_.sequenceNumber);sy(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){ye(Qa,"Failed to raise snapshot:",s),await Rf(n,s)}}async function Rf(n,e,t){if(!dl(e))throw e;n.Ea.add(1),await hc(n),n.Ra.set("Offline"),t||(t=()=>$b(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Qa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await id(n)})}function tA(n,e){return e().catch(t=>Rf(n,t,e))}async function sd(n){const e=Fe(n),t=$s(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:qg;for(;NP(e);)try{const o=await hP(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,OP(e,o)}catch(o){await Rf(e,o)}nA(e)&&rA(e)}function NP(n){return to(n)&&n.Ta.length<10}function OP(n,e){n.Ta.push(e);const t=$s(n);t.O_()&&t.X_&&t.ea(e.mutations)}function nA(n){return to(n)&&!$s(n).x_()&&n.Ta.length>0}function rA(n){$s(n).start()}async function MP(n){$s(n).ra()}async function xP(n){const e=$s(n);for(const t of n.Ta)e.ea(t.mutations)}async function PP(n,e,t){const s=n.Ta.shift(),o=Xg.from(s,e,t);await tA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await sd(n)}async function VP(n,e){e&&$s(n).X_&&await async function(s,o){if(function(c){return gx(c)&&c!==le.ABORTED}(o.code)){const l=s.Ta.shift();$s(s).B_(),await tA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await sd(s)}}(n,e),nA(n)&&rA(n)}async function Vw(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),ye(Qa,"RemoteStore received new credentials");const s=to(t);t.Ea.add(3),await hc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await id(t)}async function LP(n,e){const t=Fe(n);e?(t.Ea.delete(2),await id(t)):e||(t.Ea.add(2),await hc(t),t.Ra.set("Unknown"))}function ml(n){return n.ma||(n.ma=function(t,s,o){const l=Fe(t);return l.sa(),new EP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:RP.bind(null,n),t_:CP.bind(null,n),r_:IP.bind(null,n),H_:DP.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),oy(n)?ay(n):n.Ra.set("Unknown")):(await n.ma.stop(),eA(n))})),n.ma}function $s(n){return n.fa||(n.fa=function(t,s,o){const l=Fe(t);return l.sa(),new TP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:MP.bind(null,n),r_:VP.bind(null,n),ta:xP.bind(null,n),na:PP.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await sd(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Qa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,d=new ly(e,t,c,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(n,e){if($i("AsyncQueue",`${e}: ${n}`),dl(n))return new Ce(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ne.comparator(t.key,s.key):(t,s)=>Ne.comparator(t.key,s.key),this.keyedMap=Du(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.ga=new Mt(Ne.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class ol{constructor(e,t,s,o,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ol(e,t,Wo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class UP{constructor(){this.queries=kw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Fe(t),l=o.queries;o.queries=kw(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function kw(){return new eo(n=>Sb(n),Zf)}async function jP(n,e){const t=Fe(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new kP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=uy(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&cy(t)}async function zP(n,e){const t=Fe(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function BP(n,e){const t=Fe(n);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&cy(t)}function FP(n,e,t){const s=Fe(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function cy(n){n.Ca.forEach(e=>{e.next()})}var mg,Uw;(Uw=mg||(mg={})).Ma="default",Uw.Cache="cache";class HP{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ol(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class sA{constructor(e){this.key=e}}class qP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=bb(e),this.tu=new Wo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Lw,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),D=Jf(this.query,w)?w:null,j=!!T&&this.mutatedKeys.has(T.key),W=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let U=!1;T&&D?T.data.isEqual(D.data)?j!==W&&(s.track({type:3,doc:D}),U=!0):this.su(T,D)||(s.track({type:2,doc:D}),U=!0,(m&&this.eu(D,m)>0||g&&this.eu(D,g)<0)&&(d=!0)):!T&&D?(s.track({type:0,doc:D}),U=!0):T&&!D&&(s.track({type:1,doc:T}),U=!0,(m||g)&&(d=!0)),U&&(D?(c=c.add(D),l=W?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((_,w)=>function(D,j){const W=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:U})}};return W(D)-W(j)}(_.type,w.type)||this.eu(_.doc,w.doc)),this.ou(s),o=o??!1;const d=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new ol(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new sA(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new iA(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=et();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hy="SyncEngine";class GP{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class KP{constructor(e){this.key=e,this.hu=!1}}class YP{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new eo(d=>Sb(d),Zf),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Ne.comparator),this.Au=new Map,this.Ru=new ey,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QP(n,e,t=!0){const s=hA(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await aA(s,e,t,!0),o}async function $P(n,e){const t=hA(n);await aA(t,e,!0,!1)}async function aA(n,e,t,s){const o=await fP(n.localStore,li(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await WP(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Zb(n.remoteStore,o),d}async function WP(n,e,t,s,o){n.pu=(w,T,D)=>async function(W,U,Y,ue){let ee=U.view.ru(Y);ee.Cs&&(ee=await Nw(W.localStore,U.query,!1).then(({documents:N})=>U.view.ru(N,ee)));const he=ue&&ue.targetChanges.get(U.targetId),oe=ue&&ue.targetMismatches.get(U.targetId)!=null,P=U.view.applyChanges(ee,W.isPrimaryClient,he,oe);return zw(W,U.targetId,P.au),P.snapshot}(n,w,T,D);const l=await Nw(n.localStore,e,!0),c=new qP(e,l.Qs),d=c.ru(l.documents),m=cc.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),g=c.applyChanges(d,n.isPrimaryClient,m);zw(n,t,g.au);const _=new GP(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function XP(n,e,t){const s=Fe(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter(c=>!Zf(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&iy(s.remoteStore,o.targetId),pg(s,o.targetId)}).catch(fl)):(pg(s,o.targetId),await fg(s.localStore,o.targetId,!0))}async function ZP(n,e){const t=Fe(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),iy(t.remoteStore,s.targetId))}async function JP(n,e,t){const s=aV(n);try{const o=await function(c,d){const m=Fe(c),g=bt.now(),_=d.reduce((D,j)=>D.add(j.key),et());let w,T;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let j=Wi(),W=et();return m.Ns.getEntries(D,_).next(U=>{j=U,j.forEach((Y,ue)=>{ue.isValidDocument()||(W=W.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,j)).next(U=>{w=U;const Y=[];for(const ue of d){const ee=hx(ue,w.get(ue.key).overlayedDocument);ee!=null&&Y.push(new Js(ue.key,ee,gb(ee.value.mapValue),ui.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,Y,d)}).next(U=>{T=U;const Y=U.applyToLocalDocumentSet(w,W);return m.documentOverlayCache.saveOverlays(D,U.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:Rb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new Mt(Je)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g}(s,o.batchId,t),await fc(s,o.changes),await sd(s.remoteStore)}catch(o){const l=uy(o,"Failed to persist write");t.reject(l)}}async function oA(n,e){const t=Fe(n);try{const s=await uP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Au.get(l);c&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ut(c.hu,14607):o.removedDocuments.size>0&&(ut(c.hu,42227),c.hu=!1))}),await fc(t,s,e)}catch(s){await fl(s)}}function jw(n,e,t){const s=Fe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=Fe(c);m.onlineState=d;let g=!1;m.queries.forEach((_,w)=>{for(const T of w.Sa)T.va(d)&&(g=!0)}),g&&cy(m)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eV(n,e,t){const s=Fe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new Mt(Ne.comparator);c=c.insert(l,Rn.newNoDocument(l,Ue.min()));const d=et().add(l),m=new nd(Ue.min(),new Map,new Mt(Je),c,d);await oA(s,m),s.du=s.du.remove(l),s.Au.delete(e),fy(s)}else await fg(s.localStore,e,!1).then(()=>pg(s,e,t)).catch(fl)}async function tV(n,e){const t=Fe(n),s=e.batch.batchId;try{const o=await lP(t.localStore,e);uA(t,s,null),lA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await fc(t,o)}catch(o){await fl(o)}}async function nV(n,e,t){const s=Fe(n);try{const o=await function(c,d){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(w=>(ut(w!==null,37113),_=w.keys(),m.mutationQueue.removeMutationBatch(g,w))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(s.localStore,e);uA(s,e,t),lA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await fc(s,o)}catch(o){await fl(o)}}function lA(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function uA(n,e,t){const s=Fe(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function pg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(s=>{n.Ru.containsKey(s)||cA(n,s)})}function cA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(iy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),fy(n))}function zw(n,e,t){for(const s of t)s instanceof iA?(n.Ru.addReference(s.key,e),rV(n,s)):s instanceof sA?(ye(hy,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||cA(n,s.key)):Pe(19791,{wu:s})}function rV(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ye(hy,"New document in limbo: "+t),n.Eu.add(s),fy(n))}function fy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ne(Ot.fromString(e)),s=n.fu.next();n.Au.set(s,new KP(t)),n.du=n.du.insert(t,s),Zb(n.remoteStore,new ks(li($g(t.path)),s,"TargetPurposeLimboResolution",Qf.ce))}}async function fc(n,e,t){const s=Fe(n),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((d,m)=>{c.push(s.pu(m,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=ny.As(m.targetId,g);l.push(_)}}))}),await Promise.all(c),s.Pu.H_(o),await async function(m,g){const _=Fe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ae.forEach(g,T=>ae.forEach(T.Es,D=>_.persistence.referenceDelegate.addReference(w,T.targetId,D)).next(()=>ae.forEach(T.ds,D=>_.persistence.referenceDelegate.removeReference(w,T.targetId,D)))))}catch(w){if(!dl(w))throw w;ye(ry,"Failed to update sequence numbers: "+w)}for(const w of g){const T=w.targetId;if(!w.fromCache){const D=_.Ms.get(T),j=D.snapshotVersion,W=D.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(T,W)}}}(s.localStore,l))}async function iV(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ye(hy,"User change. New user:",e.toKey());const s=await Qb(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new Ce(le.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fc(t,s.Ls)}}function sV(n,e){const t=Fe(n),s=t.Au.get(e);if(s&&s.hu)return et().add(s.key);{let o=et();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const d=t.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function hA(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eV.bind(null,e),e.Pu.H_=BP.bind(null,e.eventManager),e.Pu.yu=FP.bind(null,e.eventManager),e}function aV(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nV.bind(null,e),e}class Cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return oP(this.persistence,new iP,e.initialUser,this.serializer)}Cu(e){return new Yb(ty.mi,this.serializer)}Du(e){return new mP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cf.provider={build:()=>new Cf};class oV extends Cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ut(this.persistence.referenceDelegate instanceof Af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Hx(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Yb(s=>Af.mi(s,t),this.serializer)}}class gg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iV.bind(null,this.syncEngine),await LP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UP}()}createDatastore(e){const t=rd(e.databaseInfo.databaseId),s=function(l){return new vP(l)}(e.databaseInfo);return function(l,c,d,m){return new SP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,d){return new AP(s,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>jw(this.syncEngine,t,0),function(){return xw.v()?new xw:new pP}())}createSyncEngine(e,t){return function(o,l,c,d,m,g,_){const w=new YP(o,l,c,d,m,g);return _&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Fe(t);ye(Qa,"RemoteStore shutting down."),s.Ea.add(5),await hc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gg.provider={build:()=>new gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class uV{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ye(Ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ye(Ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=uy(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Mp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Qb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Bw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cV(n);ye(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>Vw(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>Vw(e.remoteStore,o)),n._onlineComponents=e}async function cV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Ws,"Using user provided OfflineComponentProvider");try{await Mp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await Mp(n,new Cf)}}else ye(Ws,"Using default OfflineComponentProvider"),await Mp(n,new oV(void 0));return n._offlineComponents}async function fA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Ws,"Using user provided OnlineComponentProvider"),await Bw(n,n._uninitializedComponentsProvider._online)):(ye(Ws,"Using default OnlineComponentProvider"),await Bw(n,new gg))),n._onlineComponents}function hV(n){return fA(n).then(e=>e.syncEngine)}async function fV(n){const e=await fA(n),t=e.eventManager;return t.onListen=QP.bind(null,e.syncEngine),t.onUnlisten=XP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$P.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZP.bind(null,e.syncEngine),t}function dV(n,e,t={}){const s=new Bs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new lV({next:T=>{_.Nu(),c.enqueueAndForget(()=>zP(l,w));const D=T.docs.has(d);!D&&T.fromCache?g.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&m&&m.source==="server"?g.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),w=new HP($g(d.path),_,{includeMetadataChanges:!0,qa:!0});return jP(l,w)}(await fV(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firestore.googleapis.com",Hw=!0;class qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=Hw}else this.host=e.host,this.ssl=e.ssl??Hw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bx)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dy{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dM;switch(s.type){case"firstParty":return new yM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Fw.get(t);s&&(ye("ComponentProvider","Removing Datastore"),Fw.delete(t),s.terminate())}(this),Promise.resolve()}}function mV(n,e,t,s={}){n=Ya(n,dy);const o=ul(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(vS(`https://${d}`),ES("Firestore",!0)),l.host!==mA&&l.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:o,emulatorOptions:s};if(!qs(m,c)&&(n._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=An.MOCK_USER;else{g=_N(s.mockUserToken,n._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new An(w)}n._authCredentials=new mM(new sb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new my(this.firestore,e,this._query)}}class en{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(lc(t,en._jsonSchema))return new en(e,s||null,new Ne(Ot.fromString(t.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Kt("string",en._jsonSchemaVersion),referencePath:Kt("string")};class Ju extends my{constructor(e,t,s){super(e,t,$g(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Ne(e))}withConverter(e){return new Ju(this.firestore,e,this._path)}}function Xi(n,e,...t){if(n=_n(n),arguments.length===1&&(e=Fg.newId()),SM("doc","path",e),n instanceof dy){const s=Ot.fromString(e,...t);return iw(s),new en(n,null,new Ne(s))}{if(!(n instanceof en||n instanceof Ju))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ot.fromString(e,...t));return iw(s),new en(n.firestore,n instanceof Ju?n.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="AsyncQueue";class Kw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wb(this,"async_queue_retry"),this._c=()=>{const s=Op();s&&ye(Gw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Bs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;ye(Gw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Yw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ly.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:Yw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Yw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ad extends dy{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Kw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kw(e),this._firestoreClient=void 0,await e}}}function pV(n,e){const t=typeof n=="object"?n:Vg(),s=typeof n=="string"?n:_f,o=Ja(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=gN("firestore");l&&mV(o,...l)}return o}function pA(n){if(n._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gV(n),n._firestoreClient}function gV(n){const e=n._freezeSettings(),t=function(o,l,c,d){return new VM(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new uV(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cr(vn.fromBase64String(e))}catch(t){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cr(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,Cr._jsonSchema))return Cr.fromBase64String(e.bytes)}}Cr._jsonSchemaVersion="firestore/bytes/1.0",Cr._jsonSchema={type:Kt("string",Cr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(lc(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Kt("string",hi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new fi(e.vectorValues);throw new Ce(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Kt("string",fi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^__.*__$/;class _V{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new uc(e,this.data,t,this.fieldTransforms)}}class gA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:n})}}class gy{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return If(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yA(this.Ac)&&yV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vV{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||rd(e)}Cc(e,t,s,o=!1){return new gy({Ac:e,methodName:t,Dc:s,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _A(n){const e=n._freezeSettings(),t=rd(n._databaseId);return new vV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EV(n,e,t,s,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);yy("Data must be an object, but it was:",c,s);const d=vA(s,c);let m,g;if(l.merge)m=new ur(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=yg(e,w,t);if(!c.contains(T))throw new Ce(le.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);TA(_,T)||_.push(T)}m=new ur(_),g=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,g=c.fieldTransforms;return new _V(new Hn(d),m,g)}class ld extends py{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function TV(n,e,t,s){const o=n.Cc(1,e,t);yy("Data must be an object, but it was:",o,s);const l=[],c=Hn.empty();Zs(s,(m,g)=>{const _=_y(e,m,t);g=_n(g);const w=o.yc(_);if(g instanceof ld)l.push(_);else{const T=ud(g,w);T!=null&&(l.push(_),c.set(_,T))}});const d=new ur(l);return new gA(c,d,o.fieldTransforms)}function wV(n,e,t,s,o,l){const c=n.Cc(1,e,t),d=[yg(e,s,t)],m=[o];if(l.length%2!=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)d.push(yg(e,l[T])),m.push(l[T+1]);const g=[],_=Hn.empty();for(let T=d.length-1;T>=0;--T)if(!TA(g,d[T])){const D=d[T];let j=m[T];j=_n(j);const W=c.yc(D);if(j instanceof ld)g.push(D);else{const U=ud(j,W);U!=null&&(g.push(D),_.set(D,U))}}const w=new ur(g);return new gA(_,w,c.fieldTransforms)}function ud(n,e){if(EA(n=_n(n)))return yy("Unsupported field value:",e,n),vA(n,e);if(n instanceof py)return function(s,o){if(!yA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const d of s){let m=ud(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(s,o){if((s=_n(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=bt.fromDate(s);return{timestampValue:bf(o.serializer,l)}}if(s instanceof bt){const l=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bf(o.serializer,l)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cr)return{bytesValue:jb(o.serializer,s._byteString)};if(s instanceof en){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(c,d){return{mapValue:{fields:{[mb]:{stringValue:pb},[vf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Wg(d.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Hg(s)}`)}(n,e)}function vA(n,e){const t={};return lb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,(s,o)=>{const l=ud(o,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function EA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof hi||n instanceof Cr||n instanceof en||n instanceof py||n instanceof fi)}function yy(n,e,t){if(!EA(t)||!ab(t)){const s=Hg(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function yg(n,e,t){if((e=_n(e))instanceof od)return e._internalPath;if(typeof e=="string")return _y(n,e);throw If("Field path arguments must be of type string or ",n,!1,void 0,t)}const SV=new RegExp("[~\\*/\\[\\]]");function _y(n,e,t){if(e.search(SV)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function If(n,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new Ce(le.INVALID_ARGUMENT,d+n+m)}function TA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bV extends wA{data(){return super.data()}}function SA(n,e){return typeof e=="string"?_y(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}class AV{convertValue(e,t="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Zs(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){const t=e.fields?.[vf].arrayValue?.values?.map(s=>Bt(s.doubleValue));return new fi(t)}convertGeoPoint(e){return new hi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Wf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Qu(e));default:return null}}convertTimestamp(e){const t=Ks(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ot.fromString(e);ut(Gb(s),9688,{name:e});const o=new $u(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return o.isEqual(t)||$i(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ba extends wA{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(SA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ba._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ba._jsonSchema={type:Kt("string",Ba._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Zh extends Ba{data(e={}){return super.data(e)}}class Uu{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Zh(this._firestore,this._userDataWriter,s.key,s,new Ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new Zh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Zh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ou(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:CV(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n){n=Ya(n,en);const e=Ya(n.firestore,ad);return dV(pA(e),n._key).then(t=>NV(e,n,t))}Uu._jsonSchemaVersion="firestore/querySnapshot/1.0",Uu._jsonSchema={type:Kt("string",Uu._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class IV extends AV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,t)}}function DV(n,e,t){n=Ya(n,en);const s=Ya(n.firestore,ad),o=RV(n.converter,e);return bA(s,[EV(_A(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ui.none())])}function ec(n,e,t,...s){n=Ya(n,en);const o=Ya(n.firestore,ad),l=_A(o);let c;return c=typeof(e=_n(e))=="string"||e instanceof od?wV(l,"updateDoc",n._key,e,t,s):TV(l,"updateDoc",n._key,e),bA(o,[c.toMutation(n._key,ui.exists(!0))])}function bA(n,e){return function(s,o){const l=new Bs;return s.asyncQueue.enqueueAndForget(async()=>JP(await hV(s),o,l)),l.promise}(pA(n),e)}function NV(n,e,t){const s=t.docs.get(e._key),o=new IV(n);return new Ba(n,o,e._key,s,new Ou(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){hl=o})(cl),pi(new Qr("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new ad(new pM(s.getProvider("auth-internal")),new _M(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(g.options.projectId,_)}(c,o),c);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ir(ew,tw,e),Ir(ew,tw,"esm2020")})();function AA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OV=AA,RA=new Za("auth","Firebase",AA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Gf("@firebase/auth");function MV(n,...e){Df.logLevel<=Ze.WARN&&Df.warn(`Auth (${cl}): ${n}`,...e)}function Jh(n,...e){Df.logLevel<=Ze.ERROR&&Df.error(`Auth (${cl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(n,...e){throw Ey(n,...e)}function di(n,...e){return Ey(n,...e)}function CA(n,e,t){const s={...OV(),[e]:t};return new Za("auth","Firebase",s).create(e,{appName:n.name})}function Ki(n){return CA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ey(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return RA.create(n,...e)}function xe(n,e,...t){if(!n)throw Ey(e,...t)}function Fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jh(e),new Error(e)}function Zi(n,e){n||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){return typeof self<"u"&&self.location?.href||""}function xV(){return Qw()==="http:"||Qw()==="https:"}function Qw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xV()||TS()||"connection"in navigator)?navigator.onLine:!0}function VV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zi(t>e,"Short delay should be less than long delay!"),this.isMobile=TN()||bN()}get(){return PV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,e){Zi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UV=new dc(3e4,6e4);function ea(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ta(n,e,t,s,o={}){return DA(n,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=oc({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return SN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ul(n.emulatorConfig.host)&&(g.credentials="include"),IA.fetch()(await NA(n,n.config.apiHost,t,d),g)})}async function DA(n,e,t){n._canInitEmulator=!1;const s={...LV,...e};try{const o=new zV(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Bh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bh(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Bh(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Bh(n,"user-disabled",c);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw CA(n,_,g);$r(n,_)}}catch(o){if(o instanceof Xr)throw o;$r(n,"network-request-failed",{message:String(o)})}}async function mc(n,e,t,s,o={}){const l=await ta(n,e,t,s,o);return"mfaPendingCredential"in l&&$r(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function NA(n,e,t,s){const o=`${e}${t}?${s}`,l=n,c=l.config.emulator?Ty(n.config,o):`${n.config.apiScheme}://${o}`;return kV.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function jV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),UV.get())})}}function Bh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=di(n,e,s);return o.customData._tokenResponse=t,o}function $w(n){return n!==void 0&&n.enterprise!==void 0}class BV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FV(n,e){return ta(n,"GET","/v2/recaptchaConfig",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(n,e){return ta(n,"POST","/v1/accounts:delete",e)}async function Nf(n,e){return ta(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qV(n,e=!1){const t=_n(n),s=await t.getIdToken(e),o=wy(s);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:ju(xp(o.auth_time)),issuedAtTime:ju(xp(o.iat)),expirationTime:ju(xp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function xp(n){return Number(n)*1e3}function wy(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const o=pS(t);return o?JSON.parse(o):(Jh("Failed to decode base64 JWT payload"),null)}catch(o){return Jh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ww(n){const e=wy(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Xr&&GV(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function GV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(n){const e=n.auth,t=await n.getIdToken(),s=await tc(n,Nf(e,{idToken:t}));xe(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?OA(o.providerUserInfo):[],c=QV(n.providerData,l),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!c?.length,g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function YV(n){const e=_n(n);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QV(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function OA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(n,e){const t=await DA(n,{},async()=>{const s=oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await NA(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return n.emulatorConfig&&ul(n.emulatorConfig.host)&&(m.credentials="include"),IA.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function WV(n,e){return ta(n,"POST","/v2/accounts:revokeToken",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Ww(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await $V(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new Xo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new KV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await tc(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qV(this,e)}reload(){return YV(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Of(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rr(this.auth.app))return Promise.reject(Ki(this.auth));const e=await this.getIdToken();return await tc(this,HV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:D,providerData:j,stsTokenManager:W}=t;xe(w&&W,e,"internal-error");const U=Xo.fromJSON(this.name,W);xe(typeof w=="string",e,"internal-error"),Ds(s,e.name),Ds(o,e.name),xe(typeof T=="boolean",e,"internal-error"),xe(typeof D=="boolean",e,"internal-error"),Ds(l,e.name),Ds(c,e.name),Ds(d,e.name),Ds(m,e.name),Ds(g,e.name),Ds(_,e.name);const Y=new Yr({uid:w,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(Y.providerData=j.map(ue=>({...ue}))),m&&(Y._redirectEventId=m),Y}static async _fromIdTokenResponse(e,t,s=!1){const o=new Xo;o.updateFromServerResponse(t);const l=new Yr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Of(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?OA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Xo;d.updateFromIdToken(s);const m=new Yr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new vg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;function Hi(n){Zi(n instanceof Function,"Expected a class definition");let e=Xw.get(n);return e?(Zi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Xw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MA.type="NONE";const Zw=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n,e,t){return`firebase:${n}:${e}:${t}`}class Zo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=ef(this.userKey,o.apiKey,l),this.fullPersistenceKey=ef("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nf(this.auth,{idToken:e}).catch(()=>{});return t?Yr._fromGetAccountInfoResponse(this.auth,t,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Zo(Hi(Zw),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Hi(Zw);const c=ef(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let w;if(typeof _=="string"){const T=await Nf(e,{idToken:_}).catch(()=>{});if(!T)break;w=await Yr._fromGetAccountInfoResponse(e,T,_)}else w=Yr._fromJSON(e,_);g!==l&&(d=w),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Zo(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Zo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UA(e))return"Blackberry";if(jA(e))return"Webos";if(PA(e))return"Safari";if((e.includes("chrome/")||VA(e))&&!e.includes("edge/"))return"Chrome";if(kA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function xA(n=Cn()){return/firefox\//i.test(n)}function PA(n=Cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VA(n=Cn()){return/crios\//i.test(n)}function LA(n=Cn()){return/iemobile/i.test(n)}function kA(n=Cn()){return/android/i.test(n)}function UA(n=Cn()){return/blackberry/i.test(n)}function jA(n=Cn()){return/webos/i.test(n)}function Sy(n=Cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XV(n=Cn()){return Sy(n)&&!!window.navigator?.standalone}function ZV(){return AN()&&document.documentMode===10}function zA(n=Cn()){return Sy(n)||kA(n)||jA(n)||UA(n)||/windows phone/i.test(n)||LA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n,e=[]){let t;switch(n){case"Browser":t=Jw(Cn());break;case"Worker":t=`${Jw(Cn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(n,e={}){return ta(n,"GET","/v2/passwordPolicy",ea(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=6;class nL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??tL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new JV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nf(this,{idToken:e}),s=await Yr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rr(this.app))return Promise.reject(Ki(this));const t=e?_n(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rr(this.app)?Promise.reject(Ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rr(this.app)?Promise.reject(Ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eL(this),t=new nL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await WV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hi(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function no(n){return _n(n)}class e0{constructor(e){this.auth=e,this.observer=null,this.addObserver=MN(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iL(n){cd=n}function FA(n){return cd.loadJS(n)}function sL(){return cd.recaptchaEnterpriseScript}function aL(){return cd.gapiScript}function oL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lL{constructor(){this.enterprise=new uL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const cL="recaptcha-enterprise",HA="NO_RECAPTCHA";class hL{constructor(e){this.type=cL,this.auth=no(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{FV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new BV(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,c,d){const m=window.grecaptcha;$w(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(HA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lL().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&$w(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=sL();m.length!==0&&(m+=d),FA(m).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function t0(n,e,t,s=!1,o=!1){const l=new hL(n);let c;if(o)c=HA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Eg(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await t0(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await t0(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(n,e){const t=Ja(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(qs(l,e??{}))return o;$r(o,"already-initialized")}return t.initialize({options:e})}function dL(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function mL(n,e,t){const s=no(n);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=qA(e),{host:c,port:d}=pL(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(qs(g,s.config.emulator)&&qs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,ul(c)?(vS(`${l}//${c}${m}`),ES("Auth",!0)):gL()}function qA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pL(n){const e=qA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:n0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:n0(c)}}}function n0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,t){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function yL(n,e){return ta(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(n,e){return mc(n,"POST","/v1/accounts:signInWithPassword",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(n,e){return mc(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,e))}async function EL(n,e){return mc(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends by{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new nc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eg(e,t,"signInWithPassword",_L);case"emailLink":return vL(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eg(e,s,"signUpPassword",yL);case"emailLink":return EL(e,{idToken:t,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return mc(n,"POST","/v1/accounts:signInWithIdp",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="http://localhost";class $a extends by{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new $a(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Jo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:TL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SL(n){const e=Ru(Cu(n)).link,t=e?Ru(Cu(e)).deep_link_id:null,s=Ru(Cu(n)).deep_link_id;return(s?Ru(Cu(s)).link:null)||s||t||e||n}class Ay{constructor(e){const t=Ru(Cu(e)),s=t.apiKey??null,o=t.oobCode??null,l=wL(t.mode??null);xe(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=SL(e);try{return new Ay(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ay.parseLink(t);return xe(s,"argument-error"),nc._fromEmailAndCode(e,s.code,s.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends GA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends pc{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $a._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ps.credential(t,s)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends pc{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends pc{constructor(){super("twitter.com")}static credential(e,t){return $a._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ls.credential(t,s)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(n,e){return mc(n,"POST","/v1/accounts:signUp",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Yr._fromIdTokenResponse(e,s,o),c=r0(s);return new Wa({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=r0(s);return new Wa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function r0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Xr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Mf(e,t,s,o)}}function KA(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(n,l,e,s):l})}async function AL(n,e,t=!1){const s=await tc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wa._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(n,e,t=!1){const{auth:s}=n;if(Rr(s.app))return Promise.reject(Ki(s));const o="reauthenticate";try{const l=await tc(n,KA(s,o,e,n),t);xe(l.idToken,s,"internal-error");const c=wy(l.idToken);xe(c,s,"internal-error");const{sub:d}=c;return xe(n.uid===d,s,"user-mismatch"),Wa._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&$r(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(n,e,t=!1){if(Rr(n.app))return Promise.reject(Ki(n));const s="signIn",o=await KA(n,s,e),l=await Wa._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function CL(n,e){return YA(no(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n){const e=no(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IL(n,e,t){if(Rr(n.app))return Promise.reject(Ki(n));const s=no(n),c=await Eg(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bL).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&QA(n),m}),d=await Wa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function DL(n,e,t){return Rr(n.app)?Promise.reject(Ki(n)):CL(_n(n),pl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QA(n),s})}function NL(n,e,t,s){return _n(n).onIdTokenChanged(e,t,s)}function OL(n,e,t){return _n(n).beforeAuthStateChanged(e,t)}function ML(n,e,t,s){return _n(n).onAuthStateChanged(e,t,s)}const xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xf,"1"),this.storage.removeItem(xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=1e3,PL=10;class WA extends $A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);ZV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,PL):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},xL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WA.type="LOCAL";const VL=WA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends $A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}XA.type="SESSION";const ZA=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new hd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await LL(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Ry("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(T.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function UL(n){mi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function jL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zL(){return navigator?.serviceWorker?.controller||null}function BL(){return JA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firebaseLocalStorageDb",FL=1,Pf="firebaseLocalStorage",tR="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fd(n,e){return n.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function HL(){const n=indexedDB.deleteDatabase(eR);return new gc(n).toPromise()}function Tg(){const n=indexedDB.open(eR,FL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Pf,{keyPath:tR})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Pf)?e(s):(s.close(),await HL(),e(await Tg()))})})}async function i0(n,e,t){const s=fd(n,!0).put({[tR]:e,value:t});return new gc(s).toPromise()}async function qL(n,e){const t=fd(n,!1).get(e),s=await new gc(t).toPromise();return s===void 0?null:s.value}function s0(n,e){const t=fd(n,!0).delete(e);return new gc(t).toPromise()}const GL=800,KL=3;class nR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KL)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(BL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jL(),!this.activeServiceWorker)return;this.sender=new kL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await i0(e,xf,"1"),await s0(e,xf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>i0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>qL(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>s0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=fd(o,!1).getAll();return new gc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nR.type="LOCAL";const YL=nR;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n,e){return e?Hi(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends by{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $L(n){return YA(n.auth,new Cy(n),n.bypassAuthState)}function WL(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),RL(t,new Cy(n),n.bypassAuthState)}async function XL(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),AL(t,new Cy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $L;case"linkViaPopup":case"linkViaRedirect":return XL;case"reauthViaPopup":case"reauthViaRedirect":return WL;default:$r(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new dc(2e3,1e4);class Qo extends rR{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=Ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZL.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="pendingRedirect",tf=new Map;class e4 extends rR{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=tf.get(this.auth._key());if(!e){try{const s=await t4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t4(n,e){const t=i4(e),s=r4(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function n4(n,e){tf.set(n._key(),e)}function r4(n){return Hi(n._redirectPersistence)}function i4(n){return ef(JL,n.config.apiKey,n.name)}async function s4(n,e,t=!1){if(Rr(n.app))return Promise.reject(Ki(n));const s=no(n),o=QL(s,e),c=await new e4(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=600*1e3;class o4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!iR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(di(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a4&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function iR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function l4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(n,e={}){return ta(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h4=/^https?/;async function f4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await u4(n);for(const t of e)try{if(d4(t))return}catch{}$r(n,"unauthorized-domain")}function d4(n){const e=_g(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!h4.test(t))return!1;if(c4.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new dc(3e4,6e4);function o0(){const n=mi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function p4(n){return new Promise((e,t)=>{function s(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),t(di(n,"network-request-failed"))},timeout:m4.get()})}if(mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mi().gapi?.load)s();else{const o=oL("iframefcb");return mi()[o]=()=>{gapi.load?s():t(di(n,"network-request-failed"))},FA(`${aL()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw nf=null,e})}let nf=null;function g4(n){return nf=nf||p4(n),nf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new dc(5e3,15e3),_4="__/auth/iframe",v4="emulator/auth/iframe",E4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w4(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ty(e,v4):`https://${n.config.authDomain}/${_4}`,s={apiKey:e.apiKey,appName:n.name,v:cl},o=T4.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${oc(s).slice(1)}`}async function S4(n){const e=await g4(n),t=mi().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:w4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=di(n,"network-request-failed"),d=mi().setTimeout(()=>{l(c)},y4.get());function m(){mi().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A4=500,R4=600,C4="_blank",I4="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D4(n,e,t,s=A4,o=R4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...b4,width:s.toString(),height:o.toString(),top:l,left:c},g=Cn().toLowerCase();t&&(d=VA(g)?C4:t),xA(g)&&(e=e||I4,m.scrollbars="yes");const _=Object.entries(m).reduce((T,[D,j])=>`${T}${D}=${j},`,"");if(XV(g)&&d!=="_self")return N4(e||"",d),new l0(null);const w=window.open(e||"",d,_);xe(w,n,"popup-blocked");try{w.focus()}catch{}return new l0(w)}function N4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="__/auth/handler",M4="emulator/auth/handler",x4=encodeURIComponent("fac");async function u0(n,e,t,s,o,l){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:cl,eventId:o};if(e instanceof GA){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",ON(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))c[_]=w}if(e instanceof pc){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${x4}=${encodeURIComponent(m)}`:"";return`${P4(n)}?${oc(d).slice(1)}${g}`}function P4({config:n}){return n.emulator?Ty(n,M4):`https://${n.authDomain}/${O4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class V4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZA,this._completeRedirectFn=s4,this._overrideRedirectResult=n4}async _openPopup(e,t,s,o){Zi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await u0(e,t,s,_g(),o);return D4(e,l,Ry())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await u0(e,t,s,_g(),o);return UL(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Zi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await S4(e),s=new o4(e);return t.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},o=>{const l=o?.[0]?.[Pp];l!==void 0&&t(!!l),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=f4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zA()||PA()||Sy()}}const L4=V4;var c0="@firebase/auth",h0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j4(n){pi(new Qr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BA(n)},g=new rL(s,o,l,m);return dL(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),pi(new Qr("auth-internal",e=>{const t=no(e.getProvider("auth").getImmediate());return(s=>new k4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(c0,h0,U4(n)),Ir(c0,h0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=300,B4=_S("authIdTokenMaxAge")||z4;let f0=null;const F4=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>B4)return;const o=t?.token;f0!==o&&(f0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function H4(n=Vg()){const e=Ja(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fL(n,{popupRedirectResolver:L4,persistence:[YL,VL,ZA]}),s=_S("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=F4(l.toString());OL(t,c,()=>c(t.currentUser)),NL(t,d=>c(d))}}const o=gS("auth");return o&&mL(t,`http://${o}`),t}function q4(){return document.getElementsByTagName("head")?.[0]??document}iL({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=di("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",q4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j4("Browser");const G4={apiKey:"AIzaSyDHOq__gt6HEkEkCDfxquDCpSheirR5qEA",authDomain:"bingelog-e89f5.firebaseapp.com",projectId:"bingelog-e89f5",storageBucket:"bingelog-e89f5.firebasestorage.app",messagingSenderId:"1027526846013",appId:"1:1027526846013:web:ac40efa1ca0b6c4e50ec54",measurementId:"G-N05RJMX3YG"},Iy=CS(G4);uM(Iy);const Ji=pV(Iy),Dy=H4(Iy),K4="_mainWrapper_9jvga_1",Y4={mainWrapper:K4};function Q4(){return C.jsxs("main",{className:Y4.mainWrapper,children:[C.jsx("h1",{children:"What's BingeLog?"}),C.jsx("p",{children:"Netflix. Max. Hulu. Disney+. Crunchyroll. The age of streaming is a mishmash of different sources of entertainment with monthly new releases. Do you have the time to watch everything? Can you even keep track of it all? Welcome to BingeLog. Toss all your the shows and movies you still need to watch or catch up on into a list. Keep track of each and every episode and share with friends live updates so they dont spoil what happens two episodes from now in that big final episode of the season. Be as detailed as you want. Track entire characters and their arcs. Settings. Plot points. Make notes for each episode."}),C.jsx(zi,{to:"/about",children:C.jsx("h2",{children:"Click here to learn more"})}),C.jsx("br",{})]})}function un({children:n,...e}){return C.jsx(C.Fragment,{children:C.jsx("button",{...e,children:n})})}const $4="_curWatchingWrapper_qlfa3_1",W4="_watchingList_qlfa3_19",d0={curWatchingWrapper:$4,watchingList:W4};function X4(){const n=st(e=>e.shows.currentlyBinging);return console.log(n),C.jsx(C.Fragment,{children:C.jsxs("main",{className:d0.curWatchingWrapper,children:[C.jsx("h2",{children:"Currently Binging:"}),C.jsx("div",{className:d0.watchingList,children:n.map(e=>C.jsx("p",{children:e.show},e.id))})]})})}const Z4=F.createContext({userAccount:{id:void 0,email:void 0,userName:void 0,password:void 0,myShows:[],friendList:[]},bingeFeed:[{userName:void 0,currBinge:[],recentlyWatchedEp:{epName:void 0,showName:void 0},recentlyFinishedShow:void 0}],addFriend:()=>{},isCreatingAccount:!1,createNewUser:async()=>{},startCreatingAccount:()=>{},stopCreatingAccount:()=>{},isLoggingIn:!1,isLoggedIn:!1,startLoggingIn:()=>{},stopLoggingIn:()=>{},verifyLogin:()=>{},logOut:()=>{}});F.createContext({bio:[],editingBio:[!1],updateBio:()=>{},editBio:()=>{},saveBio:()=>{},bioAvatar:[],uploadAvatar:()=>{},myShows:[],saveShow:()=>{},displayShows:()=>{},currentlyBinging:[],binging:()=>{},bingingChecked:[],areNotesOpen:[],openNotes:()=>{},isEditingEpNotes:[],editEpNotes:()=>{},updateEpNotes:()=>{},saveNotes:()=>{},epNotes:[],isEditingCharNotes:[],editCharNotes:()=>{},updateCharNotes:()=>{},saveCharNotes:()=>{},characterNotes:[]});function J4(){const n=fr();function e(o){n(Fu.updateBio(o))}function t(){n(Fu.saveBio())}const s=st(o=>o.profile.bio);return C.jsxs(C.Fragment,{children:[C.jsx("label",{children:"Upload Avatar"}),C.jsx("input",{type:"file",accept:"image/*"}),C.jsxs("div",{children:[C.jsx("textarea",{value:s,onChange:o=>e(o.target.value)}),C.jsx(un,{onClick:t,children:"Save Bio"})]})]})}const ek="_mainWrapper_cfe5a_1",tk="_header_cfe5a_15",nk="_editBttn_cfe5a_27",rk="_totalBinge_cfe5a_37",ik="_bioBox_cfe5a_57",Fo={mainWrapper:ek,header:tk,editBttn:nk,totalBinge:rk,bioBox:ik};function sk({id:n}){const e=fr();function t(){e(Fu.editBio())}const s=st(m=>m.profile.bio),o=st(m=>m.auth.user.userName);st(m=>m.auth.user.id);const l=st(m=>m.profile.isEditingBio),c=st(m=>m.shows.currentlyBinging),d=st(m=>m.shows.finishedShows);return C.jsx(C.Fragment,{children:C.jsxs("main",{className:Fo.mainWrapper,children:[C.jsxs("div",{className:Fo.header,children:[C.jsx(un,{className:Fo.editBttn,onClick:t,children:"Edit Bio"}),C.jsx(un,{className:Fo.editBttn,children:" Add Friend"}),C.jsx("h3",{children:o}),C.jsx("h3",{children:"Binging since: 2025"}),C.jsx(zi,{to:"/friendsList",children:C.jsx("h2",{children:"Friends List"})}),l?C.jsx(J4,{}):C.jsx("div",{className:Fo.bioBox,children:s}),C.jsxs("div",{className:Fo.totalBinge,children:[C.jsxs("h4",{children:["Shows Finished: ",d.length," "]}),C.jsxs("h4",{children:["Currently Binging: ",c.length," shows"]})]})]}),C.jsx("a",{href:"http://localhost:5173/userPage/${userId}",to:"_blank",children:C.jsx("h4",{children:"Share Profile Link"})})]})})}const ak="_mainWrapper_9mvwk_1",ok="_menuBttns_9mvwk_19",lk="_mainContent_9mvwk_41",Vp={mainWrapper:ak,menuBttns:ok,mainContent:lk};function el({label:n,id:e,attribute:t,...s}){return C.jsxs(C.Fragment,{children:[C.jsx("label",{htmlFor:t,children:n}),C.jsx("input",{id:e,...s})]})}const uk="_showNotesWrapper_4jif2_1",ck="_saveNotesBttn_4jif2_45",hk="_noteBttnsDiv_4jif2_61",fk="_editBttn_4jif2_75",dk="_viewNotesBttn_4jif2_89",mk="_closeNotesBttn_4jif2_105",pk="_showNotes_4jif2_1",Va={showNotesWrapper:uk,saveNotesBttn:ck,noteBttnsDiv:hk,editBttn:fk,viewNotesBttn:dk,closeNotesBttn:mk,showNotes:pk};function gk({epTitle:n,showTitle:e}){const t=fr(),s=st(P=>P.notes.epNotes),o=st(P=>P.notes.charNotes),l=st(P=>P.auth.user.uid),c=st(P=>P.shows.watchedEps),[d,m]=F.useState({}),[g,_]=F.useState({}),[w,T]=F.useState(),[D,j]=F.useState();function W(P){T(P)}function U(P,N){m(A=>({...A,[N]:P}))}function Y(P,N){_(A=>({...A,[N]:P}))}async function ue(P,N){const A=c.some(V=>V.epName===P&&V.showName===N);let R=null;A?R=c.filter(V=>!(V.epName===P&&V.showName===N)):(R=[...c,{epName:P,showName:N}],alert(`Watched ${P}!`));try{const V=Xi(Ji,"Users",l);await ec(V,{watchedEps:R}),t(Bi.updateWatchedEps(R))}catch(V){console.error(V)}}async function ee(P){const N={...s,[P]:d[P]??s[P]},A={...o,[P]:g[P]??o[P]};try{const R=Xi(Ji,"Users",l);await ec(R,{epNotes:N,charNotes:A}),t(uf.updateEpNotes(N)),t(uf.updateCharNotes(A))}catch(R){console.error(R)}T()}function he(P){j(P)}function oe(){j()}return F.useEffect(()=>{const P=JSON.parse(localStorage.getItem("EpNotes: "+n));P&&U(P,n)},[n]),C.jsxs("main",{className:Va.showNotesWrapper,children:[C.jsxs("div",{className:Va.noteBttnsDiv,children:[w===n?C.jsx(un,{className:Va.saveNotesBttn,onClick:()=>ee(n),children:"Save Notes"}):C.jsx(un,{className:Va.editBttn,onClick:()=>W(n),children:"Edit Notes"}),w!==n&&D===n?C.jsx(un,{className:Va.closeNotesBttn,onClick:()=>oe(),children:"Close Notes"}):C.jsx(un,{className:Va.viewNotesBttn,onClick:()=>he(n),children:"View Notes"}),C.jsx(el,{label:"Watched",type:"checkbox",value:n,checked:c.some(P=>P.epName===n&&P.showName===e),onChange:()=>ue(n,e)})]}),w===n&&C.jsxs("div",{children:[C.jsx("p",{children:"Episode Notes"}),C.jsx("textarea",{value:d[n]??s[n],onChange:P=>U(P.target.value,n)}),C.jsx("p",{children:"Character Notes"}),C.jsx("textarea",{value:g[n]??o[n],onChange:P=>Y(P.target.value,n)})]}),D===n&&C.jsxs("div",{className:Va.showNotes,children:[C.jsx("p",{children:"Episode Notes "}),s[n],C.jsx("hr",{}),C.jsx("p",{children:"CharacterNotes"}),o[n]]})]})}const yk="_epWrapper_9zql4_1",_k="_epList_9zql4_63",vk="_singleEp_9zql4_87",Fh={epWrapper:yk,epList:_k,singleEp:vk};function Ek({seasonTitle:n,show:e}){const t=e.seasons.find(s=>s.title===n);return C.jsxs("main",{className:Fh.epWrapper,children:[C.jsx("div",{children:C.jsx("p",{className:Fh.epList,children:"Episodes List"})}),t&&C.jsx("div",{children:t.episodes?.map(s=>C.jsxs("div",{className:Fh.singleEp,id:s.title,children:[C.jsxs("header",{children:[C.jsx("h3",{children:s.title}),C.jsx("div",{className:Fh.noteBttnsDiv,children:C.jsx(gk,{show:e,epTitle:s.title,showTitle:e.title})})]}),C.jsx("br",{})]},s.title))},t.title)]})}const Tk="_seasonsWrapper_u2jy9_1",wk="_seasonsTitle_u2jy9_15",m0={seasonsWrapper:Tk,seasonsTitle:wk};function Sk({show:n}){const[e,t]=F.useState("");function s(o){t(o),e===o&&t("")}return C.jsxs("main",{className:m0.seasonsWrapper,children:[C.jsx("p",{className:m0.seasonsTitle,children:"Seasons List"}),n&&C.jsxs("div",{children:[n.seasons?.map(o=>C.jsx("p",{onClick:()=>s(o.title),children:o.title},o.title)),e&&C.jsx(Ek,{seasonTitle:e,show:n})]},n.imdbId)]})}const bk="_showWrapper_glu6g_1",Ak="_showTitle_glu6g_19",Rk="_showStatus_glu6g_47",Lp={showWrapper:bk,showTitle:Ak,showStatus:Rk},Ck={};function Ny({children:n,open:e,handleClose:t}){const s=F.useRef();return F.useEffect(()=>{const o=s.current;return e&&o.showModal(),()=>{o.open&&o.close()}},[e]),fS.createPortal(C.jsxs("dialog",{onClose:t,ref:s,className:Ck.dialog,children:[" ",n," "]}),document.getElementById("modal"))}function Ik({show:n}){const e=st(s=>s.shows.isReviewing),t=st(s=>s.shows.isReviewing);return C.jsx(C.Fragment,{children:C.jsx(Ny,{open:e,onClose:t,children:C.jsx("textarea",{defaultValue:n.title})})})}function p0({id:n}){const e=fr(),[t,s]=F.useState(""),o=st(T=>T.shows.myShows),l=st(T=>T.shows.currentlyBinging),c=st(T=>T.shows.finishedShows),d=st(T=>T.auth.user.uid);function m(T){s(T),t===T&&s("")}async function g(T,D){const j=c.some(U=>U.id===D);let W;j?W=c.filter(U=>U.id!==D):(W=[...c,{show:T,id:D}],alert(`Finished ${T}!`));try{const U=Xi(Ji,"Users",d);await ec(U,{finishedShows:W}),e(Bi.updateFinishedShows(W))}catch(U){console.log(U)}}async function _(T,D){const j=l.some(U=>U.id===D);let W;j?W=l.filter(U=>U.id!==D):W=[...l,{show:T,id:D}];try{const U=Xi(Ji,"Users",d);await ec(U,{currentlyBinging:W}),e(Bi.updateBinging(W))}catch(U){console.error(U)}}function w(){e(Bi.startReviewing())}return C.jsxs("main",{...n,className:Lp.showWrapper,children:[C.jsx("h2",{children:"Show Sorting Options "}),o.map(T=>C.jsxs("div",{className:Lp.showTitle,children:[C.jsx("p",{onClick:()=>m(T.imdbId),children:T.title}),C.jsxs("div",{className:Lp.showStatus,children:[C.jsx(un,{onClick:()=>w(),children:"Post Review"}),C.jsx(Ik,{show:T}),C.jsxs("label",{children:[" Finished",C.jsx("input",{type:"checkbox",value:T.imdbId,checked:c.some(D=>D.id===T.imdbId),onChange:()=>g(T.title,T.imdbId)})]})," ||",C.jsxs("label",{children:[" Currently Binging",C.jsx("input",{type:"checkbox",value:T.imdbId,checked:l.some(D=>D.id===T.imdbId),onChange:()=>_(T.title,T.imdbId)})]})]}),t===T.imdbId&&C.jsx(Sk,{show:T})]},T.imdbId))]})}function Dk(){return C.jsx(C.Fragment,{children:C.jsxs("main",{children:[C.jsx("h1",{children:"Reviews"}),C.jsx("p",{children:"Walking Dead is great!"})]})})}function Nk(){const[n,e]=F.useState(C.jsx(p0,{})),s=iS().id;if(!st(m=>m.auth.isLoggedIn))return C.jsx(AD,{to:"/",replace:!0});function l(){e(C.jsx(p0,{userId:s}))}function c(){e(C.jsx(Dk,{userId:s}))}function d(){e(C.jsx(X4,{userId:s}))}return C.jsx(C.Fragment,{children:C.jsxs("main",{className:Vp.mainWrapper,id:s,children:[C.jsx(sk,{id:s}),C.jsxs("div",{className:Vp.menuBttns,children:[C.jsx(un,{onClick:l,children:"My Shows"})," |",C.jsx(un,{onClick:c,children:"My Reviews"})," |",C.jsx(un,{onClick:d,children:"Currently Watching"})]}),C.jsx("div",{className:Vp.mainContent,children:n})]})})}const Ok="_showWrapper_ok71v_1",Mk="_showInfo_ok71v_35",xk="_showDetails_ok71v_57",Pk="_genres_ok71v_77",Vk="_seasonInfo_ok71v_89",Su={showWrapper:Ok,showInfo:Mk,showDetails:xk,genres:Pk,seasonInfo:Vk};function Lk({showDetails:n}){console.log(n);const e=fr(),t=st(c=>c.shows.myShows),s=st(c=>c.auth.user.uid);async function o(c){const d={imdbId:c.imdbId,title:c.title,seasons:c.seasons?.map(_=>({title:_.title,episodes:_.episodes?.map(w=>({title:w.title}))}))},m=[...t,d];if(!s){console.error("No user logged in!");return}const g=Xi(Ji,"Users",s);await ec(g,{myShows:m}),e(Bi.updateMyShows(m))}function l(c){o(c)}return console.log(n),C.jsx("main",{className:Su.showWrapper,children:n&&C.jsxs("div",{className:Su.showInfo,children:[C.jsxs("header",{children:[C.jsx("h2",{children:n.title}),C.jsx(un,{onClick:()=>l(n),children:"Save Show"})]}),C.jsxs("div",{className:Su.showDetails,children:[C.jsxs("div",{className:Su.genres,children:[C.jsx("p",{children:n.genres[0].name}),"|",C.jsx("p",{children:n?.genres[1]?.name}),"|",C.jsx("p",{children:n?.genres[2]?.name})]}),C.jsxs("div",{className:Su.seasonInfo,children:[C.jsxs("p",{children:[n?.seasonCount," Seasons"]})," -",C.jsxs("p",{children:[n.episodeCount," Episodes"]})]})]}),C.jsx("p",{children:n.overview}),C.jsx("img",{src:n.imageSet.verticalPoster.w240})]},n.imdbId)})}const kk="_mainDropdownWrapper_15h6a_1",Uk={mainDropdownWrapper:kk};function jk({searchResults:n,query:e}){const[t,s]=F.useState(null);function o(l){s(l)}return console.log(n),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:Uk.mainDropdownWrapper,children:C.jsx("div",{children:n.filter(l=>l.title.toLowerCase().includes(e.toLowerCase())).map(l=>C.jsx("p",{onClick:()=>o(l),children:l.title},l.imdbId))})}),C.jsx("div",{children:t&&C.jsx(Lk,{showDetails:t})})]})}const zk="_mainWrapper_vwg4t_1",Bk={mainWrapper:zk};function Fk(){const[n,e]=F.useState(""),[t,s]=F.useState(null);return F.useEffect(()=>{if(!n)return;const o=setTimeout(()=>{async function l(c){try{const d=`https://streaming-availability.p.rapidapi.com/shows/search/title?title=${c}&country=us&series_granularity=episode&output_language=en`,_=await(await fetch(d,{method:"GET",headers:{"x-rapidapi-key":"a89fb87d38msh09f056f5c014528p1a7f90jsn35606eacd94f","x-rapidapi-host":"streaming-availability.p.rapidapi.com"}})).json();s(_),console.log(_)}catch(d){console.error(d)}}l(n)},500);return()=>clearTimeout(o)},[n]),C.jsxs("div",{className:Bk.mainWrapper,children:[C.jsx("input",{type:"search",placeholder:"Seach a show",value:n,onChange:o=>e(o.target.value)}),t&&C.jsx(jk,{searchResults:t,query:n})]})}const Hk="_mainWrapper_1yzt3_1",qk={mainWrapper:Hk};function Gk(){return C.jsx(C.Fragment,{children:C.jsx("main",{className:qk.mainWrapper,children:C.jsxs("header",{children:[C.jsx("h1",{children:"Shows List Page"}),C.jsx(Fk,{})]})})})}const Kk="_mainWrapper_qoxgh_1",Yk="_header_qoxgh_23",Qk="_actionBar_qoxgh_43",kp={mainWrapper:Kk,header:Yk,actionBar:Qk};function $k({friend:n,key:e}){return C.jsxs("main",{className:kp.mainWrapper,children:[C.jsxs("article",{children:[C.jsx("header",{className:kp.header,children:C.jsx("p",{children:n?.userName})}),C.jsxs("div",{children:[C.jsxs("p",{children:["Currently Binging: ","",n.currentlyBinging?.length>0?n.currentlyBinging.map(t=>t.show).join(", "):"Friend is not bining anything"]}),C.jsxs("p",{children:["Recently Watched: ","",n.watchedEps?.length>0?`${n.watchedEps[n.watchedEps.length-1].epName} -
                      ${n.watchedEps[n.watchedEps.length-1].showName}`:"Friend has not recently watched anything"]}),C.jsxs("p",{children:["Recently Finished: ","",n.finishedShows?.length>0?n.finishedShows[n.finishedShows.length-1].show:""]})]})]}),C.jsx("div",{className:kp.actionBar,children:C.jsx("p",{children:"Action Bar"})})]},e)}const Wk="_mainWrapper_7r4cv_1",Xk={mainWrapper:Wk};function Zk(){fr();const n=st(s=>s.friends.friendsList),[e,t]=F.useState([]);return F.useEffect(()=>{async function s(){try{const o=Xi(Ji,"Users","users"),l=await vy(o);t(l.data())}catch(o){console.error("Can't find global users",o)}}s()},[]),console.log(e),C.jsxs("main",{className:Xk.mainWrapper,children:[C.jsx("h1",{children:"BingeLog Feed"}),n?.map(s=>{const o=e.find(l=>l.id===s);return o?C.jsx($k,{friend:o},o.id):null})]})}const Jk="_mainWrapper_1q5s2_1",eU={mainWrapper:Jk},tU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAAAxCAYAAABQzoWlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAyqSURBVHhe7Z09axtLF8fzVQT+AoYUT3sFaQRuAreIIEUwT/EgXATj4iLSBPEUF+EiiBRGpDDoFgalCMhFwG4MSmFQCoNcGOQihQoXW7jYwsW5Z1YraXfmPzuzaynROufAD8xodnZ3Xv47c+bFz9hIEAThiQEDBUEQygwMFARBKDMwUBAEoczAQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUINvUODqj0dWYxpdn1N3bBnEEYc08b1D3fERjroej8y41noM4AgwUDCrUvgwpbSGNj6og7hNhq0q7/+9S77i3oPPXS6pugbir4nmN6q/rKWrScJdstWlkVMMxdV+AuCulQtU/0+VS/7NKFRh3I4CBgkGXxnE9Stl1F8QtOxVqHI8peIjfUbdwRB143Qr4ZOby+BOI97sC8kfZ+vNon86C+GZzC85oH8bdCGCght6oH9NTqVHvJk5mbqUQB4uwXT01YavQ/rlegzX73lnfl/oJCFv3On7wud2xAPj0ct+ekZHzetuwCdtRIs5a+C2EjY2/2u0CQ5LK4YhlUbNSCBsaigZ0dlABcUvMmwFN47ez2eiD7zs3aHAbUnif4HZADRg35ikKG1twvu/+GPgIGxqK+grno1iPsDW+TNL1435Cgz0cNycwUAP3VrwKK8lWi4b38cVJK81w7ulPHqDeWngzoNZenep7Lepf9KkJrsMUaAxPVNiiUc6nGoy/wEfYFL9k8mA9wmbWN+4svMVxcwIDNSzDMP62D96g+Jj9r2ajiaw0wvb0MRrlw4g6hXsDImxpc/TwfYXtl/BbCRvbbZ9q8BqNnT5N4ksM8y28aMasSZ3FDB33InZsvSYwi/O6RtswbpJtqqWuqdPLP2aVsfLHy1R4/bXfDGF03V+deGaxG/V+1jfTN3vvxnw286hFDc/nXFnlXcxstmlopDekdioPtTJxCNv2Tp2aH+JZ2g/NjPJ3oJ6Re6DdRF2al/NjsQsbm5rB3MHX+QlbwdnJrSq9XLyvqoPpOqHyNTtNR91wpJ9m2cba30xhG/6dfpaCbQUGamQIG9v4k2sioZpd2JnCxgV50KPRD8Mzt7T7KY0+t6ieysgKdb7Hvy8spOG7ZByTyvuh5gMMaXQ4q/D5vi4Vqh8OaHwXRwUW/hhRb1XD2ee71DnNmMlkC64tw+ePo4WPA9nS/6HwmBG1OLixcUN3XDv+pPLyjCbIjaHsbkyDvx3DvJjtPUddUmkd1h81OZJZ15XZfGJewpbv41N51aazWyPVhQVXvWgoazyzkablvjws7l1Z0n8IaXrJ6Rvvmq0nuhXsscNADceDOCYS4IRB0mzCtlWnzqW9UAwLuNG9Snx13+kixZY5o1c1Z2ynA9qNf/cWtq0G9W8y3zhhXPinTY+epJ3tdwOa+N4O3e8xQoRYsbCFgU8dcPmwatS+cE2LLC3gepL+UPrjFDa2kOu8MdJZqbBVqHEyyW53c+Ne5PhH/PfcfITtIaDA5waGkJdF2NjCby2LYIAM0Q0KW40riHdrXVqqq79LA6Mu8++2CgtmBCf/LHujXsK2xe/r334WlnsiJqZyABqDh6Xut+HC5m+2HjTXpav8dQmKjwc+wqbMKPMVCluN87FA61maj7DlsPCqS9VFWiUSNlul2v2itXI0VALCZp1oCCY0Ou9T7+SMRrYudqKXVf3H9OwlxSpJ80KrCprj3EfY4HOHExoeK1+X8hk0qPUZDRltjTKDF1wusPZyr+x6SIPjHg0uxjSFQ7jlEHvlQ9E3rZkP7JiH4vq973moF/02p7UoqwiHsIV3ExpzuYe2ITfokVePQCPn3sb4tEPN2I/TPBrCXq/bzWJiCltIwR3KW62XuSphy/BnB7cjOjvhfD8dci8Nl3dkeYUtDLjOcV2zduGSE4271IrLf2B0XjhPTpP1o0etHBOUCWCghilswfnAXE+jTyTs9GiiVcDJSd8USb3wVIM1Km7I1zaMSlv5HxciyMvFWqutDo30tBLCtwDECy+aqThOYXvB7xv/sjCbP2UHiNJNL/FVc2M+D9vdkNqGc5qHYYaTls3IB7/egD8F0rMIW3jT15Y1bFMTvT9/jNrJ9J41zSVGNge+6m3rPtH7YY7lLTNMYeN6cgDSjkz9FtfVFQmb8YFWxu/cS7ppYrb3cPvxF7aAhppPsvKqBz+40y/1RHozvN07+YGBGkjY9qkKKuHkeP4FqlD7u/Z2qpGj3p9WeKiXFX5vG6I2x7bodx7fLGhzEsG8p7mUxVUI1RM9jezJCvOeGcNkA9BgM5ffoGG5XokKCFEmBdJDwsbi0oL5ghob58HrRBxjMsjeY48w/LL5GxoUNpUG+pgpmwvtSoQN5QnfP2OZCWw/nsI2OcF+zQoqR27DeryNFDbVE+jfxgFziycS0Ozi8L3KXLewtdFs5vvk8+iAhb/JgkGr6VNDFtDoQe/JVQjmc095CJruVqc41YdIqgKm72nlNXgn7jFn9fhM4VUfomSFLyBEmRRIDzSIWV0DcZnWN71JpsukrrtCOMf1oU6aoZGv6TxyYxU2/s3qE1UfffRbbmED7YvTztzt4Wo/EUjYJtSzfYhfgOGw8S4bK2z8GxCN8Fvf6HYve1xuYTMrRkYGRlTM2Uy+y9IpDWY7VZrzExHA7CnaNuQqBPO585u3oxR83bMEIAI0nPQ1mylsWXniKhPz9/zmzFeNLGFT2Bz74V1ghq9C2ICgpPEpp7xl6fccmytsLCrOyvPAIrLwaaxD2KpmzzElbPyl/DCKw5c2Pd3l38B6N4tf5acIm+9m5iLCBoZlImxuC742Uvd04RI2rzYzt1UIm7MM26Yf2rjmtxM2xrYHNLbpFyUg9rT0FzaHF9yDOlz+buJTMMAnpQQMOPxngpe8doarEMznntLgbXoVdTY5zjpDXf3pgOoobow5LNOHWU9P2JDfc3SE8t5O3pXvbmFTeC5nyi1sdeBLTcyAA2rHpovCLKffUdgY6yJc4+XdLwwdjxlbt2DBgGn/3VPT3zK5MTwqyyGqhqsQ0HOrfLJNejwOUNH4fWZ+TBBfzfgZ8fXJhgJClAlIT00EwLgxKxY26JC/6RVan+aLn7Ax6KQO3XILG6rnbA9TY/ZS9Rzrh0Mzf5T9MmFz+dO9gYEabmFTXyDTj4UaGujd6S9sKfDgW9vYNoULxvKFQssxdMvYmeBsRPC5WTw/N+DOArW9ZxxMszdGZ2CsEVQWTqivb5t6btkJsfblHqiRZ83cMqsWNjgbjOrSjGgL0o+A7+m3RQvhLWyMc4F1AWHLFMwwoIk6neZ6mr1r4CcJGypv24gpJzBQw0fYGG1hYHq18RyQQeCFrSunH2YLAdWRLVNLjbCvGEf7R5PGQpyxPMPdiCy9R2X83FGFikk/O6dTRNzQuqvYooWs6l7WxazonqsXNjPP2MIpjS8G8eJhrYe8cmHLEA+1lzGuS4pJahGtxzFDFvIImyJzl0ARYWOK7khZ2M8SNtSj5tyIFpirRcRT7hhkLc+xAwM1PIWN2edu8GyF+jgxYZDET9hUDxAuKnWZbUHsHLR/dG5o4W4Cn0ZU+LnVcdv/0dNyY1ugnG22Rrt6YfM5uHJykqi4axA29UHz3jeZMu5d/ldPy01eYcucTCgobAq1h5h1wW1TFnVnmmsSNkuPOmWOZUwWYKCGv7C58RU2xTY1T/0rpDqdtel09IK1d7G5vgx+jUiR77kj/4fn6RSIyqsOjfRHsxn3HEcfbadXrEHYVKP96qi5yQ/KWoRNUaH6x1Hm6SdpwztdfMgvbArLZMIjhC1ifuoLqow8LB1Hp+KANI21b+sStlnvcppZLg73BQYGavwqYZtRedWi/uXUWikDdfzPgf9/zEFLP3wOVPRvRDMqf+xT72Ji92WoirWyE1Bnp/uO4Z5ENnWv0w7tZt5rHcKmyDjCKTrapvsThC0mbug2N0bk6rjsUwtsP/KlmLAxyLXwWGFLkDxPMHX2HJphN/6Xx/qETaF8m4NrXCjqeK/ueoRtc0gd9rjZ//4rjfZv5db7L+XSh2Vu1L+vS+bDry4/dThiIp9WddDkplA9aHl9NNEsKtrX+XNI1t0cy59MYKAgCGVmvrZUnWLCo4J9JNos7Pufkcuk0NBv04CBgiCUGLwUKKQwmM6WeqgJPotrJ+vAiRIBAwVBKCvw2C9Pc60qKA8wUBCE0uL4HxEWM8+8KzUwUBCE0qP+EVJnthA6wEPP8D6gycWAOk/vf+TCQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUBEEoMzBQEAShzMBAQRCEkvKM/gU6XAPgx+NWUwAAAABJRU5ErkJggg==";function nU(){return C.jsx(C.Fragment,{children:C.jsxs("footer",{className:eU.mainWrapper,children:[C.jsx("h4",{children:"Credits"}),C.jsxs("p",{children:[C.jsx("a",{href:"https://www.movieofthenight.com/about/api",children:C.jsx("img",{width:"110px",src:tU})})," | Show and Movie Data"]})]})})}function rU(){return C.jsxs(C.Fragment,{children:[C.jsx("h2",{children:"About Page"}),C.jsx(nU,{})]})}function iU(){fr();const n=st(s=>s.friends.friendsList),[e,t]=F.useState([]);return F.useEffect(()=>{async function s(){try{const o=Xi(Ji,"Users","users"),l=await vy(o);t(l.data())}catch(o){console.error("Can't find global users",o)}}s()},[]),console.log("Global Users",e),console.log("Friend List",n),C.jsxs(C.Fragment,{children:[C.jsx("h1",{children:"Friends List"}),n.map(s=>{const o=e.find(l=>l.id===s);return C.jsx("div",{children:C.jsx("p",{children:o?o.userName:"Unknown User"})},s)})]})}const sU="_showWrapper_ok71v_1",aU="_showInfo_ok71v_35",g0={showWrapper:sU,showInfo:aU};function oU({userDetails:n}){console.log(n);const e=fr(),t=st(c=>c.auth.user.id),s=st(c=>c.friends.friendsList);iS().id;async function l(c){const d=[...s,c];try{const m=await fetch(`http://localhost:3000/users/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({friendsList:d})});if(!m.ok)throw new Error("Unable to add friend.");const g=await m.json();e(k0.addFriend(g.FriendsList)),alert("Friend Added!")}catch(m){console.log(m),alert(m.message)}}return C.jsx("main",{className:g0.showWrapper,children:n&&C.jsx("div",{className:g0.showInfo,children:C.jsxs("header",{children:[C.jsx(zi,{to:`/userPage/${n.id}`,children:C.jsx("h2",{children:n.userName})}),C.jsx(un,{onClick:()=>l(n.id),children:"Save User"})]})},n.id)})}const lU="_mainDropdownWrapper_15h6a_1",uU={mainDropdownWrapper:lU};function cU({searchResults:n,query:e}){const[t,s]=F.useState(null);function o(l){s(l)}return console.log(n),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:uU.mainDropdownWrapper,children:C.jsx("div",{children:n.map(l=>C.jsx("p",{onClick:()=>o(l),children:l.userName},l.id))})}),C.jsx("div",{children:t&&C.jsx(oU,{userDetails:t})})]})}const hU="_mainWrapper_vwg4t_1",fU={mainWrapper:hU};function dU(){const[n,e]=F.useState(""),[t,s]=F.useState(null);return F.useEffect(()=>{async function o(l){if(!l)return;const c=`http://localhost:3000/users?userName=${l}`,g=await(await fetch(c,{method:"GET",headers:{"Content-Type":"application/json"}})).json();s(g),console.log("Query Data",g)}o(n)},[n]),C.jsxs("div",{className:fU.mainWrapper,children:[C.jsx("input",{type:"search",placeholder:"Seach a user",value:n,onChange:o=>e(o.target.value)}),t&&C.jsx(cU,{searchResults:t,query:n})]})}const mU="_mainWrapper_1yzt3_1",pU={mainWrapper:mU};function gU(){return C.jsx(C.Fragment,{children:C.jsx("main",{className:pU.mainWrapper,children:C.jsxs("header",{children:[C.jsx("h1",{children:"User Search"}),C.jsx(dU,{})]})})})}const yU="_mainWrapper_m6cxa_1",_U="_nav_m6cxa_77",vU="_navList_m6cxa_95",Up={mainWrapper:yU,nav:_U,navList:vU},EU="_inputWrapper_mikpn_3",Vf={inputWrapper:EU};function TU({type:n,onSubmit:e}){return F.useContext(Z4),st(t=>t.auth.user),fr(),C.jsx("form",{onSubmit:e,className:Vf.formWrapper,children:C.jsxs("div",{className:Vf.inputWrapper,children:[C.jsx(el,{label:"User Name",htmlFor:"username",id:"username",name:"username"}),C.jsx(el,{label:"Password",htmlFor:"password",id:"password",name:"password"}),C.jsx(el,{label:"Email",htmlFor:"email",id:"email",name:"email"}),C.jsx(un,{type:n,children:"Sign Up"})]})})}function wU(){const n=fr(),e=st(l=>l.auth.isCreatingAccount),t=()=>n(Gi.stopCreatingAccount());async function s(l){try{const d=(await IL(Dy,l.email,l.password)).user.uid,m=Xi(Ji,"Users",d);await DV(m,{email:l.email,userName:l.userName,bio:"",bioAvatar:null,friendsList:[],myShows:[],epNotes:[],charNotes:[],currentlyBinging:[],watchedEps:[],finishedShows:[]}),n(Gi.login({uid:d,email:l.email,userName:l.userName})),n(Gi.stopCreatingAccount())}catch(c){console.error(c)}}function o(l){l.preventDefault();const c=new FormData(l.target),d=c.get("email"),m=c.get("username"),g=c.get("password");s({email:d,userName:m,password:g})}return C.jsx(C.Fragment,{children:C.jsx(Ny,{open:e,handleClose:t,children:C.jsx(TU,{onSubmit:o,type:"submit"})})})}function SU({type:n,onSubmit:e}){return C.jsx("form",{onSubmit:e,className:Vf.formWrapper,children:C.jsxs("div",{className:Vf.inputWrapper,children:[C.jsx(el,{label:"Email",htmlFor:"email",id:"email",name:"email"}),C.jsx(el,{label:"Password",htmlFor:"password",id:"password",name:"password"}),C.jsx(un,{type:n,children:"Sign In"})]})})}function bU(){const n=fr(),e=st(o=>o.auth.isLoggingIn);function t(){n(Gi.stopLoggingIn())}async function s(o){o.preventDefault();const l=new FormData(o.target),c=l.get("email"),d=l.get("password");try{const g=(await DL(Dy,c,d)).user;n(Gi.login({uid:g.uid,email:g.email}))}catch(m){console.error("Login failed:",m)}}return C.jsx(C.Fragment,{children:C.jsx(Ny,{open:e,onClose:t,children:C.jsx(SU,{onSubmit:s,type:"submit"})})})}function AU(){const n=fr(),e=st(c=>c.auth.isLoggedIn),t=st(c=>c.auth.user?.uid);function s(){n(Gi.startLoggingIn())}function o(){n(Gi.logOut())}function l(){n(Gi.startCreatingAccount())}return C.jsx("header",{className:Up.mainWrapper,children:C.jsxs("nav",{className:Up.nav,children:[C.jsxs("ul",{className:Up.navList,children:[C.jsxs("li",{children:[C.jsx(zi,{to:"/",children:C.jsx("img",{width:"30px",src:"/BingeLog/HomeIcon.png"})}),C.jsx("br",{})]}),C.jsx("li",{children:!e&&C.jsx(un,{onClick:s,children:C.jsx("img",{width:"30px",src:"/BingeLog/LogIn.png"})})}),C.jsx("li",{children:!e&&C.jsx(un,{onClick:l,children:"Create Account"})}),C.jsx("li",{children:e&&C.jsx(zi,{to:"/bingelog",children:C.jsx("img",{width:"30px",src:"/BingeLog/BingeLog.png"})})}),C.jsx("li",{children:e&&t&&C.jsx(zi,{to:`/userPage/${t}`,children:C.jsx("img",{width:"30px",src:"/BingeLog/UserPage.png"})})}),C.jsx("li",{children:e&&C.jsx(zi,{to:"/shows",children:C.jsx("img",{width:"30px",src:"/BingeLog/TvIcon.png"})})}),C.jsx("li",{children:e&&C.jsx(zi,{to:"/userSearch",children:C.jsx("img",{width:"30px",src:"/BingeLog/UserSearchIcon.png"})})}),C.jsx("li",{children:e&&C.jsx(un,{onClick:o,children:C.jsx("img",{width:"30px",src:"/BingeLog/LogOut.png"})})})]}),C.jsx(wU,{}),C.jsx(bU,{})]})})}function RU(){return C.jsxs(C.Fragment,{children:[C.jsx("main",{children:C.jsx(RD,{})}),C.jsx(AU,{})]})}function CU(){const n=fr();st(t=>t.shows.myShows),st(t=>t.auth.isLoggedIn),F.useEffect(()=>{const t=ML(Dy,async s=>{if(s)try{const o=Xi(Ji,"Users",s?.uid),l=await vy(o);if(l.exists()){const c=l.data();n(Gi.login({uid:s.uid,userName:c.userName,email:c.email})),n(Fu.uploadAvatar(c.bioAvatar)),n(Fu.updateBio(c.bio)),n(Bi.updateMyShows(c.myShows||[])),n(Bi.updateBinging(c.currentlyBinging||[])),n(Bi.updateFinishedShows(c.finishedShows||[])),n(Bi.updateWatchedEps(c.watchedEps||[])),n(uf.updateEpNotes(c.epNotes||[])),n(uf.updateCharNotes(c.charNotes||[])),n(k0.addFriend(c.friendsList||[]))}}catch(o){console.error("Auth restore failed:",o)}});return()=>t},[n]);const e=WD([{path:"/",element:C.jsx(RU,{}),children:[{index:!0,element:C.jsx(Q4,{})},{path:"userPage/:id",element:C.jsx(Nk,{})},{path:"friendsList",element:C.jsx(iU,{})},{path:"bingelog",element:C.jsx(Zk,{})},{path:"userSearch",element:C.jsx(gU,{})},{path:"shows",element:C.jsx(Gk,{})},{path:"about",element:C.jsx(rU,{})}]}]);return C.jsx(C.Fragment,{children:C.jsx(oN,{router:e})})}z1.createRoot(document.getElementById("root")).render(C.jsx(F.StrictMode,{children:C.jsx(rC,{store:JC,children:C.jsx(CU,{})})}));
