(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Cg={exports:{}},oc={};var xw;function SP(){if(xw)return oc;xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var Dw;function bP(){return Dw||(Dw=1,Cg.exports=SP()),Cg.exports}var R=bP(),Ig={exports:{}},lc={},xg={exports:{}},Dg={};var Mw;function AP(){return Mw||(Mw=1,function(t){function e(Z,he){var pe=Z.length;Z.push(he);e:for(;0<pe;){var Me=pe-1>>>1,k=Z[Me];if(0<a(k,he))Z[Me]=he,Z[pe]=k,pe=Me;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var he=Z[0],pe=Z.pop();if(pe!==he){Z[0]=pe;e:for(var Me=0,k=Z.length,se=k>>>1;Me<se;){var ge=2*(Me+1)-1,de=Z[ge],Ee=ge+1,Ge=Z[Ee];if(0>a(de,pe))Ee<k&&0>a(Ge,de)?(Z[Me]=Ge,Z[Ee]=pe,Me=Ee):(Z[Me]=de,Z[ge]=pe,Me=ge);else if(Ee<k&&0>a(Ge,pe))Z[Me]=Ge,Z[Ee]=pe,Me=Ee;else break e}}return he}function a(Z,he){var pe=Z.sortIndex-he.sortIndex;return pe!==0?pe:Z.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,_=null,E=3,b=!1,M=!1,F=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function ie(Z){for(var he=n(p);he!==null;){if(he.callback===null)i(p);else if(he.startTime<=Z)i(p),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(p)}}function W(Z){if(F=!1,ie(Z),!M)if(n(f)!==null)M=!0,D||(D=!0,G());else{var he=n(p);he!==null&&We(W,he.startTime-Z)}}var D=!1,I=-1,A=5,x=-1;function L(){return O?!0:!(t.unstable_now()-x<A)}function z(){if(O=!1,D){var Z=t.unstable_now();x=Z;var he=!0;try{e:{M=!1,F&&(F=!1,H(I),I=-1),b=!0;var pe=E;try{t:{for(ie(Z),_=n(f);_!==null&&!(_.expirationTime>Z&&L());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,E=_.priorityLevel;var k=Me(_.expirationTime<=Z);if(Z=t.unstable_now(),typeof k=="function"){_.callback=k,ie(Z),he=!0;break t}_===n(f)&&i(f),ie(Z)}else i(f);_=n(f)}if(_!==null)he=!0;else{var se=n(p);se!==null&&We(W,se.startTime-Z),he=!1}}break e}finally{_=null,E=pe,b=!1}he=void 0}}finally{he?G():D=!1}}}var G;if(typeof U=="function")G=function(){U(z)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Oe=P.port2;P.port1.onmessage=z,G=function(){Oe.postMessage(null)}}else G=function(){j(z,0)};function We(Z,he){I=j(function(){Z(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var he=3;break;default:he=E}var pe=E;E=he;try{return Z()}finally{E=pe}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=E;E=Z;try{return he()}finally{E=pe}},t.unstable_scheduleCallback=function(Z,he,pe){var Me=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,Z){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,Z={id:y++,callback:he,priorityLevel:Z,startTime:pe,expirationTime:k,sortIndex:-1},pe>Me?(Z.sortIndex=pe,e(p,Z),n(f)===null&&Z===n(p)&&(F?(H(I),I=-1):F=!0,We(W,pe-Me))):(Z.sortIndex=k,e(f,Z),M||b||(M=!0,D||(D=!0,G()))),Z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Z){var he=E;return function(){var pe=E;E=he;try{return Z.apply(this,arguments)}finally{E=pe}}}}(Dg)),Dg}var Pw;function RP(){return Pw||(Pw=1,xg.exports=AP()),xg.exports}var Mg={exports:{}},Ke={};var Nw;function CP(){if(Nw)return Ke;Nw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,F={};function O(k,se,ge){this.props=k,this.context=se,this.refs=F,this.updater=ge||b}O.prototype.isReactComponent={},O.prototype.setState=function(k,se){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,se,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function j(){}j.prototype=O.prototype;function H(k,se,ge){this.props=k,this.context=se,this.refs=F,this.updater=ge||b}var U=H.prototype=new j;U.constructor=H,M(U,O.prototype),U.isPureReactComponent=!0;var ie=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function I(k,se,ge,de,Ee,Ge){return ge=Ge.ref,{$$typeof:t,type:k,key:se,ref:ge!==void 0?ge:null,props:Ge}}function A(k,se){return I(k.type,se,void 0,void 0,void 0,k.props)}function x(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function L(k){var se={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ge){return se[ge]})}var z=/\/+/g;function G(k,se){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):se.toString(36)}function P(){}function Oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(P,P):(k.status="pending",k.then(function(se){k.status==="pending"&&(k.status="fulfilled",k.value=se)},function(se){k.status==="pending"&&(k.status="rejected",k.reason=se)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function We(k,se,ge,de,Ee){var Ge=typeof k;(Ge==="undefined"||Ge==="boolean")&&(k=null);var xe=!1;if(k===null)xe=!0;else switch(Ge){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(k.$$typeof){case t:case e:xe=!0;break;case y:return xe=k._init,We(xe(k._payload),se,ge,de,Ee)}}if(xe)return Ee=Ee(k),xe=de===""?"."+G(k,0):de,ie(Ee)?(ge="",xe!=null&&(ge=xe.replace(z,"$&/")+"/"),We(Ee,se,ge,"",function(ii){return ii})):Ee!=null&&(x(Ee)&&(Ee=A(Ee,ge+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(z,"$&/")+"/")+xe)),se.push(Ee)),1;xe=0;var en=de===""?".":de+":";if(ie(k))for(var lt=0;lt<k.length;lt++)de=k[lt],Ge=en+G(de,lt),xe+=We(de,se,ge,Ge,Ee);else if(lt=E(k),typeof lt=="function")for(k=lt.call(k),lt=0;!(de=k.next()).done;)de=de.value,Ge=en+G(de,lt++),xe+=We(de,se,ge,Ge,Ee);else if(Ge==="object"){if(typeof k.then=="function")return We(Oe(k),se,ge,de,Ee);throw se=String(k),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Z(k,se,ge){if(k==null)return k;var de=[],Ee=0;return We(k,de,"","",function(Ge){return se.call(ge,Ge,Ee++)}),de}function he(k){if(k._status===-1){var se=k._result;se=se(),se.then(function(ge){(k._status===0||k._status===-1)&&(k._status=1,k._result=ge)},function(ge){(k._status===0||k._status===-1)&&(k._status=2,k._result=ge)}),k._status===-1&&(k._status=0,k._result=se)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Me(){}return Ke.Children={map:Z,forEach:function(k,se,ge){Z(k,function(){se.apply(this,arguments)},ge)},count:function(k){var se=0;return Z(k,function(){se++}),se},toArray:function(k){return Z(k,function(se){return se})||[]},only:function(k){if(!x(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ke.Component=O,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=H,Ke.StrictMode=i,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return W.H.useMemoCache(k)}},Ke.cache=function(k){return function(){return k.apply(null,arguments)}},Ke.cloneElement=function(k,se,ge){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var de=M({},k.props),Ee=k.key,Ge=void 0;if(se!=null)for(xe in se.ref!==void 0&&(Ge=void 0),se.key!==void 0&&(Ee=""+se.key),se)!D.call(se,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&se.ref===void 0||(de[xe]=se[xe]);var xe=arguments.length-2;if(xe===1)de.children=ge;else if(1<xe){for(var en=Array(xe),lt=0;lt<xe;lt++)en[lt]=arguments[lt+2];de.children=en}return I(k.type,Ee,void 0,void 0,Ge,de)},Ke.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ke.createElement=function(k,se,ge){var de,Ee={},Ge=null;if(se!=null)for(de in se.key!==void 0&&(Ge=""+se.key),se)D.call(se,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=se[de]);var xe=arguments.length-2;if(xe===1)Ee.children=ge;else if(1<xe){for(var en=Array(xe),lt=0;lt<xe;lt++)en[lt]=arguments[lt+2];Ee.children=en}if(k&&k.defaultProps)for(de in xe=k.defaultProps,xe)Ee[de]===void 0&&(Ee[de]=xe[de]);return I(k,Ge,void 0,void 0,null,Ee)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(k){return{$$typeof:h,render:k}},Ke.isValidElement=x,Ke.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:he}},Ke.memo=function(k,se){return{$$typeof:p,type:k,compare:se===void 0?null:se}},Ke.startTransition=function(k){var se=W.T,ge={};W.T=ge;try{var de=k(),Ee=W.S;Ee!==null&&Ee(ge,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Me,pe)}catch(Ge){pe(Ge)}finally{W.T=se}},Ke.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ke.use=function(k){return W.H.use(k)},Ke.useActionState=function(k,se,ge){return W.H.useActionState(k,se,ge)},Ke.useCallback=function(k,se){return W.H.useCallback(k,se)},Ke.useContext=function(k){return W.H.useContext(k)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(k,se){return W.H.useDeferredValue(k,se)},Ke.useEffect=function(k,se,ge){var de=W.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(k,se)},Ke.useId=function(){return W.H.useId()},Ke.useImperativeHandle=function(k,se,ge){return W.H.useImperativeHandle(k,se,ge)},Ke.useInsertionEffect=function(k,se){return W.H.useInsertionEffect(k,se)},Ke.useLayoutEffect=function(k,se){return W.H.useLayoutEffect(k,se)},Ke.useMemo=function(k,se){return W.H.useMemo(k,se)},Ke.useOptimistic=function(k,se){return W.H.useOptimistic(k,se)},Ke.useReducer=function(k,se,ge){return W.H.useReducer(k,se,ge)},Ke.useRef=function(k){return W.H.useRef(k)},Ke.useState=function(k){return W.H.useState(k)},Ke.useSyncExternalStore=function(k,se,ge){return W.H.useSyncExternalStore(k,se,ge)},Ke.useTransition=function(){return W.H.useTransition()},Ke.version="19.1.1",Ke}var Ow;function em(){return Ow||(Ow=1,Mg.exports=CP()),Mg.exports}var Pg={exports:{}},Mn={};var Vw;function IP(){if(Vw)return Mn;Vw=1;var t=em();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Mn.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,y)},Mn.flushSync=function(f){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=p,i.p=y,i.d.f()}},Mn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},Mn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Mn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:b}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:E,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},Mn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mn.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},Mn.requestFormReset=function(f){i.d.r(f)},Mn.unstable_batchedUpdates=function(f,p){return f(p)},Mn.useFormState=function(f,p,y){return u.H.useFormState(f,p,y)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.1.1",Mn}var Lw;function TR(){if(Lw)return Pg.exports;Lw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=IP(),Pg.exports}var kw;function xP(){if(kw)return lc;kw=1;var t=RP(),e=em(),n=TR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function f(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return h(m),r;if(g===c)return h(m),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var w=!1,S=m.child;S;){if(S===o){w=!0,o=m,c=g;break}if(S===c){w=!0,c=m,o=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===o){w=!0,o=g,c=m;break}if(S===c){w=!0,c=g,o=m;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),U=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Oe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case O:return"Profiler";case F:return"StrictMode";case W:return"Suspense";case D:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case U:return(r.displayName||"Context")+".Provider";case H:return(r._context.displayName||"Context")+".Consumer";case ie:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}var We=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Me=[],k=-1;function se(r){return{current:r}}function ge(r){0>k||(r.current=Me[k],Me[k]=null,k--)}function de(r,s){k++,Me[k]=r.current,r.current=s}var Ee=se(null),Ge=se(null),xe=se(null),en=se(null);function lt(r,s){switch(de(xe,s),de(Ge,r),de(Ee,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?iw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=iw(s),r=rw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(Ee),de(Ee,r)}function ii(){ge(Ee),ge(Ge),ge(xe)}function Lt(r){r.memoizedState!==null&&de(en,r);var s=Ee.current,o=rw(s,r.type);s!==o&&(de(Ge,r),de(Ee,o))}function ri(r){Ge.current===r&&(ge(Ee),ge(Ge)),en.current===r&&(ge(en),nc._currentValue=pe)}var Ur=Object.prototype.hasOwnProperty,jr=t.unstable_scheduleCallback,Kn=t.unstable_cancelCallback,su=t.unstable_shouldYield,Ia=t.unstable_requestPaint,yn=t.unstable_now,Lo=t.unstable_getCurrentPriorityLevel,zt=t.unstable_ImmediatePriority,Kt=t.unstable_UserBlockingPriority,Ki=t.unstable_NormalPriority,Wi=t.unstable_LowPriority,$i=t.unstable_IdlePriority,ko=t.log,Yi=t.unstable_setDisableYieldValue,vn=null,_t=null;function kn(r){if(typeof ko=="function"&&Yi(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(vn,r)}catch{}}var tn=Math.clz32?Math.clz32:xa,au=Math.log,si=Math.LN2;function xa(r){return r>>>=0,r===0?32:31-(au(r)/si|0)|0}var ai=256,Qi=4194304;function oi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Un(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,g=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=oi(c):(w&=S,w!==0?m=oi(w):o||(o=S&~r,o!==0&&(m=oi(o))))):(S=c&~g,S!==0?m=oi(S):w!==0?m=oi(w):o||(o=c&~r,o!==0&&(m=oi(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function li(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Br(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zr(){var r=ai;return ai<<=1,(ai&4194048)===0&&(ai=256),r}function pr(){var r=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),r}function Fr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Mt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Da(r,s,o,c,m,g){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,V=r.expirationTimes,X=r.hiddenUpdates;for(o=w&~o;0<o;){var re=31-tn(o),le=1<<re;S[re]=0,V[re]=-1;var J=X[re];if(J!==null)for(X[re]=null,re=0;re<J.length;re++){var ee=J[re];ee!==null&&(ee.lane&=-536870913)}o&=~le}c!==0&&ui(r,c,0),g!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~s))}function ui(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-tn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function ci(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-tn(o),m=1<<c;m&s|r[c]&s&&(r[c]|=s),o&=~m}}function Ma(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Pa(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function B(){var r=he.p;return r!==0?r:(r=window.event,r===void 0?32:Sw(r.type))}function $(r,s){var o=he.p;try{return he.p=r,s()}finally{he.p=o}}var te=Math.random().toString(36).slice(2),oe="__reactFiber$"+te,fe="__reactProps$"+te,_e="__reactContainer$"+te,Se="__reactEvents$"+te,ve="__reactListeners$"+te,Ce="__reactHandles$"+te,Re="__reactResources$"+te,Te="__reactMarker$"+te;function Ae(r){delete r[oe],delete r[fe],delete r[Se],delete r[ve],delete r[Ce]}function ze(r){var s=r[oe];if(s)return s;for(var o=r.parentNode;o;){if(s=o[_e]||o[oe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=lw(r);r!==null;){if(o=r[oe])return o;r=lw(r)}return s}r=o,o=r.parentNode}return null}function st(r){if(r=r[oe]||r[_e]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function St(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Ct(r){var s=r[Re];return s||(s=r[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function je(r){r[Te]=!0}var ut=new Set,jn={};function In(r,s){nn(r,s),nn(r+"Capture",s)}function nn(r,s){for(jn[r]=s,r=0;r<s.length;r++)ut.add(s[r])}var cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wn={},Ai={};function Xi(r){return Ur.call(Ai,r)?!0:Ur.call(Wn,r)?!1:cn.test(r)?Ai[r]=!0:(Wn[r]=!0,!1)}function Ri(r,s,o){if(Xi(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Ci(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function qe(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var It,Zi;function Bn(r){if(It===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);It=s&&s[1]||"",Zi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+It+r+Zi}var Et=!1;function Ji(r,s){if(!r||Et)return"";Et=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var J=ee}Reflect.construct(r,[],le)}else{try{le.call()}catch(ee){J=ee}r.call(le.prototype)}}else{try{throw Error()}catch(ee){J=ee}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var V=w.split(`
`),X=S.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===X.length)for(c=V.length-1,m=X.length-1;1<=c&&0<=m&&V[c]!==X[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==X[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==X[m]){var re=`
`+V[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=m);break}}}finally{Et=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Bn(o):""}function Uo(r){switch(r.tag){case 26:case 27:case 5:return Bn(r.type);case 16:return Bn("Lazy");case 13:return Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return Ji(r.type,!1);case 11:return Ji(r.type.render,!1);case 1:return Ji(r.type,!0);case 31:return Bn("Activity");default:return""}}function hi(r){try{var s="";do s+=Uo(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Pt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ws(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Na(r){var s=ws(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ss(r){r._valueTracker||(r._valueTracker=Na(r))}function mt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=ws(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Hr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Oa=/[\n"\\]/g;function hn(r){return r.replace(Oa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ou(r,s,o,c,m,g,w,S){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Pt(s)):r.value!==""+Pt(s)&&(r.value=""+Pt(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?uu(r,w,Pt(s)):o!=null?uu(r,w,Pt(o)):c!=null&&r.removeAttribute("value"),m==null&&g!=null&&(r.defaultChecked=!!g),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Pt(S):r.removeAttribute("name")}function lu(r,s,o,c,m,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Pt(o):"",s=s!=null?""+Pt(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function uu(r,s,o){s==="number"&&Hr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function bs(r,s,o,c){if(r=r.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=s.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Pt(o),s=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function _h(r,s,o){if(s!=null&&(s=""+Pt(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Pt(o):""}function Eh(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(We(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Pt(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Ii(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||qr.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function hu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&cu(r,m,c)}else for(var g in s)s.hasOwnProperty(g)&&cu(r,g,s[g])}function jo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function er(r){return wh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var fu=null;function du(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var As=null,zn=null;function Sh(r){var s=st(r);if(s&&(r=s.stateNode)){var o=r[fe]||null;e:switch(r=s.stateNode,s.type){case"input":if(ou(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var m=c[fe]||null;if(!m)throw Error(i(90));ou(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&mt(c)}break e;case"textarea":_h(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&bs(r,!!o.multiple,s,!1)}}}var Va=!1;function La(r,s,o){if(Va)return r(s,o);Va=!0;try{var c=r(s);return c}finally{if(Va=!1,(As!==null||zn!==null)&&(df(),As&&(s=As,r=zn,zn=As=null,Sh(s),r)))for(s=0;s<r.length;s++)Sh(r[s])}}function Rs(r,s){var o=r.stateNode;if(o===null)return null;var c=o[fe]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(Fn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Gr=!1}var xi=null,Tt=null,Bo=null;function bh(){if(Bo)return Bo;var r,s=Tt,o=s.length,c,m="value"in xi?xi.value:xi.textContent,g=m.length;for(r=0;r<o&&s[r]===m[r];r++);var w=o-r;for(c=1;c<=w&&s[o-c]===m[g-c];c++);return Bo=m.slice(r,1<c?1-c:void 0)}function ka(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ua(){return!0}function mu(){return!1}function rn(r){function s(o,c,m,g,w){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ua:mu,this.isPropagationStopped=mu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),s}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=rn(xn),Ba=y({},xn,{view:0,detail:0}),za=rn(Ba),zo,Fa,gr,Ha=y({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gr&&(gr&&r.type==="mousemove"?(zo=r.screenX-gr.screenX,Fa=r.screenY-gr.screenY):Fa=zo=0,gr=r),zo)},movementY:function(r){return"movementY"in r?r.movementY:Fa}}),qa=rn(Ha),Lm=y({},Ha,{dataTransfer:0}),Ah=rn(Lm),Ga=y({},Ba,{relatedTarget:0}),Fo=rn(Ga),Rh=y({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=rn(Rh),gu=y({},xn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ch=rn(gu),Ho=y({},xn,{data:0}),yu=rn(Ho),Ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xh[r])?!!s[r]:!1}function qo(){return Dh}var Mh=y({},Ba,{key:function(r){if(r.key){var s=Ih[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ka(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Kr[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(r){return r.type==="keypress"?ka(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ka(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Go=rn(Mh),Hn=y({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vu=rn(Hn),Ph=y({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),Is=rn(Ph),d=y({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=rn(d),T=y({},Ha,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),C=rn(T),Q=y({},xn,{newState:0,oldState:0}),ne=rn(Q),me=[9,13,27,32],Fe=Fn&&"CompositionEvent"in window,bt=null;Fn&&"documentMode"in document&&(bt=document.documentMode);var ht=Fn&&"TextEvent"in window&&!bt,Ft=Fn&&(!Fe||bt&&8<bt&&11>=bt),fi=" ",yr=!1;function tr(r,s){switch(r){case"keyup":return me.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ir=!1;function _u(r,s){switch(r){case"compositionend":return nr(s);case"keypress":return s.which!==32?null:(yr=!0,fi);case"textInput":return r=s.data,r===fi&&yr?null:r;default:return null}}function QD(r,s){if(ir)return r==="compositionend"||!Fe&&tr(r,s)?(r=bh(),Bo=Tt=xi=null,ir=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ft&&s.locale!=="ko"?null:s.data;default:return null}}var XD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yE(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!XD[r.type]:s==="textarea"}function vE(r,s,o,c){As?zn?zn.push(c):zn=[c]:As=c,s=_f(s,"onChange"),0<s.length&&(o=new ja("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Eu=null,Tu=null;function ZD(r){Z0(r,0)}function Nh(r){var s=St(r);if(mt(s))return r}function _E(r,s){if(r==="change")return s}var EE=!1;if(Fn){var km;if(Fn){var Um="oninput"in document;if(!Um){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),Um=typeof TE.oninput=="function"}km=Um}else km=!1;EE=km&&(!document.documentMode||9<document.documentMode)}function wE(){Eu&&(Eu.detachEvent("onpropertychange",SE),Tu=Eu=null)}function SE(r){if(r.propertyName==="value"&&Nh(Tu)){var s=[];vE(s,Tu,r,du(r)),La(ZD,s)}}function JD(r,s,o){r==="focusin"?(wE(),Eu=s,Tu=o,Eu.attachEvent("onpropertychange",SE)):r==="focusout"&&wE()}function eM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Nh(Tu)}function tM(r,s){if(r==="click")return Nh(s)}function nM(r,s){if(r==="input"||r==="change")return Nh(s)}function iM(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var di=typeof Object.is=="function"?Object.is:iM;function wu(r,s){if(di(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ur.call(s,m)||!di(r[m],s[m]))return!1}return!0}function bE(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function AE(r,s){var o=bE(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bE(o)}}function RE(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?RE(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function CE(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Hr(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Hr(r.document)}return s}function jm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var rM=Fn&&"documentMode"in document&&11>=document.documentMode,Ko=null,Bm=null,Su=null,zm=!1;function IE(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zm||Ko==null||Ko!==Hr(c)||(c=Ko,"selectionStart"in c&&jm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Su&&wu(Su,c)||(Su=c,c=_f(Bm,"onSelect"),0<c.length&&(s=new ja("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Ko)))}function Ka(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Wo={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Fm={},xE={};Fn&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Wa(r){if(Fm[r])return Fm[r];if(!Wo[r])return r;var s=Wo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in xE)return Fm[r]=s[o];return r}var DE=Wa("animationend"),ME=Wa("animationiteration"),PE=Wa("animationstart"),sM=Wa("transitionrun"),aM=Wa("transitionstart"),oM=Wa("transitioncancel"),NE=Wa("transitionend"),OE=new Map,Hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hm.push("scrollEnd");function rr(r,s){OE.set(r,s),In(s,[r])}var VE=new WeakMap;function Di(r,s){if(typeof r=="object"&&r!==null){var o=VE.get(r);return o!==void 0?o:(s={value:r,source:s,stack:hi(s)},VE.set(r,s),s)}return{value:r,source:s,stack:hi(s)}}var Mi=[],$o=0,qm=0;function Oh(){for(var r=$o,s=qm=$o=0;s<r;){var o=Mi[s];Mi[s++]=null;var c=Mi[s];Mi[s++]=null;var m=Mi[s];Mi[s++]=null;var g=Mi[s];if(Mi[s++]=null,c!==null&&m!==null){var w=c.pending;w===null?m.next=m:(m.next=w.next,w.next=m),c.pending=m}g!==0&&LE(o,m,g)}}function Vh(r,s,o,c){Mi[$o++]=r,Mi[$o++]=s,Mi[$o++]=o,Mi[$o++]=c,qm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Gm(r,s,o,c){return Vh(r,s,o,c),Lh(r)}function Yo(r,s){return Vh(r,null,null,s),Lh(r)}function LE(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(m=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,m&&s!==null&&(m=31-tn(o),r=g.hiddenUpdates,c=r[m],c===null?r[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function Lh(r){if(50<$u)throw $u=0,Xp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Qo={};function lM(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(r,s,o,c){return new lM(r,s,o,c)}function Km(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Wr(r,s){var o=r.alternate;return o===null?(o=mi(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function kE(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function kh(r,s,o,c,m,g){var w=0;if(c=r,typeof r=="function")Km(r)&&(w=1);else if(typeof r=="string")w=cP(r,o,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case x:return r=mi(31,o,s,m),r.elementType=x,r.lanes=g,r;case M:return $a(o.children,m,g,s);case F:w=8,m|=24;break;case O:return r=mi(12,o,s,m|2),r.elementType=O,r.lanes=g,r;case W:return r=mi(13,o,s,m),r.elementType=W,r.lanes=g,r;case D:return r=mi(19,o,s,m),r.elementType=D,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case j:case U:w=10;break e;case H:w=9;break e;case ie:w=11;break e;case I:w=14;break e;case A:w=16,c=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=mi(w,o,s,m),s.elementType=r,s.type=c,s.lanes=g,s}function $a(r,s,o,c){return r=mi(7,r,c,s),r.lanes=o,r}function Wm(r,s,o){return r=mi(6,r,null,s),r.lanes=o,r}function $m(r,s,o){return s=mi(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Xo=[],Zo=0,Uh=null,jh=0,Pi=[],Ni=0,Ya=null,$r=1,Yr="";function Qa(r,s){Xo[Zo++]=jh,Xo[Zo++]=Uh,Uh=r,jh=s}function UE(r,s,o){Pi[Ni++]=$r,Pi[Ni++]=Yr,Pi[Ni++]=Ya,Ya=r;var c=$r;r=Yr;var m=32-tn(c)-1;c&=~(1<<m),o+=1;var g=32-tn(s)+m;if(30<g){var w=m-m%5;g=(c&(1<<w)-1).toString(32),c>>=w,m-=w,$r=1<<32-tn(s)+m|o<<m|c,Yr=g+r}else $r=1<<g|o<<m|c,Yr=r}function Ym(r){r.return!==null&&(Qa(r,1),UE(r,1,0))}function Qm(r){for(;r===Uh;)Uh=Xo[--Zo],Xo[Zo]=null,jh=Xo[--Zo],Xo[Zo]=null;for(;r===Ya;)Ya=Pi[--Ni],Pi[Ni]=null,Yr=Pi[--Ni],Pi[Ni]=null,$r=Pi[--Ni],Pi[Ni]=null}var qn=null,kt=null,ot=!1,Xa=null,vr=!1,Xm=Error(i(519));function Za(r){var s=Error(i(418,""));throw Ru(Di(s,r)),Xm}function jE(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[oe]=r,s[fe]=c,o){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(o=0;o<Qu.length;o++)Ze(Qu[o],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),lu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ss(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),Eh(s,c.value,c.defaultValue,c.children),Ss(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||nw(s.textContent,o)?(c.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),c.onScroll!=null&&Ze("scroll",s),c.onScrollEnd!=null&&Ze("scrollend",s),c.onClick!=null&&(s.onclick=Ef),s=!0):s=!1,s||Za(r)}function BE(r){for(qn=r.return;qn;)switch(qn.tag){case 5:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:qn=qn.return}}function bu(r){if(r!==qn)return!1;if(!ot)return BE(r),ot=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||dg(r.type,r.memoizedProps)),o=!o),o&&kt&&Za(r),BE(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){kt=ar(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}kt=null}}else s===27?(s=kt,qs(r.type)?(r=yg,yg=null,kt=r):kt=s):kt=qn?ar(r.stateNode.nextSibling):null;return!0}function Au(){kt=qn=null,ot=!1}function zE(){var r=Xa;return r!==null&&(Qn===null?Qn=r:Qn.push.apply(Qn,r),Xa=null),r}function Ru(r){Xa===null?Xa=[r]:Xa.push(r)}var Zm=se(null),Ja=null,Qr=null;function xs(r,s,o){de(Zm,s._currentValue),s._currentValue=o}function Xr(r){r._currentValue=Zm.current,ge(Zm)}function Jm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function ep(r,s,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var g=m.dependencies;if(g!==null){var w=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var V=0;V<s.length;V++)if(S.context===s[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Jm(g.return,o,r),c||(w=null);break e}g=S.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Jm(w,o,r),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===r){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Cu(r,s,o,c){r=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=m.type;di(m.pendingProps.value,w.value)||(r!==null?r.push(S):r=[S])}}else if(m===en.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(nc):r=[nc])}m=m.return}r!==null&&ep(s,r,o,c),s.flags|=262144}function Bh(r){for(r=r.firstContext;r!==null;){if(!di(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function eo(r){Ja=r,Qr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Dn(r){return FE(Ja,r)}function zh(r,s){return Ja===null&&eo(r),FE(r,s)}function FE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Qr===null){if(r===null)throw Error(i(308));Qr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Qr=Qr.next=s;return o}var uM=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},cM=t.unstable_scheduleCallback,hM=t.unstable_NormalPriority,sn={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new uM,data:new Map,refCount:0}}function Iu(r){r.refCount--,r.refCount===0&&cM(hM,function(){r.controller.abort()})}var xu=null,np=0,Jo=0,el=null;function fM(r,s){if(xu===null){var o=xu=[];np=0,Jo=rg(),el={status:"pending",value:void 0,then:function(c){o.push(c)}}}return np++,s.then(HE,HE),s}function HE(){if(--np===0&&xu!==null){el!==null&&(el.status="fulfilled");var r=xu;xu=null,Jo=0,el=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function dM(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var qE=Z.S;Z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&fM(r,s),qE!==null&&qE(r,s)};var to=se(null);function ip(){var r=to.current;return r!==null?r:wt.pooledCache}function Fh(r,s){s===null?de(to,to.current):de(to,s.pool)}function GE(){var r=ip();return r===null?null:{parent:sn._currentValue,pool:r}}var Du=Error(i(460)),KE=Error(i(474)),Hh=Error(i(542)),rp={then:function(){}};function WE(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qh(){}function $E(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(qh,qh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,QE(r),r;default:if(typeof s.status=="string")s.then(qh,qh);else{if(r=wt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,QE(r),r}throw Mu=s,Du}}var Mu=null;function YE(){if(Mu===null)throw Error(i(459));var r=Mu;return Mu=null,r}function QE(r){if(r===Du||r===Hh)throw Error(i(483))}var Ds=!1;function sp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ms(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ps(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ft&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Lh(r),LE(r,null,o),s}return Vh(r,c,s,o),Lh(r)}function Pu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ci(r,o)}}function op(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var lp=!1;function Nu(){if(lp){var r=el;if(r!==null)throw r}}function Ou(r,s,o,c){lp=!1;var m=r.updateQueue;Ds=!1;var g=m.firstBaseUpdate,w=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,X=V.next;V.next=null,w===null?g=X:w.next=X,w=V;var re=r.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==w&&(S===null?re.firstBaseUpdate=X:S.next=X,re.lastBaseUpdate=V))}if(g!==null){var le=m.baseState;w=0,re=X=V=null,S=g;do{var J=S.lane&-536870913,ee=J!==S.lane;if(ee?(it&J)===J:(c&J)===J){J!==0&&J===Jo&&(lp=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ke=r,Pe=S;J=s;var yt=o;switch(Pe.tag){case 1:if(ke=Pe.payload,typeof ke=="function"){le=ke.call(yt,le,J);break e}le=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Pe.payload,J=typeof ke=="function"?ke.call(yt,le,J):ke,J==null)break e;le=y({},le,J);break e;case 2:Ds=!0}}J=S.callback,J!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(X=re=ee,V=le):re=re.next=ee,w|=J;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);re===null&&(V=le),m.baseState=V,m.firstBaseUpdate=X,m.lastBaseUpdate=re,g===null&&(m.shared.lanes=0),Bs|=w,r.lanes=w,r.memoizedState=le}}function XE(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function ZE(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)XE(o[r],s)}var tl=se(null),Gh=se(0);function JE(r,s){r=rs,de(Gh,r),de(tl,s),rs=r|s.baseLanes}function up(){de(Gh,rs),de(tl,tl.current)}function cp(){rs=Gh.current,ge(tl),ge(Gh)}var Ns=0,$e=null,pt=null,Wt=null,Kh=!1,nl=!1,no=!1,Wh=0,Vu=0,il=null,mM=0;function Ht(){throw Error(i(321))}function hp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!di(r[o],s[o]))return!1;return!0}function fp(r,s,o,c,m,g){return Ns=g,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?LT:kT,no=!1,g=o(c,m),no=!1,nl&&(g=tT(s,o,c,m)),eT(r),g}function eT(r){Z.H=Jh;var s=pt!==null&&pt.next!==null;if(Ns=0,Wt=pt=$e=null,Kh=!1,Vu=0,il=null,s)throw Error(i(300));r===null||fn||(r=r.dependencies,r!==null&&Bh(r)&&(fn=!0))}function tT(r,s,o,c){$e=r;var m=0;do{if(nl&&(il=null),Vu=0,nl=!1,25<=m)throw Error(i(301));if(m+=1,Wt=pt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=TM,g=s(o,c)}while(nl);return g}function pM(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?Lu(s):s,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&($e.flags|=1024),s}function dp(){var r=Wh!==0;return Wh=0,r}function mp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function pp(r){if(Kh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kh=!1}Ns=0,Wt=pt=$e=null,nl=!1,Vu=Wh=0,il=null}function $n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?$e.memoizedState=Wt=r:Wt=Wt.next=r,Wt}function $t(){if(pt===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Wt===null?$e.memoizedState:Wt.next;if(s!==null)Wt=s,pt=r;else{if(r===null)throw $e.alternate===null?Error(i(467)):Error(i(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Wt===null?$e.memoizedState=Wt=r:Wt=Wt.next=r}return Wt}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(r){var s=Vu;return Vu+=1,il===null&&(il=[]),r=$E(il,r,s),s=$e,(Wt===null?s.memoizedState:Wt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?LT:kT),r}function $h(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Lu(r);if(r.$$typeof===U)return Dn(r)}throw Error(i(438,String(r)))}function yp(r){var s=null,o=$e.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=$e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=gp(),$e.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=L;return s.index++,o}function Zr(r,s){return typeof s=="function"?s(r):s}function Yh(r){var s=$t();return vp(s,pt,r)}function vp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=r.baseQueue,g=c.pending;if(g!==null){if(m!==null){var w=m.next;m.next=g.next,g.next=w}s.baseQueue=m=g,c.pending=null}if(g=r.baseState,m===null)r.memoizedState=g;else{s=m.next;var S=w=null,V=null,X=s,re=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(it&le)===le:(Ns&le)===le){var J=X.revertLane;if(J===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Jo&&(re=!0);else if((Ns&J)===J){X=X.next,J===Jo&&(re=!0);continue}else le={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(S=V=le,w=g):V=V.next=le,$e.lanes|=J,Bs|=J;le=X.action,no&&o(g,le),g=X.hasEagerState?X.eagerState:o(g,le)}else J={lane:le,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(S=V=J,w=g):V=V.next=J,$e.lanes|=le,Bs|=le;X=X.next}while(X!==null&&X!==s);if(V===null?w=g:V.next=S,!di(g,r.memoizedState)&&(fn=!0,re&&(o=el,o!==null)))throw o;r.memoizedState=g,r.baseState=w,r.baseQueue=V,c.lastRenderedState=g}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function _p(r){var s=$t(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do g=r(g,w.action),w=w.next;while(w!==m);di(g,s.memoizedState)||(fn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function nT(r,s,o){var c=$e,m=$t(),g=ot;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var w=!di((pt||m).memoizedState,o);w&&(m.memoizedState=o,fn=!0),m=m.queue;var S=sT.bind(null,c,m,r);if(ku(2048,8,S,[r]),m.getSnapshot!==s||w||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,rl(9,Qh(),rT.bind(null,c,m,o,s),null),wt===null)throw Error(i(349));g||(Ns&124)!==0||iT(c,s,o)}return o}function iT(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=$e.updateQueue,s===null?(s=gp(),$e.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function rT(r,s,o,c){s.value=o,s.getSnapshot=c,aT(s)&&oT(r)}function sT(r,s,o){return o(function(){aT(s)&&oT(r)})}function aT(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!di(r,o)}catch{return!0}}function oT(r){var s=Yo(r,2);s!==null&&_i(s,r,2)}function Ep(r){var s=$n();if(typeof r=="function"){var o=r;if(r=o(),no){kn(!0);try{o()}finally{kn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:r},s}function lT(r,s,o,c){return r.baseState=o,vp(r,pt,typeof c=="function"?c:Zr)}function gM(r,s,o,c,m){if(Zh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,uT(s,g)):(g.next=o.next,s.pending=o.next=g)}}function uT(r,s){var o=s.action,c=s.payload,m=r.state;if(s.isTransition){var g=Z.T,w={};Z.T=w;try{var S=o(m,c),V=Z.S;V!==null&&V(w,S),cT(r,s,S)}catch(X){Tp(r,s,X)}finally{Z.T=g}}else try{g=o(m,c),cT(r,s,g)}catch(X){Tp(r,s,X)}}function cT(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){hT(r,s,c)},function(c){return Tp(r,s,c)}):hT(r,s,o)}function hT(r,s,o){s.status="fulfilled",s.value=o,fT(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,uT(r,o)))}function Tp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,fT(s),s=s.next;while(s!==c)}r.action=null}function fT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function dT(r,s){return s}function mT(r,s){if(ot){var o=wt.formState;if(o!==null){e:{var c=$e;if(ot){if(kt){t:{for(var m=kt,g=vr;m.nodeType!==8;){if(!g){m=null;break t}if(m=ar(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){kt=ar(m.nextSibling),c=m.data==="F!";break e}}Za(c)}c=!1}c&&(s=o[0])}}return o=$n(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dT,lastRenderedState:s},o.queue=c,o=NT.bind(null,$e,c),c.dispatch=o,c=Ep(!1),g=Rp.bind(null,$e,!1,c.queue),c=$n(),m={state:s,dispatch:null,action:r,pending:null},c.queue=m,o=gM.bind(null,$e,m,g,o),m.dispatch=o,c.memoizedState=r,[s,o,!1]}function pT(r){var s=$t();return gT(s,pt,r)}function gT(r,s,o){if(s=vp(r,s,dT)[0],r=Yh(Zr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Lu(s)}catch(w){throw w===Du?Hh:w}else c=s;s=$t();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&($e.flags|=2048,rl(9,Qh(),yM.bind(null,m,o),null)),[c,g,r]}function yM(r,s){r.action=s}function yT(r){var s=$t(),o=pt;if(o!==null)return gT(s,o,r);$t(),s=s.memoizedState,o=$t();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function rl(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=$e.updateQueue,s===null&&(s=gp(),$e.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Qh(){return{destroy:void 0,resource:void 0}}function vT(){return $t().memoizedState}function Xh(r,s,o,c){var m=$n();c=c===void 0?null:c,$e.flags|=r,m.memoizedState=rl(1|s,Qh(),o,c)}function ku(r,s,o,c){var m=$t();c=c===void 0?null:c;var g=m.memoizedState.inst;pt!==null&&c!==null&&hp(c,pt.memoizedState.deps)?m.memoizedState=rl(s,g,o,c):($e.flags|=r,m.memoizedState=rl(1|s,g,o,c))}function _T(r,s){Xh(8390656,8,r,s)}function ET(r,s){ku(2048,8,r,s)}function TT(r,s){return ku(4,2,r,s)}function wT(r,s){return ku(4,4,r,s)}function ST(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function bT(r,s,o){o=o!=null?o.concat([r]):null,ku(4,4,ST.bind(null,s,r),o)}function wp(){}function AT(r,s){var o=$t();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&hp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function RT(r,s){var o=$t();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&hp(s,c[1]))return c[0];if(c=r(),no){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[c,s],c}function Sp(r,s,o){return o===void 0||(Ns&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=x0(),$e.lanes|=r,Bs|=r,o)}function CT(r,s,o,c){return di(o,s)?o:tl.current!==null?(r=Sp(r,o,c),di(r,s)||(fn=!0),r):(Ns&42)===0?(fn=!0,r.memoizedState=o):(r=x0(),$e.lanes|=r,Bs|=r,s)}function IT(r,s,o,c,m){var g=he.p;he.p=g!==0&&8>g?g:8;var w=Z.T,S={};Z.T=S,Rp(r,!1,s,o);try{var V=m(),X=Z.S;if(X!==null&&X(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var re=dM(V,c);Uu(r,s,re,vi(r))}else Uu(r,s,c,vi(r))}catch(le){Uu(r,s,{then:function(){},status:"rejected",reason:le},vi())}finally{he.p=g,Z.T=w}}function vM(){}function bp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var m=xT(r).queue;IT(r,m,s,pe,o===null?vM:function(){return DT(r),o(c)})}function xT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:pe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function DT(r){var s=xT(r).next.queue;Uu(r,s,{},vi())}function Ap(){return Dn(nc)}function MT(){return $t().memoizedState}function PT(){return $t().memoizedState}function _M(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=vi();r=Ms(o);var c=Ps(s,r,o);c!==null&&(_i(c,s,o),Pu(c,s,o)),s={cache:tp()},r.payload=s;return}s=s.return}}function EM(r,s,o){var c=vi();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Zh(r)?OT(s,o):(o=Gm(r,s,o,c),o!==null&&(_i(o,r,c),VT(o,s,c)))}function NT(r,s,o){var c=vi();Uu(r,s,o,c)}function Uu(r,s,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zh(r))OT(s,m);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,S=g(w,o);if(m.hasEagerState=!0,m.eagerState=S,di(S,w))return Vh(r,s,m,0),wt===null&&Oh(),!1}catch{}finally{}if(o=Gm(r,s,m,c),o!==null)return _i(o,r,c),VT(o,s,c),!0}return!1}function Rp(r,s,o,c){if(c={lane:2,revertLane:rg(),action:c,hasEagerState:!1,eagerState:null,next:null},Zh(r)){if(s)throw Error(i(479))}else s=Gm(r,o,c,2),s!==null&&_i(s,r,2)}function Zh(r){var s=r.alternate;return r===$e||s!==null&&s===$e}function OT(r,s){nl=Kh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function VT(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,ci(r,o)}}var Jh={readContext:Dn,use:$h,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useLayoutEffect:Ht,useInsertionEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useSyncExternalStore:Ht,useId:Ht,useHostTransitionStatus:Ht,useFormState:Ht,useActionState:Ht,useOptimistic:Ht,useMemoCache:Ht,useCacheRefresh:Ht},LT={readContext:Dn,use:$h,useCallback:function(r,s){return $n().memoizedState=[r,s===void 0?null:s],r},useContext:Dn,useEffect:_T,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Xh(4194308,4,ST.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Xh(4194308,4,r,s)},useInsertionEffect:function(r,s){Xh(4,2,r,s)},useMemo:function(r,s){var o=$n();s=s===void 0?null:s;var c=r();if(no){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=$n();if(o!==void 0){var m=o(s);if(no){kn(!0);try{o(s)}finally{kn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=EM.bind(null,$e,r),[c.memoizedState,r]},useRef:function(r){var s=$n();return r={current:r},s.memoizedState=r},useState:function(r){r=Ep(r);var s=r.queue,o=NT.bind(null,$e,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:wp,useDeferredValue:function(r,s){var o=$n();return Sp(o,r,s)},useTransition:function(){var r=Ep(!1);return r=IT.bind(null,$e,r.queue,!0,!1),$n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=$e,m=$n();if(ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),wt===null)throw Error(i(349));(it&124)!==0||iT(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,_T(sT.bind(null,c,g,r),[r]),c.flags|=2048,rl(9,Qh(),rT.bind(null,c,g,o,s),null),o},useId:function(){var r=$n(),s=wt.identifierPrefix;if(ot){var o=Yr,c=$r;o=(c&~(1<<32-tn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Wh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=mM++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Ap,useFormState:mT,useActionState:mT,useOptimistic:function(r){var s=$n();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Rp.bind(null,$e,!0,o),o.dispatch=s,[r,s]},useMemoCache:yp,useCacheRefresh:function(){return $n().memoizedState=_M.bind(null,$e)}},kT={readContext:Dn,use:$h,useCallback:AT,useContext:Dn,useEffect:ET,useImperativeHandle:bT,useInsertionEffect:TT,useLayoutEffect:wT,useMemo:RT,useReducer:Yh,useRef:vT,useState:function(){return Yh(Zr)},useDebugValue:wp,useDeferredValue:function(r,s){var o=$t();return CT(o,pt.memoizedState,r,s)},useTransition:function(){var r=Yh(Zr)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:Lu(r),s]},useSyncExternalStore:nT,useId:MT,useHostTransitionStatus:Ap,useFormState:pT,useActionState:pT,useOptimistic:function(r,s){var o=$t();return lT(o,pt,r,s)},useMemoCache:yp,useCacheRefresh:PT},TM={readContext:Dn,use:$h,useCallback:AT,useContext:Dn,useEffect:ET,useImperativeHandle:bT,useInsertionEffect:TT,useLayoutEffect:wT,useMemo:RT,useReducer:_p,useRef:vT,useState:function(){return _p(Zr)},useDebugValue:wp,useDeferredValue:function(r,s){var o=$t();return pt===null?Sp(o,r,s):CT(o,pt.memoizedState,r,s)},useTransition:function(){var r=_p(Zr)[0],s=$t().memoizedState;return[typeof r=="boolean"?r:Lu(r),s]},useSyncExternalStore:nT,useId:MT,useHostTransitionStatus:Ap,useFormState:yT,useActionState:yT,useOptimistic:function(r,s){var o=$t();return pt!==null?lT(o,pt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:yp,useCacheRefresh:PT},sl=null,ju=0;function ef(r){var s=ju;return ju+=1,sl===null&&(sl=[]),$E(sl,r,s)}function Bu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function tf(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function UT(r){var s=r._init;return s(r._payload)}function jT(r){function s(K,q){if(r){var Y=K.deletions;Y===null?(K.deletions=[q],K.flags|=16):Y.push(q)}}function o(K,q){if(!r)return null;for(;q!==null;)s(K,q),q=q.sibling;return null}function c(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function m(K,q){return K=Wr(K,q),K.index=0,K.sibling=null,K}function g(K,q,Y){return K.index=Y,r?(Y=K.alternate,Y!==null?(Y=Y.index,Y<q?(K.flags|=67108866,q):Y):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function w(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function S(K,q,Y,ae){return q===null||q.tag!==6?(q=Wm(Y,K.mode,ae),q.return=K,q):(q=m(q,Y),q.return=K,q)}function V(K,q,Y,ae){var we=Y.type;return we===M?re(K,q,Y.props.children,ae,Y.key):q!==null&&(q.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&UT(we)===q.type)?(q=m(q,Y.props),Bu(q,Y),q.return=K,q):(q=kh(Y.type,Y.key,Y.props,null,K.mode,ae),Bu(q,Y),q.return=K,q)}function X(K,q,Y,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==Y.containerInfo||q.stateNode.implementation!==Y.implementation?(q=$m(Y,K.mode,ae),q.return=K,q):(q=m(q,Y.children||[]),q.return=K,q)}function re(K,q,Y,ae,we){return q===null||q.tag!==7?(q=$a(Y,K.mode,ae,we),q.return=K,q):(q=m(q,Y),q.return=K,q)}function le(K,q,Y){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Wm(""+q,K.mode,Y),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return Y=kh(q.type,q.key,q.props,null,K.mode,Y),Bu(Y,q),Y.return=K,Y;case b:return q=$m(q,K.mode,Y),q.return=K,q;case A:var ae=q._init;return q=ae(q._payload),le(K,q,Y)}if(We(q)||G(q))return q=$a(q,K.mode,Y,null),q.return=K,q;if(typeof q.then=="function")return le(K,ef(q),Y);if(q.$$typeof===U)return le(K,zh(K,q),Y);tf(K,q)}return null}function J(K,q,Y,ae){var we=q!==null?q.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return we!==null?null:S(K,q,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===we?V(K,q,Y,ae):null;case b:return Y.key===we?X(K,q,Y,ae):null;case A:return we=Y._init,Y=we(Y._payload),J(K,q,Y,ae)}if(We(Y)||G(Y))return we!==null?null:re(K,q,Y,ae,null);if(typeof Y.then=="function")return J(K,q,ef(Y),ae);if(Y.$$typeof===U)return J(K,q,zh(K,Y),ae);tf(K,Y)}return null}function ee(K,q,Y,ae,we){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(Y)||null,S(q,K,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return K=K.get(ae.key===null?Y:ae.key)||null,V(q,K,ae,we);case b:return K=K.get(ae.key===null?Y:ae.key)||null,X(q,K,ae,we);case A:var Ye=ae._init;return ae=Ye(ae._payload),ee(K,q,Y,ae,we)}if(We(ae)||G(ae))return K=K.get(Y)||null,re(q,K,ae,we,null);if(typeof ae.then=="function")return ee(K,q,Y,ef(ae),we);if(ae.$$typeof===U)return ee(K,q,Y,zh(q,ae),we);tf(q,ae)}return null}function ke(K,q,Y,ae){for(var we=null,Ye=null,Ie=q,Ne=q=0,mn=null;Ie!==null&&Ne<Y.length;Ne++){Ie.index>Ne?(mn=Ie,Ie=null):mn=Ie.sibling;var at=J(K,Ie,Y[Ne],ae);if(at===null){Ie===null&&(Ie=mn);break}r&&Ie&&at.alternate===null&&s(K,Ie),q=g(at,q,Ne),Ye===null?we=at:Ye.sibling=at,Ye=at,Ie=mn}if(Ne===Y.length)return o(K,Ie),ot&&Qa(K,Ne),we;if(Ie===null){for(;Ne<Y.length;Ne++)Ie=le(K,Y[Ne],ae),Ie!==null&&(q=g(Ie,q,Ne),Ye===null?we=Ie:Ye.sibling=Ie,Ye=Ie);return ot&&Qa(K,Ne),we}for(Ie=c(Ie);Ne<Y.length;Ne++)mn=ee(Ie,K,Ne,Y[Ne],ae),mn!==null&&(r&&mn.alternate!==null&&Ie.delete(mn.key===null?Ne:mn.key),q=g(mn,q,Ne),Ye===null?we=mn:Ye.sibling=mn,Ye=mn);return r&&Ie.forEach(function(Ys){return s(K,Ys)}),ot&&Qa(K,Ne),we}function Pe(K,q,Y,ae){if(Y==null)throw Error(i(151));for(var we=null,Ye=null,Ie=q,Ne=q=0,mn=null,at=Y.next();Ie!==null&&!at.done;Ne++,at=Y.next()){Ie.index>Ne?(mn=Ie,Ie=null):mn=Ie.sibling;var Ys=J(K,Ie,at.value,ae);if(Ys===null){Ie===null&&(Ie=mn);break}r&&Ie&&Ys.alternate===null&&s(K,Ie),q=g(Ys,q,Ne),Ye===null?we=Ys:Ye.sibling=Ys,Ye=Ys,Ie=mn}if(at.done)return o(K,Ie),ot&&Qa(K,Ne),we;if(Ie===null){for(;!at.done;Ne++,at=Y.next())at=le(K,at.value,ae),at!==null&&(q=g(at,q,Ne),Ye===null?we=at:Ye.sibling=at,Ye=at);return ot&&Qa(K,Ne),we}for(Ie=c(Ie);!at.done;Ne++,at=Y.next())at=ee(Ie,K,Ne,at.value,ae),at!==null&&(r&&at.alternate!==null&&Ie.delete(at.key===null?Ne:at.key),q=g(at,q,Ne),Ye===null?we=at:Ye.sibling=at,Ye=at);return r&&Ie.forEach(function(wP){return s(K,wP)}),ot&&Qa(K,Ne),we}function yt(K,q,Y,ae){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var we=Y.key;q!==null;){if(q.key===we){if(we=Y.type,we===M){if(q.tag===7){o(K,q.sibling),ae=m(q,Y.props.children),ae.return=K,K=ae;break e}}else if(q.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&UT(we)===q.type){o(K,q.sibling),ae=m(q,Y.props),Bu(ae,Y),ae.return=K,K=ae;break e}o(K,q);break}else s(K,q);q=q.sibling}Y.type===M?(ae=$a(Y.props.children,K.mode,ae,Y.key),ae.return=K,K=ae):(ae=kh(Y.type,Y.key,Y.props,null,K.mode,ae),Bu(ae,Y),ae.return=K,K=ae)}return w(K);case b:e:{for(we=Y.key;q!==null;){if(q.key===we)if(q.tag===4&&q.stateNode.containerInfo===Y.containerInfo&&q.stateNode.implementation===Y.implementation){o(K,q.sibling),ae=m(q,Y.children||[]),ae.return=K,K=ae;break e}else{o(K,q);break}else s(K,q);q=q.sibling}ae=$m(Y,K.mode,ae),ae.return=K,K=ae}return w(K);case A:return we=Y._init,Y=we(Y._payload),yt(K,q,Y,ae)}if(We(Y))return ke(K,q,Y,ae);if(G(Y)){if(we=G(Y),typeof we!="function")throw Error(i(150));return Y=we.call(Y),Pe(K,q,Y,ae)}if(typeof Y.then=="function")return yt(K,q,ef(Y),ae);if(Y.$$typeof===U)return yt(K,q,zh(K,Y),ae);tf(K,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,q!==null&&q.tag===6?(o(K,q.sibling),ae=m(q,Y),ae.return=K,K=ae):(o(K,q),ae=Wm(Y,K.mode,ae),ae.return=K,K=ae),w(K)):o(K,q)}return function(K,q,Y,ae){try{ju=0;var we=yt(K,q,Y,ae);return sl=null,we}catch(Ie){if(Ie===Du||Ie===Hh)throw Ie;var Ye=mi(29,Ie,null,K.mode);return Ye.lanes=ae,Ye.return=K,Ye}finally{}}}var al=jT(!0),BT=jT(!1),Oi=se(null),_r=null;function Os(r){var s=r.alternate;de(an,an.current&1),de(Oi,r),_r===null&&(s===null||tl.current!==null||s.memoizedState!==null)&&(_r=r)}function zT(r){if(r.tag===22){if(de(an,an.current),de(Oi,r),_r===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(_r=r)}}else Vs()}function Vs(){de(an,an.current),de(Oi,Oi.current)}function Jr(r){ge(Oi),_r===r&&(_r=null),ge(an)}var an=se(0);function nf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||gg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ip={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=vi(),m=Ms(c);m.payload=s,o!=null&&(m.callback=o),s=Ps(r,m,c),s!==null&&(_i(s,r,c),Pu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=vi(),m=Ms(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Ps(r,m,c),s!==null&&(_i(s,r,c),Pu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=vi(),c=Ms(o);c.tag=2,s!=null&&(c.callback=s),s=Ps(r,c,o),s!==null&&(_i(s,r,o),Pu(s,r,o))}};function FT(r,s,o,c,m,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!wu(o,c)||!wu(m,g):!0}function HT(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Ip.enqueueReplaceState(s,s.state,null)}function io(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var rf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function qT(r){rf(r)}function GT(r){console.error(r)}function KT(r){rf(r)}function sf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function WT(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function xp(r,s,o){return o=Ms(o),o.tag=3,o.payload={element:null},o.callback=function(){sf(r,s)},o}function $T(r){return r=Ms(r),r.tag=3,r}function YT(r,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;r.payload=function(){return m(g)},r.callback=function(){WT(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){WT(s,o,c),typeof m!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function wM(r,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Cu(s,o,m,!0),o=Oi.current,o!==null){switch(o.tag){case 13:return _r===null?Jp():o.alternate===null&&Ut===0&&(Ut=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===rp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),tg(r,c,m)),!1;case 22:return o.flags|=65536,c===rp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),tg(r,c,m)),!1}throw Error(i(435,o.tag))}return tg(r,c,m),Jp(),!1}if(ot)return s=Oi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Xm&&(r=Error(i(422),{cause:c}),Ru(Di(r,o)))):(c!==Xm&&(s=Error(i(423),{cause:c}),Ru(Di(s,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=Di(c,o),m=xp(r.stateNode,c,m),op(r,m),Ut!==4&&(Ut=2)),!1;var g=Error(i(520),{cause:c});if(g=Di(g,o),Wu===null?Wu=[g]:Wu.push(g),Ut!==4&&(Ut=2),s===null)return!0;c=Di(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=xp(o.stateNode,c,r),op(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zs===null||!zs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=$T(m),YT(m,r,o,c),op(o,m),!1}o=o.return}while(o!==null);return!1}var QT=Error(i(461)),fn=!1;function _n(r,s,o,c){s.child=r===null?BT(s,null,o,c):al(s,r.child,o,c)}function XT(r,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var w={};for(var S in c)S!=="ref"&&(w[S]=c[S])}else w=c;return eo(s),c=fp(r,s,o,w,g,m),S=dp(),r!==null&&!fn?(mp(r,s,m),es(r,s,m)):(ot&&S&&Ym(s),s.flags|=1,_n(r,s,c,m),s.child)}function ZT(r,s,o,c,m){if(r===null){var g=o.type;return typeof g=="function"&&!Km(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,JT(r,s,g,c,m)):(r=kh(o.type,null,c,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!kp(r,m)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:wu,o(w,c)&&r.ref===s.ref)return es(r,s,m)}return s.flags|=1,r=Wr(g,c),r.ref=s.ref,r.return=s,s.child=r}function JT(r,s,o,c,m){if(r!==null){var g=r.memoizedProps;if(wu(g,c)&&r.ref===s.ref)if(fn=!1,s.pendingProps=c=g,kp(r,m))(r.flags&131072)!==0&&(fn=!0);else return s.lanes=r.lanes,es(r,s,m)}return Dp(r,s,o,c,m)}function e0(r,s,o){var c=s.pendingProps,m=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,r!==null){for(m=s.child=r.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return t0(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Fh(s,g!==null?g.cachePool:null),g!==null?JE(s,g):up(),zT(s);else return s.lanes=s.childLanes=536870912,t0(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Fh(s,g.cachePool),JE(s,g),Vs(),s.memoizedState=null):(r!==null&&Fh(s,null),up(),Vs());return _n(r,s,m,o),s.child}function t0(r,s,o,c){var m=ip();return m=m===null?null:{parent:sn._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},r!==null&&Fh(s,null),up(),zT(s),r!==null&&Cu(r,s,c,!0),null}function af(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Dp(r,s,o,c,m){return eo(s),o=fp(r,s,o,c,void 0,m),c=dp(),r!==null&&!fn?(mp(r,s,m),es(r,s,m)):(ot&&c&&Ym(s),s.flags|=1,_n(r,s,o,m),s.child)}function n0(r,s,o,c,m,g){return eo(s),s.updateQueue=null,o=tT(s,c,o,m),eT(r),c=dp(),r!==null&&!fn?(mp(r,s,g),es(r,s,g)):(ot&&c&&Ym(s),s.flags|=1,_n(r,s,o,g),s.child)}function i0(r,s,o,c,m){if(eo(s),s.stateNode===null){var g=Qo,w=o.contextType;typeof w=="object"&&w!==null&&(g=Dn(w)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ip,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},sp(s),w=o.contextType,g.context=typeof w=="object"&&w!==null?Dn(w):Qo,g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Cp(s,o,w,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Ip.enqueueReplaceState(g,g.state,null),Ou(s,c,g,m),Nu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,V=io(o,S);g.props=V;var X=g.context,re=o.contextType;w=Qo,typeof re=="object"&&re!==null&&(w=Dn(re));var le=o.getDerivedStateFromProps;re=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||X!==w)&&HT(s,g,c,w),Ds=!1;var J=s.memoizedState;g.state=J,Ou(s,c,g,m),Nu(),X=s.memoizedState,S||J!==X||Ds?(typeof le=="function"&&(Cp(s,o,le,c),X=s.memoizedState),(V=Ds||FT(s,o,V,c,J,X,w))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),g.props=c,g.state=X,g.context=w,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,ap(r,s),w=s.memoizedProps,re=io(o,w),g.props=re,le=s.pendingProps,J=g.context,X=o.contextType,V=Qo,typeof X=="object"&&X!==null&&(V=Dn(X)),S=o.getDerivedStateFromProps,(X=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==le||J!==V)&&HT(s,g,c,V),Ds=!1,J=s.memoizedState,g.state=J,Ou(s,c,g,m),Nu();var ee=s.memoizedState;w!==le||J!==ee||Ds||r!==null&&r.dependencies!==null&&Bh(r.dependencies)?(typeof S=="function"&&(Cp(s,o,S,c),ee=s.memoizedState),(re=Ds||FT(s,o,re,c,J,ee,V)||r!==null&&r.dependencies!==null&&Bh(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ee,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ee,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),g.props=c,g.state=ee,g.context=V,c=re):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,af(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=al(s,r.child,null,m),s.child=al(s,null,o,m)):_n(r,s,o,m),s.memoizedState=g.state,r=s.child):r=es(r,s,m),r}function r0(r,s,o,c){return Au(),s.flags|=256,_n(r,s,o,c),s.child}var Mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(r){return{baseLanes:r,cachePool:GE()}}function Np(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Vi),r}function s0(r,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(an.current&2)!==0),w&&(m=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if(ot){if(m?Os(s):Vs(),ot){var S=kt,V;if(V=S){e:{for(V=S,S=vr;V.nodeType!==8;){if(!S){S=null;break e}if(V=ar(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ya!==null?{id:$r,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},V=mi(18,null,null,0),V.stateNode=S,V.return=s,s.child=V,qn=s,kt=null,V=!0):V=!1}V||Za(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return gg(S)?s.lanes=32:s.lanes=536870912,null;Jr(s)}return S=c.children,c=c.fallback,m?(Vs(),m=s.mode,S=of({mode:"hidden",children:S},m),c=$a(c,m,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,m=s.child,m.memoizedState=Pp(o),m.childLanes=Np(r,w,o),s.memoizedState=Mp,c):(Os(s),Op(s,S))}if(V=r.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(g)s.flags&256?(Os(s),s.flags&=-257,s=Vp(r,s,o)):s.memoizedState!==null?(Vs(),s.child=r.child,s.flags|=128,s=null):(Vs(),m=c.fallback,S=s.mode,c=of({mode:"visible",children:c.children},S),m=$a(m,S,o,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,al(s,r.child,null,o),c=s.child,c.memoizedState=Pp(o),c.childLanes=Np(r,w,o),s.memoizedState=Mp,s=m);else if(Os(s),gg(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var X=w.dgst;w=X,c=Error(i(419)),c.stack="",c.digest=w,Ru({value:c,source:null,stack:null}),s=Vp(r,s,o)}else if(fn||Cu(r,s,o,!1),w=(o&r.childLanes)!==0,fn||w){if(w=wt,w!==null&&(c=o&-o,c=(c&42)!==0?1:Ma(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,Yo(r,c),_i(w,r,c),QT;S.data==="$?"||Jp(),s=Vp(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,kt=ar(S.nextSibling),qn=s,ot=!0,Xa=null,vr=!1,r!==null&&(Pi[Ni++]=$r,Pi[Ni++]=Yr,Pi[Ni++]=Ya,$r=r.id,Yr=r.overflow,Ya=s),s=Op(s,c.children),s.flags|=4096);return s}return m?(Vs(),m=c.fallback,S=s.mode,V=r.child,X=V.sibling,c=Wr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,X!==null?m=Wr(X,m):(m=$a(m,S,o,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,S=r.child.memoizedState,S===null?S=Pp(o):(V=S.cachePool,V!==null?(X=sn._currentValue,V=V.parent!==X?{parent:X,pool:X}:V):V=GE(),S={baseLanes:S.baseLanes|o,cachePool:V}),m.memoizedState=S,m.childLanes=Np(r,w,o),s.memoizedState=Mp,c):(Os(s),o=r.child,r=o.sibling,o=Wr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=o,s.memoizedState=null,o)}function Op(r,s){return s=of({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function of(r,s){return r=mi(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Vp(r,s,o){return al(s,r.child,null,o),r=Op(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function a0(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Jm(r.return,s,o)}function Lp(r,s,o,c,m){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=m)}function o0(r,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;if(_n(r,s,c.children,o),c=an.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&a0(r,o,s);else if(r.tag===19)a0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(de(an,c),m){case"forwards":for(o=s.child,m=null;o!==null;)r=o.alternate,r!==null&&nf(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Lp(s,!1,m,o,g);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&nf(r)===null){s.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}Lp(s,!0,o,null,g);break;case"together":Lp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function es(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Bs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Cu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Wr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Wr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function kp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Bh(r)))}function SM(r,s,o){switch(s.tag){case 3:lt(s,s.stateNode.containerInfo),xs(s,sn,r.memoizedState.cache),Au();break;case 27:case 5:Lt(s);break;case 4:lt(s,s.stateNode.containerInfo);break;case 10:xs(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?s0(r,s,o):(Os(s),r=es(r,s,o),r!==null?r.sibling:null);Os(s);break;case 19:var m=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Cu(r,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return o0(r,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),de(an,an.current),c)break;return null;case 22:case 23:return s.lanes=0,e0(r,s,o);case 24:xs(s,sn,r.memoizedState.cache)}return es(r,s,o)}function l0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)fn=!0;else{if(!kp(r,o)&&(s.flags&128)===0)return fn=!1,SM(r,s,o);fn=(r.flags&131072)!==0}else fn=!1,ot&&(s.flags&1048576)!==0&&UE(s,jh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Km(c)?(r=io(c,r),s.tag=1,s=i0(null,s,c,r,o)):(s.tag=0,s=Dp(null,s,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===ie){s.tag=11,s=XT(null,s,c,r,o);break e}else if(m===I){s.tag=14,s=ZT(null,s,c,r,o);break e}}throw s=Oe(c)||c,Error(i(306,s,""))}}return s;case 0:return Dp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=io(c,s.pendingProps),i0(r,s,c,m,o);case 3:e:{if(lt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,ap(r,s),Ou(s,c,null,o);var w=s.memoizedState;if(c=w.cache,xs(s,sn,c),c!==g.cache&&ep(s,[sn],o,!0),Nu(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=r0(r,s,c,o);break e}else if(c!==m){m=Di(Error(i(424)),s),Ru(m),s=r0(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kt=ar(r.firstChild),qn=s,ot=!0,Xa=null,vr=!0,o=BT(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Au(),c===m){s=es(r,s,o);break e}_n(r,s,c,o)}s=s.child}return s;case 26:return af(r,s),r===null?(o=fw(s.type,null,s.pendingProps,null))?s.memoizedState=o:ot||(o=s.type,r=s.pendingProps,c=Tf(xe.current).createElement(o),c[oe]=s,c[fe]=r,Tn(c,o,r),je(c),s.stateNode=c):s.memoizedState=fw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Lt(s),r===null&&ot&&(c=s.stateNode=uw(s.type,s.pendingProps,xe.current),qn=s,vr=!0,m=kt,qs(s.type)?(yg=m,kt=ar(c.firstChild)):kt=m),_n(r,s,s.pendingProps.children,o),af(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ot&&((m=c=kt)&&(c=XM(c,s.type,s.pendingProps,vr),c!==null?(s.stateNode=c,qn=s,kt=ar(c.firstChild),vr=!1,m=!0):m=!1),m||Za(s)),Lt(s),m=s.type,g=s.pendingProps,w=r!==null?r.memoizedProps:null,c=g.children,dg(m,g)?c=null:w!==null&&dg(m,w)&&(s.flags|=32),s.memoizedState!==null&&(m=fp(r,s,pM,null,null,o),nc._currentValue=m),af(r,s),_n(r,s,c,o),s.child;case 6:return r===null&&ot&&((r=o=kt)&&(o=ZM(o,s.pendingProps,vr),o!==null?(s.stateNode=o,qn=s,kt=null,r=!0):r=!1),r||Za(s)),null;case 13:return s0(r,s,o);case 4:return lt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=al(s,null,c,o):_n(r,s,c,o),s.child;case 11:return XT(r,s,s.type,s.pendingProps,o);case 7:return _n(r,s,s.pendingProps,o),s.child;case 8:return _n(r,s,s.pendingProps.children,o),s.child;case 12:return _n(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,xs(s,s.type,c.value),_n(r,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,eo(s),m=Dn(m),c=c(m),s.flags|=1,_n(r,s,c,o),s.child;case 14:return ZT(r,s,s.type,s.pendingProps,o);case 15:return JT(r,s,s.type,s.pendingProps,o);case 19:return o0(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=of(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Wr(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return e0(r,s,o);case 24:return eo(s),c=Dn(sn),r===null?(m=ip(),m===null&&(m=wt,g=tp(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},sp(s),xs(s,sn,m)):((r.lanes&o)!==0&&(ap(r,s),Ou(s,null,null,o),Nu()),m=r.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),xs(s,sn,c)):(c=g.cache,xs(s,sn,c),c!==m.cache&&ep(s,[sn],o,!0))),_n(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ts(r){r.flags|=4}function u0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!yw(s)){if(s=Oi.current,s!==null&&((it&4194048)===it?_r!==null:(it&62914560)!==it&&(it&536870912)===0||s!==_r))throw Mu=rp,KE;r.flags|=8192}}function lf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?pr():536870912,r.lanes|=s,cl|=s)}function zu(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function bM(r,s,o){var c=s.pendingProps;switch(Qm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Xr(sn),ii(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(bu(s)?ts(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zE())),Nt(s),null;case 26:return o=s.memoizedState,r===null?(ts(s),o!==null?(Nt(s),u0(s,o)):(Nt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(ts(s),Nt(s),u0(s,o)):(Nt(s),s.flags&=-16777217):(r.memoizedProps!==c&&ts(s),Nt(s),s.flags&=-16777217),null;case 27:ri(s),o=xe.current;var m=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ts(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}r=Ee.current,bu(s)?jE(s):(r=uw(m,c,o),s.stateNode=r,ts(s))}return Nt(s),null;case 5:if(ri(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&ts(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}if(r=Ee.current,bu(s))jE(s);else{switch(m=Tf(xe.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[oe]=s,r[fe]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=r;e:switch(Tn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ts(s)}}return Nt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&ts(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=xe.current,bu(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,m=qn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[oe]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||nw(r.nodeValue,o)),r||Za(s)}else r=Tf(r).createTextNode(c),r[oe]=s,s.stateNode=r}return Nt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=bu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[oe]=s}else Au(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),m=!1}else m=zE(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Jr(s),s):(Jr(s),null)}if(Jr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),lf(s,s.updateQueue),Nt(s),null;case 4:return ii(),r===null&&lg(s.stateNode.containerInfo),Nt(s),null;case 10:return Xr(s.type),Nt(s),null;case 19:if(ge(an),m=s.memoizedState,m===null)return Nt(s),null;if(c=(s.flags&128)!==0,g=m.rendering,g===null)if(c)zu(m,!1);else{if(Ut!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=nf(r),g!==null){for(s.flags|=128,zu(m,!1),r=g.updateQueue,s.updateQueue=r,lf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)kE(o,r),o=o.sibling;return de(an,an.current&1|2),s.child}r=r.sibling}m.tail!==null&&yn()>hf&&(s.flags|=128,c=!0,zu(m,!1),s.lanes=4194304)}else{if(!c)if(r=nf(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,lf(s,r),zu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!g.alternate&&!ot)return Nt(s),null}else 2*yn()-m.renderingStartTime>hf&&o!==536870912&&(s.flags|=128,c=!0,zu(m,!1),s.lanes=4194304);m.isBackwards?(g.sibling=s.child,s.child=g):(r=m.last,r!==null?r.sibling=g:s.child=g,m.last=g)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=yn(),s.sibling=null,r=an.current,de(an,c?r&1|2:r&1),s):(Nt(s),null);case 22:case 23:return Jr(s),cp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),o=s.updateQueue,o!==null&&lf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ge(to),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Xr(sn),Nt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function AM(r,s){switch(Qm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Xr(sn),ii(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ri(s),null;case 13:if(Jr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Au()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ge(an),null;case 4:return ii(),null;case 10:return Xr(s.type),null;case 22:case 23:return Jr(s),cp(),r!==null&&ge(to),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Xr(sn),null;case 25:return null;default:return null}}function c0(r,s){switch(Qm(s),s.tag){case 3:Xr(sn),ii();break;case 26:case 27:case 5:ri(s);break;case 4:ii();break;case 13:Jr(s);break;case 19:ge(an);break;case 10:Xr(s.type);break;case 22:case 23:Jr(s),cp(),r!==null&&ge(to);break;case 24:Xr(sn)}}function Fu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var g=o.create,w=o.inst;c=g(),w.destroy=c}o=o.next}while(o!==m)}}catch(S){vt(s,s.return,S)}}function Ls(r,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&r)===r){var w=c.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,m=s;var V=o,X=S;try{X()}catch(re){vt(m,V,re)}}}c=c.next}while(c!==g)}}catch(re){vt(s,s.return,re)}}function h0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{ZE(s,o)}catch(c){vt(r,r.return,c)}}}function f0(r,s,o){o.props=io(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){vt(r,s,c)}}function Hu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){vt(r,s,m)}}function Er(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){vt(r,s,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){vt(r,s,m)}else o.current=null}function d0(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){vt(r,r.return,m)}}function Up(r,s,o){try{var c=r.stateNode;KM(c,r.type,o,s),c[fe]=s}catch(m){vt(r,r.return,m)}}function m0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&qs(r.type)||r.tag===4}function jp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||m0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&qs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ef));else if(c!==4&&(c===27&&qs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Bp(r,s,o),r=r.sibling;r!==null;)Bp(r,s,o),r=r.sibling}function uf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&qs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(uf(r,s,o),r=r.sibling;r!==null;)uf(r,s,o),r=r.sibling}function p0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Tn(s,c,o),s[oe]=r,s[fe]=o}catch(g){vt(r,r.return,g)}}var ns=!1,qt=!1,zp=!1,g0=typeof WeakSet=="function"?WeakSet:Set,dn=null;function RM(r,s){if(r=r.containerInfo,hg=Cf,r=CE(r),jm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,S=-1,V=-1,X=0,re=0,le=r,J=null;t:for(;;){for(var ee;le!==o||m!==0&&le.nodeType!==3||(S=w+m),le!==g||c!==0&&le.nodeType!==3||(V=w+c),le.nodeType===3&&(w+=le.nodeValue.length),(ee=le.firstChild)!==null;)J=le,le=ee;for(;;){if(le===r)break t;if(J===o&&++X===m&&(S=w),J===g&&++re===c&&(V=w),(ee=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=ee}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(fg={focusedElem:r,selectionRange:o},Cf=!1,dn=s;dn!==null;)if(s=dn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,dn=r;else for(;dn!==null;){switch(s=dn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var ke=io(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ke,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){vt(o,o.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)pg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,dn=r;break}dn=s.return}}function y0(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ks(r,o),c&4&&Fu(5,o);break;case 1:if(ks(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){vt(o,o.return,w)}else{var m=io(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(m,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){vt(o,o.return,w)}}c&64&&h0(o),c&512&&Hu(o,o.return);break;case 3:if(ks(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{ZE(r,s)}catch(w){vt(o,o.return,w)}}break;case 27:s===null&&c&4&&p0(o);case 26:case 5:ks(r,o),s===null&&c&4&&d0(o),c&512&&Hu(o,o.return);break;case 12:ks(r,o);break;case 13:ks(r,o),c&4&&E0(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=VM.bind(null,o),JM(r,o))));break;case 22:if(c=o.memoizedState!==null||ns,!c){s=s!==null&&s.memoizedState!==null||qt,m=ns;var g=qt;ns=c,(qt=s)&&!g?Us(r,o,(o.subtreeFlags&8772)!==0):ks(r,o),ns=m,qt=g}break;case 30:break;default:ks(r,o)}}function v0(r){var s=r.alternate;s!==null&&(r.alternate=null,v0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ae(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xt=null,Yn=!1;function is(r,s,o){for(o=o.child;o!==null;)_0(r,s,o),o=o.sibling}function _0(r,s,o){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(vn,o)}catch{}switch(o.tag){case 26:qt||Er(o,s),is(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:qt||Er(o,s);var c=xt,m=Yn;qs(o.type)&&(xt=o.stateNode,Yn=!1),is(r,s,o),Zu(o.stateNode),xt=c,Yn=m;break;case 5:qt||Er(o,s);case 6:if(c=xt,m=Yn,xt=null,is(r,s,o),xt=c,Yn=m,xt!==null)if(Yn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(g){vt(o,s,g)}else try{xt.removeChild(o.stateNode)}catch(g){vt(o,s,g)}break;case 18:xt!==null&&(Yn?(r=xt,ow(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ac(r)):ow(xt,o.stateNode));break;case 4:c=xt,m=Yn,xt=o.stateNode.containerInfo,Yn=!0,is(r,s,o),xt=c,Yn=m;break;case 0:case 11:case 14:case 15:qt||Ls(2,o,s),qt||Ls(4,o,s),is(r,s,o);break;case 1:qt||(Er(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&f0(o,s,c)),is(r,s,o);break;case 21:is(r,s,o);break;case 22:qt=(c=qt)||o.memoizedState!==null,is(r,s,o),qt=c;break;default:is(r,s,o)}}function E0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ac(r)}catch(o){vt(s,s.return,o)}}function CM(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new g0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new g0),s;default:throw Error(i(435,r.tag))}}function Fp(r,s){var o=CM(r);s.forEach(function(c){var m=LM.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function pi(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=r,w=s,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(qs(S.type)){xt=S.stateNode,Yn=!1;break e}break;case 5:xt=S.stateNode,Yn=!1;break e;case 3:case 4:xt=S.stateNode.containerInfo,Yn=!0;break e}S=S.return}if(xt===null)throw Error(i(160));_0(g,w,m),xt=null,Yn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)T0(s,r),s=s.sibling}var sr=null;function T0(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:pi(s,r),gi(r),c&4&&(Ls(3,r,r.return),Fu(3,r),Ls(5,r,r.return));break;case 1:pi(s,r),gi(r),c&512&&(qt||o===null||Er(o,o.return)),c&64&&ns&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=sr;if(pi(s,r),gi(r),c&512&&(qt||o===null||Er(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Te]||g[oe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Tn(g,c,o),g[oe]=r,je(g),c=g;break e;case"link":var w=pw("link","href",m).get(c+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}g=m.createElement(c),Tn(g,c,o),m.head.appendChild(g);break;case"meta":if(w=pw("meta","content",m).get(c+(o.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}g=m.createElement(c),Tn(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[oe]=r,je(g),c=g}r.stateNode=c}else gw(m,r.type,r.stateNode);else r.stateNode=mw(m,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?gw(m,r.type,r.stateNode):mw(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Up(r,r.memoizedProps,o.memoizedProps)}break;case 27:pi(s,r),gi(r),c&512&&(qt||o===null||Er(o,o.return)),o!==null&&c&4&&Up(r,r.memoizedProps,o.memoizedProps);break;case 5:if(pi(s,r),gi(r),c&512&&(qt||o===null||Er(o,o.return)),r.flags&32){m=r.stateNode;try{Ii(m,"")}catch(ee){vt(r,r.return,ee)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,Up(r,m,o!==null?o.memoizedProps:m)),c&1024&&(zp=!0);break;case 6:if(pi(s,r),gi(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ee){vt(r,r.return,ee)}}break;case 3:if(bf=null,m=sr,sr=wf(s.containerInfo),pi(s,r),sr=m,gi(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ac(s.containerInfo)}catch(ee){vt(r,r.return,ee)}zp&&(zp=!1,w0(r));break;case 4:c=sr,sr=wf(r.stateNode.containerInfo),pi(s,r),gi(r),sr=c;break;case 12:pi(s,r),gi(r);break;case 13:pi(s,r),gi(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($p=yn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Fp(r,c)));break;case 22:m=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,X=ns,re=qt;if(ns=X||m,qt=re||V,pi(s,r),qt=re,ns=X,gi(r),c&8192)e:for(s=r.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||V||ns||qt||ro(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,m)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=V.stateNode;var le=V.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){vt(V,V.return,ee)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(ee){vt(V,V.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Fp(r,o))));break;case 19:pi(s,r),gi(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Fp(r,c)));break;case 30:break;case 21:break;default:pi(s,r),gi(r)}}function gi(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(m0(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=jp(r);uf(r,g,m);break;case 5:var w=o.stateNode;o.flags&32&&(Ii(w,""),o.flags&=-33);var S=jp(r);uf(r,S,w);break;case 3:case 4:var V=o.stateNode.containerInfo,X=jp(r);Bp(r,X,V);break;default:throw Error(i(161))}}catch(re){vt(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function w0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;w0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ks(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)y0(r,s.alternate,s),s=s.sibling}function ro(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ls(4,s,s.return),ro(s);break;case 1:Er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&f0(s,s.return,o),ro(s);break;case 27:Zu(s.stateNode);case 26:case 5:Er(s,s.return),ro(s);break;case 22:s.memoizedState===null&&ro(s);break;case 30:ro(s);break;default:ro(s)}r=r.sibling}}function Us(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=r,g=s,w=g.flags;switch(g.tag){case 0:case 11:case 15:Us(m,g,o),Fu(4,g);break;case 1:if(Us(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(X){vt(c,c.return,X)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)XE(V[m],S)}catch(X){vt(c,c.return,X)}}o&&w&64&&h0(g),Hu(g,g.return);break;case 27:p0(g);case 26:case 5:Us(m,g,o),o&&c===null&&w&4&&d0(g),Hu(g,g.return);break;case 12:Us(m,g,o);break;case 13:Us(m,g,o),o&&w&4&&E0(m,g);break;case 22:g.memoizedState===null&&Us(m,g,o),Hu(g,g.return);break;case 30:break;default:Us(m,g,o)}s=s.sibling}}function Hp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Iu(o))}function qp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Iu(r))}function Tr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)S0(r,s,o,c),s=s.sibling}function S0(r,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Tr(r,s,o,c),m&2048&&Fu(9,s);break;case 1:Tr(r,s,o,c);break;case 3:Tr(r,s,o,c),m&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Iu(r)));break;case 12:if(m&2048){Tr(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){vt(s,s.return,V)}}else Tr(r,s,o,c);break;case 13:Tr(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,w=s.alternate,s.memoizedState!==null?g._visibility&2?Tr(r,s,o,c):qu(r,s):g._visibility&2?Tr(r,s,o,c):(g._visibility|=2,ol(r,s,o,c,(s.subtreeFlags&10256)!==0)),m&2048&&Hp(w,s);break;case 24:Tr(r,s,o,c),m&2048&&qp(s.alternate,s);break;default:Tr(r,s,o,c)}}function ol(r,s,o,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,w=s,S=o,V=c,X=w.flags;switch(w.tag){case 0:case 11:case 15:ol(g,w,S,V,m),Fu(8,w);break;case 23:break;case 22:var re=w.stateNode;w.memoizedState!==null?re._visibility&2?ol(g,w,S,V,m):qu(g,w):(re._visibility|=2,ol(g,w,S,V,m)),m&&X&2048&&Hp(w.alternate,w);break;case 24:ol(g,w,S,V,m),m&&X&2048&&qp(w.alternate,w);break;default:ol(g,w,S,V,m)}s=s.sibling}}function qu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,m=c.flags;switch(c.tag){case 22:qu(o,c),m&2048&&Hp(c.alternate,c);break;case 24:qu(o,c),m&2048&&qp(c.alternate,c);break;default:qu(o,c)}s=s.sibling}}var Gu=8192;function ll(r){if(r.subtreeFlags&Gu)for(r=r.child;r!==null;)b0(r),r=r.sibling}function b0(r){switch(r.tag){case 26:ll(r),r.flags&Gu&&r.memoizedState!==null&&fP(sr,r.memoizedState,r.memoizedProps);break;case 5:ll(r);break;case 3:case 4:var s=sr;sr=wf(r.stateNode.containerInfo),ll(r),sr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Gu,Gu=16777216,ll(r),Gu=s):ll(r));break;default:ll(r)}}function A0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ku(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];dn=c,C0(c,r)}A0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R0(r),r=r.sibling}function R0(r){switch(r.tag){case 0:case 11:case 15:Ku(r),r.flags&2048&&Ls(9,r,r.return);break;case 3:Ku(r);break;case 12:Ku(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,cf(r)):Ku(r);break;default:Ku(r)}}function cf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];dn=c,C0(c,r)}A0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ls(8,s,s.return),cf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,cf(s));break;default:cf(s)}r=r.sibling}}function C0(r,s){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:Ls(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Iu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,dn=c;else e:for(o=r;dn!==null;){c=dn;var m=c.sibling,g=c.return;if(v0(c),c===o){dn=null;break e}if(m!==null){m.return=g,dn=m;break e}dn=g}}}var IM={getCacheForType:function(r){var s=Dn(sn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},xM=typeof WeakMap=="function"?WeakMap:Map,ft=0,wt=null,Xe=null,it=0,dt=0,yi=null,js=!1,ul=!1,Gp=!1,rs=0,Ut=0,Bs=0,so=0,Kp=0,Vi=0,cl=0,Wu=null,Qn=null,Wp=!1,$p=0,hf=1/0,ff=null,zs=null,En=0,Fs=null,hl=null,fl=0,Yp=0,Qp=null,I0=null,$u=0,Xp=null;function vi(){if((ft&2)!==0&&it!==0)return it&-it;if(Z.T!==null){var r=Jo;return r!==0?r:rg()}return B()}function x0(){Vi===0&&(Vi=(it&536870912)===0||ot?zr():536870912);var r=Oi.current;return r!==null&&(r.flags|=32),Vi}function _i(r,s,o){(r===wt&&(dt===2||dt===9)||r.cancelPendingCommit!==null)&&(dl(r,0),Hs(r,it,Vi,!1)),Mt(r,o),((ft&2)===0||r!==wt)&&(r===wt&&((ft&2)===0&&(so|=o),Ut===4&&Hs(r,it,Vi,!1)),wr(r))}function D0(r,s,o){if((ft&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||li(r,s),m=c?PM(r,s):eg(r,s,!0),g=c;do{if(m===0){ul&&!c&&Hs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!DM(o)){m=eg(r,s,!1),g=!1;continue}if(m===2){if(g=s,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var S=r;m=Wu;var V=S.current.memoizedState.isDehydrated;if(V&&(dl(S,w).flags|=256),w=eg(S,w,!1),w!==2){if(Gp&&!V){S.errorRecoveryDisabledLanes|=g,so|=g,m=4;break e}g=Qn,Qn=m,g!==null&&(Qn===null?Qn=g:Qn.push.apply(Qn,g))}m=w}if(g=!1,m!==2)continue}}if(m===1){dl(r,0),Hs(r,s,0,!0);break}e:{switch(c=r,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Hs(c,s,Vi,!js);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(m=$p+300-yn(),10<m)){if(Hs(c,s,Vi,!js),Un(c,0,!0)!==0)break e;c.timeoutHandle=sw(M0.bind(null,c,o,Qn,ff,Wp,s,Vi,so,cl,js,g,2,-0,0),m);break e}M0(c,o,Qn,ff,Wp,s,Vi,so,cl,js,g,0,-0,0)}}break}while(!0);wr(r)}function M0(r,s,o,c,m,g,w,S,V,X,re,le,J,ee){if(r.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(tc={stylesheets:null,count:0,unsuspend:hP},b0(s),le=dP(),le!==null)){r.cancelPendingCommit=le(U0.bind(null,r,s,g,o,c,m,w,S,V,re,1,J,ee)),Hs(r,g,w,!X);return}U0(r,s,g,o,c,m,w,S,V)}function DM(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!di(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(r,s,o,c){s&=~Kp,s&=~so,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var m=s;0<m;){var g=31-tn(m),w=1<<g;c[g]=-1,m&=~w}o!==0&&ui(r,o,s)}function df(){return(ft&6)===0?(Yu(0),!1):!0}function Zp(){if(Xe!==null){if(dt===0)var r=Xe.return;else r=Xe,Qr=Ja=null,pp(r),sl=null,ju=0,r=Xe;for(;r!==null;)c0(r.alternate,r),r=r.return;Xe=null}}function dl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,$M(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Zp(),wt=r,Xe=o=Wr(r.current,null),it=s,dt=0,yi=null,js=!1,ul=li(r,s),Gp=!1,cl=Vi=Kp=so=Bs=Ut=0,Qn=Wu=null,Wp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var m=31-tn(c),g=1<<m;s|=r[m],c&=~g}return rs=s,Oh(),o}function P0(r,s){$e=null,Z.H=Jh,s===Du||s===Hh?(s=YE(),dt=3):s===KE?(s=YE(),dt=4):dt=s===QT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,yi=s,Xe===null&&(Ut=1,sf(r,Di(s,r.current)))}function N0(){var r=Z.H;return Z.H=Jh,r===null?Jh:r}function O0(){var r=Z.A;return Z.A=IM,r}function Jp(){Ut=4,js||(it&4194048)!==it&&Oi.current!==null||(ul=!0),(Bs&134217727)===0&&(so&134217727)===0||wt===null||Hs(wt,it,Vi,!1)}function eg(r,s,o){var c=ft;ft|=2;var m=N0(),g=O0();(wt!==r||it!==s)&&(ff=null,dl(r,s)),s=!1;var w=Ut;e:do try{if(dt!==0&&Xe!==null){var S=Xe,V=yi;switch(dt){case 8:Zp(),w=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(s=!0);var X=dt;if(dt=0,yi=null,ml(r,S,V,X),o&&ul){w=0;break e}break;default:X=dt,dt=0,yi=null,ml(r,S,V,X)}}MM(),w=Ut;break}catch(re){P0(r,re)}while(!0);return s&&r.shellSuspendCounter++,Qr=Ja=null,ft=c,Z.H=m,Z.A=g,Xe===null&&(wt=null,it=0,Oh()),w}function MM(){for(;Xe!==null;)V0(Xe)}function PM(r,s){var o=ft;ft|=2;var c=N0(),m=O0();wt!==r||it!==s?(ff=null,hf=yn()+500,dl(r,s)):ul=li(r,s);e:do try{if(dt!==0&&Xe!==null){s=Xe;var g=yi;t:switch(dt){case 1:dt=0,yi=null,ml(r,s,g,1);break;case 2:case 9:if(WE(g)){dt=0,yi=null,L0(s);break}s=function(){dt!==2&&dt!==9||wt!==r||(dt=7),wr(r)},g.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:WE(g)?(dt=0,yi=null,L0(s)):(dt=0,yi=null,ml(r,s,g,7));break;case 5:var w=null;switch(Xe.tag){case 26:w=Xe.memoizedState;case 5:case 27:var S=Xe;if(!w||yw(w)){dt=0,yi=null;var V=S.sibling;if(V!==null)Xe=V;else{var X=S.return;X!==null?(Xe=X,mf(X)):Xe=null}break t}}dt=0,yi=null,ml(r,s,g,5);break;case 6:dt=0,yi=null,ml(r,s,g,6);break;case 8:Zp(),Ut=6;break e;default:throw Error(i(462))}}NM();break}catch(re){P0(r,re)}while(!0);return Qr=Ja=null,Z.H=c,Z.A=m,ft=o,Xe!==null?0:(wt=null,it=0,Oh(),Ut)}function NM(){for(;Xe!==null&&!su();)V0(Xe)}function V0(r){var s=l0(r.alternate,r,rs);r.memoizedProps=r.pendingProps,s===null?mf(r):Xe=s}function L0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=n0(o,s,s.pendingProps,s.type,void 0,it);break;case 11:s=n0(o,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:pp(s);default:c0(o,s),s=Xe=kE(s,rs),s=l0(o,s,rs)}r.memoizedProps=r.pendingProps,s===null?mf(r):Xe=s}function ml(r,s,o,c){Qr=Ja=null,pp(s),sl=null,ju=0;var m=s.return;try{if(wM(r,m,s,o,it)){Ut=1,sf(r,Di(o,r.current)),Xe=null;return}}catch(g){if(m!==null)throw Xe=m,g;Ut=1,sf(r,Di(o,r.current)),Xe=null;return}s.flags&32768?(ot||c===1?r=!0:ul||(it&536870912)!==0?r=!1:(js=r=!0,(c===2||c===9||c===3||c===6)&&(c=Oi.current,c!==null&&c.tag===13&&(c.flags|=16384))),k0(s,r)):mf(s)}function mf(r){var s=r;do{if((s.flags&32768)!==0){k0(s,js);return}r=s.return;var o=bM(s.alternate,s,rs);if(o!==null){Xe=o;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);Ut===0&&(Ut=5)}function k0(r,s){do{var o=AM(r.alternate,r);if(o!==null){o.flags&=32767,Xe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Xe=r;return}Xe=r=o}while(r!==null);Ut=6,Xe=null}function U0(r,s,o,c,m,g,w,S,V){r.cancelPendingCommit=null;do pf();while(En!==0);if((ft&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=qm,Da(r,o,g,w,S,V),r===wt&&(Xe=wt=null,it=0),hl=s,Fs=r,fl=o,Yp=g,Qp=m,I0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,kM(Ki,function(){return H0(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=he.p,he.p=2,w=ft,ft|=4;try{RM(r,s,o)}finally{ft=w,he.p=m,Z.T=c}}En=1,j0(),B0(),z0()}}function j0(){if(En===1){En=0;var r=Fs,s=hl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=he.p;he.p=2;var m=ft;ft|=4;try{T0(s,r);var g=fg,w=CE(r.containerInfo),S=g.focusedElem,V=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&RE(S.ownerDocument.documentElement,S)){if(V!==null&&jm(S)){var X=V.start,re=V.end;if(re===void 0&&(re=X),"selectionStart"in S)S.selectionStart=X,S.selectionEnd=Math.min(re,S.value.length);else{var le=S.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ke=S.textContent.length,Pe=Math.min(V.start,ke),yt=V.end===void 0?Pe:Math.min(V.end,ke);!ee.extend&&Pe>yt&&(w=yt,yt=Pe,Pe=w);var K=AE(S,Pe),q=AE(S,yt);if(K&&q&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==q.node||ee.focusOffset!==q.offset)){var Y=le.createRange();Y.setStart(K.node,K.offset),ee.removeAllRanges(),Pe>yt?(ee.addRange(Y),ee.extend(q.node,q.offset)):(Y.setEnd(q.node,q.offset),ee.addRange(Y))}}}}for(le=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<le.length;S++){var ae=le[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Cf=!!hg,fg=hg=null}finally{ft=m,he.p=c,Z.T=o}}r.current=s,En=2}}function B0(){if(En===2){En=0;var r=Fs,s=hl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=he.p;he.p=2;var m=ft;ft|=4;try{y0(r,s.alternate,s)}finally{ft=m,he.p=c,Z.T=o}}En=3}}function z0(){if(En===4||En===3){En=0,Ia();var r=Fs,s=hl,o=fl,c=I0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?En=5:(En=0,hl=Fs=null,F0(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(zs=null),Pa(o),s=s.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(vn,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Z.T,m=he.p,he.p=2,Z.T=null;try{for(var g=r.onRecoverableError,w=0;w<c.length;w++){var S=c[w];g(S.value,{componentStack:S.stack})}}finally{Z.T=s,he.p=m}}(fl&3)!==0&&pf(),wr(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Xp?$u++:($u=0,Xp=r):$u=0,Yu(0)}}function F0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Iu(s)))}function pf(r){return j0(),B0(),z0(),H0()}function H0(){if(En!==5)return!1;var r=Fs,s=Yp;Yp=0;var o=Pa(fl),c=Z.T,m=he.p;try{he.p=32>o?32:o,Z.T=null,o=Qp,Qp=null;var g=Fs,w=fl;if(En=0,hl=Fs=null,fl=0,(ft&6)!==0)throw Error(i(331));var S=ft;if(ft|=4,R0(g.current),S0(g,g.current,w,o),ft=S,Yu(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(vn,g)}catch{}return!0}finally{he.p=m,Z.T=c,F0(r,s)}}function q0(r,s,o){s=Di(o,s),s=xp(r.stateNode,s,2),r=Ps(r,s,2),r!==null&&(Mt(r,2),wr(r))}function vt(r,s,o){if(r.tag===3)q0(r,r,o);else for(;s!==null;){if(s.tag===3){q0(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zs===null||!zs.has(c))){r=Di(o,r),o=$T(2),c=Ps(s,o,2),c!==null&&(YT(o,c,s,r),Mt(c,2),wr(c));break}}s=s.return}}function tg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new xM;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Gp=!0,m.add(o),r=OM.bind(null,r,s,o),s.then(r,r))}function OM(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,wt===r&&(it&o)===o&&(Ut===4||Ut===3&&(it&62914560)===it&&300>yn()-$p?(ft&2)===0&&dl(r,0):Kp|=o,cl===it&&(cl=0)),wr(r)}function G0(r,s){s===0&&(s=pr()),r=Yo(r,s),r!==null&&(Mt(r,s),wr(r))}function VM(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),G0(r,o)}function LM(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),G0(r,o)}function kM(r,s){return jr(r,s)}var gf=null,pl=null,ng=!1,yf=!1,ig=!1,ao=0;function wr(r){r!==pl&&r.next===null&&(pl===null?gf=pl=r:pl=pl.next=r),yf=!0,ng||(ng=!0,jM())}function Yu(r,s){if(!ig&&yf){ig=!0;do for(var o=!1,c=gf;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var w=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-tn(42|r)+1)-1,g&=m&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Y0(c,g))}else g=it,g=Un(c,c===wt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||li(c,g)||(o=!0,Y0(c,g));c=c.next}while(o);ig=!1}}function UM(){K0()}function K0(){yf=ng=!1;var r=0;ao!==0&&(WM()&&(r=ao),ao=0);for(var s=yn(),o=null,c=gf;c!==null;){var m=c.next,g=W0(c,s);g===0?(c.next=null,o===null?gf=m:o.next=m,m===null&&(pl=o)):(o=c,(r!==0||(g&3)!==0)&&(yf=!0)),c=m}Yu(r)}function W0(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-tn(g),S=1<<w,V=m[w];V===-1?((S&o)===0||(S&c)!==0)&&(m[w]=Br(S,s)):V<=s&&(r.expiredLanes|=S),g&=~S}if(s=wt,o=it,o=Un(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(dt===2||dt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Kn(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||li(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Kn(c),Pa(o)){case 2:case 8:o=Kt;break;case 32:o=Ki;break;case 268435456:o=$i;break;default:o=Ki}return c=$0.bind(null,r),o=jr(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Kn(c),r.callbackPriority=2,r.callbackNode=null,2}function $0(r,s){if(En!==0&&En!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(pf()&&r.callbackNode!==o)return null;var c=it;return c=Un(r,r===wt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(D0(r,c,s),W0(r,yn()),r.callbackNode!=null&&r.callbackNode===o?$0.bind(null,r):null)}function Y0(r,s){if(pf())return null;D0(r,s,!0)}function jM(){YM(function(){(ft&6)!==0?jr(zt,UM):K0()})}function rg(){return ao===0&&(ao=zr()),ao}function Q0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:er(""+r)}function X0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function BM(r,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=Q0((m[fe]||null).action),w=c.submitter;w&&(s=(s=w[fe]||null)?Q0(s.formAction):w.getAttribute("formAction"),s!==null&&(g=s,w=null));var S=new ja("action","action",null,c,m);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ao!==0){var V=w?X0(m,w):new FormData(m);bp(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=w?X0(m,w):new FormData(m),bp(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var sg=0;sg<Hm.length;sg++){var ag=Hm[sg],zM=ag.toLowerCase(),FM=ag[0].toUpperCase()+ag.slice(1);rr(zM,"on"+FM)}rr(DE,"onAnimationEnd"),rr(ME,"onAnimationIteration"),rr(PE,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(sM,"onTransitionRun"),rr(aM,"onTransitionStart"),rr(oM,"onTransitionCancel"),rr(NE,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Z0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var S=c[w],V=S.instance,X=S.currentTarget;if(S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=X;try{g(m)}catch(re){rf(re)}m.currentTarget=null,g=V}else for(w=0;w<c.length;w++){if(S=c[w],V=S.instance,X=S.currentTarget,S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=X;try{g(m)}catch(re){rf(re)}m.currentTarget=null,g=V}}}}function Ze(r,s){var o=s[Se];o===void 0&&(o=s[Se]=new Set);var c=r+"__bubble";o.has(c)||(J0(s,r,2,!1),o.add(c))}function og(r,s,o){var c=0;s&&(c|=4),J0(o,r,c,s)}var vf="_reactListening"+Math.random().toString(36).slice(2);function lg(r){if(!r[vf]){r[vf]=!0,ut.forEach(function(o){o!=="selectionchange"&&(HM.has(o)||og(o,!1,r),og(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vf]||(s[vf]=!0,og("selectionchange",!1,s))}}function J0(r,s,o,c){switch(Sw(s)){case 2:var m=gP;break;case 8:m=yP;break;default:m=wg}o=m.bind(null,s,o,r),m=void 0,!Gr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(s,o,{capture:!0,passive:m}):r.addEventListener(s,o,!0):m!==void 0?r.addEventListener(s,o,{passive:m}):r.addEventListener(s,o,!1)}function ug(r,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var S=c.stateNode.containerInfo;if(S===m)break;if(w===4)for(w=c.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;S!==null;){if(w=ze(S),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){c=g=w;continue e}S=S.parentNode}}c=c.return}La(function(){var X=g,re=du(o),le=[];e:{var J=OE.get(r);if(J!==void 0){var ee=ja,ke=r;switch(r){case"keypress":if(ka(o)===0)break e;case"keydown":case"keyup":ee=Go;break;case"focusin":ke="focus",ee=Fo;break;case"focusout":ke="blur",ee=Fo;break;case"beforeblur":case"afterblur":ee=Fo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Is;break;case DE:case ME:case PE:ee=pu;break;case NE:ee=v;break;case"scroll":case"scrollend":ee=za;break;case"wheel":ee=C;break;case"copy":case"cut":case"paste":ee=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=vu;break;case"toggle":case"beforetoggle":ee=ne}var Pe=(s&4)!==0,yt=!Pe&&(r==="scroll"||r==="scrollend"),K=Pe?J!==null?J+"Capture":null:J;Pe=[];for(var q=X,Y;q!==null;){var ae=q;if(Y=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Y===null||K===null||(ae=Rs(q,K),ae!=null&&Pe.push(Xu(q,ae,Y))),yt)break;q=q.return}0<Pe.length&&(J=new ee(J,ke,null,o,re),le.push({event:J,listeners:Pe}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",J&&o!==fu&&(ke=o.relatedTarget||o.fromElement)&&(ze(ke)||ke[_e]))break e;if((ee||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ke=o.relatedTarget||o.toElement,ee=X,ke=ke?ze(ke):null,ke!==null&&(yt=l(ke),Pe=ke.tag,ke!==yt||Pe!==5&&Pe!==27&&Pe!==6)&&(ke=null)):(ee=null,ke=X),ee!==ke)){if(Pe=qa,ae="onMouseLeave",K="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=vu,ae="onPointerLeave",K="onPointerEnter",q="pointer"),yt=ee==null?J:St(ee),Y=ke==null?J:St(ke),J=new Pe(ae,q+"leave",ee,o,re),J.target=yt,J.relatedTarget=Y,ae=null,ze(re)===X&&(Pe=new Pe(K,q+"enter",ke,o,re),Pe.target=Y,Pe.relatedTarget=yt,ae=Pe),yt=ae,ee&&ke)t:{for(Pe=ee,K=ke,q=0,Y=Pe;Y;Y=gl(Y))q++;for(Y=0,ae=K;ae;ae=gl(ae))Y++;for(;0<q-Y;)Pe=gl(Pe),q--;for(;0<Y-q;)K=gl(K),Y--;for(;q--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=gl(Pe),K=gl(K)}Pe=null}else Pe=null;ee!==null&&ew(le,J,ee,Pe,!1),ke!==null&&yt!==null&&ew(le,yt,ke,Pe,!0)}}e:{if(J=X?St(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var we=_E;else if(yE(J))if(EE)we=nM;else{we=eM;var Ye=JD}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&jo(X.elementType)&&(we=_E):we=tM;if(we&&(we=we(r,X))){vE(le,we,o,re);break e}Ye&&Ye(r,J,X),r==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&uu(J,"number",J.value)}switch(Ye=X?St(X):window,r){case"focusin":(yE(Ye)||Ye.contentEditable==="true")&&(Ko=Ye,Bm=X,Su=null);break;case"focusout":Su=Bm=Ko=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,IE(le,o,re);break;case"selectionchange":if(rM)break;case"keydown":case"keyup":IE(le,o,re)}var Ie;if(Fe)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else ir?tr(r,o)&&(Ne="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(Ft&&o.locale!=="ko"&&(ir||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&ir&&(Ie=bh()):(xi=re,Tt="value"in xi?xi.value:xi.textContent,ir=!0)),Ye=_f(X,Ne),0<Ye.length&&(Ne=new yu(Ne,r,null,o,re),le.push({event:Ne,listeners:Ye}),Ie?Ne.data=Ie:(Ie=nr(o),Ie!==null&&(Ne.data=Ie)))),(Ie=ht?_u(r,o):QD(r,o))&&(Ne=_f(X,"onBeforeInput"),0<Ne.length&&(Ye=new yu("onBeforeInput","beforeinput",null,o,re),le.push({event:Ye,listeners:Ne}),Ye.data=Ie)),BM(le,r,X,o,re)}Z0(le,s)})}function Xu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function _f(r,s){for(var o=s+"Capture",c=[];r!==null;){var m=r,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Rs(r,o),m!=null&&c.unshift(Xu(r,m,g)),m=Rs(r,s),m!=null&&c.push(Xu(r,m,g))),r.tag===3)return c;r=r.return}return[]}function gl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ew(r,s,o,c,m){for(var g=s._reactName,w=[];o!==null&&o!==c;){var S=o,V=S.alternate,X=S.stateNode;if(S=S.tag,V!==null&&V===c)break;S!==5&&S!==26&&S!==27||X===null||(V=X,m?(X=Rs(o,g),X!=null&&w.unshift(Xu(o,X,V))):m||(X=Rs(o,g),X!=null&&w.push(Xu(o,X,V)))),o=o.return}w.length!==0&&r.push({event:s,listeners:w})}var qM=/\r\n?/g,GM=/\u0000|\uFFFD/g;function tw(r){return(typeof r=="string"?r:""+r).replace(qM,`
`).replace(GM,"")}function nw(r,s){return s=tw(s),tw(r)===s}function Ef(){}function gt(r,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ii(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ii(r,""+c);break;case"className":Ci(r,"class",c);break;case"tabIndex":Ci(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(r,o,c);break;case"style":hu(r,c,g);break;case"data":if(s!=="object"){Ci(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=er(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&gt(r,s,"name",m.name,m,null),gt(r,s,"formEncType",m.formEncType,m,null),gt(r,s,"formMethod",m.formMethod,m,null),gt(r,s,"formTarget",m.formTarget,m,null)):(gt(r,s,"encType",m.encType,m,null),gt(r,s,"method",m.method,m,null),gt(r,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=er(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Ef);break;case"onScroll":c!=null&&Ze("scroll",r);break;case"onScrollEnd":c!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=er(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),Ri(r,"popover",c);break;case"xlinkActuate":qe(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qe(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qe(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qe(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qe(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qe(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qe(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qe(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qe(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ri(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Th.get(o)||o,Ri(r,o,c))}}function cg(r,s,o,c,m,g){switch(o){case"style":hu(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Ii(r,c):(typeof c=="number"||typeof c=="bigint")&&Ii(r,""+c);break;case"onScroll":c!=null&&Ze("scroll",r);break;case"onScrollEnd":c!=null&&Ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=r[fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Ri(r,o,c)}}}function Tn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(r,s,g,w,o,null)}}m&&gt(r,s,"srcSet",o.srcSet,o,null),c&&gt(r,s,"src",o.src,o,null);return;case"input":Ze("invalid",r);var S=g=w=m=null,V=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var re=o[c];if(re!=null)switch(c){case"name":m=re;break;case"type":w=re;break;case"checked":V=re;break;case"defaultChecked":X=re;break;case"value":g=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:gt(r,s,c,re,o,null)}}lu(r,g,S,V,X,w,m,!1),Ss(r);return;case"select":Ze("invalid",r),c=w=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":c=S;default:gt(r,s,m,S,o,null)}s=g,o=w,r.multiple=!!c,s!=null?bs(r,!!c,s,!1):o!=null&&bs(r,!!c,o,!0);return;case"textarea":Ze("invalid",r),g=m=c=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:gt(r,s,w,S,o,null)}Eh(r,c,m,g),Ss(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:gt(r,s,V,c,o,null)}return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(c=0;c<Qu.length;c++)Ze(Qu[c],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(r,s,X,c,o,null)}return;default:if(jo(s)){for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!==void 0&&cg(r,s,re,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&gt(r,s,S,c,o,null))}function KM(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,w=null,S=null,V=null,X=null,re=null;for(ee in o){var le=o[ee];if(o.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":V=le;default:c.hasOwnProperty(ee)||gt(r,s,ee,null,c,le)}}for(var J in c){var ee=c[J];if(le=o[J],c.hasOwnProperty(J)&&(ee!=null||le!=null))switch(J){case"type":g=ee;break;case"name":m=ee;break;case"checked":X=ee;break;case"defaultChecked":re=ee;break;case"value":w=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==le&&gt(r,s,J,ee,c,le)}}ou(r,w,S,V,X,re,g,m);return;case"select":ee=w=S=J=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":ee=V;default:c.hasOwnProperty(g)||gt(r,s,g,null,c,V)}for(m in c)if(g=c[m],V=o[m],c.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":J=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==V&&gt(r,s,m,g,c,V)}s=S,o=w,c=ee,J!=null?bs(r,!!o,J,!1):!!c!=!!o&&(s!=null?bs(r,!!o,s,!0):bs(r,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:gt(r,s,S,null,c,m)}for(w in c)if(m=c[w],g=o[w],c.hasOwnProperty(w)&&(m!=null||g!=null))switch(w){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&gt(r,s,w,m,c,g)}_h(r,J,ee);return;case"option":for(var ke in o)if(J=o[ke],o.hasOwnProperty(ke)&&J!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:gt(r,s,ke,null,c,J)}for(V in c)if(J=c[V],ee=o[V],c.hasOwnProperty(V)&&J!==ee&&(J!=null||ee!=null))switch(V){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:gt(r,s,V,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)J=o[Pe],o.hasOwnProperty(Pe)&&J!=null&&!c.hasOwnProperty(Pe)&&gt(r,s,Pe,null,c,J);for(X in c)if(J=c[X],ee=o[X],c.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:gt(r,s,X,J,c,ee)}return;default:if(jo(s)){for(var yt in o)J=o[yt],o.hasOwnProperty(yt)&&J!==void 0&&!c.hasOwnProperty(yt)&&cg(r,s,yt,void 0,c,J);for(re in c)J=c[re],ee=o[re],!c.hasOwnProperty(re)||J===ee||J===void 0&&ee===void 0||cg(r,s,re,J,c,ee);return}}for(var K in o)J=o[K],o.hasOwnProperty(K)&&J!=null&&!c.hasOwnProperty(K)&&gt(r,s,K,null,c,J);for(le in c)J=c[le],ee=o[le],!c.hasOwnProperty(le)||J===ee||J==null&&ee==null||gt(r,s,le,J,c,ee)}var hg=null,fg=null;function Tf(r){return r.nodeType===9?r:r.ownerDocument}function iw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function dg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mg=null;function WM(){var r=window.event;return r&&r.type==="popstate"?r===mg?!1:(mg=r,!0):(mg=null,!1)}var sw=typeof setTimeout=="function"?setTimeout:void 0,$M=typeof clearTimeout=="function"?clearTimeout:void 0,aw=typeof Promise=="function"?Promise:void 0,YM=typeof queueMicrotask=="function"?queueMicrotask:typeof aw<"u"?function(r){return aw.resolve(null).then(r).catch(QM)}:sw;function QM(r){setTimeout(function(){throw r})}function qs(r){return r==="head"}function ow(r,s){var o=s,c=0,m=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var w=r.ownerDocument;if(o&1&&Zu(w.documentElement),o&2&&Zu(w.body),o&4)for(o=w.head,Zu(o),w=o.firstChild;w;){var S=w.nextSibling,V=w.nodeName;w[Te]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(m===0){r.removeChild(g),ac(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);ac(s)}function pg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pg(o),Ae(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function XM(r,s,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Te])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ar(r.nextSibling),r===null)break}return null}function ZM(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ar(r.nextSibling),r===null))return null;return r}function gg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function JM(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function ar(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var yg=null;function lw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function uw(r,s,o){switch(s=Tf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Zu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ae(r)}var Li=new Map,cw=new Set;function wf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ss=he.d;he.d={f:eP,r:tP,D:nP,C:iP,L:rP,m:sP,X:oP,S:aP,M:lP};function eP(){var r=ss.f(),s=df();return r||s}function tP(r){var s=st(r);s!==null&&s.tag===5&&s.type==="form"?DT(s):ss.r(r)}var yl=typeof document>"u"?null:document;function hw(r,s,o){var c=yl;if(c&&typeof s=="string"&&s){var m=hn(s);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),cw.has(m)||(cw.add(m),r={rel:r,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Tn(s,"link",r),je(s),c.head.appendChild(s)))}}function nP(r){ss.D(r),hw("dns-prefetch",r,null)}function iP(r,s){ss.C(r,s),hw("preconnect",r,s)}function rP(r,s,o){ss.L(r,s,o);var c=yl;if(c&&r&&s){var m='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+hn(o.imageSizes)+'"]')):m+='[href="'+hn(r)+'"]';var g=m;switch(s){case"style":g=vl(r);break;case"script":g=_l(r)}Li.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Li.set(g,r),c.querySelector(m)!==null||s==="style"&&c.querySelector(Ju(g))||s==="script"&&c.querySelector(ec(g))||(s=c.createElement("link"),Tn(s,"link",r),je(s),c.head.appendChild(s)))}}function sP(r,s){ss.m(r,s);var o=yl;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+hn(c)+'"][href="'+hn(r)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=_l(r)}if(!Li.has(g)&&(r=y({rel:"modulepreload",href:r},s),Li.set(g,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ec(g)))return}c=o.createElement("link"),Tn(c,"link",r),je(c),o.head.appendChild(c)}}}function aP(r,s,o){ss.S(r,s,o);var c=yl;if(c&&r){var m=Ct(c).hoistableStyles,g=vl(r);s=s||"default";var w=m.get(g);if(!w){var S={loading:0,preload:null};if(w=c.querySelector(Ju(g)))S.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Li.get(g))&&vg(r,o);var V=w=c.createElement("link");je(V),Tn(V,"link",r),V._p=new Promise(function(X,re){V.onload=X,V.onerror=re}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Sf(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:S},m.set(g,w)}}}function oP(r,s){ss.X(r,s);var o=yl;if(o&&r){var c=Ct(o).hoistableScripts,m=_l(r),g=c.get(m);g||(g=o.querySelector(ec(m)),g||(r=y({src:r,async:!0},s),(s=Li.get(m))&&_g(r,s),g=o.createElement("script"),je(g),Tn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function lP(r,s){ss.M(r,s);var o=yl;if(o&&r){var c=Ct(o).hoistableScripts,m=_l(r),g=c.get(m);g||(g=o.querySelector(ec(m)),g||(r=y({src:r,async:!0,type:"module"},s),(s=Li.get(m))&&_g(r,s),g=o.createElement("script"),je(g),Tn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function fw(r,s,o,c){var m=(m=xe.current)?wf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=vl(o.href),o=Ct(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=vl(o.href);var g=Ct(m).hoistableStyles,w=g.get(r);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=m.querySelector(Ju(r)))&&!g._p&&(w.instance=g,w.state.loading=5),Li.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Li.set(r,o),g||uP(m,r,o,w.state))),s&&c===null)throw Error(i(528,""));return w}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_l(o),o=Ct(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function vl(r){return'href="'+hn(r)+'"'}function Ju(r){return'link[rel="stylesheet"]['+r+"]"}function dw(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function uP(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Tn(s,"link",o),je(s),r.head.appendChild(s))}function _l(r){return'[src="'+hn(r)+'"]'}function ec(r){return"script[async]"+r}function mw(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+hn(o.href)+'"]');if(c)return s.instance=c,je(c),c;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),je(c),Tn(c,"style",m),Sf(c,o.precedence,r),s.instance=c;case"stylesheet":m=vl(o.href);var g=r.querySelector(Ju(m));if(g)return s.state.loading|=4,s.instance=g,je(g),g;c=dw(o),(m=Li.get(m))&&vg(c,m),g=(r.ownerDocument||r).createElement("link"),je(g);var w=g;return w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),Tn(g,"link",c),s.state.loading|=4,Sf(g,o.precedence,r),s.instance=g;case"script":return g=_l(o.src),(m=r.querySelector(ec(g)))?(s.instance=m,je(m),m):(c=o,(m=Li.get(g))&&(c=y({},o),_g(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),je(m),Tn(m,"link",c),r.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Sf(c,o.precedence,r));return s.instance}function Sf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,w=0;w<c.length;w++){var S=c[w];if(S.dataset.precedence===s)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _g(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var bf=null;function pw(r,s,o){if(bf===null){var c=new Map,m=bf=new Map;m.set(o,c)}else m=bf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var g=o[m];if(!(g[Te]||g[oe]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(s)||"";w=r+w;var S=c.get(w);S?S.push(g):c.set(w,[g])}}return c}function gw(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function cP(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var tc=null;function hP(){}function fP(r,s,o){if(tc===null)throw Error(i(475));var c=tc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=vl(o.href),g=r.querySelector(Ju(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Af.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,je(g);return}g=r.ownerDocument||r,o=dw(o),(m=Li.get(m))&&vg(o,m),g=g.createElement("link"),je(g);var w=g;w._p=new Promise(function(S,V){w.onload=S,w.onerror=V}),Tn(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Af.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function dP(){if(tc===null)throw Error(i(475));var r=tc;return r.stylesheets&&r.count===0&&Eg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Eg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rf=null;function Eg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rf=new Map,s.forEach(mP,r),Rf=null,Af.call(r))}function mP(r,s){if(!(s.state.loading&4)){var o=Rf.get(r);if(o)var c=o.get(null);else{o=new Map,Rf.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var w=m[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}m=s.instance,w=m.getAttribute("data-precedence"),g=o.get(w)||c,g===c&&o.set(null,m),o.set(w,m),this.count++,c=Af.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),s.state.loading|=4}}var nc={$$typeof:U,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function pP(r,s,o,c,m,g,w,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fr(0),this.hiddenUpdates=Fr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function vw(r,s,o,c,m,g,w,S,V,X,re,le){return r=new pP(r,s,o,w,S,V,X,le),s=1,g===!0&&(s|=24),g=mi(3,null,null,s),r.current=g,g.stateNode=r,s=tp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},sp(g),r}function _w(r){return r?(r=Qo,r):Qo}function Ew(r,s,o,c,m,g){m=_w(m),c.context===null?c.context=m:c.pendingContext=m,c=Ms(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Ps(r,c,s),o!==null&&(_i(o,r,s),Pu(o,r,s))}function Tw(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Tg(r,s){Tw(r,s),(r=r.alternate)&&Tw(r,s)}function ww(r){if(r.tag===13){var s=Yo(r,67108864);s!==null&&_i(s,r,67108864),Tg(r,67108864)}}var Cf=!0;function gP(r,s,o,c){var m=Z.T;Z.T=null;var g=he.p;try{he.p=2,wg(r,s,o,c)}finally{he.p=g,Z.T=m}}function yP(r,s,o,c){var m=Z.T;Z.T=null;var g=he.p;try{he.p=8,wg(r,s,o,c)}finally{he.p=g,Z.T=m}}function wg(r,s,o,c){if(Cf){var m=Sg(c);if(m===null)ug(r,s,c,If,o),bw(r,c);else if(_P(m,r,s,o,c))c.stopPropagation();else if(bw(r,c),s&4&&-1<vP.indexOf(r)){for(;m!==null;){var g=st(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=oi(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var V=1<<31-tn(w);S.entanglements[1]|=V,w&=~V}wr(g),(ft&6)===0&&(hf=yn()+500,Yu(0))}}break;case 13:S=Yo(g,2),S!==null&&_i(S,g,2),df(),Tg(g,2)}if(g=Sg(c),g===null&&ug(r,s,c,If,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else ug(r,s,c,null,o)}}function Sg(r){return r=du(r),bg(r)}var If=null;function bg(r){if(If=null,r=ze(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return If=r,null}function Sw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lo()){case zt:return 2;case Kt:return 8;case Ki:case Wi:return 32;case $i:return 268435456;default:return 32}default:return 32}}var Ag=!1,Gs=null,Ks=null,Ws=null,ic=new Map,rc=new Map,$s=[],vP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bw(r,s){switch(r){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":ic.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(s.pointerId)}}function sc(r,s,o,c,m,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=st(s),s!==null&&ww(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function _P(r,s,o,c,m){switch(s){case"focusin":return Gs=sc(Gs,r,s,o,c,m),!0;case"dragenter":return Ks=sc(Ks,r,s,o,c,m),!0;case"mouseover":return Ws=sc(Ws,r,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return ic.set(g,sc(ic.get(g)||null,r,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,rc.set(g,sc(rc.get(g)||null,r,s,o,c,m)),!0}return!1}function Aw(r){var s=ze(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,$(r.priority,function(){if(o.tag===13){var c=vi();c=Ma(c);var m=Yo(o,c);m!==null&&_i(m,o,c),Tg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Sg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);fu=c,o.target.dispatchEvent(c),fu=null}else return s=st(o),s!==null&&ww(s),r.blockedOn=o,!1;s.shift()}return!0}function Rw(r,s,o){xf(r)&&o.delete(s)}function EP(){Ag=!1,Gs!==null&&xf(Gs)&&(Gs=null),Ks!==null&&xf(Ks)&&(Ks=null),Ws!==null&&xf(Ws)&&(Ws=null),ic.forEach(Rw),rc.forEach(Rw)}function Df(r,s){r.blockedOn===s&&(r.blockedOn=null,Ag||(Ag=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EP)))}var Mf=null;function Cw(r){Mf!==r&&(Mf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mf===r&&(Mf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],m=r[s+2];if(typeof c!="function"){if(bg(c||o)===null)continue;break}var g=st(o);g!==null&&(r.splice(s,3),s-=3,bp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function ac(r){function s(V){return Df(V,r)}Gs!==null&&Df(Gs,r),Ks!==null&&Df(Ks,r),Ws!==null&&Df(Ws,r),ic.forEach(s),rc.forEach(s);for(var o=0;o<$s.length;o++){var c=$s[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<$s.length&&(o=$s[0],o.blockedOn===null);)Aw(o),o.blockedOn===null&&$s.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],w=m[fe]||null;if(typeof g=="function")w||Cw(o);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,w=g[fe]||null)S=w.formAction;else if(bg(m)!==null)continue}else S=w.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),Cw(o)}}}function Rg(r){this._internalRoot=r}Pf.prototype.render=Rg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=vi();Ew(o,c,r,s,null,null)},Pf.prototype.unmount=Rg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ew(r.current,2,null,r,null,null),df(),s[_e]=null}};function Pf(r){this._internalRoot=r}Pf.prototype.unstable_scheduleHydration=function(r){if(r){var s=B();r={blockedOn:null,target:r,priority:s};for(var o=0;o<$s.length&&s!==0&&s<$s[o].priority;o++);$s.splice(o,0,r),o===0&&Aw(r)}};var Iw=e.version;if(Iw!=="19.1.1")throw Error(i(527,Iw,"19.1.1"));he.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=f(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var TP={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{vn=Nf.inject(TP),_t=Nf}catch{}}return lc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",m=qT,g=GT,w=KT,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=vw(r,1,!1,null,null,o,c,m,g,w,S,null),r[_e]=s.current,lg(r),new Rg(s)},lc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,m="",g=qT,w=GT,S=KT,V=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=vw(r,1,!0,s,o??null,c,m,g,w,S,V,X),s.context=_w(null),o=s.current,c=vi(),c=Ma(c),m=Ms(c),m.callback=null,Ps(o,m,c),o=c,s.current.lanes=o,Mt(s,o),wr(s),r[_e]=s.current,lg(r),new Pf(s)},lc.version="19.1.1",lc}var Uw;function DP(){if(Uw)return Ig.exports;Uw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ig.exports=xP(),Ig.exports}var MP=DP(),N=em(),Ng={exports:{}},Og={};var jw;function PP(){if(jw)return Og;jw=1;var t=em();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,h=t.useDebugValue;return Og.useSyncExternalStoreWithSelector=function(f,p,y,_,E){var b=a(null);if(b.current===null){var M={hasValue:!1,value:null};b.current=M}else M=b.current;b=u(function(){function O(W){if(!j){if(j=!0,H=W,W=_(W),E!==void 0&&M.hasValue){var D=M.value;if(E(D,W))return U=D}return U=W}if(D=U,n(H,W))return D;var I=_(W);return E!==void 0&&E(D,I)?(H=W,D):(H=W,U=I)}var j=!1,H,U,ie=y===void 0?null:y;return[function(){return O(p())},ie===null?void 0:function(){return O(ie())}]},[p,y,_,E]);var F=i(f,b[0],b[1]);return l(function(){M.hasValue=!0,M.value=F},[F]),h(F),F},Og}var Bw;function NP(){return Bw||(Bw=1,Ng.exports=PP()),Ng.exports}var OP=NP();function VP(t){t()}function LP(){let t=null,e=null;return{clear(){t=null,e=null},notify(){VP(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var zw={notify(){},get:()=>[]};function kP(t,e){let n,i=zw,a=0,l=!1;function u(F){y();const O=i.subscribe(F);let j=!1;return()=>{j||(j=!0,O(),_())}}function h(){i.notify()}function f(){M.onStateChange&&M.onStateChange()}function p(){return l}function y(){a++,n||(n=t.subscribe(f),i=LP())}function _(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=zw)}function E(){l||(l=!0,y())}function b(){l&&(l=!1,_())}const M={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:f,isSubscribed:p,trySubscribe:E,tryUnsubscribe:b,getListeners:()=>i};return M}var UP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jP=UP(),BP=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zP=BP(),FP=()=>jP||zP?N.useLayoutEffect:N.useEffect,HP=FP(),qP=Symbol.for("react-redux-context"),GP=typeof globalThis<"u"?globalThis:{};function KP(){if(!N.createContext)return{};const t=GP[qP]??=new Map;let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var ha=KP();function WP(t){const{children:e,context:n,serverState:i,store:a}=t,l=N.useMemo(()=>{const f=kP(a);return{store:a,subscription:f,getServerState:i?()=>i:void 0}},[a,i]),u=N.useMemo(()=>a.getState(),[a]);HP(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,u]);const h=n||ha;return N.createElement(h.Provider,{value:l},e)}var $P=WP;function Dv(t=ha){return function(){return N.useContext(t)}}var wR=Dv();function SR(t=ha){const e=t===ha?wR:Dv(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var YP=SR();function QP(t=ha){const e=t===ha?YP:SR(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ni=QP(),XP=(t,e)=>t===e;function ZP(t=ha){const e=t===ha?wR:Dv(t),n=(i,a={})=>{const{equalityFn:l=XP}=typeof a=="function"?{equalityFn:a}:a,u=e(),{store:h,subscription:f,getServerState:p}=u;N.useRef(!0);const y=N.useCallback({[i.name](E){return i(E)}}[i.name],[i]),_=OP.useSyncExternalStoreWithSelector(f.addNestedSub,h.getState,p||h.getState,y,l);return N.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var tt=ZP();function wn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var JP=typeof Symbol=="function"&&Symbol.observable||"@@observable",Fw=JP,Vg=()=>Math.random().toString(36).substring(7).split("").join("."),eN={INIT:`@@redux/INIT${Vg()}`,REPLACE:`@@redux/REPLACE${Vg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vg()}`},md=eN;function Mv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function bR(t,e,n){if(typeof t!="function")throw new Error(wn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wn(1));return n(bR)(t,e)}let i=t,a=e,l=new Map,u=l,h=0,f=!1;function p(){u===l&&(u=new Map,l.forEach((O,j)=>{u.set(j,O)}))}function y(){if(f)throw new Error(wn(3));return a}function _(O){if(typeof O!="function")throw new Error(wn(4));if(f)throw new Error(wn(5));let j=!0;p();const H=h++;return u.set(H,O),function(){if(j){if(f)throw new Error(wn(6));j=!1,p(),u.delete(H),l=null}}}function E(O){if(!Mv(O))throw new Error(wn(7));if(typeof O.type>"u")throw new Error(wn(8));if(typeof O.type!="string")throw new Error(wn(17));if(f)throw new Error(wn(9));try{f=!0,a=i(a,O)}finally{f=!1}return(l=u).forEach(H=>{H()}),O}function b(O){if(typeof O!="function")throw new Error(wn(10));i=O,E({type:md.REPLACE})}function M(){const O=_;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(wn(11));function H(){const ie=j;ie.next&&ie.next(y())}return H(),{unsubscribe:O(H)}},[Fw](){return this}}}return E({type:md.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:b,[Fw]:M}}function tN(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:md.INIT})>"u")throw new Error(wn(12));if(typeof n(void 0,{type:md.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wn(13))})}function nN(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const u=e[l];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let a;try{tN(n)}catch(l){a=l}return function(u={},h){if(a)throw a;let f=!1;const p={};for(let y=0;y<i.length;y++){const _=i[y],E=n[_],b=u[_],M=E(b,h);if(typeof M>"u")throw h&&h.type,new Error(wn(14));p[_]=M,f=f||M!==b}return f=f||i.length!==Object.keys(u).length,f?p:u}}function pd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function iN(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(wn(15))};const u={getState:a.getState,dispatch:(f,...p)=>l(f,...p)},h=t.map(f=>f(u));return l=pd(...h)(a.dispatch),{...a,dispatch:l}}}function rN(t){return Mv(t)&&"type"in t&&typeof t.type=="string"}var AR=Symbol.for("immer-nothing"),Hw=Symbol.for("immer-draftable"),bi=Symbol.for("immer-state");function ur(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var jl=Object.getPrototypeOf;function wo(t){return!!t&&!!t[bi]}function ds(t){return t?RR(t)||Array.isArray(t)||!!t[Hw]||!!t.constructor?.[Hw]||eh(t)||nm(t):!1}var sN=Object.prototype.constructor.toString();function RR(t){if(!t||typeof t!="object")return!1;const e=jl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sN}function gd(t,e){tm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function tm(t){const e=t[bi];return e?e.type_:Array.isArray(t)?1:eh(t)?2:nm(t)?3:0}function by(t,e){return tm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function CR(t,e,n){const i=tm(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function aN(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function eh(t){return t instanceof Map}function nm(t){return t instanceof Set}function co(t){return t.copy_||t.base_}function Ay(t,e){if(eh(t))return new Map(t);if(nm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=RR(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[bi];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const u=a[l],h=i[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[u]})}return Object.create(jl(t),i)}else{const i=jl(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function Pv(t,e=!1){return im(t)||wo(t)||!ds(t)||(tm(t)>1&&Object.defineProperties(t,{set:{value:Of},add:{value:Of},clear:{value:Of},delete:{value:Of}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Pv(n,!0))),t}function Of(){ur(2)}function im(t){return Object.isFrozen(t)}var oN={};function So(t){const e=oN[t];return e||ur(0,t),e}var Oc;function IR(){return Oc}function lN(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qw(t,e){e&&(So("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ry(t){Cy(t),t.drafts_.forEach(uN),t.drafts_=null}function Cy(t){t===Oc&&(Oc=t.parent_)}function Gw(t){return Oc=lN(Oc,t)}function uN(t){const e=t[bi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Kw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[bi].modified_&&(Ry(e),ur(4)),ds(t)&&(t=yd(e,t),e.parent_||vd(e,t)),e.patches_&&So("Patches").generateReplacementPatches_(n[bi].base_,t,e.patches_,e.inversePatches_)):t=yd(e,n,[]),Ry(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==AR?t:void 0}function yd(t,e,n){if(im(e))return e;const i=e[bi];if(!i)return gd(e,(a,l)=>Ww(t,i,e,a,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return vd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),gd(l,(h,f)=>Ww(t,i,a,h,f,n,u)),vd(t,a,!1),n&&t.patches_&&So("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Ww(t,e,n,i,a,l,u){if(wo(a)){const h=l&&e&&e.type_!==3&&!by(e.assigned_,i)?l.concat(i):void 0,f=yd(t,a,h);if(CR(n,i,f),wo(f))t.canAutoFreeze_=!1;else return}else u&&n.add(a);if(ds(a)&&!im(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;yd(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(eh(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&vd(t,a)}}function vd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Pv(e,n)}function cN(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:IR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=Nv;n&&(a=[i],l=Vc);const{revoke:u,proxy:h}=Proxy.revocable(a,l);return i.draft_=h,i.revoke_=u,h}var Nv={get(t,e){if(e===bi)return t;const n=co(t);if(!by(n,e))return hN(t,n,e);const i=n[e];return t.finalized_||!ds(i)?i:i===Lg(t.base_,e)?(kg(t),t.copy_[e]=xy(i,t)):i},has(t,e){return e in co(t)},ownKeys(t){return Reflect.ownKeys(co(t))},set(t,e,n){const i=xR(co(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=Lg(co(t),e),l=a?.[bi];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(aN(n,a)&&(n!==void 0||by(t.base_,e)))return!0;kg(t),Iy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Lg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,kg(t),Iy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=co(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){ur(11)},getPrototypeOf(t){return jl(t.base_)},setPrototypeOf(){ur(12)}},Vc={};gd(Nv,(t,e)=>{Vc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vc.deleteProperty=function(t,e){return Vc.set.call(this,t,e,void 0)};Vc.set=function(t,e,n){return Nv.set.call(this,t[0],e,n,t[0])};function Lg(t,e){const n=t[bi];return(n?co(n):t)[e]}function hN(t,e,n){const i=xR(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function xR(t,e){if(!(e in t))return;let n=jl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=jl(n)}}function Iy(t){t.modified_||(t.modified_=!0,t.parent_&&Iy(t.parent_))}function kg(t){t.copy_||(t.copy_=Ay(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var fN=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const u=this;return function(f=l,...p){return u.produce(f,y=>n.call(this,y,...p))}}typeof n!="function"&&ur(6),i!==void 0&&typeof i!="function"&&ur(7);let a;if(ds(e)){const l=Gw(this),u=xy(e,void 0);let h=!0;try{a=n(u),h=!1}finally{h?Ry(l):Cy(l)}return qw(l,i),Kw(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===AR&&(a=void 0),this.autoFreeze_&&Pv(a,!0),i){const l=[],u=[];So("Patches").generateReplacementPatches_(e,a,l,u),i(l,u)}return a}else ur(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...h)=>this.produceWithPatches(u,f=>e(f,...h));let i,a;return[this.produce(e,n,(u,h)=>{i=u,a=h}),i,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ds(t)||ur(8),wo(t)&&(t=dN(t));const e=Gw(this),n=xy(t,void 0);return n[bi].isManual_=!0,Cy(e),n}finishDraft(t,e){const n=t&&t[bi];(!n||!n.isManual_)&&ur(9);const{scope_:i}=n;return qw(i,e),Kw(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=So("Patches").applyPatches_;return wo(t)?i(t,e):this.produce(t,a=>i(a,e))}};function xy(t,e){const n=eh(t)?So("MapSet").proxyMap_(t,e):nm(t)?So("MapSet").proxySet_(t,e):cN(t,e);return(e?e.scope_:IR()).drafts_.push(n),n}function dN(t){return wo(t)||ur(10,t),DR(t)}function DR(t){if(!ds(t)||im(t))return t;const e=t[bi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ay(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ay(t,!0);return gd(n,(i,a)=>{CR(n,i,DR(a))}),e&&(e.finalized_=!1),n}var mN=new fN,MR=mN.produce;function PR(t){return({dispatch:n,getState:i})=>a=>l=>typeof l=="function"?l(n,i,t):a(l)}var pN=PR(),gN=PR,yN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pd:pd.apply(null,arguments)};function $w(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(us(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>rN(i)&&i.type===t,n}var NR=class mc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,mc.prototype)}static get[Symbol.species](){return mc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new mc(...e[0].concat(this)):new mc(...e.concat(this))}};function Yw(t){return ds(t)?MR(t,()=>{}):t}function Vf(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function vN(t){return typeof t=="boolean"}var _N=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let u=new NR;return n&&(vN(n)?u.push(pN):u.push(gN(n.extraArgument))),u},EN="RTK_autoBatch",Qw=t=>e=>{setTimeout(e,t)},TN=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,l=!1,u=!1;const h=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Qw(10):t.type==="callback"?t.queueNotification:Qw(t.timeout),p=()=>{u=!1,l&&(l=!1,h.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const _=()=>a&&y(),E=i.subscribe(_);return h.add(y),()=>{E(),h.delete(y)}},dispatch(y){try{return a=!y?.meta?.[EN],l=!a,l&&(u||(u=!0,f(p))),i.dispatch(y)}finally{a=!0}}})},wN=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new NR(t);return i&&a.push(TN(typeof i=="object"?i:void 0)),a};function SN(t){const e=_N(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:u=void 0}=t||{};let h;if(typeof n=="function")h=n;else if(Mv(n))h=nN(n);else throw new Error(us(1));let f;typeof i=="function"?f=i(e):f=e();let p=pd;a&&(p=yN({trace:!1,...typeof a=="object"&&a}));const y=iN(...f),_=wN(y);let E=typeof u=="function"?u(_):_();const b=p(...E);return bR(h,l,b)}function OR(t){const e={},n=[];let i;const a={addCase(l,u){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(us(28));if(h in e)throw new Error(us(29));return e[h]=u,a},addAsyncThunk(l,u){return u.pending&&(e[l.pending.type]=u.pending),u.rejected&&(e[l.rejected.type]=u.rejected),u.fulfilled&&(e[l.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:l.settled,reducer:u.settled}),a},addMatcher(l,u){return n.push({matcher:l,reducer:u}),a},addDefaultCase(l){return i=l,a}};return t(a),[e,n,i]}function bN(t){return typeof t=="function"}function AN(t,e){let[n,i,a]=OR(e),l;if(bN(t))l=()=>Yw(t());else{const h=Yw(t);l=()=>h}function u(h=l(),f){let p=[n[f.type],...i.filter(({matcher:y})=>y(f)).map(({reducer:y})=>y)];return p.filter(y=>!!y).length===0&&(p=[a]),p.reduce((y,_)=>{if(_)if(wo(y)){const b=_(y,f);return b===void 0?y:b}else{if(ds(y))return MR(y,E=>_(E,f));{const E=_(y,f);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},h)}return u.getInitialState=l,u}var RN=Symbol.for("rtk-slice-createasyncthunk");function CN(t,e){return`${t}/${e}`}function IN({creators:t}={}){const e=t?.asyncThunk?.[RN];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(us(11));const u=(typeof i.reducers=="function"?i.reducers(DN()):i.reducers)||{},h=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(U,ie){const W=typeof U=="string"?U:U.type;if(!W)throw new Error(us(12));if(W in f.sliceCaseReducersByType)throw new Error(us(13));return f.sliceCaseReducersByType[W]=ie,p},addMatcher(U,ie){return f.sliceMatchers.push({matcher:U,reducer:ie}),p},exposeAction(U,ie){return f.actionCreators[U]=ie,p},exposeCaseReducer(U,ie){return f.sliceCaseReducersByName[U]=ie,p}};h.forEach(U=>{const ie=u[U],W={reducerName:U,type:CN(a,U),createNotation:typeof i.reducers=="function"};PN(ie)?ON(W,ie,p,e):MN(W,ie,p)});function y(){const[U={},ie=[],W=void 0]=typeof i.extraReducers=="function"?OR(i.extraReducers):[i.extraReducers],D={...U,...f.sliceCaseReducersByType};return AN(i.initialState,I=>{for(let A in D)I.addCase(A,D[A]);for(let A of f.sliceMatchers)I.addMatcher(A.matcher,A.reducer);for(let A of ie)I.addMatcher(A.matcher,A.reducer);W&&I.addDefaultCase(W)})}const _=U=>U,E=new Map,b=new WeakMap;let M;function F(U,ie){return M||(M=y()),M(U,ie)}function O(){return M||(M=y()),M.getInitialState()}function j(U,ie=!1){function W(I){let A=I[U];return typeof A>"u"&&ie&&(A=Vf(b,W,O)),A}function D(I=_){const A=Vf(E,ie,()=>new WeakMap);return Vf(A,I,()=>{const x={};for(const[L,z]of Object.entries(i.selectors??{}))x[L]=xN(z,I,()=>Vf(b,I,O),ie);return x})}return{reducerPath:U,getSelectors:D,get selectors(){return D(W)},selectSlice:W}}const H={name:a,reducer:F,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:O,...j(l),injectInto(U,{reducerPath:ie,...W}={}){const D=ie??l;return U.inject({reducerPath:D,reducer:F},W),{...H,...j(D,!0)}}};return H}}function xN(t,e,n,i){function a(l,...u){let h=e(l);return typeof h>"u"&&i&&(h=n()),t(h,...u)}return a.unwrapped=t,a}var th=IN();function DN(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function MN({type:t,reducerName:e,createNotation:n},i,a){let l,u;if("reducer"in i){if(n&&!NN(i))throw new Error(us(17));l=i.reducer,u=i.prepare}else l=i;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,u?$w(t,u):$w(t))}function PN(t){return t._reducerDefinitionType==="asyncThunk"}function NN(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ON({type:t,reducerName:e},n,i,a){if(!a)throw new Error(us(18));const{payloadCreator:l,fulfilled:u,pending:h,rejected:f,settled:p,options:y}=n,_=a(t,l,y);i.exposeAction(e,_),u&&i.addCase(_.fulfilled,u),h&&i.addCase(_.pending,h),f&&i.addCase(_.rejected,f),p&&i.addMatcher(_.settled,p),i.exposeCaseReducer(e,{fulfilled:u||Lf,pending:h||Lf,rejected:f||Lf,settled:p||Lf})}function Lf(){}function us(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const VR={user:null,isCreatingAccount:!1,isLoggedIn:!1,isLoggingIn:!1};console.log(VR.user);const LR=th({name:"auth",initialState:VR,reducers:{startCreatingAccount(t){t.isCreatingAccount=!0},stopCreatingAccount(t){t.isCreatingAccount=!1},startLoggingIn(t){t.isLoggingIn=!0},stopLoggingIn(t){t.isLoggingIn=!1},login(t,e){const{uid:n,email:i,userName:a}=e.payload;t.user={uid:n,email:i,userName:a},t.isLoggedIn=!0,t.isLoggingIn=!1},logOut(t){t.user=null,t.isLoggedIn=!1}}}),cs=LR.actions,VN=LR.reducer,LN={bio:"Set bio here!",isEditingBio:!1},kR=th({name:"profile",initialState:LN,reducers:{editBio(t){t.isEditingBio=!0},saveBio(t){t.isEditingBio=!1},updateBio(t,e){t.bio=e.payload},uploadAvatar(t,e){t.bioAvatar=e.payload}}}),Lc=kR.actions,kN=kR.reducer,UN={myShows:[],currentlyBinging:[],watchedEps:[],finishedShows:[],isReviewing:!1,reviews:[],reviewingShowId:null},UR=th({name:"shows",initialState:UN,reducers:{updateMyShows(t,e){t.myShows=e.payload},updateBinging(t,e){t.currentlyBinging=e.payload},updateWatchedEps(t,e){t.watchedEps=e.payload},updateFinishedShows(t,e){t.finishedShows=e.payload},reviewingShow(t,e){t.reviewingShowId=e.payload},toggleReviewing(t){t.isReviewing=!t.isReviewing},updateReviews(t,e){t.reviews=e.payload}}}),Qt=UR.actions,jN=UR.reducer,BN={epNotes:[],charNotes:[]},jR=th({name:"notes",initialState:BN,reducers:{updateEpNotes(t,e){t.epNotes=e.payload},updateCharNotes(t,e){t.charNotes=e.payload}}}),_d=jR.actions,zN=jR.reducer,FN={friendsList:[]},BR=th({name:"friends",initialState:FN,reducers:{addFriend(t,e){t.friendsList=e.payload}}}),zR=BR.actions,HN=BR.reducer,qN=SN({reducer:{auth:VN,profile:kN,shows:jN,notes:zN,friends:HN}});var FR=t=>{throw TypeError(t)},GN=(t,e,n)=>e.has(t)||FR("Cannot "+n),Ug=(t,e,n)=>(GN(t,e,"read from private field"),n?n.call(t):e.get(t)),KN=(t,e,n)=>e.has(t)?FR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Xw="popstate";function WN(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:f=""}=Ts(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),kc("",{pathname:u,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=a.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof l=="string"?l:fa(l))}function i(a,l){Bt(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return YN(e,n,i,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $N(){return Math.random().toString(36).substring(2,10)}function Zw(t,e){return{usr:t.state,key:t.key,idx:e}}function kc(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ts(e):e,state:n,key:e&&e.key||i||$N()}}function fa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function YN(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let O=y(),j=O==null?null:O-p;p=O,f&&f({action:h,location:F.location,delta:j})}function E(O,j){h="PUSH";let H=kc(F.location,O,j);n&&n(H,O),p=y()+1;let U=Zw(H,p),ie=F.createHref(H);try{u.pushState(U,"",ie)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(ie)}l&&f&&f({action:h,location:F.location,delta:1})}function b(O,j){h="REPLACE";let H=kc(F.location,O,j);n&&n(H,O),p=y();let U=Zw(H,p),ie=F.createHref(H);u.replaceState(U,"",ie),l&&f&&f({action:h,location:F.location,delta:0})}function M(O){return HR(O)}let F={get action(){return h},get location(){return t(a,u)},listen(O){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Xw,_),f=O,()=>{a.removeEventListener(Xw,_),f=null}},createHref(O){return e(a,O)},createURL:M,encodeLocation(O){let j=M(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:b,go(O){return u.go(O)}};return F}function HR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:fa(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var pc,Jw=class{constructor(t){if(KN(this,pc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Ug(this,pc).has(t))return Ug(this,pc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Ug(this,pc).set(t,e)}};pc=new WeakMap;var QN=new Set(["lazy","caseSensitive","path","id","index","children"]);function XN(t){return QN.has(t)}var ZN=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function JN(t){return ZN.has(t)}function eO(t){return t.index===!0}function Uc(t,e,n=[],i={},a=!1){return t.map((l,u)=>{let h=[...n,String(u)],f=typeof l.id=="string"?l.id:h.join("-");if(Qe(l.index!==!0||!l.children,"Cannot specify children on an index route"),Qe(a||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),eO(l)){let p={...l,...e(l),id:f};return i[f]=p,p}else{let p={...l,...e(l),id:f,children:void 0};return i[f]=p,l.children&&(p.children=Uc(l.children,e,h,i,a)),p}})}function Js(t,e,n="/"){return Qf(t,e,n,!1)}function Qf(t,e,n,i){let a=typeof e=="string"?Ts(e):e,l=qi(a.pathname||"/",n);if(l==null)return null;let u=qR(t);nO(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=dO(l);h=hO(u[f],p,i)}return h}function tO(t,e){let{route:n,pathname:i,params:a}=t;return{id:n.id,pathname:i,params:a,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function qR(t,e=[],n=[],i=""){let a=(l,u,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Qe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=br([i,f.relativePath]),y=n.concat(f);l.children&&l.children.length>0&&(Qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),qR(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:uO(p,l.index),routesMeta:y})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let h of GR(l.path))a(l,u,h)}),e}function GR(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=GR(i.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function nO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var iO=/^:[\w-]+$/,rO=3,sO=2,aO=1,oO=10,lO=-2,eS=t=>t==="*";function uO(t,e){let n=t.split("/"),i=n.length;return n.some(eS)&&(i+=lO),e&&(i+=sO),n.filter(a=>!eS(a)).reduce((a,l)=>a+(iO.test(l)?rO:l===""?aO:oO),i)}function cO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function hO(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),E=f.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=Ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:br([l,_.pathname]),pathnameBase:yO(br([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=br([l,_.pathnameBase]))}return u}function Ed(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=fO(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let M=h[E]||"";u=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const b=h[E];return _&&!b?p[y]=void 0:p[y]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function fO(t,e=!1,n=!0){Bt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function dO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function mO({basename:t,pathname:e}){return e==="/"?t:br([t,e])}function pO(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Ts(t):t;return{pathname:n?n.startsWith("/")?n:gO(n,e):e,search:vO(i),hash:_O(a)}}function gO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rm(t){let e=KR(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function sm(t,e,n,i=!1){let a;typeof t=="string"?a=Ts(t):(a={...t},Qe(!a.pathname||!a.pathname.includes("?"),jg("?","pathname","search",a)),Qe(!a.pathname||!a.pathname.includes("#"),jg("#","pathname","hash",a)),Qe(!a.search||!a.search.includes("#"),jg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=pO(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var br=t=>t.join("/").replace(/\/\/+/g,"/"),yO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),vO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_O=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Td=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var WR=["POST","PUT","PATCH","DELETE"],EO=new Set(WR),TO=["GET",...WR],wO=new Set(TO),SO=new Set([301,302,303,307,308]),bO=new Set([307,308]),Bg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},AO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},RO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ov=t=>RO.test(t),CO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),$R="remix-router-transitions",YR=Symbol("ResetLoaderData");function IO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Qe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],a=t.mapRouteProperties||CO,l={},u=Uc(t.routes,a,void 0,l),h,f=t.basename||"/",p=t.dataStrategy||NO,y={unstable_middleware:!1,...t.future},_=null,E=new Set,b=null,M=null,F=null,O=t.hydrationData!=null,j=Js(u,t.history.location,f),H=!1,U=null,ie;if(j==null&&!t.patchRoutesOnNavigation){let B=Ui(404,{pathname:t.history.location.pathname}),{matches:$,route:te}=fS(u);ie=!0,j=$,U={[te.id]:B}}else if(j&&!t.hydrationData&&ui(j,u,t.history.location.pathname).active&&(j=null),j)if(j.some(B=>B.route.lazy))ie=!1;else if(!j.some(B=>B.route.loader))ie=!0;else{let B=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let te=j.findIndex(oe=>$[oe.route.id]!==void 0);ie=j.slice(0,te+1).every(oe=>!My(oe.route,B,$))}else ie=j.every(te=>!My(te.route,B,$))}else{ie=!1,j=[];let B=ui(null,u,t.history.location.pathname);B.active&&B.matches&&(H=!0,j=B.matches)}let W,D={historyAction:t.history.action,location:t.history.location,matches:j,initialized:ie,navigation:Bg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||U,fetchers:new Map,blockers:new Map},I="POP",A=!1,x,L=!1,z=new Map,G=null,P=!1,Oe=!1,We=new Set,Z=new Map,he=0,pe=-1,Me=new Map,k=new Set,se=new Map,ge=new Map,de=new Set,Ee=new Map,Ge,xe=null;function en(){if(_=t.history.listen(({action:B,location:$,delta:te})=>{if(Ge){Ge(),Ge=void 0;return}Bt(Ee.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Br({currentLocation:D.location,nextLocation:$,historyAction:B});if(oe&&te!=null){let fe=new Promise(_e=>{Ge=_e});t.history.go(te*-1),li(oe,{state:"blocked",location:$,proceed(){li(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),fe.then(()=>t.history.go(te))},reset(){let _e=new Map(D.blockers);_e.set(oe,uc),Lt({blockers:_e})}});return}return Kn(B,$)}),n){qO(e,z);let B=()=>GO(e,z);e.addEventListener("pagehide",B),G=()=>e.removeEventListener("pagehide",B)}return D.initialized||Kn("POP",D.location,{initialHydration:!0}),W}function lt(){_&&_(),G&&G(),E.clear(),x&&x.abort(),D.fetchers.forEach((B,$)=>tn($)),D.blockers.forEach((B,$)=>Un($))}function ii(B){return E.add(B),()=>E.delete(B)}function Lt(B,$={}){B.matches&&(B.matches=B.matches.map(fe=>{let _e=l[fe.route.id],Se=fe.route;return Se.element!==_e.element||Se.errorElement!==_e.errorElement||Se.hydrateFallbackElement!==_e.hydrateFallbackElement?{...fe,route:_e}:fe})),D={...D,...B};let te=[],oe=[];D.fetchers.forEach((fe,_e)=>{fe.state==="idle"&&(de.has(_e)?te.push(_e):oe.push(_e))}),de.forEach(fe=>{!D.fetchers.has(fe)&&!Z.has(fe)&&te.push(fe)}),[...E].forEach(fe=>fe(D,{deletedFetchers:te,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),te.forEach(fe=>tn(fe)),oe.forEach(fe=>D.fetchers.delete(fe))}function ri(B,$,{flushSync:te}={}){let oe=D.actionData!=null&&D.navigation.formMethod!=null&&Zn(D.navigation.formMethod)&&D.navigation.state==="loading"&&B.state?._isRedirect!==!0,fe;$.actionData?Object.keys($.actionData).length>0?fe=$.actionData:fe=null:oe?fe=D.actionData:fe=null;let _e=$.loaderData?cS(D.loaderData,$.loaderData,$.matches||[],$.errors):D.loaderData,Se=D.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Te,Ae)=>Se.set(Ae,uc)));let ve=P?!1:Da(B,$.matches||D.matches),Ce=A===!0||D.navigation.formMethod!=null&&Zn(D.navigation.formMethod)&&B.state?._isRedirect!==!0;h&&(u=h,h=void 0),P||I==="POP"||(I==="PUSH"?t.history.push(B,B.state):I==="REPLACE"&&t.history.replace(B,B.state));let Re;if(I==="POP"){let Te=z.get(D.location.pathname);Te&&Te.has(B.pathname)?Re={currentLocation:D.location,nextLocation:B}:z.has(B.pathname)&&(Re={currentLocation:B,nextLocation:D.location})}else if(L){let Te=z.get(D.location.pathname);Te?Te.add(B.pathname):(Te=new Set([B.pathname]),z.set(D.location.pathname,Te)),Re={currentLocation:D.location,nextLocation:B}}Lt({...$,actionData:fe,loaderData:_e,historyAction:I,location:B,initialized:!0,navigation:Bg,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:Ce,blockers:Se},{viewTransitionOpts:Re,flushSync:te===!0}),I="POP",A=!1,L=!1,P=!1,Oe=!1,xe?.resolve(),xe=null}async function Ur(B,$){if(typeof B=="number"){t.history.go(B);return}let te=Dy(D.location,D.matches,f,B,$?.fromRouteId,$?.relative),{path:oe,submission:fe,error:_e}=tS(!1,te,$),Se=D.location,ve=kc(D.location,oe,$&&$.state);ve={...ve,...t.history.encodeLocation(ve)};let Ce=$&&$.replace!=null?$.replace:void 0,Re="PUSH";Ce===!0?Re="REPLACE":Ce===!1||fe!=null&&Zn(fe.formMethod)&&fe.formAction===D.location.pathname+D.location.search&&(Re="REPLACE");let Te=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ae=($&&$.flushSync)===!0,ze=Br({currentLocation:Se,nextLocation:ve,historyAction:Re});if(ze){li(ze,{state:"blocked",location:ve,proceed(){li(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),Ur(B,$)},reset(){let st=new Map(D.blockers);st.set(ze,uc),Lt({blockers:st})}});return}await Kn(Re,ve,{submission:fe,pendingError:_e,preventScrollReset:Te,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ae})}function jr(){xe||(xe=KO()),Yi(),Lt({revalidation:"loading"});let B=xe.promise;return D.navigation.state==="submitting"?B:D.navigation.state==="idle"?(Kn(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),B):(Kn(I||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:L===!0}),B)}async function Kn(B,$,te){x&&x.abort(),x=null,I=B,P=(te&&te.startUninterruptedRevalidation)===!0,Mt(D.location,D.matches),A=(te&&te.preventScrollReset)===!0,L=(te&&te.enableViewTransition)===!0;let oe=h||u,fe=te&&te.overrideNavigation,_e=te?.initialHydration&&D.matches&&D.matches.length>0&&!H?D.matches:Js(oe,$,f),Se=(te&&te.flushSync)===!0;if(_e&&D.initialized&&!Oe&&jO(D.location,$)&&!(te&&te.submission&&Zn(te.submission.formMethod))){ri($,{matches:_e},{flushSync:Se});return}let ve=ui(_e,oe,$.pathname);if(ve.active&&ve.matches&&(_e=ve.matches),!_e){let{error:Ct,notFoundMatches:je,route:ut}=zr($.pathname);ri($,{matches:je,loaderData:{},errors:{[ut.id]:Ct}},{flushSync:Se});return}x=new AbortController;let Ce=El(t.history,$,x.signal,te&&te.submission),Re=t.unstable_getContext?await t.unstable_getContext():new Jw,Te;if(te&&te.pendingError)Te=[ea(_e).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&Zn(te.submission.formMethod)){let Ct=await su(Ce,$,te.submission,_e,Re,ve.active,te&&te.initialHydration===!0,{replace:te.replace,flushSync:Se});if(Ct.shortCircuited)return;if(Ct.pendingActionResult){let[je,ut]=Ct.pendingActionResult;if(Ei(ut)&&jc(ut.error)&&ut.error.status===404){x=null,ri($,{matches:Ct.matches,loaderData:{},errors:{[je]:ut.error}});return}}_e=Ct.matches||_e,Te=Ct.pendingActionResult,fe=zg($,te.submission),Se=!1,ve.active=!1,Ce=El(t.history,Ce.url,Ce.signal)}let{shortCircuited:Ae,matches:ze,loaderData:st,errors:St}=await Ia(Ce,$,_e,Re,ve.active,fe,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,Se,Te);Ae||(x=null,ri($,{matches:ze||_e,...hS(Te),loaderData:st,errors:St}))}async function su(B,$,te,oe,fe,_e,Se,ve={}){Yi();let Ce=FO($,te);if(Lt({navigation:Ce},{flushSync:ve.flushSync===!0}),_e){let Ae=await ci(oe,$.pathname,B.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){let ze=ea(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[ze,{type:"error",error:Ae.error}]}}else if(Ae.matches)oe=Ae.matches;else{let{notFoundMatches:ze,error:st,route:St}=zr($.pathname);return{matches:ze,pendingActionResult:[St.id,{type:"error",error:st}]}}}let Re,Te=Xf(oe,$);if(!Te.route.action&&!Te.route.lazy)Re={type:"error",error:Ui(405,{method:B.method,pathname:$.pathname,routeId:Te.route.id})};else{let Ae=Ml(a,l,B,oe,Te,Se?[]:i,fe),ze=await $i(B,Ae,fe,null);if(Re=ze[Te.route.id],!Re){for(let st of oe)if(ze[st.route.id]){Re=ze[st.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(mo(Re)){let Ae;return ve&&ve.replace!=null?Ae=ve.replace:Ae=oS(Re.response.headers.get("Location"),new URL(B.url),f)===D.location.pathname+D.location.search,await Wi(B,Re,!0,{submission:te,replace:Ae}),{shortCircuited:!0}}if(Ei(Re)){let Ae=ea(oe,Te.route.id);return(ve&&ve.replace)!==!0&&(I="PUSH"),{matches:oe,pendingActionResult:[Ae.route.id,Re,Te.route.id]}}return{matches:oe,pendingActionResult:[Te.route.id,Re]}}async function Ia(B,$,te,oe,fe,_e,Se,ve,Ce,Re,Te,Ae){let ze=_e||zg($,Se),st=Se||ve||mS(ze),St=!P&&!Re;if(fe){if(St){let It=yn(Ae);Lt({navigation:ze,...It!==void 0?{actionData:It}:{}},{flushSync:Te})}let qe=await ci(te,$.pathname,B.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let It=ea(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[It]:qe.error}}}else if(qe.matches)te=qe.matches;else{let{error:It,notFoundMatches:Zi,route:Bn}=zr($.pathname);return{matches:Zi,loaderData:{},errors:{[Bn.id]:It}}}}let Ct=h||u,{dsMatches:je,revalidatingFetchers:ut}=nS(B,oe,a,l,t.history,D,te,st,$,Re?[]:i,Re===!0,Oe,We,de,se,k,Ct,f,t.patchRoutesOnNavigation!=null,Ae);if(pe=++he,!t.dataStrategy&&!je.some(qe=>qe.shouldLoad)&&!je.some(qe=>qe.route.unstable_middleware)&&ut.length===0){let qe=ai();return ri($,{matches:te,loaderData:{},errors:Ae&&Ei(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...hS(Ae),...qe?{fetchers:new Map(D.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(St){let qe={};if(!fe){qe.navigation=ze;let It=yn(Ae);It!==void 0&&(qe.actionData=It)}ut.length>0&&(qe.fetchers=Lo(ut)),Lt(qe,{flushSync:Te})}ut.forEach(qe=>{si(qe.key),qe.controller&&Z.set(qe.key,qe.controller)});let jn=()=>ut.forEach(qe=>si(qe.key));x&&x.signal.addEventListener("abort",jn);let{loaderResults:In,fetcherResults:nn}=await ko(je,ut,B,oe);if(B.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",jn),ut.forEach(qe=>Z.delete(qe.key));let cn=kf(In);if(cn)return await Wi(B,cn.result,!0,{replace:Ce}),{shortCircuited:!0};if(cn=kf(nn),cn)return k.add(cn.key),await Wi(B,cn.result,!0,{replace:Ce}),{shortCircuited:!0};let{loaderData:Wn,errors:Ai}=uS(D,te,In,Ae,ut,nn);Re&&D.errors&&(Ai={...D.errors,...Ai});let Xi=ai(),Ri=Qi(pe),Ci=Xi||Ri||ut.length>0;return{matches:te,loaderData:Wn,errors:Ai,...Ci?{fetchers:new Map(D.fetchers)}:{}}}function yn(B){if(B&&!Ei(B[1]))return{[B[0]]:B[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function Lo(B){return B.forEach($=>{let te=D.fetchers.get($.key),oe=cc(void 0,te?te.data:void 0);D.fetchers.set($.key,oe)}),new Map(D.fetchers)}async function zt(B,$,te,oe){si(B);let fe=(oe&&oe.flushSync)===!0,_e=h||u,Se=Dy(D.location,D.matches,f,te,$,oe?.relative),ve=Js(_e,Se,f),Ce=ui(ve,_e,Se);if(Ce.active&&Ce.matches&&(ve=Ce.matches),!ve){_t(B,$,Ui(404,{pathname:Se}),{flushSync:fe});return}let{path:Re,submission:Te,error:Ae}=tS(!0,Se,oe);if(Ae){_t(B,$,Ae,{flushSync:fe});return}let ze=t.unstable_getContext?await t.unstable_getContext():new Jw,st=(oe&&oe.preventScrollReset)===!0;if(Te&&Zn(Te.formMethod)){await Kt(B,$,Re,ve,ze,Ce.active,fe,st,Te);return}se.set(B,{routeId:$,path:Re}),await Ki(B,$,Re,ve,ze,Ce.active,fe,st,Te)}async function Kt(B,$,te,oe,fe,_e,Se,ve,Ce){Yi(),se.delete(B);let Re=D.fetchers.get(B);vn(B,HO(Ce,Re),{flushSync:Se});let Te=new AbortController,Ae=El(t.history,te,Te.signal,Ce);if(_e){let Et=await ci(oe,new URL(Ae.url).pathname,Ae.signal,B);if(Et.type==="aborted")return;if(Et.type==="error"){_t(B,$,Et.error,{flushSync:Se});return}else if(Et.matches)oe=Et.matches;else{_t(B,$,Ui(404,{pathname:te}),{flushSync:Se});return}}let ze=Xf(oe,te);if(!ze.route.action&&!ze.route.lazy){let Et=Ui(405,{method:Ce.formMethod,pathname:te,routeId:$});_t(B,$,Et,{flushSync:Se});return}Z.set(B,Te);let st=he,St=Ml(a,l,Ae,oe,ze,i,fe),je=(await $i(Ae,St,fe,B))[ze.route.id];if(Ae.signal.aborted){Z.get(B)===Te&&Z.delete(B);return}if(de.has(B)){if(mo(je)||Ei(je)){vn(B,Xs(void 0));return}}else{if(mo(je))if(Z.delete(B),pe>st){vn(B,Xs(void 0));return}else return k.add(B),vn(B,cc(Ce)),Wi(Ae,je,!1,{fetcherSubmission:Ce,preventScrollReset:ve});if(Ei(je)){_t(B,$,je.error);return}}let ut=D.navigation.location||D.location,jn=El(t.history,ut,Te.signal),In=h||u,nn=D.navigation.state!=="idle"?Js(In,D.navigation.location,f):D.matches;Qe(nn,"Didn't find any matches after fetcher action");let cn=++he;Me.set(B,cn);let Wn=cc(Ce,je.data);D.fetchers.set(B,Wn);let{dsMatches:Ai,revalidatingFetchers:Xi}=nS(jn,fe,a,l,t.history,D,nn,Ce,ut,i,!1,Oe,We,de,se,k,In,f,t.patchRoutesOnNavigation!=null,[ze.route.id,je]);Xi.filter(Et=>Et.key!==B).forEach(Et=>{let Ji=Et.key,Uo=D.fetchers.get(Ji),hi=cc(void 0,Uo?Uo.data:void 0);D.fetchers.set(Ji,hi),si(Ji),Et.controller&&Z.set(Ji,Et.controller)}),Lt({fetchers:new Map(D.fetchers)});let Ri=()=>Xi.forEach(Et=>si(Et.key));Te.signal.addEventListener("abort",Ri);let{loaderResults:Ci,fetcherResults:qe}=await ko(Ai,Xi,jn,fe);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",Ri),Me.delete(B),Z.delete(B),Xi.forEach(Et=>Z.delete(Et.key)),D.fetchers.has(B)){let Et=Xs(je.data);D.fetchers.set(B,Et)}let It=kf(Ci);if(It)return Wi(jn,It.result,!1,{preventScrollReset:ve});if(It=kf(qe),It)return k.add(It.key),Wi(jn,It.result,!1,{preventScrollReset:ve});let{loaderData:Zi,errors:Bn}=uS(D,nn,Ci,void 0,Xi,qe);Qi(cn),D.navigation.state==="loading"&&cn>pe?(Qe(I,"Expected pending action"),x&&x.abort(),ri(D.navigation.location,{matches:nn,loaderData:Zi,errors:Bn,fetchers:new Map(D.fetchers)})):(Lt({errors:Bn,loaderData:cS(D.loaderData,Zi,nn,Bn),fetchers:new Map(D.fetchers)}),Oe=!1)}async function Ki(B,$,te,oe,fe,_e,Se,ve,Ce){let Re=D.fetchers.get(B);vn(B,cc(Ce,Re?Re.data:void 0),{flushSync:Se});let Te=new AbortController,Ae=El(t.history,te,Te.signal);if(_e){let ut=await ci(oe,new URL(Ae.url).pathname,Ae.signal,B);if(ut.type==="aborted")return;if(ut.type==="error"){_t(B,$,ut.error,{flushSync:Se});return}else if(ut.matches)oe=ut.matches;else{_t(B,$,Ui(404,{pathname:te}),{flushSync:Se});return}}let ze=Xf(oe,te);Z.set(B,Te);let st=he,St=Ml(a,l,Ae,oe,ze,i,fe),je=(await $i(Ae,St,fe,B))[ze.route.id];if(Z.get(B)===Te&&Z.delete(B),!Ae.signal.aborted){if(de.has(B)){vn(B,Xs(void 0));return}if(mo(je))if(pe>st){vn(B,Xs(void 0));return}else{k.add(B),await Wi(Ae,je,!1,{preventScrollReset:ve});return}if(Ei(je)){_t(B,$,je.error);return}vn(B,Xs(je.data))}}async function Wi(B,$,te,{submission:oe,fetcherSubmission:fe,preventScrollReset:_e,replace:Se}={}){$.response.headers.has("X-Remix-Revalidate")&&(Oe=!0);let ve=$.response.headers.get("Location");Qe(ve,"Expected a Location header on the redirect Response"),ve=oS(ve,new URL(B.url),f);let Ce=kc(D.location,ve,{_isRedirect:!0});if(n){let St=!1;if($.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(Ov(ve)){const Ct=HR(ve,!0);St=Ct.origin!==e.location.origin||qi(Ct.pathname,f)==null}if(St){Se?e.location.replace(ve):e.location.assign(ve);return}}x=null;let Re=Se===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:Ae,formEncType:ze}=D.navigation;!oe&&!fe&&Te&&Ae&&ze&&(oe=mS(D.navigation));let st=oe||fe;if(bO.has($.response.status)&&st&&Zn(st.formMethod))await Kn(Re,Ce,{submission:{...st,formAction:ve},preventScrollReset:_e||A,enableViewTransition:te?L:void 0});else{let St=zg(Ce,oe);await Kn(Re,Ce,{overrideNavigation:St,fetcherSubmission:fe,preventScrollReset:_e||A,enableViewTransition:te?L:void 0})}}async function $i(B,$,te,oe){let fe,_e={};try{fe=await OO(p,B,$,oe,te,!1)}catch(Se){return $.filter(ve=>ve.shouldLoad).forEach(ve=>{_e[ve.route.id]={type:"error",error:Se}}),_e}if(B.signal.aborted)return _e;for(let[Se,ve]of Object.entries(fe))if(BO(ve)){let Ce=ve.result;_e[Se]={type:"redirect",response:kO(Ce,B,Se,$,f)}}else _e[Se]=await LO(ve);return _e}async function ko(B,$,te,oe){let fe=$i(te,B,oe,null),_e=Promise.all($.map(async Ce=>{if(Ce.matches&&Ce.match&&Ce.request&&Ce.controller){let Te=(await $i(Ce.request,Ce.matches,oe,Ce.key))[Ce.match.route.id];return{[Ce.key]:Te}}else return Promise.resolve({[Ce.key]:{type:"error",error:Ui(404,{pathname:Ce.path})}})})),Se=await fe,ve=(await _e).reduce((Ce,Re)=>Object.assign(Ce,Re),{});return{loaderResults:Se,fetcherResults:ve}}function Yi(){Oe=!0,se.forEach((B,$)=>{Z.has($)&&We.add($),si($)})}function vn(B,$,te={}){D.fetchers.set(B,$),Lt({fetchers:new Map(D.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function _t(B,$,te,oe={}){let fe=ea(D.matches,$);tn(B),Lt({errors:{[fe.route.id]:te},fetchers:new Map(D.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function kn(B){return ge.set(B,(ge.get(B)||0)+1),de.has(B)&&de.delete(B),D.fetchers.get(B)||AO}function tn(B){let $=D.fetchers.get(B);Z.has(B)&&!($&&$.state==="loading"&&Me.has(B))&&si(B),se.delete(B),Me.delete(B),k.delete(B),de.delete(B),We.delete(B),D.fetchers.delete(B)}function au(B){let $=(ge.get(B)||0)-1;$<=0?(ge.delete(B),de.add(B)):ge.set(B,$),Lt({fetchers:new Map(D.fetchers)})}function si(B){let $=Z.get(B);$&&($.abort(),Z.delete(B))}function xa(B){for(let $ of B){let te=kn($),oe=Xs(te.data);D.fetchers.set($,oe)}}function ai(){let B=[],$=!1;for(let te of k){let oe=D.fetchers.get(te);Qe(oe,`Expected fetcher: ${te}`),oe.state==="loading"&&(k.delete(te),B.push(te),$=!0)}return xa(B),$}function Qi(B){let $=[];for(let[te,oe]of Me)if(oe<B){let fe=D.fetchers.get(te);Qe(fe,`Expected fetcher: ${te}`),fe.state==="loading"&&(si(te),Me.delete(te),$.push(te))}return xa($),$.length>0}function oi(B,$){let te=D.blockers.get(B)||uc;return Ee.get(B)!==$&&Ee.set(B,$),te}function Un(B){D.blockers.delete(B),Ee.delete(B)}function li(B,$){let te=D.blockers.get(B)||uc;Qe(te.state==="unblocked"&&$.state==="blocked"||te.state==="blocked"&&$.state==="blocked"||te.state==="blocked"&&$.state==="proceeding"||te.state==="blocked"&&$.state==="unblocked"||te.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${$.state}`);let oe=new Map(D.blockers);oe.set(B,$),Lt({blockers:oe})}function Br({currentLocation:B,nextLocation:$,historyAction:te}){if(Ee.size===0)return;Ee.size>1&&Bt(!1,"A router only supports one blocker at a time");let oe=Array.from(Ee.entries()),[fe,_e]=oe[oe.length-1],Se=D.blockers.get(fe);if(!(Se&&Se.state==="proceeding")&&_e({currentLocation:B,nextLocation:$,historyAction:te}))return fe}function zr(B){let $=Ui(404,{pathname:B}),te=h||u,{matches:oe,route:fe}=fS(te);return{notFoundMatches:oe,route:fe,error:$}}function pr(B,$,te){if(b=B,F=$,M=te||null,!O&&D.navigation===Bg){O=!0;let oe=Da(D.location,D.matches);oe!=null&&Lt({restoreScrollPosition:oe})}return()=>{b=null,F=null,M=null}}function Fr(B,$){return M&&M(B,$.map(oe=>tO(oe,D.loaderData)))||B.key}function Mt(B,$){if(b&&F){let te=Fr(B,$);b[te]=F()}}function Da(B,$){if(b){let te=Fr(B,$),oe=b[te];if(typeof oe=="number")return oe}return null}function ui(B,$,te){if(t.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:Qf($,te,f,!0)}}else return{active:!0,matches:Qf($,te,f,!0)||[]};return{active:!1,matches:null}}async function ci(B,$,te,oe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:B};let fe=B;for(;;){let _e=h==null,Se=h||u,ve=l;try{await t.patchRoutesOnNavigation({signal:te,path:$,matches:fe,fetcherKey:oe,patch:(Te,Ae)=>{te.aborted||iS(Te,Ae,Se,ve,a,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:fe}}finally{_e&&!te.aborted&&(u=[...u])}if(te.aborted)return{type:"aborted"};let Ce=Js(Se,$,f);if(Ce)return{type:"success",matches:Ce};let Re=Qf(Se,$,f,!0);if(!Re||fe.length===Re.length&&fe.every((Te,Ae)=>Te.route.id===Re[Ae].route.id))return{type:"success",matches:null};fe=Re}}function Ma(B){l={},h=Uc(B,a,void 0,l)}function Pa(B,$,te=!1){let oe=h==null;iS(B,$,h||u,l,a,te),oe&&(u=[...u],Lt({}))}return W={get basename(){return f},get future(){return y},get state(){return D},get routes(){return u},get window(){return e},initialize:en,subscribe:ii,enableScrollRestoration:pr,navigate:Ur,fetch:zt,revalidate:jr,createHref:B=>t.history.createHref(B),encodeLocation:B=>t.history.encodeLocation(B),getFetcher:kn,deleteFetcher:au,dispose:lt,getBlocker:oi,deleteBlocker:Un,patchRoutes:Pa,_internalFetchControllers:Z,_internalSetRoutes:Ma,_internalSetStateDoNotUseOrYouWillBreakYourApp(B){Lt(B)}},W}function xO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Dy(t,e,n,i,a,l){let u,h;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){h=p;break}}else u=e,h=e[e.length-1];let f=sm(i||".",rm(u),qi(t.pathname,n)||t.pathname,l==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h){let p=Vv(f.search);if(h.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let y=new URLSearchParams(f.search),_=y.getAll("index");y.delete("index"),_.filter(b=>b).forEach(b=>y.append("index",b));let E=y.toString();f.search=E?`?${E}`:""}}return n!=="/"&&(f.pathname=mO({basename:n,pathname:f.pathname})),fa(f)}function tS(t,e,n){if(!n||!xO(n))return{path:e};if(n.formMethod&&!zO(n.formMethod))return{path:e,error:Ui(405,{method:n.formMethod})};let i=()=>({path:e,error:Ui(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=n1(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Zn(l))return i();let _=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[b,M])=>`${E}${b}=${M}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:_}}}else if(n.formEncType==="application/json"){if(!Zn(l))return i();try{let _=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}Qe(typeof FormData=="function","FormData is not available in this environment");let h,f;if(n.formData)h=Ny(n.formData),f=n.formData;else if(n.body instanceof FormData)h=Ny(n.body),f=n.body;else if(n.body instanceof URLSearchParams)h=n.body,f=lS(h);else if(n.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(n.body),f=lS(h)}catch{return i()}let p={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Zn(p.formMethod))return{path:e,submission:p};let y=Ts(e);return t&&y.search&&Vv(y.search)&&h.append("index",""),y.search=`?${h}`,{path:fa(y),submission:p}}function nS(t,e,n,i,a,l,u,h,f,p,y,_,E,b,M,F,O,j,H,U){let ie=U?Ei(U[1])?U[1].error:U[1].data:void 0,W=a.createURL(l.location),D=a.createURL(f),I;if(y&&l.errors){let P=Object.keys(l.errors)[0];I=u.findIndex(Oe=>Oe.route.id===P)}else if(U&&Ei(U[1])){let P=U[0];I=u.findIndex(Oe=>Oe.route.id===P)-1}let A=U?U[1].statusCode:void 0,x=A&&A>=400,L={currentUrl:W,currentParams:l.matches[0]?.params||{},nextUrl:D,nextParams:u[0].params,...h,actionResult:ie,actionStatus:A},z=u.map((P,Oe)=>{let{route:We}=P,Z=null;if(I!=null&&Oe>I?Z=!1:We.lazy?Z=!0:We.loader==null?Z=!1:y?Z=My(We,l.loaderData,l.errors):DO(l.loaderData,l.matches[Oe],P)&&(Z=!0),Z!==null)return Py(n,i,t,P,p,e,Z);let he=x?!1:_||W.pathname+W.search===D.pathname+D.search||W.search!==D.search||MO(l.matches[Oe],P),pe={...L,defaultShouldRevalidate:he},Me=wd(P,pe);return Py(n,i,t,P,p,e,Me,pe)}),G=[];return M.forEach((P,Oe)=>{if(y||!u.some(ge=>ge.route.id===P.routeId)||b.has(Oe))return;let We=l.fetchers.get(Oe),Z=We&&We.state!=="idle"&&We.data===void 0,he=Js(O,P.path,j);if(!he){if(H&&Z)return;G.push({key:Oe,routeId:P.routeId,path:P.path,matches:null,match:null,request:null,controller:null});return}if(F.has(Oe))return;let pe=Xf(he,P.path),Me=new AbortController,k=El(a,P.path,Me.signal),se=null;if(E.has(Oe))E.delete(Oe),se=Ml(n,i,k,he,pe,p,e);else if(Z)_&&(se=Ml(n,i,k,he,pe,p,e));else{let ge={...L,defaultShouldRevalidate:x?!1:_};wd(pe,ge)&&(se=Ml(n,i,k,he,pe,p,e,ge))}se&&G.push({key:Oe,routeId:P.routeId,path:P.path,matches:se,match:pe,request:k,controller:Me})}),{dsMatches:z,revalidatingFetchers:G}}function My(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!i&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!a}function DO(t,e,n){let i=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return i||a}function MO(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function wd(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function iS(t,e,n,i,a,l){let u;if(t){let p=i[t];Qe(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),u=p.children}else u=n;let h=[],f=[];if(e.forEach(p=>{let y=u.find(_=>QR(p,_));y?f.push({existingRoute:y,newRoute:p}):h.push(p)}),h.length>0){let p=Uc(h,a,[t||"_","patch",String(u?.length||"0")],i);u.push(...p)}if(l&&f.length>0)for(let p=0;p<f.length;p++){let{existingRoute:y,newRoute:_}=f[p],E=y,[b]=Uc([_],a,[],{},!0);Object.assign(E,{element:b.element?b.element:E.element,errorElement:b.errorElement?b.errorElement:E.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:E.hydrateFallbackElement})}}function QR(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>e.children?.some(a=>QR(n,a))):!1}var rS=new WeakMap,XR=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let a=n[e.id];if(Qe(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[t];if(!l)return;let u=rS.get(a);u||(u={},rS.set(a,u));let h=u[t];if(h)return h;let f=(async()=>{let p=XN(t),_=a[t]!==void 0&&t!=="hasErrorBoundary";if(p)Bt(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(_)Bt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await l();E!=null&&(Object.assign(a,{[t]:E}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(E=>E===void 0)&&(a.lazy=void 0))})();return u[t]=f,f},sS=new WeakMap;function PO(t,e,n,i,a){let l=n[t.id];if(Qe(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=sS.get(l);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let _=(async()=>{Qe(typeof t.lazy=="function","No lazy route function found");let E=await t.lazy(),b={};for(let M in E){let F=E[M];if(F===void 0)continue;let O=JN(M),H=l[M]!==void 0&&M!=="hasErrorBoundary";O?Bt(!O,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):H?Bt(!H,`Route "${l.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):b[M]=F}Object.assign(l,b),Object.assign(l,{...i(l),lazy:void 0})})();return sS.set(l,_),_.catch(()=>{}),{lazyRoutePromise:_,lazyHandlerPromise:_}}let u=Object.keys(t.lazy),h=[],f;for(let y of u){if(a&&a.includes(y))continue;let _=XR({key:y,route:t,manifest:n,mapRouteProperties:i});_&&(h.push(_),y===e&&(f=_))}let p=h.length>0?Promise.all(h).then(()=>{}):void 0;return p?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function aS(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,l)=>{n[e[l].route.id]=a}),n}async function NO(t){if(!t.matches.some(n=>n.route.unstable_middleware))return aS(t);let e=!1;return JR(t,()=>(e=!0,aS(t)),(n,i)=>ZR(n,i,t.matches,e))}function ZR(t,e,n,i){return i?{[e]:{type:"error",result:t}}:{[ea(n,n.find(l=>l.route.id===e||l.route.loader)?.route.id||e).route.id]:{type:"error",result:t}}}async function JR(t,e,n){let{matches:i,request:a,params:l,context:u}=t,h=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(y=>[p.route.id,y]):[]),f={};return await e1({request:a,params:l,context:u},h,e,n,f),f}async function e1(t,e,n,i,a={},l=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[l];if(!h){let E=await n();Object.assign(a,E);return}let[f,p]=h,y=!1,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0;try{let E=await e1(t,e,n,i,a,l+1);Object.assign(a,E)}catch(E){let b=await i(E,f);Object.assign(a,b)}};try{let E=await p({request:t.request,params:t.params,context:t.context},_);typeof E<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",E),y||await _()}catch(E){let b=await i(E,f);Object.assign(a,b)}}function t1(t,e,n,i,a){let l=XR({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:t}),u=PO(i.route,Zn(n.method)?"action":"loader",e,t,a);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Py(t,e,n,i,a,l,u,h=null){let f=!1,p=t1(t,e,n,i,a);return{...i,_lazyPromises:p,shouldLoad:u,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler(y){return f=!0,h?typeof y=="boolean"?wd(i,{...h,defaultShouldRevalidate:y}):wd(i,h):u},resolve(y){return f||u||y&&!Zn(n.method)&&(i.route.lazy||i.route.loader)?VO({request:n,match:i,lazyHandlerPromise:p?.handler,lazyRoutePromise:p?.route,handlerOverride:y,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Ml(t,e,n,i,a,l,u,h=null){return i.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:h,unstable_shouldCallHandler:()=>!1,_lazyPromises:t1(t,e,n,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Py(t,e,n,f,l,u,!0,h))}async function OO(t,e,n,i,a,l){n.some(p=>p._lazyPromises?.middleware)&&await Promise.all(n.map(p=>p._lazyPromises?.middleware));let u={request:e,params:n[0].params,context:a,matches:n},f=await t({...u,fetcherKey:i,unstable_runClientMiddleware:p=>{let y=u,_=!1;return JR(y,()=>(_=!0,p({...y,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(E,b)=>ZR(E,b,n,_))}});try{await Promise.all(n.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return f}async function VO({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:i,handlerOverride:a,scopedContext:l}){let u,h,f=Zn(t.method),p=f?"action":"loader",y=_=>{let E,b=new Promise((O,j)=>E=j);h=()=>E(),t.signal.addEventListener("abort",h);let M=O=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${e.route.id}]`)):_({request:t,params:e.params,context:l},...O!==void 0?[O]:[]),F=(async()=>{try{return{type:"data",result:await(a?a(j=>M(j)):M())}}catch(O){return{type:"error",result:O}}})();return Promise.race([F,b])};try{let _=f?e.route.action:e.route.loader;if(n||i)if(_){let E,[b]=await Promise.all([y(_).catch(M=>{E=M}),n,i]);if(E!==void 0)throw E;u=b}else{await n;let E=f?e.route.action:e.route.loader;if(E)[u]=await Promise.all([y(E),i]);else if(p==="action"){let b=new URL(t.url),M=b.pathname+b.search;throw Ui(405,{method:t.method,pathname:M,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(_)u=await y(_);else{let E=new URL(t.url),b=E.pathname+E.search;throw Ui(404,{pathname:b})}}catch(_){return{type:"error",result:_}}finally{h&&t.signal.removeEventListener("abort",h)}return u}async function LO(t){let{result:e,type:n}=t;if(i1(e)){let i;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?i=null:i=await e.json():i=await e.text()}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new Td(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return n==="error"?dS(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Td(e.init?.status||500,void 0,e.data),statusCode:jc(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:jc(e)?e.status:void 0}:dS(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function kO(t,e,n,i,a){let l=t.headers.get("Location");if(Qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ov(l)){let u=i.slice(0,i.findIndex(h=>h.route.id===n)+1);l=Dy(new URL(e.url),u,a,l),t.headers.set("Location",l)}return t}function oS(t,e,n){if(Ov(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=qi(a.pathname,n)!=null;if(a.origin===e.origin&&l)return a.pathname+a.search+a.hash}return t}function El(t,e,n,i){let a=t.createURL(n1(e)).toString(),l={signal:n};if(i&&Zn(i.formMethod)){let{formMethod:u,formEncType:h}=i;l.method=u.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(i.json)):h==="text/plain"?l.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?l.body=Ny(i.formData):l.body=i.formData}return new Request(a,l)}function Ny(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function lS(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function UO(t,e,n,i=!1,a=!1){let l={},u=null,h,f=!1,p={},y=n&&Ei(n[1])?n[1].error:void 0;return t.forEach(_=>{if(!(_.route.id in e))return;let E=_.route.id,b=e[E];if(Qe(!mo(b),"Cannot handle redirect results in processLoaderData"),Ei(b)){let M=b.error;if(y!==void 0&&(M=y,y=void 0),u=u||{},a)u[E]=M;else{let F=ea(t,E);u[F.route.id]==null&&(u[F.route.id]=M)}i||(l[E]=YR),f||(f=!0,h=jc(b.error)?b.error.status:500),b.headers&&(p[E]=b.headers)}else l[E]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(h=b.statusCode),b.headers&&(p[E]=b.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:h||200,loaderHeaders:p}}function uS(t,e,n,i,a,l){let{loaderData:u,errors:h}=UO(e,n,i);return a.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:y,controller:_}=f;if(_&&_.signal.aborted)return;let E=l[p];if(Qe(E,"Did not find corresponding fetcher result"),Ei(E)){let b=ea(t.matches,y?.route.id);h&&h[b.route.id]||(h={...h,[b.route.id]:E.error}),t.fetchers.delete(p)}else if(mo(E))Qe(!1,"Unhandled fetcher revalidation redirect");else{let b=Xs(E.data);t.fetchers.set(p,b)}}),{loaderData:u,errors:h}}function cS(t,e,n,i){let a=Object.entries(e).filter(([,l])=>l!==YR).reduce((l,[u,h])=>(l[u]=h,l),{});for(let l of n){let u=l.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&l.route.loader&&(a[u]=t[u]),i&&i.hasOwnProperty(u))break}return a}function hS(t){return t?Ei(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ea(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function fS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ui(t,{pathname:e,routeId:n,method:i,type:a,message:l}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",i&&e&&n?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",i&&e&&n?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new Td(t||500,u,new Error(h),!0)}function kf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,a]=e[n];if(mo(a))return{key:i,result:a}}}function n1(t){let e=typeof t=="string"?Ts(t):t;return fa({...e,hash:""})}function jO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function BO(t){return i1(t.result)&&SO.has(t.result.status)}function Ei(t){return t.type==="error"}function mo(t){return(t&&t.type)==="redirect"}function dS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function i1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zO(t){return wO.has(t.toUpperCase())}function Zn(t){return EO.has(t.toUpperCase())}function Vv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xf(t,e){let n=typeof e=="string"?Ts(e).search:e.search;if(t[t.length-1].route.index&&Vv(n||""))return t[t.length-1];let i=KR(t);return i[i.length-1]}function mS(t){let{formMethod:e,formAction:n,formEncType:i,text:a,formData:l,json:u}=t;if(!(!e||!n||!i)){if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:e,formAction:n,formEncType:i,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:u,text:void 0}}}function zg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function cc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function HO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qO(t,e){try{let n=t.sessionStorage.getItem($R);if(n){let i=JSON.parse(n);for(let[a,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(a,new Set(l||[]))}}catch{}}function GO(t,e){if(e.size>0){let n={};for(let[i,a]of e)n[i]=[...a];try{t.sessionStorage.setItem($R,JSON.stringify(n))}catch(i){Bt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function KO(){let t,e,n=new Promise((i,a)=>{t=async l=>{i(l);try{await n}catch{}},e=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Do=N.createContext(null);Do.displayName="DataRouter";var nh=N.createContext(null);nh.displayName="DataRouterState";N.createContext(!1);var Lv=N.createContext({isTransitioning:!1});Lv.displayName="ViewTransition";var r1=N.createContext(new Map);r1.displayName="Fetchers";var WO=N.createContext(null);WO.displayName="Await";var dr=N.createContext(null);dr.displayName="Navigation";var am=N.createContext(null);am.displayName="Location";var Gi=N.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var kv=N.createContext(null);kv.displayName="RouteError";function $O(t,{relative:e}={}){Qe($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(dr),{hash:a,pathname:l,search:u}=ih(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:br([n,l])),i.createHref({pathname:h,search:u,hash:a})}function $l(){return N.useContext(am)!=null}function wa(){return Qe($l(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(am).location}var s1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a1(t){N.useContext(dr).static||N.useLayoutEffect(t)}function o1(){let{isDataRoute:t}=N.useContext(Gi);return t?uV():YO()}function YO(){Qe($l(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Do),{basename:e,navigator:n}=N.useContext(dr),{matches:i}=N.useContext(Gi),{pathname:a}=wa(),l=JSON.stringify(rm(i)),u=N.useRef(!1);return a1(()=>{u.current=!0}),N.useCallback((f,p={})=>{if(Bt(u.current,s1),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=sm(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:br([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var QO=N.createContext(null);function XO(t){let e=N.useContext(Gi).outlet;return e&&N.createElement(QO.Provider,{value:t},e)}function l1(){let{matches:t}=N.useContext(Gi),e=t[t.length-1];return e?e.params:{}}function ih(t,{relative:e}={}){let{matches:n}=N.useContext(Gi),{pathname:i}=wa(),a=JSON.stringify(rm(n));return N.useMemo(()=>sm(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function ZO(t,e,n,i){Qe($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(dr),{matches:l}=N.useContext(Gi),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",y=u&&u.route;{let j=y&&y.path||"";u1(f,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let _=wa(),E;E=_;let b=E.pathname||"/",M=b;if(p!=="/"){let j=p.replace(/^\//,"").split("/");M="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let F=Js(t,{pathname:M});return Bt(y||F!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Bt(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),iV(F&&F.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:br([p,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:br([p,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,i)}function JO(){let t=lV(),e=jc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,u)}var eV=N.createElement(JO,null),tV=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(Gi.Provider,{value:this.props.routeContext},N.createElement(kv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nV({routeContext:t,match:e,children:n}){let i=N.useContext(Do);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Gi.Provider,{value:t},n)}function iV(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let f=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Qe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,p,y)=>{let _,E=!1,b=null,M=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||eV,u&&(h<0&&y===0?(u1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,M=null):h===y&&(E=!0,M=p.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,y+1)),O=()=>{let j;return _?j=b:E?j=M:p.route.Component?j=N.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=f,N.createElement(nV,{match:p,routeContext:{outlet:f,matches:F,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?N.createElement(tV,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:O(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):O()},null)}function Uv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rV(t){let e=N.useContext(Do);return Qe(e,Uv(t)),e}function sV(t){let e=N.useContext(nh);return Qe(e,Uv(t)),e}function aV(t){let e=N.useContext(Gi);return Qe(e,Uv(t)),e}function jv(t){let e=aV(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function oV(){return jv("useRouteId")}function lV(){let t=N.useContext(kv),e=sV("useRouteError"),n=jv("useRouteError");return t!==void 0?t:e.errors?.[n]}function uV(){let{router:t}=rV("useNavigate"),e=jv("useNavigate"),n=N.useRef(!1);return a1(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Bt(n.current,s1),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var pS={};function u1(t,e,n){!e&&!pS[t]&&(pS[t]=!0,Bt(!1,n))}var gS={};function yS(t,e){!t&&!gS[e]&&(gS[e]=!0,console.warn(e))}function cV(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Bt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:N.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Bt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Bt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var hV=["HydrateFallback","hydrateFallbackElement"],fV=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function dV({router:t,flushSync:e}){let[n,i]=N.useState(t.state),[a,l]=N.useState(),[u,h]=N.useState({isTransitioning:!1}),[f,p]=N.useState(),[y,_]=N.useState(),[E,b]=N.useState(),M=N.useRef(new Map),F=N.useCallback((U,{deletedFetchers:ie,flushSync:W,viewTransitionOpts:D})=>{U.fetchers.forEach((A,x)=>{A.data!==void 0&&M.current.set(x,A.data)}),ie.forEach(A=>M.current.delete(A)),yS(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(yS(D==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!I){e&&W?e(()=>i(U)):N.startTransition(()=>i(U));return}if(e&&W){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let A=t.window.document.startViewTransition(()=>{e(()=>i(U))});A.finished.finally(()=>{e(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>_(A));return}y?(f&&f.resolve(),y.skipTransition(),b({state:U,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(U),h({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[t.window,e,y,f]);N.useLayoutEffect(()=>t.subscribe(F),[t,F]),N.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new fV)},[u]),N.useEffect(()=>{if(f&&a&&t.window){let U=a,ie=f.promise,W=t.window.document.startViewTransition(async()=>{N.startTransition(()=>i(U)),await ie});W.finished.finally(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})}),_(W)}},[a,f,t.window]),N.useEffect(()=>{f&&a&&n.location.key===a.location.key&&f.resolve()},[f,y,n.location,a]),N.useEffect(()=>{!u.isTransitioning&&E&&(l(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),b(void 0))},[u.isTransitioning,E]);let O=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:U=>t.navigate(U),push:(U,ie,W)=>t.navigate(U,{state:ie,preventScrollReset:W?.preventScrollReset}),replace:(U,ie,W)=>t.navigate(U,{replace:!0,state:ie,preventScrollReset:W?.preventScrollReset})}),[t]),j=t.basename||"/",H=N.useMemo(()=>({router:t,navigator:O,static:!1,basename:j}),[t,O,j]);return N.createElement(N.Fragment,null,N.createElement(Do.Provider,{value:H},N.createElement(nh.Provider,{value:n},N.createElement(r1.Provider,{value:M.current},N.createElement(Lv.Provider,{value:u},N.createElement(vV,{basename:j,location:n.location,navigationType:n.historyAction,navigator:O},N.createElement(mV,{routes:t.routes,future:t.future,state:n})))))),null)}var mV=N.memo(pV);function pV({routes:t,future:e,state:n}){return ZO(t,void 0,n,e)}function gV({to:t,replace:e,state:n,relative:i}){Qe($l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(dr);Bt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Gi),{pathname:u}=wa(),h=o1(),f=sm(t,rm(l),u,i==="path"),p=JSON.stringify(f);return N.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:i})},[h,p,i,e,n]),null}function yV(t){return XO(t.context)}function vV({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){Qe(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Ts(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,b=N.useMemo(()=>{let M=qi(f,u);return M==null?null:{location:{pathname:M,search:p,hash:y,state:_,key:E},navigationType:i}},[u,f,p,y,_,E,i]);return Bt(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:N.createElement(dr.Provider,{value:h},N.createElement(am.Provider,{children:e,value:b}))}var Zf="get",Jf="application/x-www-form-urlencoded";function om(t){return t!=null&&typeof t.tagName=="string"}function _V(t){return om(t)&&t.tagName.toLowerCase()==="button"}function EV(t){return om(t)&&t.tagName.toLowerCase()==="form"}function TV(t){return om(t)&&t.tagName.toLowerCase()==="input"}function wV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SV(t,e){return t.button===0&&(!e||e==="_self")&&!wV(t)}var Uf=null;function bV(){if(Uf===null)try{new FormData(document.createElement("form"),0),Uf=!1}catch{Uf=!0}return Uf}var AV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fg(t){return t!=null&&!AV.has(t)?(Bt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):t}function RV(t,e){let n,i,a,l,u;if(EV(t)){let h=t.getAttribute("action");i=h?qi(h,e):null,n=t.getAttribute("method")||Zf,a=Fg(t.getAttribute("enctype"))||Jf,l=new FormData(t)}else if(_V(t)||TV(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?qi(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Zf,a=Fg(t.getAttribute("formenctype"))||Fg(h.getAttribute("enctype"))||Jf,l=new FormData(h,t),!bV()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(om(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zf,i=null,a=Jf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CV(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&qi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function IV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DV(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await IV(l,n);return u.links?u.links():[]}return[]}));return OV(i.flat(1).filter(xV).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vS(t,e,n,i,a,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function MV(t,e,{includeHydrateFallback:n}={}){return PV(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function PV(t){return[...new Set(t)]}function NV(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function OV(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(NV(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function c1(){let t=N.useContext(Do);return Bv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VV(){let t=N.useContext(nh);return Bv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zv=N.createContext(void 0);zv.displayName="FrameworkContext";function h1(){let t=N.useContext(zv);return Bv(t,"You must render this element inside a <HydratedRouter> element"),t}function LV(t,e){let n=N.useContext(zv),[i,a]=N.useState(!1),[l,u]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let F=j=>{j.forEach(H=>{u(H.isIntersecting)})},O=new IntersectionObserver(F,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[t]),N.useEffect(()=>{if(i){let F=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(F)}}},[i]);let b=()=>{a(!0)},M=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:hc(h,b),onBlur:hc(f,M),onMouseEnter:hc(p,b),onMouseLeave:hc(y,M),onTouchStart:hc(_,b)}]:[!1,E,{}]}function hc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function kV({page:t,...e}){let{router:n}=c1(),i=N.useMemo(()=>Js(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(jV,{page:t,matches:i,...e}):null}function UV(t){let{manifest:e,routeModules:n}=h1(),[i,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return DV(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function jV({page:t,matches:e,...n}){let i=wa(),{manifest:a,routeModules:l}=h1(),{basename:u}=c1(),{loaderData:h,matches:f}=VV(),p=N.useMemo(()=>vS(t,e,f,a,i,"data"),[t,e,f,a,i]),y=N.useMemo(()=>vS(t,e,f,a,i,"assets"),[t,e,f,a,i]),_=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let M=new Set,F=!1;if(e.forEach(j=>{let H=a.routes[j.route.id];!H||!H.hasLoader||(!p.some(U=>U.route.id===j.route.id)&&j.route.id in h&&l[j.route.id]?.shouldRevalidate||H.hasClientLoader?F=!0:M.add(j.route.id))}),M.size===0)return[];let O=CV(t,u,"data");return F&&M.size>0&&O.searchParams.set("_routes",e.filter(j=>M.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[u,h,i,a,p,e,t,l]),E=N.useMemo(()=>MV(y,a),[y,a]),b=UV(y);return N.createElement(N.Fragment,null,_.map(M=>N.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),E.map(M=>N.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),b.map(({key:M,link:F})=>N.createElement("link",{key:M,nonce:n.nonce,...F})))}function BV(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var f1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{f1&&(window.__reactRouterVersion="7.8.0")}catch{}function zV(t,e){return IO({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:WN({window:e?.window}),hydrationData:FV(),routes:t,mapRouteProperties:cV,hydrationRouteProperties:hV,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function FV(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:HV(t.errors)}),t}function HV(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")n[i]=new Td(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let u=new l(a.message);u.stack="",n[i]=u}catch{}}if(n[i]==null){let l=new Error(a.message);l.stack="",n[i]=l}}else n[i]=a;return n}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m1=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...E},b){let{basename:M}=N.useContext(dr),F=typeof p=="string"&&d1.test(p),O,j=!1;if(typeof p=="string"&&F&&(O=p,f1))try{let x=new URL(window.location.href),L=p.startsWith("//")?new URL(x.protocol+p):new URL(p),z=qi(L.pathname,M);L.origin===x.origin&&z!=null?p=z+L.search+L.hash:j=!0}catch{Bt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=$O(p,{relative:a}),[U,ie,W]=LV(i,E),D=KV(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:a,viewTransition:_});function I(x){e&&e(x),x.defaultPrevented||D(x)}let A=N.createElement("a",{...E,...W,href:O||H,onClick:j||l?e:I,ref:BV(b,ie),target:f,"data-discover":!F&&n==="render"?"true":void 0});return U&&!F?N.createElement(N.Fragment,null,A,N.createElement(kV,{page:H})):A});m1.displayName="Link";var as=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...p},y){let _=ih(u,{relative:p.relative}),E=wa(),b=N.useContext(nh),{navigator:M,basename:F}=N.useContext(dr),O=b!=null&&XV(_)&&h===!0,j=M.encodeLocation?M.encodeLocation(_).pathname:_.pathname,H=E.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(H=H.toLowerCase(),U=U?U.toLowerCase():null,j=j.toLowerCase()),U&&F&&(U=qi(U,F)||U);const ie=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let W=H===j||!a&&H.startsWith(j)&&H.charAt(ie)==="/",D=U!=null&&(U===j||!a&&U.startsWith(j)&&U.charAt(j.length)==="/"),I={isActive:W,isPending:D,isTransitioning:O},A=W?e:void 0,x;typeof i=="function"?x=i(I):x=[i,W?"active":null,D?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return N.createElement(m1,{...p,"aria-current":A,className:x,ref:y,style:L,to:u,viewTransition:h},typeof f=="function"?f(I):f)});as.displayName="NavLink";var qV=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=Zf,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...E},b)=>{let M=YV(),F=QV(h,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&d1.test(h),H=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let ie=U.nativeEvent.submitter,W=ie?.getAttribute("formmethod")||u;M(ie||U.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return N.createElement("form",{ref:b,method:O,action:F,onSubmit:i?f:H,...E,"data-discover":!j&&t==="render"?"true":void 0})});qV.displayName="Form";function GV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(t){let e=N.useContext(Do);return Qe(e,GV(t)),e}function KV(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=o1(),f=wa(),p=ih(t,{relative:l});return N.useCallback(y=>{if(SV(y,e)){y.preventDefault();let _=n!==void 0?n:fa(f)===fa(p);h(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[f,h,p,n,i,e,t,a,l,u])}var WV=0,$V=()=>`__${String(++WV)}__`;function YV(){let{router:t}=p1("useSubmit"),{basename:e}=N.useContext(dr),n=oV();return N.useCallback(async(i,a={})=>{let{action:l,method:u,encType:h,formData:f,body:p}=RV(i,e);if(a.navigate===!1){let y=a.fetcherKey||$V();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function QV(t,{relative:e}={}){let{basename:n}=N.useContext(dr),i=N.useContext(Gi);Qe(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ih(t||".",{relative:e})},u=wa();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:br([n,l.pathname])),fa(l)}function XV(t,{relative:e}={}){let n=N.useContext(Lv);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=p1("useViewTransitionState"),a=ih(t,{relative:e});if(!n.isTransitioning)return!1;let l=qi(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=qi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ed(a.pathname,u)!=null||Ed(a.pathname,l)!=null}var g1=TR();function ZV(t){return N.createElement(dV,{flushSync:g1.flushSync,...t})}const JV=()=>{};var _S={};const y1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},e2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,b=p&63;f||(b=64,u||(E=64)),i.push(n[y],n[_],n[E],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(y1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new t2;const E=l<<2|h>>4;if(i.push(E),p!==64){const b=h<<4&240|p>>2;if(i.push(b),_!==64){const M=p<<6&192|_;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n2=function(t){const e=y1(t);return v1.encodeByteArray(e,!0)},Sd=function(t){return n2(t).replace(/\./g,"")},_1=function(t){try{return v1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function i2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const r2=()=>i2().__FIREBASE_DEFAULTS__,s2=()=>{if(typeof process>"u"||typeof _S>"u")return;const t=_S.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_1(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return JV()||r2()||s2()||a2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},E1=t=>lm()?.emulatorHosts?.[t],o2=t=>{const e=E1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},T1=()=>lm()?.config,w1=t=>lm()?.[`_${t}`];class l2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function Yl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S1(t){return(await fetch(t,{credentials:"include"})).ok}function u2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sd(JSON.stringify(n)),Sd(JSON.stringify(u)),""].join(".")}const Sc={};function c2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sc))Sc[e]?t.emulator.push(e):t.prod.push(e);return t}function h2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ES=!1;function b1(t,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||Sc[t]===e||Sc[t]||ES)return;Sc[t]=e;function n(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=c2().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{ES=!0,u()},E}function y(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=h2(i),b=n("text"),M=document.getElementById(b)||document.createElement("span"),F=n("learnmore"),O=document.getElementById(F)||document.createElement("a"),j=n("preprendIcon"),H=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const U=E.element;h(U),y(O,F);const ie=p();f(H,j),U.append(H,M,O,ie),document.body.appendChild(U)}l?(M.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function d2(){const t=lm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g2(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function C1(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function v2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const _2="FirebaseError";class mr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_2,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo.prototype.create)}}class Mo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?E2(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new mr(a,h,i)}}function E2(t,e){return t.replace(T2,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const T2=/\{\$([^}]+)}/g;function w2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function da(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(TS(l)&&TS(u)){if(!da(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function TS(t){return t!==null&&typeof t=="object"}function rh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function yc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S2(t,e){const n=new b2(t,e);return n.subscribe.bind(n)}class b2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");A2(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Hg),a.error===void 0&&(a.error=Hg),a.complete===void 0&&(a.complete=Hg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hg(){}const R2=1e3,C2=2,I2=14400*1e3,x2=.5;function wS(t,e=R2,n=C2){const i=e*Math.pow(n,t),a=Math.round(x2*i*(Math.random()-.5)*2);return Math.min(I2,i+a)}function gn(t){return t&&t._delegate?t._delegate:t}class hr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ho="[DEFAULT]";class D2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new l2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:M2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M2(t){return t===ho?void 0:t}function P2(t){return t.instantiationMode==="EAGER"}class N2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const O2={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},V2=Je.INFO,L2={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},k2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=L2[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class um{constructor(e){this.name=e,this._logLevel=V2,this._logHandler=k2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const U2=(t,e)=>e.some(n=>t instanceof n);let SS,bS;function j2(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B2(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I1=new WeakMap,Oy=new WeakMap,x1=new WeakMap,qg=new WeakMap,Fv=new WeakMap;function z2(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(aa(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&I1.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function F2(t){if(Oy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Oy.set(t,e)}let Vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H2(t){Vy=t(Vy)}function q2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Gg(this),e,...n);return x1.set(i,e.sort?e.sort():[e]),aa(i)}:B2().includes(t)?function(...e){return t.apply(Gg(this),e),aa(I1.get(this))}:function(...e){return aa(t.apply(Gg(this),e))}}function G2(t){return typeof t=="function"?q2(t):(t instanceof IDBTransaction&&F2(t),U2(t,j2())?new Proxy(t,Vy):t)}function aa(t){if(t instanceof IDBRequest)return z2(t);if(qg.has(t))return qg.get(t);const e=G2(t);return e!==t&&(qg.set(t,e),Fv.set(e,t)),e}const Gg=t=>Fv.get(t);function D1(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=aa(u);return i&&u.addEventListener("upgradeneeded",f=>{i(aa(u.result),f.oldVersion,f.newVersion,aa(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const K2=["get","getKey","getAll","getAllKeys","count"],W2=["put","add","delete","clear"],Kg=new Map;function AS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kg.get(e))return Kg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=W2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||K2.includes(n)))return;const l=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return Kg.set(e,l),l}H2(t=>({...t,get:(e,n,i)=>AS(e,n)||t.get(e,n,i),has:(e,n)=>!!AS(e,n)||t.has(e,n)}));class $2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Y2(t){return t.getComponent()?.type==="VERSION"}const Ly="@firebase/app",RS="0.14.3";const ms=new um("@firebase/app"),Q2="@firebase/app-compat",X2="@firebase/analytics-compat",Z2="@firebase/analytics",J2="@firebase/app-check-compat",eL="@firebase/app-check",tL="@firebase/auth",nL="@firebase/auth-compat",iL="@firebase/database",rL="@firebase/data-connect",sL="@firebase/database-compat",aL="@firebase/functions",oL="@firebase/functions-compat",lL="@firebase/installations",uL="@firebase/installations-compat",cL="@firebase/messaging",hL="@firebase/messaging-compat",fL="@firebase/performance",dL="@firebase/performance-compat",mL="@firebase/remote-config",pL="@firebase/remote-config-compat",gL="@firebase/storage",yL="@firebase/storage-compat",vL="@firebase/firestore",_L="@firebase/ai",EL="@firebase/firestore-compat",TL="firebase",wL="12.3.0";const ky="[DEFAULT]",SL={[Ly]:"fire-core",[Q2]:"fire-core-compat",[Z2]:"fire-analytics",[X2]:"fire-analytics-compat",[eL]:"fire-app-check",[J2]:"fire-app-check-compat",[tL]:"fire-auth",[nL]:"fire-auth-compat",[iL]:"fire-rtdb",[rL]:"fire-data-connect",[sL]:"fire-rtdb-compat",[aL]:"fire-fn",[oL]:"fire-fn-compat",[lL]:"fire-iid",[uL]:"fire-iid-compat",[cL]:"fire-fcm",[hL]:"fire-fcm-compat",[fL]:"fire-perf",[dL]:"fire-perf-compat",[mL]:"fire-rc",[pL]:"fire-rc-compat",[gL]:"fire-gcs",[yL]:"fire-gcs-compat",[vL]:"fire-fst",[EL]:"fire-fst-compat",[_L]:"fire-vertex","fire-js":"fire-js",[TL]:"fire-js-all"};const bd=new Map,bL=new Map,Uy=new Map;function CS(t,e){try{t.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(Uy.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Uy.set(e,t);for(const n of bd.values())CS(n,t);for(const n of bL.values())CS(n,t);return!0}function Po(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ji(t){return t==null?!1:t.settings!==void 0}const AL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new Mo("app","Firebase",AL);class RL{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}const Ql=wL;function M1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ky,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw oa.create("bad-app-name",{appName:String(a)});if(n||(n=T1()),!n)throw oa.create("no-options");const l=bd.get(a);if(l){if(da(n,l.options)&&da(i,l.config))return l;throw oa.create("duplicate-app",{appName:a})}const u=new N2(a);for(const f of Uy.values())u.addComponent(f);const h=new RL(n,i,u);return bd.set(a,h),h}function Hv(t=ky){const e=bd.get(t);if(!e&&t===ky&&T1())return M1();if(!e)throw oa.create("no-app",{appName:t});return e}function Fi(t,e,n){let i=SL[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(u.join(" "));return}Vr(new hr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const CL="firebase-heartbeat-database",IL=1,Bc="firebase-heartbeat-store";let Wg=null;function P1(){return Wg||(Wg=D1(CL,IL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw oa.create("idb-open",{originalErrorMessage:t.message})})),Wg}async function xL(t){try{const n=(await P1()).transaction(Bc),i=await n.objectStore(Bc).get(N1(t));return await n.done,i}catch(e){if(e instanceof mr)ms.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e?.message});ms.warn(n.message)}}}async function IS(t,e){try{const i=(await P1()).transaction(Bc,"readwrite");await i.objectStore(Bc).put(e,N1(t)),await i.done}catch(n){if(n instanceof mr)ms.warn(n.message);else{const i=oa.create("idb-set",{originalErrorMessage:n?.message});ms.warn(i.message)}}}function N1(t){return`${t.name}!${t.options.appId}`}const DL=1024,ML=30;class PL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>ML){const a=VL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xS(),{heartbeatsToSend:n,unsentEntries:i}=NL(this._heartbeatsCache.heartbeats),a=Sd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ms.warn(e),""}}}function xS(){return new Date().toISOString().substring(0,10)}function NL(t,e=DL){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),DS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),DS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class OL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?C1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return IS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function DS(t){return Sd(JSON.stringify({version:2,heartbeats:t})).length}function VL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function LL(t){Vr(new hr("platform-logger",e=>new $2(e),"PRIVATE")),Vr(new hr("heartbeat",e=>new PL(e),"PRIVATE")),Fi(Ly,RS,t),Fi(Ly,RS,"esm2020"),Fi("fire-js","")}LL("");var kL="firebase",UL="12.3.0";Fi(kL,UL,"app");const O1="@firebase/installations",qv="0.6.19";const V1=1e4,L1=`w:${qv}`,k1="FIS_v2",jL="https://firebaseinstallations.googleapis.com/v1",BL=3600*1e3,zL="installations",FL="Installations";const HL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bo=new Mo(zL,FL,HL);function U1(t){return t instanceof mr&&t.code.includes("request-failed")}function j1({projectId:t}){return`${jL}/projects/${t}/installations`}function B1(t){return{token:t.token,requestStatus:2,expiresIn:GL(t.expiresIn),creationTime:Date.now()}}async function z1(t,e){const i=(await e.json()).error;return bo.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function F1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qL(t,{refreshToken:e}){const n=F1(t);return n.append("Authorization",KL(e)),n}async function H1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GL(t){return Number(t.replace("s","000"))}function KL(t){return`${k1} ${t}`}async function WL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=j1(t),a=F1(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:k1,appId:t.appId,sdkVersion:L1},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await H1(()=>fetch(i,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:B1(p.authToken)}}else throw await z1("Create Installation",f)}function q1(t){return new Promise(e=>{setTimeout(e,t)})}function $L(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const YL=/^[cdef][\w-]{21}$/,jy="";function QL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=XL(t);return YL.test(n)?n:jy}catch{return jy}}function XL(t){return $L(t).substr(0,22)}function cm(t){return`${t.appName}!${t.appId}`}const G1=new Map;function K1(t,e){const n=cm(t);W1(n,e),ZL(n,e)}function W1(t,e){const n=G1.get(t);if(n)for(const i of n)i(e)}function ZL(t,e){const n=JL();n&&n.postMessage({key:t,fid:e}),ek()}let po=null;function JL(){return!po&&"BroadcastChannel"in self&&(po=new BroadcastChannel("[Firebase] FID Change"),po.onmessage=t=>{W1(t.data.key,t.data.fid)}),po}function ek(){G1.size===0&&po&&(po.close(),po=null)}const tk="firebase-installations-database",nk=1,Ao="firebase-installations-store";let $g=null;function Gv(){return $g||($g=D1(tk,nk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ao)}}})),$g}async function Ad(t,e){const n=cm(t),a=(await Gv()).transaction(Ao,"readwrite"),l=a.objectStore(Ao),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&K1(t,e.fid),e}async function $1(t){const e=cm(t),i=(await Gv()).transaction(Ao,"readwrite");await i.objectStore(Ao).delete(e),await i.done}async function hm(t,e){const n=cm(t),a=(await Gv()).transaction(Ao,"readwrite"),l=a.objectStore(Ao),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&K1(t,h.fid),h}async function Kv(t){let e;const n=await hm(t.appConfig,i=>{const a=ik(i),l=rk(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===jy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ik(t){const e=t||{fid:QL(),registrationStatus:0};return Y1(e)}function rk(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(bo.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=sk(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ak(t)}:{installationEntry:e}}async function sk(t,e){try{const n=await WL(t,e);return Ad(t.appConfig,n)}catch(n){throw U1(n)&&n.customData.serverCode===409?await $1(t.appConfig):await Ad(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ak(t){let e=await MS(t.appConfig);for(;e.registrationStatus===1;)await q1(100),e=await MS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Kv(t);return i||n}return e}function MS(t){return hm(t,e=>{if(!e)throw bo.create("installation-not-found");return Y1(e)})}function Y1(t){return ok(t)?{fid:t.fid,registrationStatus:0}:t}function ok(t){return t.registrationStatus===1&&t.registrationTime+V1<Date.now()}async function lk({appConfig:t,heartbeatServiceProvider:e},n){const i=uk(t,n),a=qL(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:L1,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await H1(()=>fetch(i,h));if(f.ok){const p=await f.json();return B1(p)}else throw await z1("Generate Auth Token",f)}function uk(t,{fid:e}){return`${j1(t)}/${e}/authTokens:generate`}async function Wv(t,e=!1){let n;const i=await hm(t.appConfig,l=>{if(!Q1(l))throw bo.create("not-registered");const u=l.authToken;if(!e&&fk(u))return l;if(u.requestStatus===1)return n=ck(t,e),l;{if(!navigator.onLine)throw bo.create("app-offline");const h=mk(l);return n=hk(t,h),h}});return n?await n:i.authToken}async function ck(t,e){let n=await PS(t.appConfig);for(;n.authToken.requestStatus===1;)await q1(100),n=await PS(t.appConfig);const i=n.authToken;return i.requestStatus===0?Wv(t,e):i}function PS(t){return hm(t,e=>{if(!Q1(e))throw bo.create("not-registered");const n=e.authToken;return pk(n)?{...e,authToken:{requestStatus:0}}:e})}async function hk(t,e){try{const n=await lk(t,e),i={...e,authToken:n};return await Ad(t.appConfig,i),n}catch(n){if(U1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $1(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Ad(t.appConfig,i)}throw n}}function Q1(t){return t!==void 0&&t.registrationStatus===2}function fk(t){return t.requestStatus===2&&!dk(t)}function dk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+BL}function mk(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function pk(t){return t.requestStatus===1&&t.requestTime+V1<Date.now()}async function gk(t){const e=t,{installationEntry:n,registrationPromise:i}=await Kv(e);return i?i.catch(console.error):Wv(e).catch(console.error),n.fid}async function yk(t,e=!1){const n=t;return await vk(n),(await Wv(n,e)).token}async function vk(t){const{registrationPromise:e}=await Kv(t);e&&await e}function _k(t){if(!t||!t.options)throw Yg("App Configuration");if(!t.name)throw Yg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yg(t){return bo.create("missing-app-config-values",{valueName:t})}const X1="installations",Ek="installations-internal",Tk=t=>{const e=t.getProvider("app").getImmediate(),n=_k(e),i=Po(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},wk=t=>{const e=t.getProvider("app").getImmediate(),n=Po(e,X1).getImmediate();return{getId:()=>gk(n),getToken:a=>yk(n,a)}};function Sk(){Vr(new hr(X1,Tk,"PUBLIC")),Vr(new hr(Ek,wk,"PRIVATE"))}Sk();Fi(O1,qv);Fi(O1,qv,"esm2020");const Rd="analytics",bk="firebase_id",Ak="origin",Rk=60*1e3,Ck="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$v="https://www.googletagmanager.com/gtag/js";const ti=new um("@firebase/analytics");const Ik={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wi=new Mo("analytics","Analytics",Ik);function xk(t){if(!t.startsWith($v)){const e=wi.create("invalid-gtag-resource",{gtagURL:t});return ti.warn(e.message),""}return t}function Z1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Dk(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Mk(t,e){const n=Dk("firebase-js-sdk-policy",{createScriptURL:xk}),i=document.createElement("script"),a=`${$v}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function Pk(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Nk(t,e,n,i,a,l){const u=i[a];try{if(u)await e[u];else{const f=(await Z1(n)).find(p=>p.measurementId===a);f&&await e[f.appId]}}catch(h){ti.error(h)}t("config",a,l)}async function Ok(t,e,n,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await Z1(n);for(const f of u){const p=h.find(_=>_.measurementId===f),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",i,a||{})}catch(l){ti.error(l)}}function Vk(t,e,n,i){async function a(l,...u){try{if(l==="event"){const[h,f]=u;await Ok(t,e,n,h,f)}else if(l==="config"){const[h,f]=u;await Nk(t,e,n,i,h,f)}else if(l==="consent"){const[h,f]=u;t("consent",h,f)}else if(l==="get"){const[h,f,p]=u;t("get",h,f,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){ti.error(h)}}return a}function Lk(t,e,n,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=Vk(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function kk(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($v)&&n.src.includes(t))return n;return null}const Uk=30,jk=1e3;class Bk{constructor(e={},n=jk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const J1=new Bk;function zk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Fk(t){const{appId:e,apiKey:n}=t,i={method:"GET",headers:zk(n)},a=Ck.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw wi.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Hk(t,e=J1,n){const{appId:i,apiKey:a,measurementId:l}=t.options;if(!i)throw wi.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw wi.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Kk;return setTimeout(async()=>{h.abort()},Rk),eC({appId:i,apiKey:a,measurementId:l},u,h,e)}async function eC(t,{throttleEndTimeMillis:e,backoffCount:n},i,a=J1){const{appId:l,measurementId:u}=t;try{await qk(i,e)}catch(h){if(u)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await Fk(t);return a.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!Gk(f)){if(a.deleteThrottleMetadata(l),u)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(f?.customData?.httpStatus)===503?wS(n,a.intervalMillis,Uk):wS(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),ti.debug(`Calling attemptFetch again in ${p} millis`),eC(t,y,i,a)}}function qk(t,e){return new Promise((n,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),i(wi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Gk(t){if(!(t instanceof mr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Kk{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Wk(t,e,n,i,a){if(a&&a.global){t("event",n,i);return}else{const l=await e,u={...i,send_to:l};t("event",n,u)}}async function $k(){if(R1())try{await C1()}catch(t){return ti.warn(wi.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ti.warn(wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Yk(t,e,n,i,a,l,u){const h=Hk(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>ti.error(E)),e.push(h);const f=$k().then(E=>{if(E)return i.getId()}),[p,y]=await Promise.all([h,f]);kk(l)||Mk(l,p.measurementId),a("js",new Date);const _=u?.config??{};return _[Ak]="firebase",_.update=!0,y!=null&&(_[bk]=y),a("config",p.measurementId,_),p.measurementId}class Qk{constructor(e){this.app=e}_delete(){return delete bc[this.app.options.appId],Promise.resolve()}}let bc={},NS=[];const OS={};let Qg="dataLayer",Xk="gtag",VS,tC,LS=!1;function Zk(){const t=[];if(A1()&&t.push("This is a browser extension environment."),v2()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=wi.create("invalid-analytics-context",{errorInfo:e});ti.warn(n.message)}}function Jk(t,e,n){Zk();const i=t.options.appId;if(!i)throw wi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wi.create("no-api-key");if(bc[i]!=null)throw wi.create("already-exists",{id:i});if(!LS){Pk(Qg);const{wrappedGtag:l,gtagCore:u}=Lk(bc,NS,OS,Qg,Xk);tC=l,VS=u,LS=!0}return bc[i]=Yk(t,NS,OS,e,VS,Qg,n),new Qk(t)}function e4(t=Hv()){t=gn(t);const e=Po(t,Rd);return e.isInitialized()?e.getImmediate():t4(t)}function t4(t,e={}){const n=Po(t,Rd);if(n.isInitialized()){const a=n.getImmediate();if(da(e,n.getOptions()))return a;throw wi.create("already-initialized")}return n.initialize({options:e})}function n4(t,e,n,i){t=gn(t),Wk(tC,bc[t.app.options.appId],e,n,i).catch(a=>ti.error(a))}const kS="@firebase/analytics",US="0.10.18";function i4(){Vr(new hr(Rd,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Jk(i,a,n)},"PUBLIC")),Vr(new hr("analytics-internal",t,"PRIVATE")),Fi(kS,US),Fi(kS,US,"esm2020");function t(e){try{const n=e.getProvider(Rd).getImmediate();return{logEvent:(i,a,l)=>n4(n,i,a,l)}}catch(n){throw wi.create("interop-component-reg-failed",{reason:n})}}}i4();var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var la,nC;(function(){var t;function e(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(L,z,G){for(var P=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)P[Oe-2]=arguments[Oe];return A.prototype[z].apply(L,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,x){x||(x=0);const L=Array(16);if(typeof A=="string")for(var z=0;z<16;++z)L[z]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(z=0;z<16;++z)L[z]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],z=I.g[2];let G=I.g[3],P;P=A+(G^x&(z^G))+L[0]+3614090360&4294967295,A=x+(P<<7&4294967295|P>>>25),P=G+(z^A&(x^z))+L[1]+3905402710&4294967295,G=A+(P<<12&4294967295|P>>>20),P=z+(x^G&(A^x))+L[2]+606105819&4294967295,z=G+(P<<17&4294967295|P>>>15),P=x+(A^z&(G^A))+L[3]+3250441966&4294967295,x=z+(P<<22&4294967295|P>>>10),P=A+(G^x&(z^G))+L[4]+4118548399&4294967295,A=x+(P<<7&4294967295|P>>>25),P=G+(z^A&(x^z))+L[5]+1200080426&4294967295,G=A+(P<<12&4294967295|P>>>20),P=z+(x^G&(A^x))+L[6]+2821735955&4294967295,z=G+(P<<17&4294967295|P>>>15),P=x+(A^z&(G^A))+L[7]+4249261313&4294967295,x=z+(P<<22&4294967295|P>>>10),P=A+(G^x&(z^G))+L[8]+1770035416&4294967295,A=x+(P<<7&4294967295|P>>>25),P=G+(z^A&(x^z))+L[9]+2336552879&4294967295,G=A+(P<<12&4294967295|P>>>20),P=z+(x^G&(A^x))+L[10]+4294925233&4294967295,z=G+(P<<17&4294967295|P>>>15),P=x+(A^z&(G^A))+L[11]+2304563134&4294967295,x=z+(P<<22&4294967295|P>>>10),P=A+(G^x&(z^G))+L[12]+1804603682&4294967295,A=x+(P<<7&4294967295|P>>>25),P=G+(z^A&(x^z))+L[13]+4254626195&4294967295,G=A+(P<<12&4294967295|P>>>20),P=z+(x^G&(A^x))+L[14]+2792965006&4294967295,z=G+(P<<17&4294967295|P>>>15),P=x+(A^z&(G^A))+L[15]+1236535329&4294967295,x=z+(P<<22&4294967295|P>>>10),P=A+(z^G&(x^z))+L[1]+4129170786&4294967295,A=x+(P<<5&4294967295|P>>>27),P=G+(x^z&(A^x))+L[6]+3225465664&4294967295,G=A+(P<<9&4294967295|P>>>23),P=z+(A^x&(G^A))+L[11]+643717713&4294967295,z=G+(P<<14&4294967295|P>>>18),P=x+(G^A&(z^G))+L[0]+3921069994&4294967295,x=z+(P<<20&4294967295|P>>>12),P=A+(z^G&(x^z))+L[5]+3593408605&4294967295,A=x+(P<<5&4294967295|P>>>27),P=G+(x^z&(A^x))+L[10]+38016083&4294967295,G=A+(P<<9&4294967295|P>>>23),P=z+(A^x&(G^A))+L[15]+3634488961&4294967295,z=G+(P<<14&4294967295|P>>>18),P=x+(G^A&(z^G))+L[4]+3889429448&4294967295,x=z+(P<<20&4294967295|P>>>12),P=A+(z^G&(x^z))+L[9]+568446438&4294967295,A=x+(P<<5&4294967295|P>>>27),P=G+(x^z&(A^x))+L[14]+3275163606&4294967295,G=A+(P<<9&4294967295|P>>>23),P=z+(A^x&(G^A))+L[3]+4107603335&4294967295,z=G+(P<<14&4294967295|P>>>18),P=x+(G^A&(z^G))+L[8]+1163531501&4294967295,x=z+(P<<20&4294967295|P>>>12),P=A+(z^G&(x^z))+L[13]+2850285829&4294967295,A=x+(P<<5&4294967295|P>>>27),P=G+(x^z&(A^x))+L[2]+4243563512&4294967295,G=A+(P<<9&4294967295|P>>>23),P=z+(A^x&(G^A))+L[7]+1735328473&4294967295,z=G+(P<<14&4294967295|P>>>18),P=x+(G^A&(z^G))+L[12]+2368359562&4294967295,x=z+(P<<20&4294967295|P>>>12),P=A+(x^z^G)+L[5]+4294588738&4294967295,A=x+(P<<4&4294967295|P>>>28),P=G+(A^x^z)+L[8]+2272392833&4294967295,G=A+(P<<11&4294967295|P>>>21),P=z+(G^A^x)+L[11]+1839030562&4294967295,z=G+(P<<16&4294967295|P>>>16),P=x+(z^G^A)+L[14]+4259657740&4294967295,x=z+(P<<23&4294967295|P>>>9),P=A+(x^z^G)+L[1]+2763975236&4294967295,A=x+(P<<4&4294967295|P>>>28),P=G+(A^x^z)+L[4]+1272893353&4294967295,G=A+(P<<11&4294967295|P>>>21),P=z+(G^A^x)+L[7]+4139469664&4294967295,z=G+(P<<16&4294967295|P>>>16),P=x+(z^G^A)+L[10]+3200236656&4294967295,x=z+(P<<23&4294967295|P>>>9),P=A+(x^z^G)+L[13]+681279174&4294967295,A=x+(P<<4&4294967295|P>>>28),P=G+(A^x^z)+L[0]+3936430074&4294967295,G=A+(P<<11&4294967295|P>>>21),P=z+(G^A^x)+L[3]+3572445317&4294967295,z=G+(P<<16&4294967295|P>>>16),P=x+(z^G^A)+L[6]+76029189&4294967295,x=z+(P<<23&4294967295|P>>>9),P=A+(x^z^G)+L[9]+3654602809&4294967295,A=x+(P<<4&4294967295|P>>>28),P=G+(A^x^z)+L[12]+3873151461&4294967295,G=A+(P<<11&4294967295|P>>>21),P=z+(G^A^x)+L[15]+530742520&4294967295,z=G+(P<<16&4294967295|P>>>16),P=x+(z^G^A)+L[2]+3299628645&4294967295,x=z+(P<<23&4294967295|P>>>9),P=A+(z^(x|~G))+L[0]+4096336452&4294967295,A=x+(P<<6&4294967295|P>>>26),P=G+(x^(A|~z))+L[7]+1126891415&4294967295,G=A+(P<<10&4294967295|P>>>22),P=z+(A^(G|~x))+L[14]+2878612391&4294967295,z=G+(P<<15&4294967295|P>>>17),P=x+(G^(z|~A))+L[5]+4237533241&4294967295,x=z+(P<<21&4294967295|P>>>11),P=A+(z^(x|~G))+L[12]+1700485571&4294967295,A=x+(P<<6&4294967295|P>>>26),P=G+(x^(A|~z))+L[3]+2399980690&4294967295,G=A+(P<<10&4294967295|P>>>22),P=z+(A^(G|~x))+L[10]+4293915773&4294967295,z=G+(P<<15&4294967295|P>>>17),P=x+(G^(z|~A))+L[1]+2240044497&4294967295,x=z+(P<<21&4294967295|P>>>11),P=A+(z^(x|~G))+L[8]+1873313359&4294967295,A=x+(P<<6&4294967295|P>>>26),P=G+(x^(A|~z))+L[15]+4264355552&4294967295,G=A+(P<<10&4294967295|P>>>22),P=z+(A^(G|~x))+L[6]+2734768916&4294967295,z=G+(P<<15&4294967295|P>>>17),P=x+(G^(z|~A))+L[13]+1309151649&4294967295,x=z+(P<<21&4294967295|P>>>11),P=A+(z^(x|~G))+L[4]+4149444226&4294967295,A=x+(P<<6&4294967295|P>>>26),P=G+(x^(A|~z))+L[11]+3174756917&4294967295,G=A+(P<<10&4294967295|P>>>22),P=z+(A^(G|~x))+L[2]+718787259&4294967295,z=G+(P<<15&4294967295|P>>>17),P=x+(G^(z|~A))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(z+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+z&4294967295,I.g[3]=I.g[3]+G&4294967295}i.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,L=this.C;let z=this.h,G=0;for(;G<A;){if(z==0)for(;G<=x;)a(this,I,G),G+=this.blockSize;if(typeof I=="string"){for(;G<A;)if(L[z++]=I.charCodeAt(G++),z==this.blockSize){a(this,L),z=0;break}}else for(;G<A;)if(L[z++]=I[G++],z==this.blockSize){a(this,L),z=0;break}}this.h=z,this.o+=A},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let L=0;L<32;L+=8)I[A++]=this.g[x]>>>L&255;return I};function l(I,A){var x=h;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function u(I,A){this.h=A;const x=[];let L=!0;for(let z=I.length-1;z>=0;z--){const G=I[z]|0;L&&G==A||(x[z]=G,L=!1)}this.g=x}var h={};function f(I){return-128<=I&&I<128?l(I,function(A){return new u([A|0],A<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return O(p(-I));const A=[];let x=1;for(let L=0;I>=x;L++)A[L]=I/x|0,x*=4294967296;return new u(A,0)}function y(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return O(y(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(A,8));let L=_;for(let G=0;G<I.length;G+=8){var z=Math.min(8,I.length-G);const P=parseInt(I.substring(G,G+z),A);z<8?(z=p(Math.pow(A,z)),L=L.j(z).add(p(P))):(L=L.j(x),L=L.add(p(P)))}return L}var _=f(0),E=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(F(this))return-O(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const L=this.i(x);I+=(L>=0?L:4294967296+L)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(M(this))return"0";if(F(this))return"-"+O(this).toString(I);const A=p(Math.pow(I,6));var x=this;let L="";for(;;){const z=ie(x,A).g;x=j(x,z.j(A));let G=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=z,M(x))return G+L;for(;G.length<6;)G="0"+G;L=G+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function M(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function F(I){return I.h==-1}t.l=function(I){return I=j(this,I),F(I)?-1:M(I)?0:1};function O(I){const A=I.g.length,x=[];for(let L=0;L<A;L++)x[L]=~I.g[L];return new u(x,~I.h).add(E)}t.abs=function(){return F(this)?O(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let L=0;for(let z=0;z<=A;z++){let G=L+(this.i(z)&65535)+(I.i(z)&65535),P=(G>>>16)+(this.i(z)>>>16)+(I.i(z)>>>16);L=P>>>16,G&=65535,P&=65535,x[z]=P<<16|G}return new u(x,x[x.length-1]&-2147483648?-1:0)};function j(I,A){return I.add(O(A))}t.j=function(I){if(M(this)||M(I))return _;if(F(this))return F(I)?O(this).j(O(I)):O(O(this).j(I));if(F(I))return O(this.j(O(I)));if(this.l(b)<0&&I.l(b)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var L=0;L<2*A;L++)x[L]=0;for(L=0;L<this.g.length;L++)for(let z=0;z<I.g.length;z++){const G=this.i(L)>>>16,P=this.i(L)&65535,Oe=I.i(z)>>>16,We=I.i(z)&65535;x[2*L+2*z]+=P*We,H(x,2*L+2*z),x[2*L+2*z+1]+=G*We,H(x,2*L+2*z+1),x[2*L+2*z+1]+=P*Oe,H(x,2*L+2*z+1),x[2*L+2*z+2]+=G*Oe,H(x,2*L+2*z+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new u(x,0)};function H(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function U(I,A){this.g=I,this.h=A}function ie(I,A){if(M(A))throw Error("division by zero");if(M(I))return new U(_,_);if(F(I))return A=ie(O(I),A),new U(O(A.g),O(A.h));if(F(A))return A=ie(I,O(A)),new U(O(A.g),A.h);if(I.g.length>30){if(F(I)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var x=E,L=A;L.l(I)<=0;)x=W(x),L=W(L);var z=D(x,1),G=D(L,1);for(L=D(L,2),x=D(x,2);!M(L);){var P=G.add(L);P.l(I)<=0&&(z=z.add(x),G=P),L=D(L,1),x=D(x,1)}return A=j(I,z.j(A)),new U(z,A)}for(z=_;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),L=Math.ceil(Math.log(x)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),G=p(x),P=G.j(A);F(P)||P.l(I)>0;)x-=L,G=p(x),P=G.j(A);M(G)&&(G=E),z=z.add(G),I=j(I,P)}return new U(z,I)}t.B=function(I){return ie(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let L=0;L<A;L++)x[L]=this.i(L)&I.i(L);return new u(x,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let L=0;L<A;L++)x[L]=this.i(L)|I.i(L);return new u(x,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let L=0;L<A;L++)x[L]=this.i(L)^I.i(L);return new u(x,this.h^I.h)};function W(I){const A=I.g.length+1,x=[];for(let L=0;L<A;L++)x[L]=I.i(L)<<1|I.i(L-1)>>>31;return new u(x,I.h)}function D(I,A){const x=A>>5;A%=32;const L=I.g.length-x,z=[];for(let G=0;G<L;G++)z[G]=A>0?I.i(G+x)>>>A|I.i(G+x+1)<<32-A:I.i(G+x);return new u(z,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,nC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,la=u}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iC,vc,rC,ed,By,sC,aC,oC;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(d,v){if(v)e:{var T=i;d=d.split(".");for(var C=0;C<d.length-1;C++){var Q=d[C];if(!(Q in T))break e;T=T[Q]}d=d[d.length-1],C=T[d],v=v(C),v!=C&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(v){var T=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&T.push([C,v[C]]);return T}});var l=l||{},u=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,T){return d.call.apply(d.bind,arguments)}function p(d,v,T){return p=f,p.apply(null,arguments)}function y(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function _(d,v){function T(){}T.prototype=v.prototype,d.Z=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(C,Q,ne){for(var me=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)me[Fe-2]=arguments[Fe];return v.prototype[Q].apply(C,me)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function b(d){const v=d.length;if(v>0){const T=Array(v);for(let C=0;C<v;C++)T[C]=d[C];return T}return[]}function M(d,v){for(let C=1;C<arguments.length;C++){const Q=arguments[C];var T=typeof Q;if(T=T!="object"?T:Q?Array.isArray(Q)?"array":T:"null",T=="array"||T=="object"&&typeof Q.length=="number"){T=d.length||0;const ne=Q.length||0;d.length=T+ne;for(let me=0;me<ne;me++)d[T+me]=Q[me]}else d.push(Q)}}class F{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function O(d){u.setTimeout(()=>{throw d},0)}function j(){var d=I;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,T){const C=U.get();C.set(v,T),this.h?this.h.next=C:this.g=C,this.h=C}}var U=new F(()=>new ie,d=>d.reset());class ie{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,D=!1,I=new H,A=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(x)}};function x(){for(var d;d=j();){try{d.h.call(d.g)}catch(T){O(T)}var v=U;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}D=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return d}();function P(d){return/^[\s\xa0]*$/.test(d)}function Oe(d,v){z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(Oe,z),Oe.prototype.init=function(d,v){const T=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),Z=0;function he(d,v,T,C,Q){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!C,this.ha=Q,this.key=++Z,this.da=this.fa=!1}function pe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Me(d,v,T){for(const C in d)v.call(T,d[C],C,d)}function k(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function se(d){const v={};for(const T in d)v[T]=d[T];return v}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(d,v){let T,C;for(let Q=1;Q<arguments.length;Q++){C=arguments[Q];for(T in C)d[T]=C[T];for(let ne=0;ne<ge.length;ne++)T=ge[ne],Object.prototype.hasOwnProperty.call(C,T)&&(d[T]=C[T])}}function Ee(d){this.src=d,this.g={},this.h=0}Ee.prototype.add=function(d,v,T,C,Q){const ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);const me=xe(d,v,C,Q);return me>-1?(v=d[me],T||(v.fa=!1)):(v=new he(v,this.src,ne,!!C,Q),v.fa=T,d.push(v)),v};function Ge(d,v){const T=v.type;if(T in d.g){var C=d.g[T],Q=Array.prototype.indexOf.call(C,v,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(C,Q,1),ne&&(pe(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function xe(d,v,T,C){for(let Q=0;Q<d.length;++Q){const ne=d[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!T&&ne.ha==C)return Q}return-1}var en="closure_lm_"+(Math.random()*1e6|0),lt={};function ii(d,v,T,C,Q){if(Array.isArray(v)){for(let ne=0;ne<v.length;ne++)ii(d,v[ne],T,C,Q);return null}return T=Lo(T),d&&d[We]?d.J(v,T,h(C)?!!C.capture:!1,Q):Lt(d,v,T,!1,C,Q)}function Lt(d,v,T,C,Q,ne){if(!v)throw Error("Invalid event type");const me=h(Q)?!!Q.capture:!!Q;let Fe=Ia(d);if(Fe||(d[en]=Fe=new Ee(d)),T=Fe.add(v,T,C,me,ne),T.proxy)return T;if(C=ri(),T.proxy=C,C.src=d,C.listener=T,d.addEventListener)G||(Q=me),Q===void 0&&(Q=!1),d.addEventListener(v.toString(),C,Q);else if(d.attachEvent)d.attachEvent(Kn(v.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ri(){function d(T){return v.call(d.src,d.listener,T)}const v=su;return d}function Ur(d,v,T,C,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Ur(d,v[ne],T,C,Q);else C=h(C)?!!C.capture:!!C,T=Lo(T),d&&d[We]?(d=d.i,ne=String(v).toString(),ne in d.g&&(v=d.g[ne],T=xe(v,T,C,Q),T>-1&&(pe(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete d.g[ne],d.h--)))):d&&(d=Ia(d))&&(v=d.g[v.toString()],d=-1,v&&(d=xe(v,T,C,Q)),(T=d>-1?v[d]:null)&&jr(T))}function jr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[We])Ge(v.i,d);else{var T=d.type,C=d.proxy;v.removeEventListener?v.removeEventListener(T,C,d.capture):v.detachEvent?v.detachEvent(Kn(T),C):v.addListener&&v.removeListener&&v.removeListener(C),(T=Ia(v))?(Ge(T,d),T.h==0&&(T.src=null,v[en]=null)):pe(d)}}}function Kn(d){return d in lt?lt[d]:lt[d]="on"+d}function su(d,v){if(d.da)d=!0;else{v=new Oe(v,this);const T=d.listener,C=d.ha||d.src;d.fa&&jr(d),d=T.call(C,v)}return d}function Ia(d){return d=d[en],d instanceof Ee?d:null}var yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(d){return typeof d=="function"?d:(d[yn]||(d[yn]=function(v){return d.handleEvent(v)}),d[yn])}function zt(){L.call(this),this.i=new Ee(this),this.M=this,this.G=null}_(zt,L),zt.prototype[We]=!0,zt.prototype.removeEventListener=function(d,v,T,C){Ur(this,d,v,T,C)};function Kt(d,v){var T,C=d.G;if(C)for(T=[];C;C=C.G)T.push(C);if(d=d.M,C=v.type||v,typeof v=="string")v=new z(v,d);else if(v instanceof z)v.target=v.target||d;else{var Q=v;v=new z(C,d),de(v,Q)}Q=!0;let ne,me;if(T)for(me=T.length-1;me>=0;me--)ne=v.g=T[me],Q=Ki(ne,C,!0,v)&&Q;if(ne=v.g=d,Q=Ki(ne,C,!0,v)&&Q,Q=Ki(ne,C,!1,v)&&Q,T)for(me=0;me<T.length;me++)ne=v.g=T[me],Q=Ki(ne,C,!1,v)&&Q}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const T=d.g[v];for(let C=0;C<T.length;C++)pe(T[C]);delete d.g[v],d.h--}}this.G=null},zt.prototype.J=function(d,v,T,C){return this.i.add(String(d),v,!1,T,C)},zt.prototype.K=function(d,v,T,C){return this.i.add(String(d),v,!0,T,C)};function Ki(d,v,T,C){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let ne=0;ne<v.length;++ne){const me=v[ne];if(me&&!me.da&&me.capture==T){const Fe=me.listener,bt=me.ha||me.src;me.fa&&Ge(d.i,me),Q=Fe.call(bt,C)!==!1&&Q}}return Q&&!C.defaultPrevented}function Wi(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function $i(d){d.g=Wi(()=>{d.g=null,d.i&&(d.i=!1,$i(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class ko extends L{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(d){L.call(this),this.h=d,this.g={}}_(Yi,L);var vn=[];function _t(d){Me(d.g,function(v,T){this.g.hasOwnProperty(T)&&jr(v)},d),d.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),_t(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=u.JSON.stringify,tn=u.JSON.parse,au=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function si(){}function xa(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qi(){z.call(this,"d")}_(Qi,z);function oi(){z.call(this,"c")}_(oi,z);var Un={},li=null;function Br(){return li=li||new zt}Un.Ia="serverreachability";function zr(d){z.call(this,Un.Ia,d)}_(zr,z);function pr(d){const v=Br();Kt(v,new zr(v))}Un.STAT_EVENT="statevent";function Fr(d,v){z.call(this,Un.STAT_EVENT,d),this.stat=v}_(Fr,z);function Mt(d){const v=Br();Kt(v,new Fr(v,d))}Un.Ja="timingevent";function Da(d,v){z.call(this,Un.Ja,d),this.size=v}_(Da,z);function ui(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function Ma(d,v,T,C,Q,ne){d.info(function(){if(d.g)if(ne){var me="",Fe=ne.split("&");for(let ht=0;ht<Fe.length;ht++){var bt=Fe[ht].split("=");if(bt.length>1){const Ft=bt[0];bt=bt[1];const fi=Ft.split("_");me=fi.length>=2&&fi[1]=="type"?me+(Ft+"="+bt+"&"):me+(Ft+"=redacted&")}}}else me=null;else me=ne;return"XMLHTTP REQ ("+C+") [attempt "+Q+"]: "+v+`
`+T+`
`+me})}function Pa(d,v,T,C,Q,ne,me){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Q+"]: "+v+`
`+T+`
`+ne+" "+me})}function B(d,v,T,C){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+te(d,T)+(C?" "+C:"")})}function $(d,v){d.info(function(){return"TIMEOUT: "+v})}ci.prototype.info=function(){};function te(d,v){if(!d.g)return v;if(!v)return null;try{const ne=JSON.parse(v);if(ne){for(d=0;d<ne.length;d++)if(Array.isArray(ne[d])){var T=ne[d];if(!(T.length<2)){var C=T[1];if(Array.isArray(C)&&!(C.length<1)){var Q=C[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let me=1;me<C.length;me++)C[me]=""}}}}return kn(ne)}catch{return v}}var oe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_e;function Se(){}_(Se,si),Se.prototype.g=function(){return new XMLHttpRequest},_e=new Se;function ve(d){return encodeURIComponent(String(d))}function Ce(d){var v=1;d=d.split(":");const T=[];for(;v>0&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function Re(d,v,T,C){this.j=d,this.i=v,this.l=T,this.S=C||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var Ae={},ze={};function st(d,v,T){d.M=1,d.A=Hr(Pt(v)),d.u=T,d.R=!0,St(d,null)}function St(d,v){d.F=Date.now(),jn(d),d.B=Pt(d.A);var T=d.B,C=d.S;Array.isArray(C)||(C=[String(C)]),Th(T.i,"t",C),d.C=0,T=d.j.L,d.h=new Te,d.g=qo(d.j,T?v:null,!d.u),d.P>0&&(d.O=new ko(p(d.Y,d,d.g),d.P)),v=d.V,T=d.g,C=d.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(vn[0]=Q.toString()),Q=vn);for(let ne=0;ne<Q.length;ne++){const me=ii(T,Q[ne],C||v.handleEvent,!1,v.h||v);if(!me)break;v.g[me.key]=me}v=d.J?se(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),pr(),Ma(d.i,d.v,d.B,d.l,d.S,d.u)}Re.prototype.ba=function(d){d=d.target;const v=this.O;v&&xn(d)==3?v.j():this.Y(d)},Re.prototype.Y=function(d){try{if(d==this.g)e:{const Fe=xn(this.g),bt=this.g.ya(),ht=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||ja(this.g)))){this.K||Fe!=4||bt==7||(bt==8||ht<=0?pr(3):pr(2)),nn(this);var v=this.g.ca();this.X=v;var T=Ct(this);if(this.o=v==200,Pa(this.i,this.v,this.B,this.l,this.S,Fe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Q=this.g;if((C=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var ne=C;break t}}ne=null}if(d=ne)B(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,d);else{this.o=!1,this.m=3,Mt(12),Wn(this),cn(this);break e}}if(this.R){d=!0;let Ft;for(;!this.K&&this.C<T.length;)if(Ft=ut(this,T),Ft==ze){Fe==4&&(this.m=4,Mt(14),d=!1),B(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ae){this.m=4,Mt(15),B(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else B(this.i,this.l,Ft,null),Ai(this,Ft);if(je(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||T.length!=0||this.h.h||(this.m=1,Mt(16),d=!1),this.o=this.o&&d,!d)B(this.i,this.l,T,"[Invalid Chunked Response]"),Wn(this),cn(this);else if(T.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),gu(me),me.P=!0,Mt(11))}}else B(this.i,this.l,T,null),Ai(this,T);Fe==4&&Wn(this),this.o&&!this.K&&(Fe==4?yu(this.j,this):(this.o=!1,jn(this)))}else Ba(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Wn(this),cn(this)}}}catch{}finally{}};function Ct(d){if(!je(d))return d.g.la();const v=ja(d.g);if(v==="")return"";let T="";const C=v.length,Q=xn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Wn(d),cn(d),"";d.h.i=new u.TextDecoder}for(let ne=0;ne<C;ne++)d.h.h=!0,T+=d.h.i.decode(v[ne],{stream:!(Q&&ne==C-1)});return v.length=0,d.h.g+=T,d.C=0,d.h.g}function je(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function ut(d,v){var T=d.C,C=v.indexOf(`
`,T);return C==-1?ze:(T=Number(v.substring(T,C)),isNaN(T)?Ae:(C+=1,C+T>v.length?ze:(v=v.slice(C,C+T),d.C=C+T,v)))}Re.prototype.cancel=function(){this.K=!0,Wn(this)};function jn(d){d.T=Date.now()+d.H,In(d,d.H)}function In(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ui(p(d.aa,d),v)}function nn(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Re.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?($(this.i,this.B),this.M!=2&&(pr(),Mt(17)),Wn(this),this.m=2,cn(this)):In(this,this.T-d)};function cn(d){d.j.I==0||d.K||yu(d.j,d)}function Wn(d){nn(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,_t(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ai(d,v){try{var T=d.j;if(T.I!=0&&(T.g==d||It(T.h,d))){if(!d.L&&It(T.h,d)&&T.I==3){try{var C=T.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Q=C;if(Q[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)Ho(T),gr(T);else break e;pu(T),Mt(18)}}else T.xa=Q[1],0<T.xa-T.K&&Q[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=ui(p(T.Va,T),6e3));qe(T.h)<=1&&T.ta&&(T.ta=void 0)}else Kr(T,11)}else if((d.L||T.g==d)&&Ho(T),!P(v))for(Q=T.Ba.g.parse(v),v=0;v<Q.length;v++){let ht=Q[v];const Ft=ht[0];if(!(Ft<=T.K))if(T.K=Ft,ht=ht[1],T.I==2)if(ht[0]=="c"){T.M=ht[1],T.ba=ht[2];const fi=ht[3];fi!=null&&(T.ka=fi,T.j.info("VER="+T.ka));const yr=ht[4];yr!=null&&(T.za=yr,T.j.info("SVER="+T.za));const tr=ht[5];tr!=null&&typeof tr=="number"&&tr>0&&(C=1.5*tr,T.O=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const nr=d.g;if(nr){const ir=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ir){var ne=C.h;ne.g||ir.indexOf("spdy")==-1&&ir.indexOf("quic")==-1&&ir.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Zi(ne,ne.h),ne.h=null))}if(C.G){const _u=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&(C.wa=_u,mt(C.J,C.G,_u))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),C=T;var me=d;if(C.na=Dh(C,C.L?C.ba:null,C.W),me.L){Bn(C.h,me);var Fe=me,bt=C.O;bt&&(Fe.H=bt),Fe.D&&(nn(Fe),jn(Fe)),C.g=me}else Rh(C);T.i.length>0&&qa(T)}else ht[0]!="stop"&&ht[0]!="close"||Kr(T,7);else T.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Kr(T,7):Fa(T):ht[0]!="noop"&&T.l&&T.l.qa(ht),T.A=0)}}pr(4)}catch{}}var Xi=class{constructor(d,v){this.g=d,this.map=v}};function Ri(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ci(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qe(d){return d.h?1:d.g?d.g.size:0}function It(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Zi(d,v){d.g?d.g.add(v):d.h=v}function Bn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ri.prototype.cancel=function(){if(this.i=Et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Et(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.G);return v}return b(d.i)}var Ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uo(d,v){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const C=d[T].indexOf("=");let Q,ne=null;C>=0?(Q=d[T].substring(0,C),ne=d[T].substring(C+1)):Q=d[T],v(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function hi(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof hi?(this.l=d.l,ws(this,d.j),this.o=d.o,this.g=d.g,Na(this,d.u),this.h=d.h,Ss(this,wh(d.i)),this.m=d.m):d&&(v=String(d).match(Ji))?(this.l=!1,ws(this,v[1]||"",!0),this.o=Oa(v[2]||""),this.g=Oa(v[3]||"",!0),Na(this,v[4]),this.h=Oa(v[5]||"",!0),Ss(this,v[6]||"",!0),this.m=Oa(v[7]||"")):(this.l=!1,this.i=new Ii(null,this.l))}hi.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(hn(v,lu,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(hn(v,lu,!0),"@"),d.push(ve(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(hn(T,T.charAt(0)=="/"?bs:uu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",hn(T,Eh)),d.join("")},hi.prototype.resolve=function(d){const v=Pt(this);let T=!!d.j;T?ws(v,d.j):T=!!d.o,T?v.o=d.o:T=!!d.g,T?v.g=d.g:T=d.u!=null;var C=d.h;if(T)Na(v,d.u);else if(T=!!d.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(C=v.h.slice(0,Q+1)+C)}if(Q=C,Q==".."||Q==".")C="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){C=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let me=0;me<Q.length;){const Fe=Q[me++];Fe=="."?C&&me==Q.length&&ne.push(""):Fe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),C&&me==Q.length&&ne.push("")):(ne.push(Fe),C=!0)}C=ne.join("/")}else C=Q}return T?v.h=C:T=d.i.toString()!=="",T?Ss(v,wh(d.i)):T=!!d.m,T&&(v.m=d.m),v};function Pt(d){return new hi(d)}function ws(d,v,T){d.j=T?Oa(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Na(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Ss(d,v,T){v instanceof Ii?(d.i=v,fu(d.i,d.l)):(T||(v=hn(v,_h)),d.i=new Ii(v,d.l))}function mt(d,v,T){d.i.set(v,T)}function Hr(d){return mt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Oa(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function hn(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,ou),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ou(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var lu=/[#\/\?@]/g,uu=/[#\?:]/g,bs=/[#\?]/g,_h=/[#\?@]/g,Eh=/#/g;function Ii(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function qr(d){d.g||(d.g=new Map,d.h=0,d.i&&Uo(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Ii.prototype,t.add=function(d,v){qr(this),this.i=null,d=er(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function cu(d,v){qr(d),v=er(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function hu(d,v){return qr(d),v=er(d,v),d.g.has(v)}t.forEach=function(d,v){qr(this),this.g.forEach(function(T,C){T.forEach(function(Q){d.call(v,Q,C,this)},this)},this)};function jo(d,v){qr(d);let T=[];if(typeof v=="string")hu(d,v)&&(T=T.concat(d.g.get(er(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)T=T.concat(d[v]);return T}t.set=function(d,v){return qr(this),this.i=null,d=er(this,d),hu(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=jo(this,d),d.length>0?String(d[0]):v):v};function Th(d,v,T){cu(d,v),T.length>0&&(d.i=null,d.g.set(er(d,v),b(T)),d.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var T=v[C];const Q=ve(T);T=jo(this,T);for(let ne=0;ne<T.length;ne++){let me=Q;T[ne]!==""&&(me+="="+ve(T[ne])),d.push(me)}}return this.i=d.join("&")};function wh(d){const v=new Ii;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function er(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function fu(d,v){v&&!d.j&&(qr(d),d.i=null,d.g.forEach(function(T,C){const Q=C.toLowerCase();C!=Q&&(cu(this,C),Th(this,Q,T))},d)),d.j=v}function du(d,v){const T=new ci;if(u.Image){const C=new Image;C.onload=y(zn,T,"TestLoadImage: loaded",!0,v,C),C.onerror=y(zn,T,"TestLoadImage: error",!1,v,C),C.onabort=y(zn,T,"TestLoadImage: abort",!1,v,C),C.ontimeout=y(zn,T,"TestLoadImage: timeout",!1,v,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else v(!1)}function As(d,v){const T=new ci,C=new AbortController,Q=setTimeout(()=>{C.abort(),zn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:C.signal}).then(ne=>{clearTimeout(Q),ne.ok?zn(T,"TestPingServer: ok",!0,v):zn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),zn(T,"TestPingServer: error",!1,v)})}function zn(d,v,T,C,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),C(T)}catch{}}function Sh(){this.g=new au}function Va(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Va,si),Va.prototype.g=function(){return new La(this.i,this.h)};function La(d,v){zt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(La,zt),t=La.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,Gr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rs(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rs(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Fn(this):Gr(this),this.readyState==3&&Rs(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Fn(this))},t.Na=function(d){this.g&&(this.response=d,Fn(this))},t.ga=function(){this.g&&Fn(this)};function Fn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Gr(d)}t.setRequestHeader=function(d,v){this.A.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function Gr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Cs(d){let v="";return Me(d,function(T,C){v+=C,v+=":",v+=T,v+=`\r
`}),v}function xi(d,v,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Cs(T),typeof d=="string"?T!=null&&ve(T):mt(d,v,T))}function Tt(d){zt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Tt,zt);var Bo=/^https?$/i,bh=["POST","PUT"];t=Tt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,v,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ne){ka(this,ne);return}if(d=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Q in C)T.set(Q,C[Q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const ne of C.keys())T.set(ne,C.get(ne));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(bh,v,void 0)>=0)||C||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,me]of T)this.g.setRequestHeader(ne,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ne){ka(this,ne)}};function ka(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Ua(d),rn(d)}function Ua(d){d.A||(d.A=!0,Kt(d,"complete"),Kt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Kt(this,"complete"),Kt(this,"abort"),rn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rn(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?mu(this):this.Xa())},t.Xa=function(){mu(this)};function mu(d){if(d.h&&typeof l<"u"){if(d.v&&xn(d)==4)setTimeout(d.Ca.bind(d),0);else if(Kt(d,"readystatechange"),xn(d)==4){d.h=!1;try{const ne=d.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var C;if(C=ne===0){let me=String(d.D).match(Ji)[1]||null;!me&&u.self&&u.self.location&&(me=u.self.location.protocol.slice(0,-1)),C=!Bo.test(me?me.toLowerCase():"")}T=C}if(T)Kt(d,"complete"),Kt(d,"success");else{d.o=6;try{var Q=xn(d)>2?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.ca()+"]",Ua(d)}}finally{rn(d)}}}}function rn(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,v||Kt(d,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xn(d){return d.g?d.g.readyState:0}t.ca=function(){try{return xn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),tn(v)}};function ja(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ba(d){const v={};d=(d.g&&xn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(P(d[C]))continue;var T=Ce(d[C]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(T)}k(v,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function zo(d){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=za("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=za("baseRetryDelayMs",5e3,d),this.Za=za("retryDelaySeedMs",1e4,d),this.Ta=za("forwardChannelMaxRetries",2,d),this.va=za("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ri(d&&d.concurrentRequestLimit),this.Ba=new Sh,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=zo.prototype,t.ka=8,t.I=1,t.connect=function(d,v,T,C){Mt(0),this.W=d,this.H=v||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.J=Dh(this,null,this.W),qa(this)};function Fa(d){if(Ha(d),d.I==3){var v=d.V++,T=Pt(d.J);if(mt(T,"SID",d.M),mt(T,"RID",v),mt(T,"TYPE","terminate"),Ga(d,T),v=new Re(d,d.j,v),v.M=2,v.A=Hr(Pt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.A,T=!0),T||(v.g=qo(v.j,null),v.g.ea(v.A)),v.F=Date.now(),jn(v)}xh(d)}function gr(d){d.g&&(gu(d),d.g.cancel(),d.g=null)}function Ha(d){gr(d),d.v&&(u.clearTimeout(d.v),d.v=null),Ho(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function qa(d){if(!Ci(d.h)&&!d.m){d.m=!0;var v=d.Ea;W||A(),D||(W(),D=!0),I.add(v,d),d.D=0}}function Lm(d,v){return qe(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ui(p(d.Ea,d,v),Ih(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Q=new Re(this,this.j,d);let ne=this.o;if(this.U&&(ne?(ne=se(ne),de(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Fo(this,Q,v),T=Pt(this.J),mt(T,"RID",d),mt(T,"CVER",22),this.G&&mt(T,"X-HTTP-Session-Id",this.G),Ga(this,T),ne&&(this.R?v="headers="+ve(Cs(ne))+"&"+v:this.u&&xi(T,this.u,ne)),Zi(this.h,Q),this.Ra&&mt(T,"TYPE","init"),this.S?(mt(T,"$req",v),mt(T,"SID","null"),Q.U=!0,st(Q,T,null)):st(Q,T,v),this.I=2}}else this.I==3&&(d?Ah(this,d):this.i.length==0||Ci(this.h)||Ah(this))};function Ah(d,v){var T;v?T=v.l:T=d.V++;const C=Pt(d.J);mt(C,"SID",d.M),mt(C,"RID",T),mt(C,"AID",d.K),Ga(d,C),d.u&&d.o&&xi(C,d.u,d.o),T=new Re(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Fo(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Zi(d.h,T),st(T,C,v)}function Ga(d,v){d.H&&Me(d.H,function(T,C){mt(v,C,T)}),d.l&&Me({},function(T,C){mt(v,C,T)})}function Fo(d,v,T){T=Math.min(d.i.length,T);const C=d.l?p(d.l.Ka,d.l,d):null;e:{var Q=d.i;let Fe=-1;for(;;){const bt=["count="+T];Fe==-1?T>0?(Fe=Q[0].g,bt.push("ofs="+Fe)):Fe=0:bt.push("ofs="+Fe);let ht=!0;for(let Ft=0;Ft<T;Ft++){var ne=Q[Ft].g;const fi=Q[Ft].map;if(ne-=Fe,ne<0)Fe=Math.max(0,Q[Ft].g-100),ht=!1;else try{ne="req"+ne+"_"||"";try{var me=fi instanceof Map?fi:Object.entries(fi);for(const[yr,tr]of me){let nr=tr;h(tr)&&(nr=kn(tr)),bt.push(ne+yr+"="+encodeURIComponent(nr))}}catch(yr){throw bt.push(ne+"type="+encodeURIComponent("_badmap")),yr}}catch{C&&C(fi)}}if(ht){me=bt.join("&");break e}}me=void 0}return d=d.i.splice(0,T),v.G=d,me}function Rh(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;W||A(),D||(W(),D=!0),I.add(v,d),d.A=0}}function pu(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ui(p(d.Da,d),Ih(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Ch(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ui(p(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),gr(this),Ch(this))};function gu(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Ch(d){d.g=new Re(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Pt(d.na);mt(v,"RID","rpc"),mt(v,"SID",d.M),mt(v,"AID",d.K),mt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&mt(v,"TO",d.ia),mt(v,"TYPE","xmlhttp"),Ga(d,v),d.u&&d.o&&xi(v,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=Hr(Pt(v)),T.u=null,T.R=!0,St(T,d)}t.Va=function(){this.C!=null&&(this.C=null,gr(this),pu(this),Mt(19))};function Ho(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function yu(d,v){var T=null;if(d.g==v){Ho(d),gu(d),d.g=null;var C=2}else if(It(d.h,v))T=v.G,Bn(d.h,v),C=1;else return;if(d.I!=0){if(v.o)if(C==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var Q=d.D;C=Br(),Kt(C,new Da(C,T)),qa(d)}else Rh(d);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(C==1&&Lm(d,v)||C==2&&pu(d)))switch(T&&T.length>0&&(v=d.h,v.i=v.i.concat(T)),Q){case 1:Kr(d,5);break;case 4:Kr(d,10);break;case 3:Kr(d,6);break;default:Kr(d,2)}}}function Ih(d,v){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*v}function Kr(d,v){if(d.j.info("Error code "+v),v==2){var T=p(d.bb,d),C=d.Ua;const Q=!C;C=new hi(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ws(C,"https"),Hr(C),Q?du(C.toString(),T):As(C.toString(),T)}else Mt(2);d.I=0,d.l&&d.l.pa(v),xh(d),Ha(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function xh(d){if(d.I=0,d.ja=[],d.l){const v=Et(d.h);(v.length!=0||d.i.length!=0)&&(M(d.ja,v),M(d.ja,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.oa()}}function Dh(d,v,T){var C=T instanceof hi?Pt(T):new hi(T);if(C.g!="")v&&(C.g=v+"."+C.g),Na(C,C.u);else{var Q=u.location;C=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new hi(null);C&&ws(ne,C),v&&(ne.g=v),Q&&Na(ne,Q),T&&(ne.h=T),C=ne}return T=d.G,v=d.wa,T&&v&&mt(C,T,v),mt(C,"VER",d.ka),Ga(d,C),C}function qo(d,v,T){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Tt(new Va({ab:T})):new Tt(d.ma),v.Fa(d.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}t=Mh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Go(){}Go.prototype.g=function(d,v){return new Hn(d,v)};function Hn(d,v){zt.call(this),this.g=new zo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!P(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Is(this)}_(Hn,zt),Hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Fa(this.g)},Hn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=kn(d),d=T);v.i.push(new Xi(v.Ya++,d)),v.I==3&&qa(v)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Fa(this.g),delete this.g,Hn.Z.N.call(this)};function vu(d){Qi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(vu,Qi);function Ph(){oi.call(this),this.status=1}_(Ph,oi);function Is(d){this.g=d}_(Is,Mh),Is.prototype.ra=function(){Kt(this.g,"a")},Is.prototype.qa=function(d){Kt(this.g,new vu(d))},Is.prototype.pa=function(d){Kt(this.g,new Ph)},Is.prototype.oa=function(){Kt(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,oC=function(){return new Go},aC=function(){return Br()},sC=Un,By={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,ed=oe,fe.COMPLETE="complete",rC=fe,xa.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",zt.prototype.listen=zt.prototype.J,vc=xa,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,iC=Tt}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const BS="@firebase/firestore",zS="4.9.2";class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let Xl="12.3.0";const Ro=new um("@firebase/firestore");function Tl(){return Ro.logLevel}function ye(t,...e){if(Ro.logLevel<=Je.DEBUG){const n=e.map(Yv);Ro.debug(`Firestore (${Xl}): ${t}`,...n)}}function ps(t,...e){if(Ro.logLevel<=Je.ERROR){const n=e.map(Yv);Ro.error(`Firestore (${Xl}): ${t}`,...n)}}function Bl(t,...e){if(Ro.logLevel<=Je.WARN){const n=e.map(Yv);Ro.warn(`Firestore (${Xl}): ${t}`,...n)}}function Yv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Le(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,lC(t,i,n)}function lC(t,e,n){let i=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ps(i),new Error(i)}function ct(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||lC(e,a,i)}function He(t,e){return t}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class uC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nn.UNAUTHENTICATED))}shutdown(){}}class s4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class a4{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let l=new hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hs,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hs)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct(typeof i.accessToken=="string",31837,{l:i}),new uC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class o4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new o4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function c4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Qv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=c4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function et(t,e){return t<e?-1:t>e?1:0}function zy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Xg(a)===Xg(l)?et(a,l):Xg(a)?1:-1}return et(t.length,e.length)}const h4=55296,f4=57343;function Xg(t){const e=t.charCodeAt(0);return e>=h4&&e<=f4}function zl(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}const HS="__name__";class Sr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Le(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Sr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return et(e.length,n.length)}static compareSegments(e,n){const i=Sr.isNumericId(e),a=Sr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Sr.extractNumericId(e).compare(Sr.extractNumericId(n)):zy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class At extends Sr{construct(e,n,i){return new At(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new At(n)}static emptyPath(){return new At([])}}const d4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends Sr{construct(e,n,i){return new An(e,n,i)}static isValidIdentifier(e){return d4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HS}static keyField(){return new An([HS])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new be(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new be(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(n)}static emptyPath(){return new An([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(At.fromString(e))}static fromName(e){return new De(At.fromString(e).popFirst(5))}static empty(){return new De(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new At(e.slice()))}}function cC(t,e,n){if(!n)throw new be(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m4(t,e,n,i){if(e===!0&&i===!0)throw new be(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qS(t){if(!De.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GS(t){if(De.isDocumentKey(t))throw new be(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function gs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xv(t);throw new be(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function sh(t,e){if(!hC(t))throw new be(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new be(ce.INVALID_ARGUMENT,n);return!0}const KS=-62135596800,WS=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*WS);return new Rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KS)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WS}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(sh(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Zt("string",Rt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Rt(0,0))}static max(){return new Be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zc=-1;function p4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Be.fromTimestamp(i===1e9?new Rt(n+1,0):new Rt(n,i));return new ma(a,De.empty(),e)}function g4(t){return new ma(t.readTime,t.key,zc)}class ma{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ma(Be.min(),De.empty(),zc)}static max(){return new ma(Be.max(),De.empty(),zc)}}function y4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:et(t.largestBatchId,e.largestBatchId))}const v4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Zl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==v4)throw t;ye("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,i)=>{n(e)})}static reject(e){return new ue((n,i)=>{i(e)})}static waitFor(e){return new ue((n,i)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},f=>i(f))}),u=!0,l===a&&n()})}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next(a=>a?ue.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ue((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next(y=>{u[p]=y,++h,h===l&&i(u)},y=>a(y))}})}static doWhile(e,n){return new ue((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function E4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jl(t){return t.name==="IndexedDbTransactionError"}class fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fm.ce=-1;const Zv=-1;function dm(t){return t==null}function Cd(t){return t===0&&1/t==-1/0}function T4(t){return typeof t=="number"&&Number.isInteger(t)&&!Cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const fC="";function w4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$S(e)),e=S4(t.get(n),e);return $S(e)}function S4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case fC:n+="";break;default:n+=l}}return n}function $S(t){return t+fC+""}function YS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||bn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??bn.RED,this.left=a??bn.EMPTY,this.right=l??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new bn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return bn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QS(this.data.getIterator())}getIteratorFrom(e){return new QS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class QS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ti{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new Ti([])}unionWith(e){let n=new un(An.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class mC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mC("Invalid base64 string: "+l):l}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const b4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(t){if(ct(!!t,39018),typeof t=="string"){let e=0;const n=b4.exec(t);if(ct(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}const pC="server_timestamp",gC="__type__",yC="__previous_value__",vC="__local_write_time__";function Jv(t){return(t?.mapValue?.fields||{})[gC]?.stringValue===pC}function mm(t){const e=t.mapValue.fields[yC];return Jv(e)?mm(e):e}function Fc(t){const e=pa(t.mapValue.fields[vC].timestampValue);return new Rt(e.seconds,e.nanos)}class A4{constructor(e,n,i,a,l,u,h,f,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=y}}const Id="(default)";class Hc{constructor(e,n){this.projectId=e,this.database=n||Id}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Id}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}const _C="__type__",R4="__max__",zf={mapValue:{}},EC="__vector__",xd="value";function ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:I4(t)?9007199254740991:C4(t)?10:11:Le(28295,{value:t})}function Lr(t,e){if(t===e)return!0;const n=ya(t);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=pa(a.timestampValue),h=pa(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return ga(a.bytesValue).isEqual(ga(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Gt(a.geoPointValue.latitude)===Gt(l.geoPointValue.latitude)&&Gt(a.geoPointValue.longitude)===Gt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Gt(a.integerValue)===Gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Gt(a.doubleValue),h=Gt(l.doubleValue);return u===h?Cd(u)===Cd(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(YS(u)!==YS(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Lr(u[f],h[f])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function qc(t,e){return(t.values||[]).find(n=>Lr(n,e))!==void 0}function Fl(t,e){if(t===e)return 0;const n=ya(t),i=ya(e);if(n!==i)return et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return et(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=Gt(l.integerValue||l.doubleValue),f=Gt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return XS(t.timestampValue,e.timestampValue);case 4:return XS(Fc(t),Fc(e));case 5:return zy(t.stringValue,e.stringValue);case 6:return function(l,u){const h=ga(l),f=ga(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=et(h[p],f[p]);if(y!==0)return y}return et(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=et(Gt(l.latitude),Gt(u.latitude));return h!==0?h:et(Gt(l.longitude),Gt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZS(t.arrayValue,e.arrayValue);case 10:return function(l,u){const h=l.fields||{},f=u.fields||{},p=h[xd]?.arrayValue,y=f[xd]?.arrayValue,_=et(p?.values?.length||0,y?.values?.length||0);return _!==0?_:ZS(p,y)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===zf.mapValue&&u===zf.mapValue)return 0;if(l===zf.mapValue)return 1;if(u===zf.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const E=zy(f[_],y[_]);if(E!==0)return E;const b=Fl(h[f[_]],p[y[_]]);if(b!==0)return b}return et(f.length,y.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function XS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return et(t,e);const n=pa(t),i=pa(e),a=et(n.seconds,i.seconds);return a!==0?a:et(n.nanos,i.nanos)}function ZS(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Fl(n[a],i[a]);if(l)return l}return et(n.length,i.length)}function Hl(t){return Fy(t)}function Fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=pa(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ga(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Fy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Fy(n.fields[u])}`;return a+"}"}(t.mapValue):Le(61005,{value:t})}function td(t){switch(ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mm(t);return e?16+td(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+td(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Sa(i.fields,(l,u)=>{a+=l.length+td(u)}),a}(t.mapValue);default:throw Le(13486,{value:t})}}function Hy(t){return!!t&&"integerValue"in t}function e_(t){return!!t&&"arrayValue"in t}function JS(t){return!!t&&"nullValue"in t}function eb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nd(t){return!!t&&"mapValue"in t}function C4(t){return(t?.mapValue?.fields||{})[_C]?.stringValue===EC}function Ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Sa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ac(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ac(t.arrayValue.values[n]);return e}return{...t}}function I4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===R4}class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(n)}setAll(e){let n=An.emptyPath(),i={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=Ac(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];nd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Sa(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Jn(Ac(this.value))}}function TC(t){const e=[];return Sa(t.fields,(n,i)=>{const a=new An([n]);if(nd(i)){const l=TC(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Ti(e)}class On{constructor(e,n,i,a,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new On(e,0,Be.min(),Be.min(),Be.min(),Jn.empty(),0)}static newFoundDocument(e,n,i,a){return new On(e,1,n,Be.min(),i,a,0)}static newNoDocument(e,n){return new On(e,2,n,Be.min(),Be.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Be.min(),Be.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dd{constructor(e,n){this.position=e,this.inclusive=n}}function tb(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=De.comparator(De.fromName(u.referenceValue),n.key):i=Fl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function nb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}class Md{constructor(e,n="asc"){this.field=e,this.dir=n}}function x4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class wC{}class ln extends wC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new M4(e,n,i):n==="array-contains"?new O4(e,i):n==="in"?new V4(e,i):n==="not-in"?new L4(e,i):n==="array-contains-any"?new k4(e,i):new ln(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new P4(e,i):new N4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fl(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends wC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kr(e,n)}matches(e){return SC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function SC(t){return t.op==="and"}function bC(t){return D4(t)&&SC(t)}function D4(t){for(const e of t.filters)if(e instanceof kr)return!1;return!0}function qy(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(bC(t))return t.filters.map(e=>qy(e)).join(",");{const e=t.filters.map(n=>qy(n)).join(",");return`${t.op}(${e})`}}function AC(t,e){return t instanceof ln?function(i,a){return a instanceof ln&&i.op===a.op&&i.field.isEqual(a.field)&&Lr(i.value,a.value)}(t,e):t instanceof kr?function(i,a){return a instanceof kr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,h)=>l&&AC(u,a.filters[h]),!0):!1}(t,e):void Le(19439)}function RC(t){return t instanceof ln?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(RC).join(" ,")+"}"}(t):"Filter"}class M4 extends ln{constructor(e,n,i){super(e,n,i),this.key=De.fromName(i.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class P4 extends ln{constructor(e,n){super(e,"in",n),this.keys=CC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N4 extends ln{constructor(e,n){super(e,"not-in",n),this.keys=CC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CC(t,e){return(e.arrayValue?.values||[]).map(n=>De.fromName(n.referenceValue))}class O4 extends ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e_(n)&&qc(n.arrayValue,this.value)}}class V4 extends ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class L4 extends ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qc(this.value.arrayValue,n)}}class k4 extends ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>qc(this.value.arrayValue,i))}}class U4{constructor(e,n=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function ib(t,e=null,n=[],i=[],a=null,l=null,u=null){return new U4(t,e,n,i,a,l,u)}function t_(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>qy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),dm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Hl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Hl(i)).join(",")),e.Te=n}return e.Te}function n_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nb(t.startAt,e.startAt)&&nb(t.endAt,e.endAt)}function Gy(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class pm{constructor(e,n=null,i=[],a=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j4(t,e,n,i,a,l,u,h){return new pm(t,e,n,i,a,l,u,h)}function i_(t){return new pm(t)}function rb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function B4(t){return t.collectionGroup!==null}function Rc(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new un(An.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Md(l,i))}),n.has(An.keyField().canonicalString())||e.Ie.push(new Md(An.keyField(),i))}return e.Ie}function Ar(t){const e=He(t);return e.Ee||(e.Ee=z4(e,Rc(t))),e.Ee}function z4(t,e){if(t.limitType==="F")return ib(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Md(a.field,l)});const n=t.endAt?new Dd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Dd(t.startAt.position,t.startAt.inclusive):null;return ib(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ky(t,e,n){return new pm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gm(t,e){return n_(Ar(t),Ar(e))&&t.limitType===e.limitType}function IC(t){return`${t_(Ar(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>RC(a)).join(", ")}]`),dm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Hl(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Hl(a)).join(",")),`Target(${i})`}(Ar(t))}; limitType=${t.limitType})`}function ym(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):De.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of Rc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(u,h,f){const p=tb(u,h,f);return u.inclusive?p<=0:p<0}(i.startAt,Rc(i),a)||i.endAt&&!function(u,h,f){const p=tb(u,h,f);return u.inclusive?p>=0:p>0}(i.endAt,Rc(i),a))}(t,e)}function F4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xC(t){return(e,n)=>{let i=!1;for(const a of Rc(t)){const l=H4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function H4(t,e,n){const i=t.field.isKeyField()?De.comparator(e.key,n.key):function(l,u,h){const f=u.data.field(l),p=h.data.field(l);return f!==null&&p!==null?Fl(f,p):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Le(19790,{direction:t.dir})}}class No{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return dC(this.inner)}size(){return this.innerSize}}const q4=new Vt(De.comparator);function ys(){return q4}const DC=new Vt(De.comparator);function _c(...t){let e=DC;for(const n of t)e=e.insert(n.key,n);return e}function MC(t){let e=DC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function go(){return Cc()}function PC(){return Cc()}function Cc(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const G4=new Vt(De.comparator),K4=new un(De.comparator);function nt(...t){let e=K4;for(const n of t)e=e.add(n);return e}const W4=new un(et);function $4(){return W4}function r_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cd(e)?"-0":e}}function NC(t){return{integerValue:""+t}}function Y4(t,e){return T4(e)?NC(e):r_(t,e)}class vm{constructor(){this._=void 0}}function Q4(t,e,n){return t instanceof Pd?function(a,l){const u={fields:{[gC]:{stringValue:pC},[vC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jv(l)&&(l=mm(l)),l&&(u.fields[yC]=l),{mapValue:u}}(n,e):t instanceof Gc?VC(t,e):t instanceof Kc?LC(t,e):function(a,l){const u=OC(a,l),h=sb(u)+sb(a.Ae);return Hy(u)&&Hy(a.Ae)?NC(h):r_(a.serializer,h)}(t,e)}function X4(t,e,n){return t instanceof Gc?VC(t,e):t instanceof Kc?LC(t,e):n}function OC(t,e){return t instanceof Nd?function(i){return Hy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Pd extends vm{}class Gc extends vm{constructor(e){super(),this.elements=e}}function VC(t,e){const n=kC(e);for(const i of t.elements)n.some(a=>Lr(a,i))||n.push(i);return{arrayValue:{values:n}}}class Kc extends vm{constructor(e){super(),this.elements=e}}function LC(t,e){let n=kC(e);for(const i of t.elements)n=n.filter(a=>!Lr(a,i));return{arrayValue:{values:n}}}class Nd extends vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sb(t){return Gt(t.integerValue||t.doubleValue)}function kC(t){return e_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Z4(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Gc&&a instanceof Gc||i instanceof Kc&&a instanceof Kc?zl(i.elements,a.elements,Lr):i instanceof Nd&&a instanceof Nd?Lr(i.Ae,a.Ae):i instanceof Pd&&a instanceof Pd}(t.transform,e.transform)}class J4{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _m{}function UC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BC(t.key,Rr.none()):new ah(t.key,t.data,Rr.none());{const n=t.data,i=Jn.empty();let a=new un(An.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new ba(t.key,i,new Ti(a.toArray()),Rr.none())}}function eU(t,e,n){t instanceof ah?function(a,l,u){const h=a.value.clone(),f=ob(a.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof ba?function(a,l,u){if(!id(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=ob(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(jC(a)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,i){return t instanceof ah?function(l,u,h,f){if(!id(l.precondition,u))return h;const p=l.value.clone(),y=lb(l.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof ba?function(l,u,h,f){if(!id(l.precondition,u))return h;const p=lb(l.fieldTransforms,f,u),y=u.data;return y.setAll(jC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,u,h){return id(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function tU(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=OC(i.transform,a||null);l!=null&&(n===null&&(n=Jn.empty()),n.set(i.field,l))}return n||null}function ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&zl(i,a,(l,u)=>Z4(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ah extends _m{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ba extends _m{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function ob(t,e,n){const i=new Map;ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,X4(u,h,n[a]))}return i}function lb(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,Q4(l,u,e))}return i}class BC extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nU extends _m{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iU{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&eU(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ic(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ic(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=PC();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const f=UC(u,h);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,i)=>ab(n,i))&&zl(this.baseMutations,e.baseMutations,(n,i)=>ab(n,i))}}class s_{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){ct(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=function(){return G4}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new s_(e,n,i,a)}}class rU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sU{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yt,rt;function aU(t){switch(t){case ce.OK:return Le(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function zC(t){if(t===void 0)return ps("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Yt.OK:return ce.OK;case Yt.CANCELLED:return ce.CANCELLED;case Yt.UNKNOWN:return ce.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ce.INTERNAL;case Yt.UNAVAILABLE:return ce.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ce.NOT_FOUND;case Yt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Yt.ABORTED:return ce.ABORTED;case Yt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Yt.DATA_LOSS:return ce.DATA_LOSS;default:return Le(39323,{code:t})}}(rt=Yt||(Yt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";function oU(){return new TextEncoder}const lU=new la([4294967295,4294967295],0);function ub(t){const e=oU().encode(t),n=new nC;return n.update(e),new Uint8Array(n.digest())}function cb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new la([n,i],0),new la([a,l],0)]}class a_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(i<0)throw new Ec(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=la.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(la.fromNumber(i)));return a.compare(lU)===1&&(a=new la([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ub(e),[i,a]=cb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new a_(l,a,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const n=ub(e),[i,a]=cb(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Em{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,oh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Em(Be.min(),a,new Vt(et),ys(),nt())}}class oh{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new oh(i,n,nt(),nt(),nt())}}class rd{constructor(e,n,i,a){this.be=e,this.removedTargetIds=n,this.key=i,this.De=a}}class FC{constructor(e,n){this.targetId=e,this.Ce=n}}class HC{constructor(e,n,i=Cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class hb{constructor(){this.ve=0,this.Fe=fb(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),i=nt();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Le(38017,{changeType:l})}}),new oh(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=fb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uU{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=Ff(),this.He=Ff(),this.Ye=new Vt(et)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Gy(l))if(i===0){const u=new De(l.path);this.et(n,u,On.newNoDocument(u,Be.min()))}else ct(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ga(i).toUint8Array()}catch(f){if(f instanceof mC)return Bl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new a_(u,a,l)}catch(f){return Bl(f instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Gy(h.target)){const f=new De(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,On.newNoDocument(f,e))}l.Be&&(n.set(u,l.ke()),l.qe())}});let i=nt();this.He.forEach((l,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const a=new Em(e,n,this.Ye,this.je,i);return this.je=ys(),this.Je=Ff(),this.He=Ff(),this.Ye=new Vt(et),a}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(et),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(et),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ff(){return new Vt(De.comparator)}function fb(){return new Vt(De.comparator)}const cU={asc:"ASCENDING",desc:"DESCENDING"},hU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fU={and:"AND",or:"OR"};class dU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wy(t,e){return t.useProto3Json||dm(e)?e:{value:e}}function Od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mU(t,e){return Od(t,e.toTimestamp())}function Cr(t){return ct(!!t,49232),Be.fromTimestamp(function(n){const i=pa(n);return new Rt(i.seconds,i.nanos)}(t))}function o_(t,e){return $y(t,e).canonicalString()}function $y(t,e){const n=function(a){return new At(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GC(t){const e=At.fromString(t);return ct(QC(e),10190,{key:e.toString()}),e}function Yy(t,e){return o_(t.databaseId,e.path)}function Zg(t,e){const n=GC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(WC(n))}function KC(t,e){return o_(t.databaseId,e)}function pU(t){const e=GC(t);return e.length===4?At.emptyPath():WC(e)}function Qy(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WC(t){return ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function db(t,e,n){return{name:Yy(t,e),fields:n.value.mapValue.fields}}function gU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(ct(y===void 0||typeof y=="string",58123),Cn.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Cn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?ce.UNKNOWN:zC(p.code);return new be(y,p.message||"")}(u);n=new HC(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Zg(t,i.document.name),l=Cr(i.document.updateTime),u=i.document.createTime?Cr(i.document.createTime):Be.min(),h=new Jn({mapValue:{fields:i.document.fields}}),f=On.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new rd(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Zg(t,i.document),l=i.readTime?Cr(i.readTime):Be.min(),u=On.newNoDocument(a,l),h=i.removedTargetIds||[];n=new rd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Zg(t,i.document),l=i.removedTargetIds||[];n=new rd([],l,a,null)}else{if(!("filter"in e))return Le(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new sU(a,l),h=i.targetId;n=new FC(h,u)}}return n}function yU(t,e){let n;if(e instanceof ah)n={update:db(t,e.key,e.value)};else if(e instanceof BC)n={delete:Yy(t,e.key)};else if(e instanceof ba)n={update:db(t,e.key,e.data),updateMask:RU(e.fieldMask)};else{if(!(e instanceof nU))return Le(16599,{Vt:e.type});n={verify:Yy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const h=u.transform;if(h instanceof Pd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Gc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Nd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Le(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:mU(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le(27497)}(t,e.precondition)),n}function vU(t,e){return t&&t.length>0?(ct(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?Cr(a.updateTime):Cr(l);return u.isEqual(Be.min())&&(u=Cr(l)),new J4(u,a.transformResults||[])}(n,e))):[]}function _U(t,e){return{documents:[KC(t,e.path)]}}function EU(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=KC(t,a);const l=function(p){if(p.length!==0)return YC(kr.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Sl(E.field),direction:SU(E.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Wy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:a}}function TU(t){let e=pU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ct(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=$C(_);return E instanceof kr&&bC(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(M){return new Md(bl(M.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,dm(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(_){const E=!!_.before,b=_.values||[];return new Dd(b,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,b=_.values||[];return new Dd(b,E)}(n.endAt)),j4(e,a,u,l,h,"F",f,p)}function wU(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $C(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=bl(n.unaryFilter.field);return ln.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=bl(n.unaryFilter.field);return ln.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bl(n.unaryFilter.field);return ln.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(n.unaryFilter.field);return ln.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return ln.create(bl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(i=>$C(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function SU(t){return cU[t]}function bU(t){return hU[t]}function AU(t){return fU[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function bl(t){return An.fromServerFormat(t.fieldPath)}function YC(t){return t instanceof ln?function(n){if(n.op==="=="){if(eb(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(JS(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eb(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(JS(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:bU(n.op),value:n.value}}}(t):t instanceof kr?function(n){const i=n.getFilters().map(a=>YC(a));return i.length===1?i[0]:{compositeFilter:{op:AU(n.op),filters:i}}}(t):Le(54877,{filter:t})}function RU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class sa{constructor(e,n,i,a,l=Be.min(),u=Be.min(),h=Cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CU{constructor(e){this.yt=e}}function IU(t){const e=TU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ky(e,e.limit,"L"):e}class xU{constructor(){this.Cn=new DU}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ma.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ma.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class DU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new un(At.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new un(At.comparator)).toArray()}}const mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XC=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(XC,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}const pb="LruGarbageCollector",MU=1048576;function gb([t,e],[n,i]){const a=et(t,n);return a===0?et(e,i):a}class PU{constructor(e){this.Ir=e,this.buffer=new un(gb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();gb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(pb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jl(n)?ye(pb,"Ignoring IndexedDB error during garbage collection: ",n):await Zl(n)}await this.Vr(3e5)})}}class OU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(fm.ce);const i=new PU(n);return this.mr.forEachTarget(e,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(mb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,a,l,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Tl()<=Je.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function VU(t,e){return new OU(t,e)}class LU{constructor(){this.changes=new No(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class UU{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Ic(i.mutation,a,Ti.empty(),Rt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,nt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=nt()){const a=go();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let u=_c();return l.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,nt()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,a){let l=ys();const u=Cc(),h=function(){return Cc()}();return n.forEach((f,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ba)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Ic(y.mutation,p,y.mutation.getFieldMask(),Rt.now())):u.set(p.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((p,y)=>u.set(p,y)),n.forEach((p,y)=>h.set(p,new kU(y,u.get(p)??null))),h))}recalculateAndSaveOverlays(e,n){const i=Cc();let a=new Vt((u,h)=>u-h),l=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let y=i.get(f)||Ti.empty();y=h.applyToLocalView(p,y),i.set(f,y);const _=(a.get(h.batchId)||nt()).add(f);a=a.insert(h.batchId,_)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=PC();y.forEach(E=>{if(!l.has(E)){const b=UC(n.get(E),i.get(E));b!==null&&_.set(E,b),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ue.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):B4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ue.resolve(go());let h=zc,f=l;return u.next(p=>ue.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{f=f.insert(y,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,f,p,nt())).next(y=>({batchId:h,changes:MC(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(i=>{let a=_c();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=_c();return this.indexManager.getCollectionParents(e,l).next(h=>ue.forEach(h,f=>{const p=function(_,E){return new pm(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(u=>{l.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,On.newInvalidDocument(y)))});let h=_c();return u.forEach((f,p)=>{const y=l.get(f);y!==void 0&&Ic(y.mutation,p,Ti.empty(),Rt.now()),ym(n,p)&&(h=h.insert(f,p))}),h})}}class jU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Cr(a.createTime)}}(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:IU(a.bundledQuery),readTime:Cr(a.readTime)}}(n)),ue.resolve()}}class BU{constructor(){this.overlays=new Vt(De.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=go();return ue.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.St(e,n,l)}),ue.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const a=go(),l=n.length+1,u=new De(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Vt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=go(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=go(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=a)););return ue.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new rU(n,i));let l=this.qr.get(n);l===void 0&&(l=nt(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}class zU{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}class l_{constructor(){this.Qr=new un(pn.$r),this.Ur=new un(pn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new pn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new pn(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new De(new At([])),i=new pn(n,e),a=new pn(n,e+1),l=[];return this.Ur.forEachInRange([i,a],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new At([])),i=new pn(n,e),a=new pn(n,e+1);let l=nt();return this.Ur.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new pn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class pn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||et(e.Yr,n.Yr)}static Kr(e,n){return et(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}class FU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(pn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new iU(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new pn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Zv:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new pn(n,0),a=new pn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],u=>{const h=this.Xr(u.Yr);l.push(h)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new un(et);return n.forEach(a=>{const l=new pn(a,0),u=new pn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],h=>{i=i.add(h.Yr)})}),ue.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;De.isDocumentKey(l)||(l=l.child(""));const u=new pn(new De(l),0);let h=new un(et);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Yr)),!0)},u),ue.resolve(this.ti(h))}ti(e){const n=[];return e.forEach(i=>{const a=this.Xr(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ue.forEach(n.mutations,a=>{const l=new pn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new pn(n,0),a=this.Zr.firstAfterOrEqual(i);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class HU{constructor(e){this.ri=e,this.docs=function(){return new Vt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let i=ys();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():On.newInvalidDocument(a))}),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ys();const u=n.path,h=new De(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||y4(g4(y),i)<=0||(a.has(y.key)||ym(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Le(9500)}ii(e,n){return ue.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new qU(this)}getSize(e){return ue.resolve(this.size)}}class qU extends LU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)}),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class GU{constructor(e){this.persistence=e,this.si=new No(n=>t_(n),n_),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.oi=0,this._i=new l_,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,n){return this.si.forEach((i,a)=>n(a)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ue.waitFor(l).next(()=>a)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}class ZC{constructor(e,n){this.ui={},this.overlays={},this.ci=new fm(0),this.li=!1,this.li=!0,this.hi=new zU,this.referenceDelegate=e(this),this.Pi=new GU(this),this.indexManager=new xU,this.remoteDocumentCache=function(a){return new HU(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new CU(n),this.Ii=new jU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new FU(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ye("MemoryPersistence","Starting transaction:",e);const a=new KU(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,n){return ue.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class KU extends _4{constructor(e){super(),this.currentSequenceNumber=e}}class u_{constructor(e){this.persistence=e,this.Ri=new l_,this.Vi=null}static mi(e){return new u_(e)}get fi(){if(this.Vi)return this.Vi;throw Le(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,i=>{const a=De.fromPath(i);return this.gi(e,a).next(l=>{l||n.removeEntry(a,Be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vd{constructor(e,n){this.persistence=e,this.pi=new No(i=>w4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=VU(this,n)}static mi(e,n){return new Vd(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return ue.forEach(this.pi,(i,a)=>this.br(e,i,a).next(l=>l?ue.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,n).next(h=>{h||(i++,l.removeEntry(u,Be.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=td(e.data.value)),n}br(e,n,i){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ue.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class c_{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=a}static As(e,n){let i=nt(),a=nt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new c_(e,n.fromCache,i,a)}}class WU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $U{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return y2()?8:E4(Ln())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ys(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,n,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new WU;return this.Ss(e,n,u).next(h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)})}).next(()=>l.result)}bs(e,n,i,a){return i.documentReadCount<this.fs?(Tl()<=Je.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(Tl()<=Je.DEBUG&&ye("QueryEngine","Query:",wl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Tl()<=Je.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(n))):ue.resolve())}ys(e,n){if(rb(n))return ue.resolve(null);let i=Ar(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ky(n,null,"F"),i=Ar(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=nt(...l);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.Ds(n,h);return this.Cs(n,p,u,f.readTime)?this.ys(e,Ky(n,null,"F")):this.vs(e,p,n,f)}))})))}ws(e,n,i,a){return rb(n)||a.isEqual(Be.min())?ue.resolve(null):this.ps.getDocuments(e,i).next(l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?ue.resolve(null):(Tl()<=Je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wl(n)),this.vs(e,u,n,p4(a,zc)).next(h=>h))})}Ds(e,n){let i=new un(xC(e));return n.forEach((a,l)=>{ym(e,l)&&(i=i.add(l))}),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Tl()<=Je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",wl(n)),this.ps.getDocumentsMatchingQuery(e,n,ma.min(),i)}vs(e,n,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}const h_="LocalStore",YU=3e8;class QU{constructor(e,n,i,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Vt(et),this.xs=new No(l=>t_(l),n_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function XU(t,e,n,i){return new QU(t,e,n,i)}async function JC(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],h=[];let f=nt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next(p=>({Ls:p,removedBatchIds:u,addedBatchIds:h}))})})}function ZU(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const _=p.batch,E=_.keys();let b=ue.resolve();return E.forEach(M=>{b=b.next(()=>y.getEntry(f,M)).next(F=>{const O=p.docVersions.get(M);ct(O!==null,48541),F.version.compareTo(O)<0&&(_.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),y.addEntry(F)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=nt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function eI(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function JU(t,e){const n=He(t),i=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_)));let b=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(Cn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,i)),a=a.insert(_,b),function(F,O,j){return F.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=YU?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,b,y)&&h.push(n.Pi.updateTargetData(l,b))});let f=ys(),p=nt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(e3(l,u,e.documentUpdates).next(y=>{f=y.ks,p=y.qs})),!i.isEqual(Be.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next(_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return ue.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,f,p)).next(()=>f)}).then(l=>(n.Ms=a,l))}function e3(t,e,n){let i=nt(),a=nt();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=ys();return n.forEach((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ye(h_,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{ks:u,qs:a}})}function t3(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Zv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function n3(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Pi.getTargetData(i,e).next(l=>l?(a=l,ue.resolve(a)):n.Pi.allocateTargetId(i).next(u=>(a=new sa(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Xy(t,e,n){const i=He(t),a=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Jl(u))throw u;ye(h_,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function yb(t,e,n){const i=He(t);let a=Be.min(),l=nt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const _=He(f),E=_.xs.get(y);return E!==void 0?ue.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,y)}(i,u,Ar(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next(f=>{l=f})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,e,n?a:Be.min(),n?l:nt())).next(h=>(i3(i,F4(e),h),{documents:h,Qs:l})))}function i3(t,e,n){let i=t.Os.get(e)||Be.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Os.set(e,i)}class vb{constructor(){this.activeTargetIds=$4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r3{constructor(){this.Mo=new vb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s3{Oo(e){}shutdown(){}}const _b="ConnectivityMonitor";class Eb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(_b,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(_b,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hf=null;function Zy(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}const Jg="RestConnection",a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Id?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,n,i,a,l){const u=Zy(),h=this.zo(e,n.toUriEncodedString());ye(Jg,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(h),y=Yl(p);return this.Jo(e,h,f,i,y).then(_=>(ye(Jg,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Bl(Jg,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",i),_})}Ho(e,n,i,a,l,u){return this.Go(e,n,i,a,l)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}zo(e,n){const i=a3[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}class l3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Pn="WebChannelConnection";class u3 extends o3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=Zy();return new Promise((h,f)=>{const p=new iC;p.setWithCredentials(!0),p.listenOnce(rC.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ed.NO_ERROR:const _=p.getResponseJson();ye(Pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case ed.TIMEOUT:ye(Pn,`RPC '${e}' ${u} timed out`),f(new be(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const E=p.getStatus();if(ye(Pn,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b?.error;if(M&&M.status&&M.message){const F=function(j){const H=j.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(H)>=0?H:ce.UNKNOWN}(M.status);f(new be(F,M.message))}else f(new be(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new be(ce.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ye(Pn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);ye(Pn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,i,15)})}T_(e,n,i){const a=Zy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oC(),h=aC(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=l.join("");ye(Pn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const _=u.createWebChannel(y,f);this.I_(_);let E=!1,b=!1;const M=new l3({Yo:O=>{b?ye(Pn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(E||(ye(Pn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(Pn,`RPC '${e}' stream ${a} sending:`,O),_.send(O))},Zo:()=>_.close()}),F=(O,j,H)=>{O.listen(j,U=>{try{H(U)}catch(ie){setTimeout(()=>{throw ie},0)}})};return F(_,vc.EventType.OPEN,()=>{b||(ye(Pn,`RPC '${e}' stream ${a} transport opened.`),M.o_())}),F(_,vc.EventType.CLOSE,()=>{b||(b=!0,ye(Pn,`RPC '${e}' stream ${a} transport closed`),M.a_(),this.E_(_))}),F(_,vc.EventType.ERROR,O=>{b||(b=!0,Bl(Pn,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),M.a_(new be(ce.UNAVAILABLE,"The operation could not be completed")))}),F(_,vc.EventType.MESSAGE,O=>{if(!b){const j=O.data[0];ct(!!j,16349);const H=j,U=H?.error||H[0]?.error;if(U){ye(Pn,`RPC '${e}' stream ${a} received error:`,U);const ie=U.status;let W=function(A){const x=Yt[A];if(x!==void 0)return zC(x)}(ie),D=U.message;W===void 0&&(W=ce.INTERNAL,D="Unknown error status: "+ie+" with message "+U.message),b=!0,M.a_(new be(W,D)),_.close()}else ye(Pn,`RPC '${e}' stream ${a} received:`,j),M.u_(j)}}),F(h,sC.STAT_EVENT,O=>{O.stat===By.PROXY?ye(Pn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===By.NOPROXY&&ye(Pn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.__()},0),M}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ey(){return typeof document<"u"?document:null}function Tm(t){return new dU(t,!0)}class tI{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Tb="PersistentStream";class nI{constructor(e,n,i,a,l,u,h,f){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===n&&this.G_(i,a)},i=>{e(()=>{const a=new be(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(Tb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(Tb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c3 extends nI{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gU(this.serializer,e),i=function(l){if(!("targetChange"in l))return Be.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Be.min():u.readTime?Cr(u.readTime):Be.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Qy(this.serializer),n.addTarget=function(l,u){let h;const f=u.target;if(h=Gy(f)?{documents:_U(l,f)}:{query:EU(l,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=qC(l,u.resumeToken);const p=Wy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Be.min())>0){h.readTime=Od(l,u.snapshotVersion.toTimestamp());const p=Wy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=wU(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Qy(this.serializer),n.removeTarget=e,this.q_(n)}}class h3 extends nI{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vU(e.writeResults,e.commitTime),i=Cr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Qy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>yU(this.serializer,i))};this.q_(n)}}class f3{}class d3 extends f3{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,$y(n,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ce.UNKNOWN,l.toString())})}Ho(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,$y(n,i),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ce.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class m3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Co="RemoteStore";class p3{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{Oo(this)&&(ye(Co,"Restarting streams for network reachability change."),await async function(f){const p=He(f);p.Ea.add(4),await lh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await wm(p)}(this))})}),this.Ra=new m3(i,a)}}async function wm(t){if(Oo(t))for(const e of t.da)await e(!0)}async function lh(t){for(const e of t.da)await e(!1)}function iI(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),p_(n)?m_(n):eu(n).O_()&&d_(n,e))}function f_(t,e){const n=He(t),i=eu(n);n.Ia.delete(e),i.O_()&&rI(n,e),n.Ia.size===0&&(i.O_()?i.L_():Oo(n)&&n.Ra.set("Unknown"))}function d_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eu(t).Y_(e)}function rI(t,e){t.Va.Ue(e),eu(t).Z_(e)}function m_(t){t.Va=new uU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),eu(t).start(),t.Ra.ua()}function p_(t){return Oo(t)&&!eu(t).x_()&&t.Ia.size>0}function Oo(t){return He(t).Ea.size===0}function sI(t){t.Va=void 0}async function g3(t){t.Ra.set("Online")}async function y3(t){t.Ia.forEach((e,n)=>{d_(t,e)})}async function v3(t,e){sI(t),p_(t)?(t.Ra.ha(e),m_(t)):t.Ra.set("Unknown")}async function _3(t,e,n){if(t.Ra.set("Online"),e instanceof HC&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))}(t,e)}catch(i){ye(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ld(t,i)}else if(e instanceof rd?t.Va.Ze(e):e instanceof FC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Be.min()))try{const i=await eI(t.localStore);n.compareTo(i)>=0&&await function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=l.Ia.get(f);if(!y)return;l.Ia.set(f,y.withResumeToken(Cn.EMPTY_BYTE_STRING,y.snapshotVersion)),rI(l,f);const _=new sa(y.target,f,p,y.sequenceNumber);d_(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){ye(Co,"Failed to raise snapshot:",i),await Ld(t,i)}}async function Ld(t,e,n){if(!Jl(e))throw e;t.Ea.add(1),await lh(t),t.Ra.set("Offline"),n||(n=()=>eI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(Co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wm(t)})}function aI(t,e){return e().catch(n=>Ld(t,n,e))}async function Sm(t){const e=He(t),n=va(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zv;for(;E3(e);)try{const a=await t3(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,T3(e,a)}catch(a){await Ld(e,a)}oI(e)&&lI(e)}function E3(t){return Oo(t)&&t.Ta.length<10}function T3(t,e){t.Ta.push(e);const n=va(t);n.O_()&&n.X_&&n.ea(e.mutations)}function oI(t){return Oo(t)&&!va(t).x_()&&t.Ta.length>0}function lI(t){va(t).start()}async function w3(t){va(t).ra()}async function S3(t){const e=va(t);for(const n of t.Ta)e.ea(n.mutations)}async function b3(t,e,n){const i=t.Ta.shift(),a=s_.from(i,e,n);await aI(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Sm(t)}async function A3(t,e){e&&va(t).X_&&await async function(i,a){if(function(u){return aU(u)&&u!==ce.ABORTED}(a.code)){const l=i.Ta.shift();va(i).B_(),await aI(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Sm(i)}}(t,e),oI(t)&&lI(t)}async function wb(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),ye(Co,"RemoteStore received new credentials");const i=Oo(n);n.Ea.add(3),await lh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wm(n)}async function R3(t,e){const n=He(t);e?(n.Ea.delete(2),await wm(n)):e||(n.Ea.add(2),await lh(n),n.Ra.set("Unknown"))}function eu(t){return t.ma||(t.ma=function(n,i,a){const l=He(n);return l.sa(),new c3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:g3.bind(null,t),t_:y3.bind(null,t),r_:v3.bind(null,t),H_:_3.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),p_(t)?m_(t):t.Ra.set("Unknown")):(await t.ma.stop(),sI(t))})),t.ma}function va(t){return t.fa||(t.fa=function(n,i,a){const l=He(n);return l.sa(),new h3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w3.bind(null,t),r_:A3.bind(null,t),ta:S3.bind(null,t),na:b3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Sm(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(Co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}class g_{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,h=new g_(e,n,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y_(t,e){if(ps("AsyncQueue",`${e}: ${t}`),Jl(t))return new be(ce.UNAVAILABLE,`${e}: ${t}`);throw t}class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||De.comparator(n.key,i.key):(n,i)=>De.comparator(n.key,i.key),this.keyedMap=_c(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Sb{constructor(){this.ga=new Vt(De.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Gl{constructor(e,n,i,a,l,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Gl(e,n,Pl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class C3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class I3{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=He(n),l=a.queries;a.queries=bb(),l.forEach((u,h)=>{for(const f of h.Sa)f.onError(i)})})(this,new be(ce.ABORTED,"Firestore shutting down"))}}function bb(){return new No(t=>IC(t),gm)}async function uI(t,e){const n=He(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new C3,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=y_(u,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&v_(n)}async function cI(t,e){const n=He(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function x3(t,e){const n=He(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&v_(n)}function D3(t,e,n){const i=He(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function v_(t){t.Ca.forEach(e=>{e.next()})}var Jy,Ab;(Ab=Jy||(Jy={})).Ma="default",Ab.Cache="cache";class hI{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Gl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jy.Cache}}class fI{constructor(e){this.key=e}}class dI{constructor(e){this.key=e}}class M3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=xC(e),this.tu=new Pl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Sb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),b=ym(this.query,_)?_:null,M=!!E&&this.mutatedKeys.has(E.key),F=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let O=!1;E&&b?E.data.isEqual(b.data)?M!==F&&(i.track({type:3,doc:b}),O=!0):this.su(E,b)||(i.track({type:2,doc:b}),O=!0,(f&&this.eu(b,f)>0||p&&this.eu(b,p)<0)&&(h=!0)):!E&&b?(i.track({type:0,doc:b}),O=!0):E&&!b&&(i.track({type:1,doc:E}),O=!0,(f||p)&&(h=!0)),O&&(b?(u=u.add(b),l=F?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((y,_)=>function(b,M){const F=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Rt:O})}};return F(b)-F(M)}(y.type,_.type)||this.eu(y.doc,_.doc)),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Gl(this.query,e.tu,l,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new dI(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new fI(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const __="SyncEngine";class P3{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class N3{constructor(e){this.key=e,this.hu=!1}}class O3{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new No(h=>IC(h),gm),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(De.comparator),this.Au=new Map,this.Ru=new l_,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V3(t,e,n=!0){const i=_I(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await mI(i,e,n,!0),a}async function L3(t,e){const n=_I(t);await mI(n,e,!0,!1)}async function mI(t,e,n,i){const a=await n3(t.localStore,Ar(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await k3(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&iI(t.remoteStore,a),h}async function k3(t,e,n,i,a){t.pu=(_,E,b)=>async function(F,O,j,H){let U=O.view.ru(j);U.Cs&&(U=await yb(F.localStore,O.query,!1).then(({documents:I})=>O.view.ru(I,U)));const ie=H&&H.targetChanges.get(O.targetId),W=H&&H.targetMismatches.get(O.targetId)!=null,D=O.view.applyChanges(U,F.isPrimaryClient,ie,W);return Cb(F,O.targetId,D.au),D.snapshot}(t,_,E,b);const l=await yb(t.localStore,e,!0),u=new M3(e,l.Qs),h=u.ru(l.documents),f=oh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,f);Cb(t,n,p.au);const y=new P3(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function U3(t,e,n){const i=He(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter(u=>!gm(u,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Xy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&f_(i.remoteStore,a.targetId),ev(i,a.targetId)}).catch(Zl)):(ev(i,a.targetId),await Xy(i.localStore,a.targetId,!0))}async function j3(t,e){const n=He(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),f_(n.remoteStore,i.targetId))}async function B3(t,e,n){const i=W3(t);try{const a=await function(u,h){const f=He(u),p=Rt.now(),y=h.reduce((b,M)=>b.add(M.key),nt());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let M=ys(),F=nt();return f.Ns.getEntries(b,y).next(O=>{M=O,M.forEach((j,H)=>{H.isValidDocument()||(F=F.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,M)).next(O=>{_=O;const j=[];for(const H of h){const U=tU(H,_.get(H.key).overlayedDocument);U!=null&&j.push(new ba(H.key,U,TC(U.value.mapValue),Rr.exists(!0)))}return f.mutationQueue.addMutationBatch(b,p,j,h)}).next(O=>{E=O;const j=O.applyToLocalDocumentSet(_,F);return f.documentOverlayCache.saveOverlays(b,O.batchId,j)})}).then(()=>({batchId:E.batchId,changes:MC(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new Vt(et)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p}(i,a.batchId,n),await uh(i,a.changes),await Sm(i.remoteStore)}catch(a){const l=y_(a,"Failed to persist write");n.reject(l)}}async function pI(t,e){const n=He(t);try{const i=await JU(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Au.get(l);u&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ct(u.hu,14607):a.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))}),await uh(n,i,e)}catch(i){await Zl(i)}}function Rb(t,e,n){const i=He(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=He(u);f.onlineState=h;let p=!1;f.queries.forEach((y,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)}),p&&v_(f)}(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function z3(t,e,n){const i=He(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Vt(De.comparator);u=u.insert(l,On.newNoDocument(l,Be.min()));const h=nt().add(l),f=new Em(Be.min(),new Map,new Vt(et),u,h);await pI(i,f),i.du=i.du.remove(l),i.Au.delete(e),E_(i)}else await Xy(i.localStore,e,!1).then(()=>ev(i,e,n)).catch(Zl)}async function F3(t,e){const n=He(t),i=e.batch.batchId;try{const a=await ZU(n.localStore,e);yI(n,i,null),gI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await uh(n,a)}catch(a){await Zl(a)}}async function H3(t,e,n){const i=He(t);try{const a=await function(u,h){const f=He(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(ct(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(i.localStore,e);yI(i,e,n),gI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await uh(i,a)}catch(a){await Zl(a)}}function gI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function yI(t,e,n){const i=He(t);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function ev(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||vI(t,i)})}function vI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(f_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),E_(t))}function Cb(t,e,n){for(const i of n)i instanceof fI?(t.Ru.addReference(i.key,e),q3(t,i)):i instanceof dI?(ye(__,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||vI(t,i.key)):Le(19791,{wu:i})}function q3(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ye(__,"New document in limbo: "+n),t.Eu.add(i),E_(t))}function E_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(At.fromString(e)),i=t.fu.next();t.Au.set(i,new N3(n)),t.du=t.du.insert(n,i),iI(t.remoteStore,new sa(Ar(i_(n.path)),i,"TargetPurposeLimboResolution",fm.ce))}}async function uh(t,e,n){const i=He(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((h,f)=>{u.push(i.pu(f,e,n).then(p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){a.push(p);const y=c_.As(f.targetId,p);l.push(y)}}))}),await Promise.all(u),i.Pu.H_(a),await async function(f,p){const y=He(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ue.forEach(p,E=>ue.forEach(E.Es,b=>y.persistence.referenceDelegate.addReference(_,E.targetId,b)).next(()=>ue.forEach(E.ds,b=>y.persistence.referenceDelegate.removeReference(_,E.targetId,b)))))}catch(_){if(!Jl(_))throw _;ye(h_,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const b=y.Ms.get(E),M=b.snapshotVersion,F=b.withLastLimboFreeSnapshotVersion(M);y.Ms=y.Ms.insert(E,F)}}}(i.localStore,l))}async function G3(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){ye(__,"User change. New user:",e.toKey());const i=await JC(n.localStore,e);n.currentUser=e,function(l,u){l.mu.forEach(h=>{h.forEach(f=>{f.reject(new be(ce.CANCELLED,u))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await uh(n,i.Ls)}}function K3(t,e){const n=He(t),i=n.Au.get(e);if(i&&i.hu)return nt().add(i.key);{let a=nt();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function _I(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z3.bind(null,e),e.Pu.H_=x3.bind(null,e.eventManager),e.Pu.yu=D3.bind(null,e.eventManager),e}function W3(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H3.bind(null,e),e}class kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XU(this.persistence,new $U,e.initialUser,this.serializer)}Cu(e){return new ZC(u_.mi,this.serializer)}Du(e){return new r3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kd.provider={build:()=>new kd};class $3 extends kd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof Vd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new NU(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new ZC(i=>Vd.mi(i,n),this.serializer)}}class tv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Rb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G3.bind(null,this.syncEngine),await R3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new I3}()}createDatastore(e){const n=Tm(e.databaseInfo.databaseId),i=function(l){return new u3(l)}(e.databaseInfo);return function(l,u,h,f){return new d3(l,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,u,h){return new p3(i,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>Rb(this.syncEngine,n,0),function(){return Eb.v()?new Eb:new s3}())}createSyncEngine(e,n){return function(a,l,u,h,f,p,y){const _=new O3(a,l,u,h,f,p);return y&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=He(n);ye(Co,"RemoteStore shutting down."),i.Ea.add(5),await lh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tv.provider={build:()=>new tv};class EI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}const _a="FirestoreClient";class Y3{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Nn.UNAUTHENTICATED,this.clientId=Qv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ye(_a,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ye(_a,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=y_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ty(t,e){t.asyncQueue.verifyOperationInProgress(),ye(_a,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await JC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ib(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q3(t);ye(_a,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>wb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>wb(e.remoteStore,a)),t._onlineComponents=e}async function Q3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(_a,"Using user provided OfflineComponentProvider");try{await ty(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await ty(t,new kd)}}else ye(_a,"Using default OfflineComponentProvider"),await ty(t,new $3(void 0));return t._offlineComponents}async function TI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(_a,"Using user provided OnlineComponentProvider"),await Ib(t,t._uninitializedComponentsProvider._online)):(ye(_a,"Using default OnlineComponentProvider"),await Ib(t,new tv))),t._onlineComponents}function X3(t){return TI(t).then(e=>e.syncEngine)}async function wI(t){const e=await TI(t),n=e.eventManager;return n.onListen=V3.bind(null,e.syncEngine),n.onUnlisten=U3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j3.bind(null,e.syncEngine),n}function Z3(t,e,n={}){const i=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,f,p){const y=new EI({next:E=>{y.Nu(),u.enqueueAndForget(()=>cI(l,_));const b=E.docs.has(h);!b&&E.fromCache?p.reject(new be(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&f&&f.source==="server"?p.reject(new be(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new hI(i_(h.path),y,{includeMetadataChanges:!0,qa:!0});return uI(l,_)}(await wI(t),t.asyncQueue,e,n,i)),i.promise}function J3(t,e,n={}){const i=new hs;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,f,p){const y=new EI({next:E=>{y.Nu(),u.enqueueAndForget(()=>cI(l,_)),E.fromCache&&f.source==="server"?p.reject(new be(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new hI(h,y,{includeMetadataChanges:!0,qa:!0});return uI(l,_)}(await wI(t),t.asyncQueue,e,n,i)),i.promise}function SI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const xb=new Map;const bI="firestore.googleapis.com",Db=!0;class Mb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bI,this.ssl=Db}else this.host=e.host,this.ssl=e.ssl??Db;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MU)throw new be(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SI(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new be(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new r4;switch(i.type){case"firstParty":return new l4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=xb.get(n);i&&(ye("ComponentProvider","Removing Datastore"),xb.delete(n),i.terminate())}(this),Promise.resolve()}}function ej(t,e,n,i={}){t=gs(t,bm);const a=Yl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(S1(`https://${h}`),b1("Firestore",!0)),l.host!==bI&&l.host!==h&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:i};if(!da(f,u)&&(t._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=Nn.MOCK_USER;else{p=u2(i.mockUserToken,t._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new be(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Nn(_)}t._authCredentials=new s4(new uC(p,y))}}class Am{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Am(this.firestore,e,this._query)}}class Jt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(sh(n,Jt._jsonSchema))return new Jt(e,i||null,new De(At.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:Zt("string",Jt._jsonSchemaVersion),referencePath:Zt("string")};class ua extends Am{constructor(e,n,i){super(e,n,i_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new De(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function T_(t,e,...n){if(t=gn(t),cC("collection","path",e),t instanceof bm){const i=At.fromString(e,...n);return GS(i),new ua(t,null,i)}{if(!(t instanceof Jt||t instanceof ua))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return GS(i),new ua(t.firestore,null,i)}}function Ir(t,e,...n){if(t=gn(t),arguments.length===1&&(e=Qv.newId()),cC("doc","path",e),t instanceof bm){const i=At.fromString(e,...n);return qS(i),new Jt(t,null,new De(i))}{if(!(t instanceof Jt||t instanceof ua))throw new be(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return qS(i),new Jt(t.firestore,t instanceof ua?t.converter:null,new De(i))}}const Pb="AsyncQueue";class Nb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tI(this,"async_queue_retry"),this._c=()=>{const i=ey();i&&ye(Pb,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=ey();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;ye(Pb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",Ob(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=g_.createAndSchedule(this,e,n,i,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Le(47125,{Pc:Ob(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ob(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ch extends bm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Nb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nb(e),this._firestoreClient=void 0,await e}}}function tj(t,e){const n=typeof t=="object"?t:Hv(),i=typeof t=="string"?t:Id,a=Po(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=o2("firestore");l&&ej(a,...l)}return a}function w_(t){if(t._terminated)throw new be(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nj(t),t._firestoreClient}function nj(t){const e=t._freezeSettings(),n=function(a,l,u,h){return new A4(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,SI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Y3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}class Bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bi(Cn.fromBase64String(e))}catch(n){throw new be(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bi(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(sh(e,Bi._jsonSchema))return Bi.fromBase64String(e.bytes)}}Bi._jsonSchemaVersion="firestore/bytes/1.0",Bi._jsonSchema={type:Zt("string",Bi._jsonSchemaVersion),bytes:Zt("string")};class Rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class S_{constructor(e){this._methodName=e}}class xr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xr._jsonSchemaVersion}}static fromJSON(e){if(sh(e,xr._jsonSchema))return new xr(e.latitude,e.longitude)}}xr._jsonSchemaVersion="firestore/geoPoint/1.0",xr._jsonSchema={type:Zt("string",xr._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};class Dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(sh(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Dr(e.vectorValues);throw new be(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:Zt("string",Dr._jsonSchemaVersion),vectorValues:Zt("object")};const ij=/^__.*__$/;class rj{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,n,this.fieldTransforms):new ah(e,this.data,n,this.fieldTransforms)}}class AI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ba(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ac:t})}}class b_{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new b_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ud(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RI(this.Ac)&&ij.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sj{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Tm(e)}Cc(e,n,i,a=!1){return new b_({Ac:e,methodName:n,Dc:i,path:An.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CI(t){const e=t._freezeSettings(),n=Tm(t._databaseId);return new sj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aj(t,e,n,i,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);A_("Data must be an object, but it was:",u,i);const h=II(i,u);let f,p;if(l.merge)f=new Ti(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=nv(e,_,n);if(!u.contains(E))throw new be(ce.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);DI(y,E)||y.push(E)}f=new Ti(y),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new rj(new Jn(h),f,p)}class Cm extends S_{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}function oj(t,e,n,i){const a=t.Cc(1,e,n);A_("Data must be an object, but it was:",a,i);const l=[],u=Jn.empty();Sa(i,(f,p)=>{const y=R_(e,f,n);p=gn(p);const _=a.yc(y);if(p instanceof Cm)l.push(y);else{const E=Im(p,_);E!=null&&(l.push(y),u.set(y,E))}});const h=new Ti(l);return new AI(u,h,a.fieldTransforms)}function lj(t,e,n,i,a,l){const u=t.Cc(1,e,n),h=[nv(e,i,n)],f=[a];if(l.length%2!=0)throw new be(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(nv(e,l[E])),f.push(l[E+1]);const p=[],y=Jn.empty();for(let E=h.length-1;E>=0;--E)if(!DI(p,h[E])){const b=h[E];let M=f[E];M=gn(M);const F=u.yc(b);if(M instanceof Cm)p.push(b);else{const O=Im(M,F);O!=null&&(p.push(b),y.set(b,O))}}const _=new Ti(p);return new AI(y,_,u.fieldTransforms)}function Im(t,e){if(xI(t=gn(t)))return A_("Unsupported field value:",e,t),II(t,e);if(t instanceof S_)return function(i,a){if(!RI(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const h of i){let f=Im(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=gn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Rt.fromDate(i);return{timestampValue:Od(a.serializer,l)}}if(i instanceof Rt){const l=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Od(a.serializer,l)}}if(i instanceof xr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Bi)return{bytesValue:qC(a.serializer,i._byteString)};if(i instanceof Jt){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:o_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Dr)return function(u,h){return{mapValue:{fields:{[_C]:{stringValue:EC},[xd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return r_(h.serializer,p)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${Xv(i)}`)}(t,e)}function II(t,e){const n={};return dC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(t,(i,a)=>{const l=Im(a,e.mc(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function xI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof xr||t instanceof Bi||t instanceof Jt||t instanceof S_||t instanceof Dr)}function A_(t,e,n){if(!xI(n)||!hC(n)){const i=Xv(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function nv(t,e,n){if((e=gn(e))instanceof Rm)return e._internalPath;if(typeof e=="string")return R_(t,e);throw Ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const uj=new RegExp("[~\\*/\\[\\]]");function R_(t,e,n){if(e.search(uj)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rm(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ud(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${i}`),u&&(f+=` in document ${a}`),f+=")"),new be(ce.INVALID_ARGUMENT,h+t+f)}function DI(t,e){return t.some(n=>n.isEqual(e))}class MI{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cj extends MI{data(){return super.data()}}function PI(t,e){return typeof e=="string"?R_(t,e):e instanceof Rm?e._internalPath:e._delegate._internalPath}function hj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fj{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Sa(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){const n=e.fields?.[xd].arrayValue?.values?.map(i=>Gt(i.doubleValue));return new Dr(n)}convertGeoPoint(e){return new xr(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=mm(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const n=pa(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=At.fromString(e);ct(QC(i),9688,{name:e});const a=new Hc(i.get(1),i.get(3)),l=new De(i.popFirst(5));return a.isEqual(n)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function dj(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends MI{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(PI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Zt("string",_o._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class sd extends _o{data(e={}){return super.data(e)}}class Nl{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Tc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new sd(this._firestore,this._userDataWriter,i.key,i,new Tc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new sd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const f=new sd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Tc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:mj(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}function pj(t){t=gs(t,Jt);const e=gs(t.firestore,ch);return Z3(w_(e),t._key).then(n=>yj(e,t,n))}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Zt("string",Nl._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class NI extends fj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function C_(t){t=gs(t,Am);const e=gs(t.firestore,ch),n=w_(e),i=new NI(e);return hj(t._query),J3(n,t._query).then(a=>new Nl(e,i,t,a))}function gj(t,e,n){t=gs(t,Jt);const i=gs(t.firestore,ch),a=dj(t.converter,e);return OI(i,[aj(CI(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rr.none())])}function ca(t,e,n,...i){t=gs(t,Jt);const a=gs(t.firestore,ch),l=CI(a);let u;return u=typeof(e=gn(e))=="string"||e instanceof Rm?lj(l,"updateDoc",t._key,e,n,i):oj(l,"updateDoc",t._key,e),OI(a,[u.toMutation(t._key,Rr.exists(!0))])}function OI(t,e){return function(i,a){const l=new hs;return i.asyncQueue.enqueueAndForget(async()=>B3(await X3(i),a,l)),l.promise}(w_(t),e)}function yj(t,e,n){const i=n.docs.get(e._key),a=new NI(t);return new _o(t,a,e._key,i,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Xl=a})(Ql),Vr(new hr("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new ch(new a4(i.getProvider("auth-internal")),new u4(u,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(p.options.projectId,y)}(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Fi(BS,zS,e),Fi(BS,zS,"esm2020")})();function VI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vj=VI,LI=new Mo("auth","Firebase",VI());const jd=new um("@firebase/auth");function _j(t,...e){jd.logLevel<=Je.WARN&&jd.warn(`Auth (${Ql}): ${t}`,...e)}function ad(t,...e){jd.logLevel<=Je.ERROR&&jd.error(`Auth (${Ql}): ${t}`,...e)}function fr(t,...e){throw I_(t,...e)}function Mr(t,...e){return I_(t,...e)}function kI(t,e,n){const i={...vj(),[e]:n};return new Mo("auth","Firebase",i).create(e,{appName:t.name})}function fs(t){return kI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return LI.create(t,...e)}function Ve(t,e,...n){if(!t)throw I_(e,...n)}function os(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ad(e),new Error(e)}function vs(t,e){t||os(e)}function iv(){return typeof self<"u"&&self.location?.href||""}function Ej(){return Vb()==="http:"||Vb()==="https:"}function Vb(){return typeof self<"u"&&self.location?.protocol||null}function Tj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ej()||A1()||"connection"in navigator)?navigator.onLine:!0}function wj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,vs(n>e,"Short delay should be less than long delay!"),this.isMobile=f2()||p2()}get(){return Tj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function x_(t,e){vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class UI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Aj=new hh(3e4,6e4);function Aa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ra(t,e,n,i,a={}){return jI(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=rh({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return m2()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Yl(t.emulatorConfig.host)&&(p.credentials="include"),UI.fetch()(await BI(t,t.config.apiHost,n,h),p)})}async function jI(t,e,n){t._canInitEmulator=!1;const i={...Sj,...e};try{const a=new Cj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw qf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw qf(t,"user-disabled",u);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw kI(t,y,p);fr(t,y)}}catch(a){if(a instanceof mr)throw a;fr(t,"network-request-failed",{message:String(a)})}}async function fh(t,e,n,i,a={}){const l=await Ra(t,e,n,i,a);return"mfaPendingCredential"in l&&fr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function BI(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?x_(t.config,a):`${t.config.apiScheme}://${a}`;return bj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Rj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Mr(this.auth,"network-request-failed")),Aj.get())})}}function qf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Mr(t,e,i);return a.customData._tokenResponse=n,a}function Lb(t){return t!==void 0&&t.enterprise!==void 0}class Ij{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Rj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xj(t,e){return Ra(t,"GET","/v2/recaptchaConfig",Aa(t,e))}async function Dj(t,e){return Ra(t,"POST","/v1/accounts:delete",e)}async function Bd(t,e){return Ra(t,"POST","/v1/accounts:lookup",e)}function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mj(t,e=!1){const n=gn(t),i=await n.getIdToken(e),a=D_(i);Ve(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:xc(ny(a.auth_time)),issuedAtTime:xc(ny(a.iat)),expirationTime:xc(ny(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ny(t){return Number(t)*1e3}function D_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const a=_1(n);return a?JSON.parse(a):(ad("Failed to decode base64 JWT payload"),null)}catch(a){return ad("Caught error parsing JWT payload as JSON",a?.toString()),null}}function kb(t){const e=D_(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mr&&Pj(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Pj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Nj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function zd(t){const e=t.auth,n=await t.getIdToken(),i=await Wc(t,Bd(e,{idToken:n}));Ve(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?zI(a.providerUserInfo):[],u=Vj(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,p=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new rv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function Oj(t){const e=gn(t);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vj(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function zI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Lj(t,e){const n=await jI(t,{},async()=>{const i=rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await BI(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return t.emulatorConfig&&Yl(t.emulatorConfig.host)&&(f.credentials="include"),UI.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kj(t,e){return Ra(t,"POST","/v2/accounts:revokeToken",Aa(t,e))}class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=kb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await Lj(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new Ol;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return os("not implemented")}}function Qs(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new Nj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new rv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mj(this,e)}reload(){return Oj(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await zd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await Wc(this,Dj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:b,providerData:M,stsTokenManager:F}=n;Ve(_&&F,e,"internal-error");const O=Ol.fromJSON(this.name,F);Ve(typeof _=="string",e,"internal-error"),Qs(i,e.name),Qs(a,e.name),Ve(typeof E=="boolean",e,"internal-error"),Ve(typeof b=="boolean",e,"internal-error"),Qs(l,e.name),Qs(u,e.name),Qs(h,e.name),Qs(f,e.name),Qs(p,e.name),Qs(y,e.name);const j=new cr({uid:_,auth:e,email:a,emailVerified:E,displayName:i,isAnonymous:b,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:O,createdAt:p,lastLoginAt:y});return M&&Array.isArray(M)&&(j.providerData=M.map(H=>({...H}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,n,i=!1){const a=new Ol;a.updateFromServerResponse(n);const l=new cr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await zd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zI(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Ol;h.updateFromIdToken(i);const f=new cr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new rv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}const Ub=new Map;function ls(t){vs(t instanceof Function,"Expected a class definition");let e=Ub.get(t);return e?(vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ub.set(t,e),e)}class FI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FI.type="NONE";const jb=FI;function od(t,e,n){return`firebase:${t}:${e}:${n}`}class Vl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=od(this.userKey,a.apiKey,l),this.fullPersistenceKey=od("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vl(ls(jb),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ls(jb);const u=od(i,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let _;if(typeof y=="string"){const E=await Bd(e,{idToken:y}).catch(()=>{});if(!E)break;_=await cr._fromGetAccountInfoResponse(e,E,y)}else _=cr._fromJSON(e,y);p!==l&&(h=_),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Vl(l,e,i):(l=f[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Vl(l,e,i))}}function Bb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($I(e))return"Blackberry";if(YI(e))return"Webos";if(qI(e))return"Safari";if((e.includes("chrome/")||GI(e))&&!e.includes("edge/"))return"Chrome";if(WI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function HI(t=Ln()){return/firefox\//i.test(t)}function qI(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GI(t=Ln()){return/crios\//i.test(t)}function KI(t=Ln()){return/iemobile/i.test(t)}function WI(t=Ln()){return/android/i.test(t)}function $I(t=Ln()){return/blackberry/i.test(t)}function YI(t=Ln()){return/webos/i.test(t)}function M_(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Uj(t=Ln()){return M_(t)&&!!window.navigator?.standalone}function jj(){return g2()&&document.documentMode===10}function QI(t=Ln()){return M_(t)||WI(t)||YI(t)||$I(t)||/windows phone/i.test(t)||KI(t)}function XI(t,e=[]){let n;switch(t){case"Browser":n=Bb(Ln());break;case"Worker":n=`${Bb(Ln())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ql}/${i}`}class Bj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const f=e(l);u(f)}catch(f){h(f)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function zj(t,e={}){return Ra(t,"GET","/v2/passwordPolicy",Aa(t,e))}const Fj=6;class Hj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Fj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class qj{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zb(this),this.idTokenSubscription=new zb(this),this.beforeStateQueue=new Bj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ls(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),i=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ji(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(fs(this));const n=e?gn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zj(this),n=new Hj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await kj(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ls(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[ls(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_j(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vo(t){return gn(t)}class zb{constructor(e){this.auth=e,this.observer=null,this.addObserver=S2(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gj(t){xm=t}function ZI(t){return xm.loadJS(t)}function Kj(){return xm.recaptchaEnterpriseScript}function Wj(){return xm.gapiScript}function $j(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Yj{constructor(){this.enterprise=new Qj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xj="recaptcha-enterprise",JI="NO_RECAPTCHA";class Zj{constructor(e){this.type=Xj,this.auth=Vo(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{xj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ij(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,u,h){const f=window.grecaptcha;Lb(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(JI)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Yj().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&Lb(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Kj();f.length!==0&&(f+=h),ZI(f).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function Fb(t,e,n,i=!1,a=!1){const l=new Zj(t);let u;if(a)u=JI;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function sv(t,e,n,i,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Fb(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Fb(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}function Jj(t,e){const n=Po(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(da(l,e??{}))return a;fr(a,"already-initialized")}return n.initialize({options:e})}function e6(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ls);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function t6(t,e,n){const i=Vo(t);Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=ex(e),{host:u,port:h}=n6(e),f=h===null?"":`:${h}`,p={url:`${l}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ve(da(p,i.config.emulator)&&da(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Yl(u)?(S1(`${l}//${u}${f}`),b1("Auth",!0)):i6()}function ex(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function n6(t){const e=ex(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Hb(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Hb(u)}}}function Hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class P_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,n){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function r6(t,e){return Ra(t,"POST","/v1/accounts:signUp",e)}async function s6(t,e){return fh(t,"POST","/v1/accounts:signInWithPassword",Aa(t,e))}async function a6(t,e){return fh(t,"POST","/v1/accounts:signInWithEmailLink",Aa(t,e))}async function o6(t,e){return fh(t,"POST","/v1/accounts:signInWithEmailLink",Aa(t,e))}class $c extends P_{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new $c(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new $c(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sv(e,n,"signInWithPassword",s6);case"emailLink":return a6(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sv(e,i,"signUpPassword",r6);case"emailLink":return o6(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ll(t,e){return fh(t,"POST","/v1/accounts:signInWithIdp",Aa(t,e))}const l6="http://localhost";class Io extends P_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new Io(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ll(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:l6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rh(n)}return e}}function u6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c6(t){const e=gc(yc(t)).link,n=e?gc(yc(e)).deep_link_id:null,i=gc(yc(t)).deep_link_id;return(i?gc(yc(i)).link:null)||i||n||e||t}class N_{constructor(e){const n=gc(yc(e)),i=n.apiKey??null,a=n.oobCode??null,l=u6(n.mode??null);Ve(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=c6(e);try{return new N_(n)}catch{return null}}}class tu{constructor(){this.providerId=tu.PROVIDER_ID}static credential(e,n){return $c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=N_.parseLink(n);return Ve(i,"argument-error"),$c._fromEmailAndCode(e,i.code,i.tenantId)}}tu.PROVIDER_ID="password";tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class dh extends tx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ta extends dh{constructor(){super("facebook.com")}static credential(e){return Io._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";class na extends dh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Io._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return na.credential(n,i)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";class ia extends dh{constructor(){super("github.com")}static credential(e){return Io._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";class ra extends dh{constructor(){super("twitter.com")}static credential(e,n){return Io._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return ra.credential(n,i)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";async function h6(t,e){return fh(t,"POST","/v1/accounts:signUp",Aa(t,e))}class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await cr._fromIdTokenResponse(e,i,a),u=qb(i);return new xo({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=qb(i);return new xo({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Fd extends mr{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Fd(e,n,i,a)}}function nx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(t,l,e,i):l})}async function f6(t,e,n=!1){const i=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xo._forOperation(t,"link",i)}async function d6(t,e,n=!1){const{auth:i}=t;if(ji(i.app))return Promise.reject(fs(i));const a="reauthenticate";try{const l=await Wc(t,nx(i,a,e,t),n);Ve(l.idToken,i,"internal-error");const u=D_(l.idToken);Ve(u,i,"internal-error");const{sub:h}=u;return Ve(t.uid===h,i,"user-mismatch"),xo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&fr(i,"user-mismatch"),l}}async function ix(t,e,n=!1){if(ji(t.app))return Promise.reject(fs(t));const i="signIn",a=await nx(t,i,e),l=await xo._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function m6(t,e){return ix(Vo(t),e)}async function rx(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p6(t,e,n){if(ji(t.app))return Promise.reject(fs(t));const i=Vo(t),u=await sv(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h6).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&rx(t),f}),h=await xo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function g6(t,e,n){return ji(t.app)?Promise.reject(fs(t)):m6(gn(t),tu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&rx(t),i})}function y6(t,e,n,i){return gn(t).onIdTokenChanged(e,n,i)}function v6(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function _6(t,e,n,i){return gn(t).onAuthStateChanged(e,n,i)}const Hd="__sak";class sx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const E6=1e3,T6=10;class ax extends sx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);jj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,T6):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},E6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ax.type="LOCAL";const w6=ax;class ox extends sx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ox.type="SESSION";const lx=ox;function S6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Dm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),f=await S6(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];function O_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class b6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,f)=>{const p=O_("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Pr(){return window}function A6(t){Pr().location.href=t}function ux(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function R6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C6(){return navigator?.serviceWorker?.controller||null}function I6(){return ux()?self:null}const cx="firebaseLocalStorageDb",x6=1,qd="firebaseLocalStorage",hx="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mm(t,e){return t.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function D6(){const t=indexedDB.deleteDatabase(cx);return new mh(t).toPromise()}function av(){const t=indexedDB.open(cx,x6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(qd,{keyPath:hx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(qd)?e(i):(i.close(),await D6(),e(await av()))})})}async function Gb(t,e,n){const i=Mm(t,!0).put({[hx]:e,value:n});return new mh(i).toPromise()}async function M6(t,e){const n=Mm(t,!1).get(e),i=await new mh(n).toPromise();return i===void 0?null:i.value}function Kb(t,e){const n=Mm(t,!0).delete(e);return new mh(n).toPromise()}const P6=800,N6=3;class fx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await av(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>N6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ux()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(I6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R6(),!this.activeServiceWorker)return;this.sender=new b6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await av();return await Gb(e,Hd,"1"),await Kb(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>M6(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Mm(a,!1).getAll();return new mh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fx.type="LOCAL";const O6=fx;new hh(3e4,6e4);function V6(t,e){return e?ls(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class V_ extends P_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L6(t){return ix(t.auth,new V_(t),t.bypassAuthState)}function k6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),d6(n,new V_(t),t.bypassAuthState)}async function U6(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),f6(n,new V_(t),t.bypassAuthState)}class dx{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L6;case"linkViaPopup":case"linkViaRedirect":return U6;case"reauthViaPopup":case"reauthViaRedirect":return k6;default:fr(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const j6=new hh(2e3,1e4);class Al extends dx{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=O_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j6.get())};e()}}Al.currentPopupAction=null;const B6="pendingRedirect",ld=new Map;class z6 extends dx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ld.get(this.auth._key());if(!e){try{const i=await F6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ld.set(this.auth._key(),e)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F6(t,e){const n=G6(e),i=q6(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function H6(t,e){ld.set(t._key(),e)}function q6(t){return ls(t._redirectPersistence)}function G6(t){return od(B6,t.config.apiKey,t.name)}async function K6(t,e,n=!1){if(ji(t.app))return Promise.reject(fs(t));const i=Vo(t),a=V6(i,e),u=await new z6(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const W6=600*1e3;class $6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!mx(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Y6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mx(t);default:return!1}}async function Q6(t,e={}){return Ra(t,"GET","/v1/projects",e)}const X6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z6=/^https?/;async function J6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q6(t);for(const n of e)try{if(eB(n))return}catch{}fr(t,"unauthorized-domain")}function eB(t){const e=iv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!Z6.test(n))return!1;if(X6.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const tB=new hh(3e4,6e4);function $b(){const t=Pr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nB(t){return new Promise((e,n)=>{function i(){$b(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$b(),n(Mr(t,"network-request-failed"))},timeout:tB.get()})}if(Pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Pr().gapi?.load)i();else{const a=$j("iframefcb");return Pr()[a]=()=>{gapi.load?i():n(Mr(t,"network-request-failed"))},ZI(`${Wj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ud=null,e})}let ud=null;function iB(t){return ud=ud||nB(t),ud}const rB=new hh(5e3,15e3),sB="__/auth/iframe",aB="emulator/auth/iframe",oB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uB(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?x_(e,aB):`https://${t.config.authDomain}/${sB}`,i={apiKey:e.apiKey,appName:t.name,v:Ql},a=lB.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${rh(i).slice(1)}`}async function cB(t){const e=await iB(t),n=Pr().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:uB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oB,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Mr(t,"network-request-failed"),h=Pr().setTimeout(()=>{l(u)},rB.get());function f(){Pr().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{l(u)})}))}const hB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fB=500,dB=600,mB="_blank",pB="http://localhost";class Yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gB(t,e,n,i=fB,a=dB){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...hB,width:i.toString(),height:a.toString(),top:l,left:u},p=Ln().toLowerCase();n&&(h=GI(p)?mB:n),HI(p)&&(e=e||pB,f.scrollbars="yes");const y=Object.entries(f).reduce((E,[b,M])=>`${E}${b}=${M},`,"");if(Uj(p)&&h!=="_self")return yB(e||"",h),new Yb(null);const _=window.open(e||"",h,y);Ve(_,t,"popup-blocked");try{_.focus()}catch{}return new Yb(_)}function yB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const vB="__/auth/handler",_B="emulator/auth/handler",EB=encodeURIComponent("fac");async function Qb(t,e,n,i,a,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Ql,eventId:a};if(e instanceof tx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",w2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof dh){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await t._getAppCheckToken(),p=f?`#${EB}=${encodeURIComponent(f)}`:"";return`${TB(t)}?${rh(h).slice(1)}${p}`}function TB({config:t}){return t.emulator?x_(t,_B):`https://${t.authDomain}/${vB}`}const iy="webStorageSupport";class wB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lx,this._completeRedirectFn=K6,this._overrideRedirectResult=H6}async _openPopup(e,n,i,a){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Qb(e,n,i,iv(),a);return gB(e,l,O_())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await Qb(e,n,i,iv(),a);return A6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(vs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await cB(e),i=new $6(e);return n.register("authEvent",a=>(Ve(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iy,{type:iy},a=>{const l=a?.[0]?.[iy];l!==void 0&&n(!!l),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QI()||qI()||M_()}}const SB=wB;var Xb="@firebase/auth",Zb="1.11.0";class bB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RB(t){Vr(new hr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XI(t)},p=new qj(i,a,l,f);return e6(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Vr(new hr("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(i=>new bB(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(Xb,Zb,AB(t)),Fi(Xb,Zb,"esm2020")}const CB=300,IB=w1("authIdTokenMaxAge")||CB;let Jb=null;const xB=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>IB)return;const a=n?.token;Jb!==a&&(Jb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function DB(t=Hv()){const e=Po(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jj(t,{popupRedirectResolver:SB,persistence:[O6,w6,lx]}),i=w1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=xB(l.toString());v6(n,u,()=>u(n.currentUser)),y6(n,h=>u(h))}}const a=E1("auth");return a&&t6(n,`http://${a}`),n}function MB(){return document.getElementsByTagName("head")?.[0]??document}Gj({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Mr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",MB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RB("Browser");const PB={apiKey:"AIzaSyDHOq__gt6HEkEkCDfxquDCpSheirR5qEA",authDomain:"bingelog-e89f5.firebaseapp.com",projectId:"bingelog-e89f5",storageBucket:"bingelog-e89f5.firebasestorage.app",messagingSenderId:"1027526846013",appId:"1:1027526846013:web:ac40efa1ca0b6c4e50ec54",measurementId:"G-N05RJMX3YG"},L_=M1(PB);e4(L_);const Si=tj(L_),k_=DB(L_),NB="_mainWrapper_9jvga_1",OB={mainWrapper:NB};function VB(){return R.jsxs("main",{className:OB.mainWrapper,children:[R.jsx("h1",{children:"What's BingeLog?"}),R.jsx("p",{children:"Netflix. Max. Hulu. Disney+. Crunchyroll. The age of streaming is a mishmash of different sources of entertainment with monthly new releases. Do you have the time to watch everything? Can you even keep track of it all? Welcome to BingeLog. Toss all your the shows and movies you still need to watch or catch up on into a list. Keep track of each and every episode and share with friends live updates so they dont spoil what happens two episodes from now in that big final episode of the season. Be as detailed as you want. Track entire characters and their arcs. Settings. Plot points. Make notes for each episode."}),R.jsx(as,{to:"/about",children:R.jsx("h2",{children:"Click here to learn more"})}),R.jsx("br",{})]})}const U_=N.createContext({});function j_(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const B_=typeof window<"u",px=B_?N.useLayoutEffect:N.useEffect,Pm=N.createContext(null);function z_(t,e){t.indexOf(e)===-1&&t.push(e)}function F_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s=(t,e,n)=>n>e?e:n<t?t:n;let H_=()=>{};const Es={},gx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yx(t){return typeof t=="object"&&t!==null}const vx=t=>/^0[^.\s]+$/u.test(t);function q_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hi=t=>t,LB=(t,e)=>n=>e(t(n)),ph=(...t)=>t.reduce(LB),Yc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class G_{constructor(){this.subscriptions=[]}add(e){return z_(this.subscriptions,e),()=>F_(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nr=t=>t*1e3,zi=t=>t/1e3;function _x(t,e){return e?t*(1e3/e):0}const Ex=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kB=1e-7,UB=12;function jB(t,e,n,i,a){let l,u,h=0;do u=e+(n-e)/2,l=Ex(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>kB&&++h<UB);return u}function gh(t,e,n,i){if(t===e&&n===i)return Hi;const a=l=>jB(l,0,1,t,n);return l=>l===0||l===1?l:Ex(a(l),e,i)}const Tx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wx=t=>e=>1-t(1-e),Sx=gh(.33,1.53,.69,.99),K_=wx(Sx),bx=Tx(K_),Ax=t=>(t*=2)<1?.5*K_(t):.5*(2-Math.pow(2,-10*(t-1))),W_=t=>1-Math.sin(Math.acos(t)),Rx=wx(W_),Cx=Tx(W_),BB=gh(.42,0,1,1),zB=gh(0,0,.58,1),Ix=gh(.42,0,.58,1),FB=t=>Array.isArray(t)&&typeof t[0]!="number",xx=t=>Array.isArray(t)&&typeof t[0]=="number",HB={linear:Hi,easeIn:BB,easeInOut:Ix,easeOut:zB,circIn:W_,circInOut:Cx,circOut:Rx,backIn:K_,backInOut:bx,backOut:Sx,anticipate:Ax},qB=t=>typeof t=="string",eA=t=>{if(xx(t)){H_(t.length===4);const[e,n,i,a]=t;return gh(e,n,i,a)}else if(qB(t))return HB[t];return t},Gf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GB(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,_=!1,E=!1)=>{const M=E&&a?n:i;return _&&u.add(y),M.has(y)||M.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const KB=40;function Dx(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Gf.reduce((U,ie)=>(U[ie]=GB(l),U),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:b,postRender:M}=u,F=()=>{const U=Es.useManualTiming?a.timestamp:performance.now();n=!1,Es.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(U-a.timestamp,KB),1)),a.timestamp=U,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),y.process(a),_.process(a),E.process(a),b.process(a),M.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(F))},O=()=>{n=!0,i=!0,a.isProcessing||t(F)};return{schedule:Gf.reduce((U,ie)=>{const W=u[ie];return U[ie]=(D,I=!1,A=!1)=>(n||O(),W.schedule(D,I,A)),U},{}),cancel:U=>{for(let ie=0;ie<Gf.length;ie++)u[Gf[ie]].cancel(U)},state:a,steps:u}}const{schedule:Dt,cancel:Ea,state:Sn,steps:ry}=Dx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hi,!0);let cd;function WB(){cd=void 0}const ei={now:()=>(cd===void 0&&ei.set(Sn.isProcessing||Es.useManualTiming?Sn.timestamp:performance.now()),cd),set:t=>{cd=t,queueMicrotask(WB)}},Mx=t=>e=>typeof e=="string"&&e.startsWith(t),Px=Mx("--"),$B=Mx("var(--"),$_=t=>$B(t)?YB.test(t.split("/*")[0].trim()):!1,YB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qc={...nu,transform:t=>_s(0,1,t)},Kf={...nu,default:1},Dc=t=>Math.round(t*1e5)/1e5,Y_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QB(t){return t==null}const XB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Q_=(t,e)=>n=>!!(typeof n=="string"&&XB.test(n)&&n.startsWith(t)||e&&!QB(n)&&Object.prototype.hasOwnProperty.call(n,e)),Nx=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(Y_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},ZB=t=>_s(0,255,t),sy={...nu,transform:t=>Math.round(ZB(t))},yo={test:Q_("rgb","red"),parse:Nx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+sy.transform(t)+", "+sy.transform(e)+", "+sy.transform(n)+", "+Dc(Qc.transform(i))+")"};function JB(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ov={test:Q_("#"),parse:JB,transform:yo.transform},yh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zs=yh("deg"),Or=yh("%"),Ue=yh("px"),e9=yh("vh"),t9=yh("vw"),tA={...Or,parse:t=>Or.parse(t)/100,transform:t=>Or.transform(t*100)},Rl={test:Q_("hsl","hue"),parse:Nx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Or.transform(Dc(e))+", "+Or.transform(Dc(n))+", "+Dc(Qc.transform(i))+")"},Xt={test:t=>yo.test(t)||ov.test(t)||Rl.test(t),parse:t=>yo.test(t)?yo.parse(t):Rl.test(t)?Rl.parse(t):ov.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yo.transform(t):Rl.transform(t),getAnimatableNone:t=>{const e=Xt.parse(t);return e.alpha=0,Xt.transform(e)}},n9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i9(t){return isNaN(t)&&typeof t=="string"&&(t.match(Y_)?.length||0)+(t.match(n9)?.length||0)>0}const Ox="number",Vx="color",r9="var",s9="var(",nA="${}",a9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(a9,f=>(Xt.test(f)?(i.color.push(l),a.push(Vx),n.push(Xt.parse(f))):f.startsWith(s9)?(i.var.push(l),a.push(r9),n.push(f)):(i.number.push(l),a.push(Ox),n.push(parseFloat(f))),++l,nA)).split(nA);return{values:n,split:h,indexes:i,types:a}}function Lx(t){return Xc(t).values}function kx(t){const{split:e,types:n}=Xc(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===Ox?l+=Dc(a[u]):h===Vx?l+=Xt.transform(a[u]):l+=a[u]}return l}}const o9=t=>typeof t=="number"?0:Xt.test(t)?Xt.getAnimatableNone(t):t;function l9(t){const e=Lx(t);return kx(t)(e.map(o9))}const Ta={test:i9,parse:Lx,createTransformer:kx,getAnimatableNone:l9};function ay(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u9({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=ay(f,h,t+1/3),l=ay(f,h,t),u=ay(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Gd(t,e){return n=>n>0?e:t}const Ot=(t,e,n)=>t+(e-t)*n,oy=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},c9=[ov,yo,Rl],h9=t=>c9.find(e=>e.test(t));function iA(t){const e=h9(t);if(!e)return!1;let n=e.parse(t);return e===Rl&&(n=u9(n)),n}const rA=(t,e)=>{const n=iA(t),i=iA(e);if(!n||!i)return Gd(t,e);const a={...n};return l=>(a.red=oy(n.red,i.red,l),a.green=oy(n.green,i.green,l),a.blue=oy(n.blue,i.blue,l),a.alpha=Ot(n.alpha,i.alpha,l),yo.transform(a))},lv=new Set(["none","hidden"]);function f9(t,e){return lv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function d9(t,e){return n=>Ot(t,e,n)}function X_(t){return typeof t=="number"?d9:typeof t=="string"?$_(t)?Gd:Xt.test(t)?rA:g9:Array.isArray(t)?Ux:typeof t=="object"?Xt.test(t)?rA:m9:Gd}function Ux(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>X_(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function m9(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=X_(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function p9(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],h=t.values[u]??0;n[a]=h,i[l]++}return n}const g9=(t,e)=>{const n=Ta.createTransformer(e),i=Xc(t),a=Xc(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?lv.has(t)&&!a.values.length||lv.has(e)&&!i.values.length?f9(t,e):ph(Ux(p9(i,a),a.values),n):Gd(t,e)};function jx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ot(t,e,n):X_(t)(t,e)}const y9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Dt.update(e,n),stop:()=>Ea(e),now:()=>Sn.isProcessing?Sn.timestamp:ei.now()}},Bx=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Kd=2e4;function Z_(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Kd;)e+=n,i=t.next(e);return e>=Kd?1/0:e}function v9(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(Z_(i),Kd);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:zi(a)}}const _9=5;function zx(t,e,n){const i=Math.max(e-_9,0);return _x(n-t(i),e-i)}const jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ly=.001;function E9({duration:t=jt.duration,bounce:e=jt.bounce,velocity:n=jt.velocity,mass:i=jt.mass}){let a,l,u=1-e;u=_s(jt.minDamping,jt.maxDamping,u),t=_s(jt.minDuration,jt.maxDuration,zi(t)),u<1?(a=p=>{const y=p*u,_=y*t,E=y-n,b=uv(p,u),M=Math.exp(-_);return ly-E/b*M},l=p=>{const _=p*u*t,E=_*n+n,b=Math.pow(u,2)*Math.pow(p,2)*t,M=Math.exp(-_),F=uv(Math.pow(p,2),u);return(-a(p)+ly>0?-1:1)*((E-b)*M)/F}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-ly+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,f=w9(a,l,h);if(t=Nr(t),isNaN(f))return{stiffness:jt.stiffness,damping:jt.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const T9=12;function w9(t,e,n){let i=n;for(let a=1;a<T9;a++)i=i-t(i)/e(i);return i}function uv(t,e){return t*Math.sqrt(1-e*e)}const S9=["duration","bounce"],b9=["stiffness","damping","mass"];function sA(t,e){return e.some(n=>t[n]!==void 0)}function A9(t){let e={velocity:jt.velocity,stiffness:jt.stiffness,damping:jt.damping,mass:jt.mass,isResolvedFromDuration:!1,...t};if(!sA(t,b9)&&sA(t,S9))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*_s(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:jt.mass,stiffness:a,damping:l}}else{const n=E9(t);e={...e,...n,mass:jt.mass},e.isResolvedFromDuration=!0}return e}function Wd(t=jt.visualDuration,e=jt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:b}=A9({...n,velocity:-zi(n.velocity||0)}),M=E||0,F=p/(2*Math.sqrt(f*y)),O=u-l,j=zi(Math.sqrt(f/y)),H=Math.abs(O)<5;i||(i=H?jt.restSpeed.granular:jt.restSpeed.default),a||(a=H?jt.restDelta.granular:jt.restDelta.default);let U;if(F<1){const W=uv(j,F);U=D=>{const I=Math.exp(-F*j*D);return u-I*((M+F*j*O)/W*Math.sin(W*D)+O*Math.cos(W*D))}}else if(F===1)U=W=>u-Math.exp(-j*W)*(O+(M+j*O)*W);else{const W=j*Math.sqrt(F*F-1);U=D=>{const I=Math.exp(-F*j*D),A=Math.min(W*D,300);return u-I*((M+F*j*O)*Math.sinh(A)+W*O*Math.cosh(A))/W}}const ie={calculatedDuration:b&&_||null,next:W=>{const D=U(W);if(b)h.done=W>=_;else{let I=W===0?M:0;F<1&&(I=W===0?Nr(M):zx(U,W,D));const A=Math.abs(I)<=i,x=Math.abs(u-D)<=a;h.done=A&&x}return h.value=h.done?u:D,h},toString:()=>{const W=Math.min(Z_(ie),Kd),D=Bx(I=>ie.next(W*I).value,W,30);return W+"ms "+D},toTransition:()=>{}};return ie}Wd.applyToOptions=t=>{const e=v9(t,100,Wd);return t.ease=e.ease,t.duration=Nr(e.duration),t.type="keyframes",t};function cv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},b=A=>h!==void 0&&A<h||f!==void 0&&A>f,M=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let F=n*e;const O=_+F,j=u===void 0?O:u(O);j!==O&&(F=j-_);const H=A=>-F*Math.exp(-A/i),U=A=>j+H(A),ie=A=>{const x=H(A),L=U(A);E.done=Math.abs(x)<=p,E.value=E.done?j:L};let W,D;const I=A=>{b(E.value)&&(W=A,D=Wd({keyframes:[E.value,M(E.value)],velocity:zx(U,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:A=>{let x=!1;return!D&&W===void 0&&(x=!0,ie(A),I(A)),W!==void 0&&A>=W?D.next(A-W):(!x&&ie(A),E)}}}function R9(t,e,n){const i=[],a=n||Es.mix||jx,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Hi:e;h=ph(f,h)}i.push(h)}return i}function C9(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(H_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=R9(e,i,a),f=h.length,p=y=>{if(u&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=Yc(t[_],t[_+1],y);return h[_](E)};return n?y=>p(_s(t[0],t[l-1],y)):p}function I9(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=Yc(0,e,i);t.push(Ot(n,1,a))}}function x9(t){const e=[0];return I9(e,t.length-1),e}function D9(t,e){return t.map(n=>n*e)}function M9(t,e){return t.map(()=>e||Ix).splice(0,t.length-1)}function Mc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=FB(i)?i.map(eA):eA(i),l={done:!1,value:e[0]},u=D9(n&&n.length===e.length?n:x9(e),t),h=C9(u,e,{ease:Array.isArray(a)?a:M9(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const P9=t=>t!==null;function J_(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(P9),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const N9={decay:cv,inertia:cv,tween:Mc,keyframes:Mc,spring:Wd};function Fx(t){typeof t.type=="string"&&(t.type=N9[t.type])}class eE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const O9=t=>t/100;class tE extends eE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ei.now()&&this.tick(ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Fx(e);const{type:n=Mc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Mc;f!==Mc&&typeof h[0]!="number"&&(this.mixKeyframes=ph(O9,jx(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Z_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:b,type:M,onUpdate:F,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let U=this.currentTime,ie=i;if(_){const A=Math.min(this.currentTime,a)/h;let x=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&x--,x=Math.min(x,_+1),!!(x%2)&&(E==="reverse"?(L=1-L,b&&(L-=b/h)):E==="mirror"&&(ie=u)),U=_s(0,1,L)*h}const W=H?{done:!1,value:y[0]}:ie.next(U);l&&(W.value=l(W.value));let{done:D}=W;!H&&f!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return I&&M!==cv&&(W.value=J_(y,this.options,O,this.speed)),F&&F(W.value),I&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return zi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zi(e)}get time(){return zi(this.currentTime)}set time(e){e=Nr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ei.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=y9,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function V9(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const vo=t=>t*180/Math.PI,hv=t=>{const e=vo(Math.atan2(t[1],t[0]));return fv(e)},L9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hv,rotateZ:hv,skewX:t=>vo(Math.atan(t[1])),skewY:t=>vo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},fv=t=>(t=t%360,t<0&&(t+=360),t),aA=hv,oA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),k9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oA,scaleY:lA,scale:t=>(oA(t)+lA(t))/2,rotateX:t=>fv(vo(Math.atan2(t[6],t[5]))),rotateY:t=>fv(vo(Math.atan2(-t[2],t[0]))),rotateZ:aA,rotate:aA,skewX:t=>vo(Math.atan(t[4])),skewY:t=>vo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function dv(t){return t.includes("scale")?1:0}function mv(t,e){if(!t||t==="none")return dv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=k9,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=L9,a=h}if(!a)return dv(e);const l=i[e],u=a[1].split(",").map(j9);return typeof l=="function"?l(u):u[l]}const U9=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return mv(n,e)};function j9(t){return parseFloat(t.trim())}const iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ru=new Set(iu),uA=t=>t===nu||t===Ue,B9=new Set(["x","y","z"]),z9=iu.filter(t=>!B9.has(t));function F9(t){const e=[];return z9.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Eo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>mv(e,"x"),y:(t,{transform:e})=>mv(e,"y")};Eo.translateX=Eo.x;Eo.translateY=Eo.y;const To=new Set;let pv=!1,gv=!1,yv=!1;function Hx(){if(gv){const t=Array.from(To).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=F9(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}gv=!1,pv=!1,To.forEach(t=>t.complete(yv)),To.clear()}function qx(){To.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gv=!0)})}function H9(){yv=!0,qx(),Hx(),yv=!1}class nE{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(To.add(this),pv||(pv=!0,Dt.read(qx),Dt.resolveKeyframes(Hx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}V9(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),To.delete(this)}cancel(){this.state==="scheduled"&&(To.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const q9=t=>t.startsWith("--");function G9(t,e,n){q9(e)?t.style.setProperty(e,n):t.style[e]=n}const K9=q_(()=>window.ScrollTimeline!==void 0),W9={};function $9(t,e){const n=q_(t);return()=>W9[e]??n()}const Gx=$9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,cA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wc([0,.65,.55,1]),circOut:wc([.55,0,1,.45]),backIn:wc([.31,.01,.66,-.59]),backOut:wc([.33,1.53,.69,.99])};function Kx(t,e){if(t)return typeof t=="function"?Gx()?Bx(t,e):"ease-out":xx(t)?wc(t):Array.isArray(t)?t.map(n=>Kx(n,e)||cA.easeOut):cA[t]}function Y9(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const y={[e]:n};f&&(y.offset=f);const _=Kx(h,a);Array.isArray(_)&&(y.easing=_);const E={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function Wx(t){return typeof t=="function"&&"applyToOptions"in t}function Q9({type:t,...e}){return Wx(t)&&Gx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class X9 extends eE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,H_(typeof e.type!="string");const p=Q9(e);this.animation=Y9(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=J_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):G9(n,i,y),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return zi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zi(e)}get time(){return zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&K9()?(this.animation.timeline=e,Hi):n(this)}}const $x={anticipate:Ax,backInOut:bx,circInOut:Cx};function Z9(t){return t in $x}function J9(t){typeof t.ease=="string"&&Z9(t.ease)&&(t.ease=$x[t.ease])}const hA=10;class e5 extends X9{constructor(e){J9(e),Fx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new tE({...u,autoplay:!1}),f=Nr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-hA).value,h.sample(f).value,hA),h.stop()}}const fA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ta.test(t)||t==="0")&&!t.startsWith("url("));function t5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function n5(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=fA(a,e),h=fA(l,e);return!u||!h?!1:t5(t)||(n==="spring"||Wx(n))&&i}function vv(t){t.duration=0,t.type="keyframes"}const i5=new Set(["opacity","clipPath","filter","transform"]),r5=q_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function s5(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return r5()&&n&&i5.has(n)&&(n!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const a5=40;class o5 extends eE{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ei.now();const E={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:f,motionValue:p,element:y,..._},b=y?.KeyframeResolver||nE;this.keyframeResolver=new b(h,(M,F,O)=>this.onKeyframesResolved(M,F,E,!O),f,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:y}=i;this.resolvedAt=ei.now(),n5(e,l,u,h)||((Es.instantAnimations||!f)&&y?.(J_(e,i,n)),e[0]=e[e.length-1],vv(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>a5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},b=!p&&s5(E)?new e5({...E,element:E.motionValue.owner.current}):new tE(E);b.finished.then(()=>this.notifyFinished()).catch(Hi),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),H9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const l5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function u5(t){const e=l5.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function Yx(t,e,n=1){const[i,a]=u5(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return gx(u)?parseFloat(u):u}return $_(a)?Yx(a,e,n+1):a}function iE(t,e){return t?.[e]??t?.default??t}const Qx=new Set(["width","height","top","left","right","bottom",...iu]),c5={test:t=>t==="auto",parse:t=>t},Xx=t=>e=>e.test(t),Zx=[nu,Ue,Or,Zs,t9,e9,c5],dA=t=>Zx.find(Xx(t));function h5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vx(t):!0}const f5=new Set(["brightness","contrast","saturate","opacity"]);function d5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Y_)||[];if(!i)return t;const a=n.replace(i,"");let l=f5.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const m5=/\b([a-z-]*)\(.*?\)/gu,_v={...Ta,getAnimatableNone:t=>{const e=t.match(m5);return e?e.map(d5).join(" "):t}},mA={...nu,transform:Math.round},p5={rotate:Zs,rotateX:Zs,rotateY:Zs,rotateZ:Zs,scale:Kf,scaleX:Kf,scaleY:Kf,scaleZ:Kf,skew:Zs,skewX:Zs,skewY:Zs,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Qc,originX:tA,originY:tA,originZ:Ue},rE={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...p5,zIndex:mA,fillOpacity:Qc,strokeOpacity:Qc,numOctaves:mA},g5={...rE,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:_v,WebkitFilter:_v},Jx=t=>g5[t];function eD(t,e){let n=Jx(t);return n!==_v&&(n=Ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y5=new Set(["auto","none","0"]);function v5(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!y5.has(l)&&Xc(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=eD(n,a)}class _5 extends nE{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),$_(p))){const y=Yx(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Qx.has(i)||e.length!==2)return;const[a,l]=e,u=dA(a),h=dA(l);if(u!==h)if(uA(u)&&uA(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Eo[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||h5(e[a]))&&i.push(a);i.length&&v5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Eo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Eo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function E5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const tD=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nD(t){return yx(t)&&"offsetHeight"in t}const pA=30,T5=t=>!isNaN(parseFloat(t));class w5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=ei.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ei.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=T5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new G_);const i=this.events[e].add(n);return e==="change"?()=>{i(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pA);return _x(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kl(t,e){return new w5(t,e)}const{schedule:sE}=Dx(queueMicrotask,!1),lr={x:!1,y:!1};function iD(){return lr.x||lr.y}function S5(t){return t==="x"||t==="y"?lr[t]?null:(lr[t]=!0,()=>{lr[t]=!1}):lr.x||lr.y?null:(lr.x=lr.y=!0,()=>{lr.x=lr.y=!1})}function rD(t,e){const n=E5(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function gA(t){return!(t.pointerType==="touch"||iD())}function b5(t,e,n={}){const[i,a,l]=rD(t,n),u=h=>{if(!gA(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=_=>{gA(_)&&(p(_),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const sD=(t,e)=>e?t===e?!0:sD(t,e.parentElement):!1,aE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,A5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R5(t){return A5.has(t.tagName)||t.tabIndex!==-1}const hd=new WeakSet;function yA(t){return e=>{e.key==="Enter"&&t(e)}}function uy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const C5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=yA(()=>{if(hd.has(n))return;uy(n,"down");const a=yA(()=>{uy(n,"up")}),l=()=>uy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function vA(t){return aE(t)&&!iD()}function I5(t,e,n={}){const[i,a,l]=rD(t,n),u=h=>{const f=h.currentTarget;if(!vA(h))return;hd.add(f);const p=e(f,h),y=(b,M)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),hd.has(f)&&hd.delete(f),vA(b)&&typeof p=="function"&&p(b,{success:M})},_=b=>{y(b,f===window||f===document||n.useGlobalTarget||sD(f,b.target))},E=b=>{y(b,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),nD(h)&&(h.addEventListener("focus",p=>C5(p,a)),!R5(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function aD(t){return yx(t)&&"ownerSVGElement"in t}function x5(t){return aD(t)&&t.tagName==="svg"}const Vn=t=>!!(t&&t.getVelocity),D5=[...Zx,Xt,Ta],M5=t=>D5.find(Xx(t)),oE=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _A(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function P5(...t){return e=>{let n=!1;const i=t.map(a=>{const l=_A(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():_A(t[a],null)}}}}function N5(...t){return N.useCallback(P5(...t),t)}class O5 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=nD(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function V5({children:t,isPresent:e,anchorX:n,root:i}){const a=N.useId(),l=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=N.useContext(oE),f=N5(l,t?.ref);return N.useInsertionEffect(()=>{const{width:p,height:y,top:_,left:E,right:b}=u.current;if(e||!l.current||!p||!y)return;const M=n==="left"?`left: ${E}`:`right: ${b}`;l.current.dataset.motionPopId=a;const F=document.createElement("style");h&&(F.nonce=h);const O=i??document.head;return O.appendChild(F),F.sheet&&F.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${M}px !important;
            top: ${_}px !important;
          }
        `),()=>{O.contains(F)&&O.removeChild(F)}},[e]),R.jsx(O5,{isPresent:e,childRef:l,sizeRef:u,children:N.cloneElement(t,{ref:f})})}const L5=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:f})=>{const p=j_(k5),y=N.useId();let _=!0,E=N.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:b=>{p.set(b,!0);for(const M of p.values())if(!M)return;i&&i()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[n,p,i]);return l&&_&&(E={...E}),N.useMemo(()=>{p.forEach((b,M)=>p.set(M,!1))},[n]),N.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),u==="popLayout"&&(t=R.jsx(V5,{isPresent:n,anchorX:h,root:f,children:t})),R.jsx(Pm.Provider,{value:E,children:t})};function k5(){return new Map}function oD(t=!0){const e=N.useContext(Pm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const u=N.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const Wf=t=>t.key||"";function EA(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const $d=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[p,y]=oD(u),_=N.useMemo(()=>EA(t),[t]),E=u&&!p?[]:_.map(Wf),b=N.useRef(!0),M=N.useRef(_),F=j_(()=>new Map),[O,j]=N.useState(_),[H,U]=N.useState(_);px(()=>{b.current=!1,M.current=_;for(let D=0;D<H.length;D++){const I=Wf(H[D]);E.includes(I)?F.delete(I):F.get(I)!==!0&&F.set(I,!1)}},[H,E.length,E.join("-")]);const ie=[];if(_!==O){let D=[..._];for(let I=0;I<H.length;I++){const A=H[I],x=Wf(A);E.includes(x)||(D.splice(I,0,A),ie.push(A))}return l==="wait"&&ie.length&&(D=ie),U(EA(D)),j(_),null}const{forceRender:W}=N.useContext(U_);return R.jsx(R.Fragment,{children:H.map(D=>{const I=Wf(D),A=u&&!p?!1:_===H||E.includes(I),x=()=>{if(F.has(I))F.set(I,!0);else return;let L=!0;F.forEach(z=>{z||(L=!1)}),L&&(W?.(),U(M.current),u&&y?.(),i&&i())};return R.jsx(L5,{isPresent:A,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:A?void 0:x,anchorX:h,children:D},I)})})},lD=N.createContext({strict:!1}),TA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const t in TA)Wl[t]={isEnabled:e=>TA[t].some(n=>!!e[n])};function U5(t){for(const e in t)Wl[e]={...Wl[e],...t[e]}}const j5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||j5.has(t)}let uD=t=>!Yd(t);function B5(t){typeof t=="function"&&(uD=e=>e.startsWith("on")?!Yd(e):t(e))}try{B5(require("@emotion/is-prop-valid").default)}catch{}function z5(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(uD(a)||n===!0&&Yd(a)||!e&&!Yd(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Nm=N.createContext({});function Om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Zc(t){return typeof t=="string"||Array.isArray(t)}const lE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uE=["initial",...lE];function Vm(t){return Om(t.animate)||uE.some(e=>Zc(t[e]))}function cD(t){return!!(Vm(t)||t.variants)}function F5(t,e){if(Vm(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Zc(n)?n:void 0,animate:Zc(i)?i:void 0}}return t.inherit!==!1?e:{}}function H5(t){const{initial:e,animate:n}=F5(t,N.useContext(Nm));return N.useMemo(()=>({initial:e,animate:n}),[wA(e),wA(n)])}function wA(t){return Array.isArray(t)?t.join(" "):t}function SA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=SA(t,e.target.x),i=SA(t,e.target.y);return`${n}% ${i}%`}},q5={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Ta.parse(t);if(a.length>5)return i;const l=Ta.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const p=Ot(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},Ev={borderRadius:{...fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fc,borderTopRightRadius:fc,borderBottomLeftRadius:fc,borderBottomRightRadius:fc,boxShadow:q5};function hD(t,{layout:e,layoutId:n}){return ru.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ev[t]||t==="opacity")}const G5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K5=iu.length;function W5(t,e,n){let i="",a=!0;for(let l=0;l<K5;l++){const u=iu[l],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=tD(h,rE[u]);if(!f){a=!1;const y=G5[u]||u;i+=`${y}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function cE(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(ru.has(f)){u=!0;continue}else if(Px(f)){a[f]=p;continue}else{const y=tD(p,rE[f]);f.startsWith("origin")?(h=!0,l[f]=y):i[f]=y}}if(e.transform||(u||n?i.transform=W5(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${f} ${p} ${y}`}}const hE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fD(t,e,n){for(const i in e)!Vn(e[i])&&!hD(i,n)&&(t[i]=e[i])}function $5({transformTemplate:t},e){return N.useMemo(()=>{const n=hE();return cE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Y5(t,e){const n=t.style||{},i={};return fD(i,n,t),Object.assign(i,$5(t,e)),i}function Q5(t,e){const n={},i=Y5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const X5={offset:"stroke-dashoffset",array:"stroke-dasharray"},Z5={offset:"strokeDashoffset",array:"strokeDasharray"};function J5(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?X5:Z5;t[l.offset]=Ue.transform(-i);const u=Ue.transform(e),h=Ue.transform(n);t[l.array]=`${u} ${h}`}function dD(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},f,p,y){if(cE(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&J5(_,a,l,u,!1)}const mD=()=>({...hE(),attrs:{}}),pD=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ez(t,e,n,i){const a=N.useMemo(()=>{const l=mD();return dD(l,e,pD(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};fD(l,t.style,t),a.style={...l,...a.style}}return a}const tz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fE(t){return typeof t!="string"||t.includes("-")?!1:!!(tz.indexOf(t)>-1||/[A-Z]/u.test(t))}function nz(t,e,n,{latestValues:i},a,l=!1){const h=(fE(t)?ez:Q5)(e,i,a,t),f=z5(e,typeof t=="string",l),p=t!==N.Fragment?{...f,...h,ref:n}:{},{children:y}=e,_=N.useMemo(()=>Vn(y)?y.get():y,[y]);return N.createElement(t,{...p,children:_})}function bA(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function dE(t,e,n,i){if(typeof e=="function"){const[a,l]=bA(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=bA(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function fd(t){return Vn(t)?t.get():t}function iz({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:rz(n,i,a,t),renderState:e()}}function rz(t,e,n,i){const a={},l=i(t,{});for(const E in l)a[E]=fd(l[E]);let{initial:u,animate:h}=t;const f=Vm(t),p=cD(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!Om(_)){const E=Array.isArray(_)?_:[_];for(let b=0;b<E.length;b++){const M=dE(t,E[b]);if(M){const{transitionEnd:F,transition:O,...j}=M;for(const H in j){let U=j[H];if(Array.isArray(U)){const ie=y?U.length-1:0;U=U[ie]}U!==null&&(a[H]=U)}for(const H in F)a[H]=F[H]}}}return a}const gD=t=>(e,n)=>{const i=N.useContext(Nm),a=N.useContext(Pm),l=()=>iz(t,e,i,a);return n?l():j_(l)};function mE(t,e,n){const{style:i}=t,a={};for(const l in i)(Vn(i[l])||e.style&&Vn(e.style[l])||hD(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const sz=gD({scrapeMotionValuesFromProps:mE,createRenderState:hE});function yD(t,e,n){const i=mE(t,e,n);for(const a in t)if(Vn(t[a])||Vn(e[a])){const l=iu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const az=gD({scrapeMotionValuesFromProps:yD,createRenderState:mD}),oz=Symbol.for("motionComponentSymbol");function Cl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lz(t,e,n){return N.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Cl(n)&&(n.current=i))},[e])}const pE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uz="framerAppearId",vD="data-"+pE(uz),_D=N.createContext({});function cz(t,e,n,i,a){const{visualElement:l}=N.useContext(Nm),u=N.useContext(lD),h=N.useContext(Pm),f=N.useContext(oE).reducedMotion,p=N.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const y=p.current,_=N.useContext(_D);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&hz(p.current,n,a,_);const E=N.useRef(!1);N.useInsertionEffect(()=>{y&&E.current&&y.update(n,h)});const b=n[vD],M=N.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return px(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),M.current&&y.animationState&&y.animationState.animateChanges())}),N.useEffect(()=>{y&&(!M.current&&y.animationState&&y.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),M.current=!1),y.enteringChildren=void 0)}),y}function hz(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ED(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Cl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:f,layoutRoot:p})}function ED(t){if(t)return t.options.allowProjection!==!1?t.projection:ED(t.parent)}function cy(t,{forwardMotionProps:e=!1}={},n,i){n&&U5(n);const a=fE(t)?az:sz;function l(h,f){let p;const y={...N.useContext(oE),...h,layoutId:fz(h)},{isStatic:_}=y,E=H5(h),b=a(h,_);if(!_&&B_){dz();const M=mz(y);p=M.MeasureLayout,E.visualElement=cz(t,b,y,i,M.ProjectionNode)}return R.jsxs(Nm.Provider,{value:E,children:[p&&E.visualElement?R.jsx(p,{visualElement:E.visualElement,...y}):null,nz(t,h,lz(b,E.visualElement,f),b,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=N.forwardRef(l);return u[oz]=t,u}function fz({layoutId:t}){const e=N.useContext(U_).id;return e&&t!==void 0?e+"-"+t:t}function dz(t,e){N.useContext(lD).strict}function mz(t){const{drag:e,layout:n}=Wl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function pz(t,e){if(typeof Proxy>"u")return cy;const n=new Map,i=(l,u)=>cy(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,cy(u,void 0,t,e)),n.get(u))})}function TD({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function gz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function hy(t){return t===void 0||t===1}function Tv({scale:t,scaleX:e,scaleY:n}){return!hy(t)||!hy(e)||!hy(n)}function fo(t){return Tv(t)||wD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wD(t){return AA(t.x)||AA(t.y)}function AA(t){return t&&t!=="0%"}function Qd(t,e,n){const i=t-n,a=e*i;return n+a}function RA(t,e,n,i,a){return a!==void 0&&(t=Qd(t,a,i)),Qd(t,n,i)+e}function wv(t,e=0,n=1,i,a){t.min=RA(t.min,e,n,i,a),t.max=RA(t.max,e,n,i,a)}function SD(t,{x:e,y:n}){wv(t.x,e.translate,e.scale,e.originPoint),wv(t.y,n.translate,n.scale,n.originPoint)}const CA=.999999999999,IA=1.0000000000001;function vz(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&xl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,SD(t,u)),i&&fo(l.latestValues)&&xl(t,l.latestValues))}e.x<IA&&e.x>CA&&(e.x=1),e.y<IA&&e.y>CA&&(e.y=1)}function Il(t,e){t.min=t.min+e,t.max=t.max+e}function xA(t,e,n,i,a=.5){const l=Ot(t.min,t.max,a);wv(t,e,n,l,i)}function xl(t,e){xA(t.x,e.x,e.scaleX,e.scale,e.originX),xA(t.y,e.y,e.scaleY,e.scale,e.originY)}function bD(t,e){return TD(yz(t.getBoundingClientRect(),e))}function _z(t,e,n){const i=bD(t,n),{scroll:a}=e;return a&&(Il(i.x,a.offset.x),Il(i.y,a.offset.y)),i}const DA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Dl=()=>({x:DA(),y:DA()}),MA=()=>({min:0,max:0}),on=()=>({x:MA(),y:MA()}),Sv={current:null},AD={current:!1};function Ez(){if(AD.current=!0,!!B_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sv.current=t.matches;t.addEventListener("change",e),e()}else Sv.current=!1}const Tz=new WeakMap;function wz(t,e,n){for(const i in e){const a=e[i],l=n[i];if(Vn(a))t.addValue(i,a);else if(Vn(l))t.addValue(i,Kl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,Kl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const PA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sz{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=ei.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,Dt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Vm(n),this.isVariantNode=cD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const b=_[E];f[E]!==void 0&&Vn(b)&&b.set(f[E])}}mount(e){this.current=e,Tz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),AD.current||Ez(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ea(this.notifyUpdate),Ea(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ru.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wl){const n=Wl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<PA.length;i++){const a=PA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=wz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Kl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(gx(i)||vx(i))?i=parseFloat(i):!M5(i)&&Ta.test(n)&&(i=eD(e,n)),this.setBaseTarget(e,Vn(i)?i.get():i)),Vn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=dE(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Vn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new G_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){sE.render(this.render)}}class RD extends Sz{constructor(){super(...arguments),this.KeyframeResolver=_5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CD(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function bz(t){return window.getComputedStyle(t)}class Az extends RD{constructor(){super(...arguments),this.type="html",this.renderInstance=CD}readValueFromInstance(e,n){if(ru.has(n))return this.projection?.isProjecting?dv(n):U9(e,n);{const i=bz(e),a=(Px(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return bD(e,n)}build(e,n,i){cE(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return mE(e,n,i)}}const ID=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rz(t,e,n,i){CD(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(ID.has(a)?a:pE(a),e.attrs[a])}class Cz extends RD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ru.has(n)){const i=Jx(n);return i&&i.default||0}return n=ID.has(n)?n:pE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return yD(e,n,i)}build(e,n,i){dD(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){Rz(e,n,i,a)}mount(e){this.isSVGTag=pD(e.tagName),super.mount(e)}}const Iz=(t,e)=>fE(t)?new Cz(e):new Az(e,{allowProjection:t!==N.Fragment});function kl(t,e,n){const i=t.getProps();return dE(i,e,n!==void 0?n:i.custom,t)}const bv=t=>Array.isArray(t);function xz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kl(n))}function Dz(t){return bv(t)?t[t.length-1]||0:t}function Mz(t,e){const n=kl(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const h=Dz(l[u]);xz(t,u,h)}}function Pz(t){return!!(Vn(t)&&t.add)}function Av(t,e){const n=t.getValue("willChange");if(Pz(n))return n.add(e);if(!n&&Es.WillChange){const i=new Es.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function xD(t){return t.props[vD]}const Nz=t=>t!==null;function Oz(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(Nz),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const Vz={type:"spring",stiffness:500,damping:25,restSpeed:10},Lz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kz={type:"keyframes",duration:.8},Uz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jz=(t,{keyframes:e})=>e.length>2?kz:ru.has(t)?t.startsWith("scale")?Lz(e[1]):Vz:Uz;function Bz({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const gE=(t,e,n,i={},a,l)=>u=>{const h=iE(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Nr(f);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};Bz(h)||Object.assign(y,jz(t,y)),y.duration&&(y.duration=Nr(y.duration)),y.repeatDelay&&(y.repeatDelay=Nr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(vv(y),y.delay===0&&(_=!0)),(Es.instantAnimations||Es.skipAnimations)&&(_=!0,vv(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!l&&e.get()!==void 0){const E=Oz(y.keyframes,h);if(E!==void 0){Dt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new tE(y):new o5(y)};function zz({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function DD(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const _=t.getValue(y,t.latestValues[y]??null),E=h[y];if(E===void 0||p&&zz(p,y))continue;const b={delay:n,...iE(l||{},y)},M=_.get();if(M!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===M&&!b.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const j=xD(t);if(j){const H=window.MotionHandoffAnimation(j,y,Dt);H!==null&&(b.startTime=H,F=!0)}}Av(t,y),_.start(gE(y,_,E,t.shouldReduceMotion&&Qx.has(y)?{type:!1}:b,t,F));const O=_.animation;O&&f.push(O)}return u&&Promise.all(f).then(()=>{Dt.update(()=>{u&&Mz(t,u)})}),f}function MD(t,e,n,i=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:h-l*i}function Rv(t,e,n={}){const i=kl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(DD(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return Fz(t,e,f,p,y,_,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,p]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function Fz(t,e,n=0,i=0,a=0,l=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Rv(f,e,{...u,delay:n+(typeof i=="function"?0:i)+MD(t.variantChildren,f,i,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function Hz(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Rv(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Rv(t,e,n);else{const a=typeof e=="function"?kl(t,e,n.custom):e;i=Promise.all(DD(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function PD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const qz=uE.length;function ND(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ND(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qz;n++){const i=uE[n],a=t.props[i];(Zc(a)||a===!1)&&(e[i]=a)}return e}const Gz=[...lE].reverse(),Kz=lE.length;function Wz(t){return e=>Promise.all(e.map(({animation:n,options:i})=>Hz(t,n,i)))}function $z(t){let e=Wz(t),n=NA(),i=!0;const a=f=>(p,y)=>{const _=kl(t,y,f==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:E,transitionEnd:b,...M}=_;p={...p,...M,...b}}return p};function l(f){e=f(t)}function u(f){const{props:p}=t,y=ND(t.parent)||{},_=[],E=new Set;let b={},M=1/0;for(let O=0;O<Kz;O++){const j=Gz[O],H=n[j],U=p[j]!==void 0?p[j]:y[j],ie=Zc(U),W=j===f?H.isActive:null;W===!1&&(M=O);let D=U===y[j]&&U!==p[j]&&ie;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),H.protectedKeys={...b},!H.isActive&&W===null||!U&&!H.prevProp||Om(U)||typeof U=="boolean")continue;const I=Yz(H.prevProp,U);let A=I||j===f&&H.isActive&&!D&&ie||O>M&&ie,x=!1;const L=Array.isArray(U)?U:[U];let z=L.reduce(a(j),{});W===!1&&(z={});const{prevResolvedValues:G={}}=H,P={...G,...z},Oe=he=>{A=!0,E.has(he)&&(x=!0,E.delete(he)),H.needsAnimating[he]=!0;const pe=t.getValue(he);pe&&(pe.liveStyle=!1)};for(const he in P){const pe=z[he],Me=G[he];if(b.hasOwnProperty(he))continue;let k=!1;bv(pe)&&bv(Me)?k=!PD(pe,Me):k=pe!==Me,k?pe!=null?Oe(he):E.add(he):pe!==void 0&&E.has(he)?Oe(he):H.protectedKeys[he]=!0}H.prevProp=U,H.prevResolvedValues=z,H.isActive&&(b={...b,...z}),i&&t.blockInitialAnimation&&(A=!1);const We=D&&I;A&&(!We||x)&&_.push(...L.map(he=>{const pe={type:j};if(typeof he=="string"&&i&&!We&&t.manuallyAnimateOnMount&&t.parent){const{parent:Me}=t,k=kl(Me,he);if(Me.enteringChildren&&k){const{delayChildren:se}=k.transition||{};pe.delay=MD(Me.enteringChildren,t,se)}}return{animation:he,options:pe}}))}if(E.size){const O={};if(typeof p.initial!="boolean"){const j=kl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(O.transition=j.transition)}E.forEach(j=>{const H=t.getBaseTarget(j),U=t.getValue(j);U&&(U.liveStyle=!0),O[j]=H??null}),_.push({animation:O})}let F=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(F=!1),i=!1,F?e(_):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(f,p)),n[f].isActive=p;const y=u(f);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=NA()}}}function Yz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PD(e,t):!1}function oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NA(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}class Ca{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qz extends Ca{constructor(e){super(e),e.animationState||(e.animationState=$z(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Xz=0;class Zz extends Ca{constructor(){super(...arguments),this.id=Xz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Jz={animation:{Feature:Qz},exit:{Feature:Zz}};function Jc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function vh(t){return{point:{x:t.pageX,y:t.pageY}}}const eF=t=>e=>aE(e)&&t(e,vh(e));function Pc(t,e,n,i){return Jc(t,e,eF(n),i)}const OD=1e-4,tF=1-OD,nF=1+OD,VD=.01,iF=0-VD,rF=0+VD;function Gn(t){return t.max-t.min}function sF(t,e,n){return Math.abs(t-e)<=n}function OA(t,e,n,i=.5){t.origin=i,t.originPoint=Ot(e.min,e.max,t.origin),t.scale=Gn(n)/Gn(e),t.translate=Ot(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tF&&t.scale<=nF||isNaN(t.scale))&&(t.scale=1),(t.translate>=iF&&t.translate<=rF||isNaN(t.translate))&&(t.translate=0)}function Nc(t,e,n,i){OA(t.x,e.x,n.x,i?i.originX:void 0),OA(t.y,e.y,n.y,i?i.originY:void 0)}function VA(t,e,n){t.min=n.min+e.min,t.max=t.min+Gn(e)}function aF(t,e,n){VA(t.x,e.x,n.x),VA(t.y,e.y,n.y)}function LA(t,e,n){t.min=e.min-n.min,t.max=t.min+Gn(e)}function Xd(t,e,n){LA(t.x,e.x,n.x),LA(t.y,e.y,n.y)}function ki(t){return[t("x"),t("y")]}const LD=({current:t})=>t?t.ownerDocument.defaultView:null,kA=(t,e)=>Math.abs(t-e);function oF(t,e){const n=kA(t.x,e.x),i=kA(t.y,e.y);return Math.sqrt(n**2+i**2)}class kD{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=dy(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,M=oF(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!M)return;const{point:F}=E,{timestamp:O}=Sn;this.history.push({...F,timestamp:O});const{onStart:j,onMove:H}=this.handlers;b||(j&&j(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,E)},this.handlePointerMove=(E,b)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=fy(b,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(E,b)=>{this.end();const{onEnd:M,onSessionEnd:F,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=dy(E.type==="pointercancel"?this.lastMoveEventInfo:fy(b,this.transformPagePoint),this.history);this.startEvent&&M&&M(E,j),F&&F(E,j)},!aE(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=vh(e),f=fy(h,this.transformPagePoint),{point:p}=f,{timestamp:y}=Sn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,dy(f,this.history)),this.removeListeners=ph(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ea(this.updatePoint)}}function fy(t,e){return e?{point:e(t.point)}:t}function UA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dy({point:t},e){return{point:t,delta:UA(t,UD(e)),offset:UA(t,lF(e)),velocity:uF(e,.1)}}function lF(t){return t[0]}function UD(t){return t[t.length-1]}function uF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=UD(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>Nr(e)));)n--;if(!i)return{x:0,y:0};const l=zi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function cF(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ot(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ot(n,t,i.max):Math.min(t,n)),t}function jA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hF(t,{top:e,left:n,bottom:i,right:a}){return{x:jA(t.x,n,a),y:jA(t.y,e,i)}}function BA(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function fF(t,e){return{x:BA(t.x,e.x),y:BA(t.y,e.y)}}function dF(t,e){let n=.5;const i=Gn(t),a=Gn(e);return a>i?n=Yc(e.min,e.max-i,t.min):i>a&&(n=Yc(t.min,t.max-a,e.min)),_s(0,1,n)}function mF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cv=.35;function pF(t=Cv){return t===!1?t=0:t===!0&&(t=Cv),{x:zA(t,"left","right"),y:zA(t,"top","bottom")}}function zA(t,e,n){return{min:FA(t,e),max:FA(t,n)}}function FA(t,e){return typeof t=="number"?t:t[e]||0}const gF=new WeakMap;class yF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vh(_).point)},u=(_,E)=>{const{drag:b,dragPropagation:M,onDragStart:F}=this.getProps();if(b&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S5(b),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ki(j=>{let H=this.getAxisMotionValue(j).get()||0;if(Or.test(H)){const{projection:U}=this.visualElement;if(U&&U.layout){const ie=U.layout.layoutBox[j];ie&&(H=Gn(ie)*(parseFloat(H)/100))}}this.originPoint[j]=H}),F&&Dt.postRender(()=>F(_,E)),Av(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},h=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:b,dragDirectionLock:M,onDirectionLock:F,onDrag:O}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:j}=E;if(M&&this.currentDirection===null){this.currentDirection=vF(j),this.currentDirection!==null&&F&&F(this.currentDirection);return}this.updateAxis("x",E.point,j),this.updateAxis("y",E.point,j),this.visualElement.render(),O&&O(_,E)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ki(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new kD(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:LD(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Dt.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!$f(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=cF(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Cl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=hF(i.layoutBox,e):this.constraints=!1,this.elastic=pF(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ki(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=mF(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=_z(i,a.root,this.visualElement.getTransformPagePoint());let u=fF(a.layout.layoutBox,l);if(n){const h=n(gz(u));this.hasMutatedConstraints=!!h,h&&(u=TD(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=ki(y=>{if(!$f(y,n,this.currentDirection))return;let _=f&&f[y]||{};u&&(_={min:0,max:0});const E=a?200:1e6,b=a?40:1e7,M={type:"inertia",velocity:i?e[y]:0,bounceStiffness:E,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,M)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Av(this.visualElement,e),i.start(gE(e,i,0,n,this.visualElement,!1))}stopAnimation(){ki(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ki(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ki(n=>{const{drag:i}=this.getProps();if(!$f(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-Ot(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Cl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ki(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=dF({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ki(u=>{if(!$f(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(Ot(f,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;gF.set(this.visualElement,this);const e=this.visualElement.current,n=Pc(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Cl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Dt.read(i);const u=Jc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(ki(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Cv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function $f(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _F extends Ca{constructor(e){super(e),this.removeGroupControls=Hi,this.removeListeners=Hi,this.controls=new yF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hi}unmount(){this.removeGroupControls(),this.removeListeners()}}const HA=t=>(e,n)=>{t&&Dt.postRender(()=>t(e,n))};class EF extends Ca{constructor(){super(...arguments),this.removePointerDownListener=Hi}onPointerDown(e){this.session=new kD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:HA(e),onStart:HA(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let my=!1;class TF extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),my&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,my=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;my=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jD(t){const[e,n]=oD(),i=N.useContext(U_);return R.jsx(TF,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(_D),isPresent:e,safeToRemove:n})}function wF(t,e,n){const i=Vn(t)?t:Kl(t);return i.start(gE("",i,e,n)),i.animation}const SF=(t,e)=>t.depth-e.depth;class bF{constructor(){this.children=[],this.isDirty=!1}add(e){z_(this.children,e),this.isDirty=!0}remove(e){F_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(SF),this.isDirty=!1,this.children.forEach(e)}}function AF(t,e){const n=ei.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Ea(i),t(l-e))};return Dt.setup(i,!0),()=>Ea(i)}const BD=["TopLeft","TopRight","BottomLeft","BottomRight"],RF=BD.length,qA=t=>typeof t=="string"?parseFloat(t):t,GA=t=>typeof t=="number"||Ue.test(t);function CF(t,e,n,i,a,l){a?(t.opacity=Ot(0,n.opacity??1,IF(i)),t.opacityExit=Ot(e.opacity??1,0,xF(i))):l&&(t.opacity=Ot(e.opacity??1,n.opacity??1,i));for(let u=0;u<RF;u++){const h=`border${BD[u]}Radius`;let f=KA(e,h),p=KA(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||GA(f)===GA(p)?(t[h]=Math.max(Ot(qA(f),qA(p),i),0),(Or.test(p)||Or.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Ot(e.rotate||0,n.rotate||0,i))}function KA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IF=zD(0,.5,Rx),xF=zD(.5,.95,Hi);function zD(t,e,n){return i=>i<t?0:i>e?1:n(Yc(t,e,i))}function WA(t,e){t.min=e.min,t.max=e.max}function or(t,e){WA(t.x,e.x),WA(t.y,e.y)}function $A(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YA(t,e,n,i,a){return t-=e,t=Qd(t,1/n,i),a!==void 0&&(t=Qd(t,1/a,i)),t}function DF(t,e=0,n=1,i=.5,a,l=t,u=t){if(Or.test(e)&&(e=parseFloat(e),e=Ot(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ot(l.min,l.max,i);t===l&&(h-=e),t.min=YA(t.min,e,n,h,a),t.max=YA(t.max,e,n,h,a)}function QA(t,e,[n,i,a],l,u){DF(t,e[n],e[i],e[a],e.scale,l,u)}const MF=["x","scaleX","originX"],PF=["y","scaleY","originY"];function XA(t,e,n,i){QA(t.x,e,MF,n?n.x:void 0,i?i.x:void 0),QA(t.y,e,PF,n?n.y:void 0,i?i.y:void 0)}function ZA(t){return t.translate===0&&t.scale===1}function FD(t){return ZA(t.x)&&ZA(t.y)}function JA(t,e){return t.min===e.min&&t.max===e.max}function NF(t,e){return JA(t.x,e.x)&&JA(t.y,e.y)}function eR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HD(t,e){return eR(t.x,e.x)&&eR(t.y,e.y)}function tR(t){return Gn(t.x)/Gn(t.y)}function nR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class OF{constructor(){this.members=[]}add(e){z_(this.members,e),e.scheduleRender()}remove(e){if(F_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VF(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:b,skewY:M}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),E&&(i+=`rotateY(${E}deg) `),b&&(i+=`skewX(${b}deg) `),M&&(i+=`skewY(${M}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const py=["","X","Y","Z"],LF=1e3;let kF=0;function gy(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function qD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Dt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&qD(i)}function GD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=kF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BF),this.nodes.forEach(qF),this.nodes.forEach(GF),this.nodes.forEach(zF)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new bF)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new G_),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=aD(u)&&!x5(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;Dt.read(()=>{_=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==_&&(_=b,this.root.updateBlockedByResize=!0,y&&y(),y=AF(E,250),dd.hasAnimatedSinceResize&&(dd.hasAnimatedSinceResize=!1,this.nodes.forEach(sR)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||QF,{onLayoutAnimationStart:F,onLayoutAnimationComplete:O}=p.getProps(),j=!this.targetLayout||!HD(this.targetLayout,b),H=!_&&E;if(this.options.layoutRoot||this.resumeFrom||H||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const U={...iE(M,"layout"),onPlay:F,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U),this.setAnimationOrigin(y,H)}else _||sR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ea(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KF),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HF),this.nodes.forEach(UF),this.nodes.forEach(jF)):this.nodes.forEach(rR),this.clearAllSnapshots();const h=ei.now();Sn.delta=_s(0,1e3/60,h-Sn.timestamp),Sn.timestamp=h,Sn.isProcessing=!0,ry.update.process(Sn),ry.preRender.process(Sn),ry.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FF),this.sharedNodes.forEach(WF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gn(this.snapshot.measuredBox.x)&&!Gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!FD(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||fo(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),XF(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return on();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ZF))){const{scroll:p}=this.root;p&&(Il(h.x,p.offset.x),Il(h.y,p.offset.y))}return h}removeElementScroll(u){const h=on();if(or(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&or(h,u),Il(h.x,y.offset.x),Il(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const f=on();or(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&xl(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),fo(y.latestValues)&&xl(f,y.latestValues)}return fo(this.latestValues)&&xl(f,this.latestValues),f}removeTransform(u){const h=on();or(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!fo(p.latestValues))continue;Tv(p.latestValues)&&p.updateSnapshot();const y=on(),_=p.measurePageBox();or(y,_),XA(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return fo(this.latestValues)&&XA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=Sn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):or(this.target,this.layout.layoutBox),SD(this.target,this.targetDelta)):or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Tv(this.parent.latestValues)||wD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),Xd(this.relativeTargetOrigin,h,f),or(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;or(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;vz(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=on());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($A(this.prevProjectionDelta.x,this.projectionDelta.x),$A(this.prevProjectionDelta.y,this.projectionDelta.y)),Nc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!nR(this.projectionDelta.x,this.prevProjectionDelta.x)||!nR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Dl(),this.projectionDelta=Dl(),this.projectionDeltaWithTransform=Dl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=Dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=on(),b=f?f.source:void 0,M=this.layout?this.layout.source:void 0,F=b!==M,O=this.getStack(),j=!O||O.members.length<=1,H=!!(F&&!j&&this.options.crossfade===!0&&!this.path.some(YF));this.animationProgress=0;let U;this.mixTargetDelta=ie=>{const W=ie/1e3;aR(_.x,u.x,W),aR(_.y,u.y,W),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xd(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$F(this.relativeTarget,this.relativeTargetOrigin,E,W),U&&NF(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=on()),or(U,this.relativeTarget)),F&&(this.animationValues=y,CF(y,p,this.latestValues,W,H,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ea(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kl(0)),this.currentAnimation=wF(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&KD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||on();const _=Gn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=Gn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}or(h,f),xl(h,y),Nc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new OF),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&gy("z",u,p,this.animationValues);for(let y=0;y<py.length;y++)gy(`rotate${py[y]}`,u,p,this.animationValues),gy(`skew${py[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=fd(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=fd(h?.pointerEvents)||""),this.hasProjected&&!fo(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=VF(this.projectionDeltaWithTransform,this.treeScale,y);f&&(_=f(y,_)),u.transform=_;const{x:E,y:b}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in Ev){if(y[M]===void 0)continue;const{correct:F,applyTo:O,isCSSVariable:j}=Ev[M],H=_==="none"?y[M]:F(y[M],p);if(O){const U=O.length;for(let ie=0;ie<U;ie++)u[O[ie]]=H}else j?this.options.visualElement.renderState.vars[M]=H:u[M]=H}this.options.layoutId&&(u.pointerEvents=p===this?fd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(iR),this.root.sharedNodes.clear()}}}function UF(t){t.updateLayout()}function jF(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ki(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],E=Gn(_);_.min=n[y].min,_.max=_.min+E}):KD(a,e.layoutBox,n)&&ki(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],E=Gn(n[y]);_.max=_.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=Dl();Nc(u,n,e.layoutBox);const h=Dl();l?Nc(h,t.applyTransform(i,!0),e.measuredBox):Nc(h,n,e.layoutBox);const f=!FD(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:E}=y;if(_&&E){const b=on();Xd(b,e.layoutBox,_.layoutBox);const M=on();Xd(M,n,E.layoutBox),HD(b,M)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=b,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function BF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FF(t){t.clearSnapshot()}function iR(t){t.clearMeasurements()}function rR(t){t.isLayoutDirty=!1}function HF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qF(t){t.resolveTargetDelta()}function GF(t){t.calcProjection()}function KF(t){t.resetSkewAndRotation()}function WF(t){t.removeLeadSnapshot()}function aR(t,e,n){t.translate=Ot(e.translate,0,n),t.scale=Ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oR(t,e,n,i){t.min=Ot(e.min,n.min,i),t.max=Ot(e.max,n.max,i)}function $F(t,e,n,i){oR(t.x,e.x,n.x,i),oR(t.y,e.y,n.y,i)}function YF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const QF={duration:.45,ease:[.4,0,.1,1]},lR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uR=lR("applewebkit/")&&!lR("chrome/")?Math.round:Hi;function cR(t){t.min=uR(t.min),t.max=uR(t.max)}function XF(t){cR(t.x),cR(t.y)}function KD(t,e,n){return t==="position"||t==="preserve-aspect"&&!sF(tR(e),tR(n),.2)}function ZF(t){return t!==t.root&&t.scroll?.wasRoot}const JF=GD({attachResizeListener:(t,e)=>Jc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yy={current:void 0},WD=GD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yy.current){const t=new JF({});t.mount(window),t.setOptions({layoutScroll:!0}),yy.current=t}return yy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e7={pan:{Feature:EF},drag:{Feature:_F,ProjectionNode:WD,MeasureLayout:jD}};function hR(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Dt.postRender(()=>l(e,vh(e)))}class t7 extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=b5(e,(n,i)=>(hR(this.node,i,"Start"),a=>hR(this.node,a,"End"))))}unmount(){}}class n7 extends Ca{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ph(Jc(this.node.current,"focus",()=>this.onFocus()),Jc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fR(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Dt.postRender(()=>l(e,vh(e)))}class i7 extends Ca{mount(){const{current:e}=this.node;e&&(this.unmount=I5(e,(n,i)=>(fR(this.node,i,"Start"),(a,{success:l})=>fR(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Iv=new WeakMap,vy=new WeakMap,r7=t=>{const e=Iv.get(t.target);e&&e(t)},s7=t=>{t.forEach(r7)};function a7({root:t,...e}){const n=t||document;vy.has(n)||vy.set(n,{});const i=vy.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(s7,{root:t,...e})),i[a]}function o7(t,e,n){const i=a7(e);return Iv.set(t,n),i.observe(t),()=>{Iv.delete(t),i.unobserve(t)}}const l7={some:0,all:1};class u7 extends Ca{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:l7[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(f)};return o7(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(c7(e,n))&&this.startObserver()}unmount(){}}function c7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const h7={inView:{Feature:u7},tap:{Feature:i7},focus:{Feature:n7},hover:{Feature:t7}},f7={layout:{ProjectionNode:WD,MeasureLayout:jD}},d7={...Jz,...h7,...e7,...f7},Zd=pz(d7,Iz);function Rn({children:t,...e}){return R.jsx(R.Fragment,{children:R.jsx("button",{...e,children:t})})}const m7="_curWatchingWrapper_qlfa3_1",p7="_watchingList_qlfa3_19",dR={curWatchingWrapper:m7,watchingList:p7};function g7(){const t=tt(e=>e.shows.currentlyBinging);return console.log(t),R.jsx(R.Fragment,{children:R.jsxs("main",{className:dR.curWatchingWrapper,children:[R.jsx("h2",{children:"Currently Binging:"}),R.jsx("div",{className:dR.watchingList,children:t.map(e=>R.jsx("p",{children:e.show},e.id))})]})})}const y7=N.createContext({userAccount:{id:void 0,email:void 0,userName:void 0,password:void 0,myShows:[],friendList:[]},bingeFeed:[{userName:void 0,currBinge:[],recentlyWatchedEp:{epName:void 0,showName:void 0},recentlyFinishedShow:void 0}],addFriend:()=>{},isCreatingAccount:!1,createNewUser:async()=>{},startCreatingAccount:()=>{},stopCreatingAccount:()=>{},isLoggingIn:!1,isLoggedIn:!1,startLoggingIn:()=>{},stopLoggingIn:()=>{},verifyLogin:()=>{},logOut:()=>{}});N.createContext({bio:[],editingBio:[!1],updateBio:()=>{},editBio:()=>{},saveBio:()=>{},bioAvatar:[],uploadAvatar:()=>{},myShows:[],saveShow:()=>{},displayShows:()=>{},currentlyBinging:[],binging:()=>{},bingingChecked:[],areNotesOpen:[],openNotes:()=>{},isEditingEpNotes:[],editEpNotes:()=>{},updateEpNotes:()=>{},saveNotes:()=>{},epNotes:[],isEditingCharNotes:[],editCharNotes:()=>{},updateCharNotes:()=>{},saveCharNotes:()=>{},characterNotes:[]});function v7(){const t=ni();function e(a){t(Lc.updateBio(a))}function n(){t(Lc.saveBio())}const i=tt(a=>a.profile.bio);return R.jsxs(R.Fragment,{children:[R.jsx("label",{children:"Upload Avatar"}),R.jsx("input",{type:"file",accept:"image/*"}),R.jsxs("div",{children:[R.jsx("textarea",{value:i,onChange:a=>e(a.target.value)}),R.jsx(Rn,{onClick:n,children:"Save Bio"})]})]})}const _7="_mainWrapper_cfe5a_1",E7="_header_cfe5a_15",T7="_editBttn_cfe5a_27",w7="_totalBinge_cfe5a_37",S7="_bioBox_cfe5a_57",b7="_avatar_cfe5a_81",lo={mainWrapper:_7,header:E7,editBttn:T7,totalBinge:w7,bioBox:S7,avatar:b7};function A7({id:t}){const e=ni();function n(){e(Lc.editBio())}const i=tt(f=>f.profile.bio),a=tt(f=>f.auth.user.userName);tt(f=>f.auth.user.id);const l=tt(f=>f.profile.isEditingBio),u=tt(f=>f.shows.currentlyBinging),h=tt(f=>f.shows.finishedShows);return R.jsx(R.Fragment,{children:R.jsxs("main",{className:lo.mainWrapper,children:[R.jsxs("div",{className:lo.header,children:[R.jsx(Rn,{className:lo.editBttn,onClick:n,children:"Edit Bio"}),R.jsx(Rn,{className:lo.editBttn,children:" Add Friend"}),R.jsx("img",{className:lo.avatar,src:"/Bingelog/DefaultAvatar.png",width:"75",height:"75"}),R.jsx("h3",{children:a}),R.jsx("h3",{children:"Binging since: 2025"}),R.jsx(as,{to:"/friendsList",children:R.jsx("h2",{children:"Friends List"})}),l?R.jsx(v7,{}):R.jsx("div",{className:lo.bioBox,children:i}),R.jsxs("div",{className:lo.totalBinge,children:[R.jsxs("h4",{children:["Shows Finished: ",h.length," "]}),R.jsxs("h4",{children:["Currently Binging: ",u.length," shows"]})]})]}),R.jsx("a",{href:"http://localhost:5173/userPage/${userId}",to:"_blank",children:R.jsx("h4",{children:"Share Profile Link"})})]})})}const R7="_mainWrapper_9mvwk_1",C7="_menuBttns_9mvwk_19",I7="_mainContent_9mvwk_41",_y={mainWrapper:R7,menuBttns:C7,mainContent:I7},x7="_inputWrapper_15cja_1",D7={inputWrapper:x7};function Ul({label:t,id:e,attribute:n,...i}){return R.jsx(R.Fragment,{children:R.jsxs("div",{className:D7.inputWrapper,children:[R.jsx("label",{htmlFor:n,children:t}),R.jsx("input",{id:e,...i})]})})}const M7="_showNotesWrapper_easm0_1",P7="_saveNotesBttn_easm0_47",N7="_noteBttnsDiv_easm0_63",O7="_editBttn_easm0_77",V7="_viewNotesBttn_easm0_91",L7="_closeNotesBttn_easm0_107",k7="_showNotes_easm0_1",uo={showNotesWrapper:M7,saveNotesBttn:P7,noteBttnsDiv:N7,editBttn:O7,viewNotesBttn:V7,closeNotesBttn:L7,showNotes:k7};function U7({epTitle:t,showTitle:e}){const n=ni(),i=tt(D=>D.notes.epNotes),a=tt(D=>D.notes.charNotes),l=tt(D=>D.auth.user.uid),u=tt(D=>D.shows.watchedEps),[h,f]=N.useState({}),[p,y]=N.useState({}),[_,E]=N.useState(),[b,M]=N.useState();function F(D){E(D)}function O(D,I){f(A=>({...A,[I]:D}))}function j(D,I){y(A=>({...A,[I]:D}))}async function H(D,I){const A=u.some(L=>L.epName===D&&L.showName===I);let x=null;A?x=u.filter(L=>!(L.epName===D&&L.showName===I)):(x=[...u,{epName:D,showName:I}],alert(`Watched ${D}!`));try{const L=Ir(Si,"Users",l);await ca(L,{watchedEps:x}),n(Qt.updateWatchedEps(x))}catch(L){console.error(L)}}async function U(D){const I={...i,[D]:h[D]??i[D]},A={...a,[D]:p[D]??a[D]};try{const x=Ir(Si,"Users",l);await ca(x,{epNotes:I||"",charNotes:A||""}),n(_d.updateEpNotes(I)),n(_d.updateCharNotes(A))}catch(x){console.error(x)}E()}function ie(D){M(D)}function W(){M()}return N.useEffect(()=>{const D=JSON.parse(localStorage.getItem("EpNotes: "+t));D&&O(D,t)},[t]),R.jsxs("main",{className:uo.showNotesWrapper,children:[R.jsxs("div",{className:uo.noteBttnsDiv,children:[_===t?R.jsx(Rn,{className:uo.saveNotesBttn,onClick:()=>U(t),children:"Save Notes"}):R.jsx(Rn,{className:uo.editBttn,onClick:()=>F(t),children:"Edit Notes"}),_!==t&&b===t?R.jsx(Rn,{className:uo.closeNotesBttn,onClick:()=>W(),children:"Close Notes"}):R.jsx(Rn,{className:uo.viewNotesBttn,onClick:()=>ie(t),children:"View Notes"}),R.jsx(Ul,{label:"Watched",type:"checkbox",value:t,checked:u.some(D=>D.epName===t&&D.showName===e),onChange:()=>H(t,e)})]}),_===t&&R.jsxs("div",{children:[R.jsx("p",{children:"Episode Notes"}),R.jsx("textarea",{value:h[t]??i[t],onChange:D=>O(D.target.value,t)}),R.jsx("p",{children:"Character Notes"}),R.jsx("textarea",{value:p[t]??a[t],onChange:D=>j(D.target.value,t)})]}),b===t&&R.jsxs("div",{className:uo.showNotes,children:[R.jsx("p",{children:"Episode Notes "}),i[t],R.jsx("hr",{}),R.jsx("p",{children:"CharacterNotes"}),a[t]]})]})}const j7="_epWrapper_9zql4_1",B7="_epList_9zql4_63",z7="_singleEp_9zql4_87",Yf={epWrapper:j7,epList:B7,singleEp:z7};function F7({seasonTitle:t,show:e}){const n=e.seasons.find(i=>i.title===t);return R.jsxs("main",{className:Yf.epWrapper,children:[R.jsx("div",{children:R.jsx("p",{className:Yf.epList,children:"Episodes List"})}),n&&R.jsx("div",{children:n.episodes?.map(i=>R.jsxs("div",{className:Yf.singleEp,id:i.title,children:[R.jsxs("header",{children:[R.jsx("h3",{children:i.title}),R.jsx("div",{className:Yf.noteBttnsDiv,children:R.jsx(U7,{show:e,epTitle:i.title,showTitle:e.title})})]}),R.jsx("br",{})]},i.title))},n.title)]})}const H7="_seasonsWrapper_u2jy9_1",q7="_seasonsTitle_u2jy9_15",mR={seasonsWrapper:H7,seasonsTitle:q7};function G7({show:t}){const[e,n]=N.useState("");function i(a){n(a),e===a&&n("")}return R.jsxs(Zd.main,{className:mR.seasonsWrapper,children:[R.jsx("p",{className:mR.seasonsTitle,children:"Seasons List"}),t&&R.jsxs("div",{children:[t.seasons?.map(a=>R.jsx("p",{onClick:()=>i(a.title),children:a.title},a.title)),R.jsx($d,{children:e&&R.jsx(Zd.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:R.jsx(F7,{seasonTitle:e,show:t})},t.id)})]},t.id)]})}const K7="_showWrapper_glu6g_1",W7="_showTitle_glu6g_19",$7="_showStatus_glu6g_47",Ey={showWrapper:K7,showTitle:W7,showStatus:$7},Y7="_reviewDivWrapper_5tcso_1",Q7={reviewDivWrapper:Y7};function X7({showId:t,showTitle:e}){const[n,i]=N.useState(""),a=ni(),l=tt(y=>y.shows.reviews),u=tt(y=>y.auth.user.uid),h=Ir(Si,"Users",u);function f(y){i(y)}async function p(){const y=n?.trim()??"",_={showId:t,title:e,text:y,createdAt:Date.now()},b=[...(Array.isArray(l)?l:[]).filter(M=>M.showID!==t),_];await ca(h,{reviews:b}),a(Qt.updateReviews(b)),alert("Review Saved!")}return R.jsxs("div",{className:Q7.reviewDivWrapper,children:[R.jsx("textarea",{value:n,onChange:y=>f(y.target.value)}),R.jsx("button",{onClick:()=>p(),children:"Save Review"})]})}function pR({id:t}){const e=ni(),[n,i]=N.useState(""),a=tt(H=>H.shows.myShows),l=tt(H=>H.shows.currentlyBinging),u=tt(H=>H.shows.finishedShows),h=tt(H=>H.auth.user.uid),f=tt(H=>H.shows.isReviewing),p=tt(H=>H.shows.reviewingShowId);function y(H){i(H),n===H&&i("")}async function _(H,U){const ie=a.map(I=>I.id===U?{...I,isFinished:!I.isFinished}:I),W=u.some(I=>I.id===U);let D;W?D=u.filter(I=>I.id!==U):(D=[...u,{show:H,id:U}],alert(`Finished ${H}!`));try{const I=Ir(Si,"Users",h);await ca(I,{finishedShows:D,myShows:ie}),e(Qt.updateFinishedShows(D)),e(Qt.updateMyShows(ie))}catch(I){console.log(I)}}async function E(H,U){const ie=a.map(I=>I.id===U?{...I,isBinging:!I.isBinging}:I),W=l.some(I=>I.id===U);let D;W?D=l.filter(I=>I.id!==U):D=[...l,{show:H,id:U}];try{const I=Ir(Si,"Users",h);await ca(I,{currentlyBinging:D,myShows:ie}),e(Qt.updateBinging(D)),e(Qt.updateMyShows(ie))}catch(I){console.error(I)}}async function b(H){const U=a.filter(D=>D.id!==H),ie=l.filter(D=>D.id!==H),W=u.filter(D=>D.id!==H);try{const D=Ir(Si,"Users",h);await ca(D,{myShows:U,currentlyBinging:ie,finishedShows:W}),e(Qt.updateMyShows(U)),e(Qt.updateBinging(ie)),e(Qt.updateFinishedShows(W))}catch(D){console.error(D)}console.log(U),console.log(ie),console.log(W)}function M(H){e(Qt.reviewingShow(H)),e(Qt.toggleReviewing())}function F(H){const U=[...H].sort((ie,W)=>ie.title.localeCompare(W.title));e(Qt.updateMyShows(U))}function O(H){const U=[...H].sort((ie,W)=>W.isBinging-ie.isBinging);e(Qt.updateMyShows(U))}function j(H){const U=[...H].sort((ie,W)=>W.isFinished-ie.isFinished);e(Qt.updateMyShows(U))}return R.jsxs("main",{...t,className:Ey.showWrapper,children:[R.jsxs("div",{children:[R.jsx("h2",{children:"Show Sorting Options"}),R.jsx("button",{onClick:()=>F(a),children:"Sort by show name"})," ---",R.jsx("button",{onClick:()=>O(a),children:"Sort by binge status"})," ---",R.jsx("button",{onClick:()=>j(a),children:"Sort by finished status"})]}),R.jsx($d,{children:a.map(H=>R.jsxs("div",{className:Ey.showTitle,children:[R.jsx("p",{onClick:()=>y(H.id),children:H.title}),R.jsxs("div",{className:Ey.showStatus,children:[R.jsx("button",{onClick:()=>M(H.id),children:"Add Review"})," ",R.jsx("br",{}),R.jsx("button",{onClick:()=>b(H.id),children:"Remove Show"})," ",R.jsx("br",{}),R.jsxs("label",{children:[" Finished",R.jsx("input",{type:"checkbox",value:H.id,checked:u.some(U=>U.id===H.id),onChange:()=>_(H.title,H.id)})]})," ||",R.jsxs("label",{children:[" Currently Binging",R.jsx("input",{type:"checkbox",value:H.id,checked:l.some(U=>U.id===H.id),onChange:()=>E(H.title,H.id)})]})]}),f&&p===H.id&&R.jsx(X7,{showId:H.id,showTitle:H.title}),R.jsx($d,{children:n===H.id&&R.jsx(Zd.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:R.jsx(G7,{show:H,animate:{y:3}})})})]},H.id))})]})}const Z7="_reviewsWrapperDiv_69dcg_1",J7="_showTitle_69dcg_11",e8="_showReview_69dcg_19",Ty={reviewsWrapperDiv:Z7,showTitle:J7,showReview:e8};function t8(){ni();const t=tt(e=>e.shows.reviews);return R.jsx(R.Fragment,{children:R.jsxs("main",{className:Ty.reviewsWrapperDiv,children:[R.jsx("h1",{children:"Reviews"}),t.map(e=>R.jsxs("div",{children:[R.jsx("h1",{className:Ty.showTitle,children:e.title}),R.jsx("div",{className:Ty.showReview,children:e.text})]}))]})})}function n8(){const[t,e]=N.useState(R.jsx(pR,{})),i=l1().id;if(!tt(f=>f.auth.isLoggedIn))return R.jsx(gV,{to:"/",replace:!0});function l(){e(R.jsx(pR,{userId:i}))}function u(){e(R.jsx(t8,{userId:i}))}function h(){e(R.jsx(g7,{userId:i}))}return R.jsx(R.Fragment,{children:R.jsxs("main",{className:_y.mainWrapper,id:i,children:[R.jsx(A7,{id:i}),R.jsxs("div",{className:_y.menuBttns,children:[R.jsx(Rn,{onClick:l,children:"My Shows"})," |",R.jsx(Rn,{onClick:u,children:"My Reviews"})," |",R.jsx(Rn,{onClick:h,children:"Currently Watching"})]}),R.jsx($d,{mode:"wait",children:R.jsx(Zd.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{duration:.3,ease:"easeOut"},className:_y.mainContent,children:t})})]})})}const i8="_showWrapper_134r0_1",r8="_showInfo_134r0_49",s8="_showDetails_134r0_67",a8="_genres_134r0_87",o8="_seasonInfo_134r0_99",dc={showWrapper:i8,showInfo:r8,showDetails:s8,genres:a8,seasonInfo:o8};function l8({showDetails:t}){console.log(t);const e=ni(),n=tt(u=>u.shows.myShows),i=tt(u=>u.auth.user.uid);async function a(u){if(n.some(_=>_.id===u.imdbId)){alert("Show is already added in your list!");return}const f={id:u.imdbId,title:u.title,seasons:u.seasons?.map(_=>({title:_.title,episodes:_.episodes?.map(E=>({title:E.title,isWatched:!1}))})),isBinging:!1,isFinished:!1},p=[...n,f];if(!i){console.error("No user logged in!");return}const y=Ir(Si,"Users",i);await ca(y,{myShows:p}),e(Qt.updateMyShows(p)),alert(`${u.title} has been added to your list!`)}function l(u){a(u)}return console.log(t),R.jsx("main",{className:dc.showWrapper,children:t&&R.jsxs("div",{className:dc.showInfo,children:[R.jsxs("header",{children:[R.jsx("h2",{children:t.title}),R.jsx(Rn,{onClick:()=>l(t),children:"Save Show"})]}),R.jsxs("div",{className:dc.showDetails,children:[R.jsxs("div",{className:dc.genres,children:[R.jsx("p",{children:t.genres[0].name}),"|",R.jsx("p",{children:t?.genres[1]?.name}),"|",R.jsx("p",{children:t?.genres[2]?.name})]}),R.jsxs("div",{className:dc.seasonInfo,children:[R.jsxs("p",{children:[t?.seasonCount," Seasons"]})," -",R.jsxs("p",{children:[t.episodeCount," Episodes"]})]}),R.jsx("div",{children:R.jsx("a",{href:t.streamingOptions.us?.[0].link,target:"_blank",children:R.jsx("img",{src:t.streamingOptions.us?.[0].service.imageSet.darkThemeImage})})})]}),R.jsx("p",{children:t.overview}),R.jsx("img",{src:t.imageSet.verticalPoster.w240})]},t.imdbId)})}const u8="_mainDropdownWrapper_ryo2c_1",c8={mainDropdownWrapper:u8};function h8({searchResults:t,query:e}){const[n,i]=N.useState(null);function a(l){i(l)}return console.log(t),R.jsxs(R.Fragment,{children:[R.jsx("div",{className:c8.mainDropdownWrapper,children:R.jsx("div",{children:t.filter(l=>l.title.toLowerCase().includes(e.toLowerCase())).map(l=>R.jsx("p",{onClick:()=>a(l),children:l.title},l.imdbId))})}),R.jsx("div",{children:n&&R.jsx(l8,{showDetails:n})})]})}const f8="_mainWrapper_vwg4t_1",d8={mainWrapper:f8};function m8(){const[t,e]=N.useState(""),[n,i]=N.useState(null);return N.useEffect(()=>{if(!t)return;const a=setTimeout(()=>{async function l(u){try{const h=`https://streaming-availability.p.rapidapi.com/shows/search/title?title=${u}&country=us&series_granularity=episode&output_language=en`,y=await(await fetch(h,{method:"GET",headers:{"x-rapidapi-key":"a89fb87d38msh09f056f5c014528p1a7f90jsn35606eacd94f","x-rapidapi-host":"streaming-availability.p.rapidapi.com"}})).json();i(y),console.log(y)}catch(h){console.error(h)}}l(t)},500);return()=>clearTimeout(a)},[t]),R.jsxs("div",{className:d8.mainWrapper,children:[R.jsx("input",{type:"search",placeholder:"Seach a show",value:t,onChange:a=>e(a.target.value)}),n&&R.jsx(h8,{searchResults:n,query:t})]})}const p8="_mainWrapper_1yzt3_1",g8={mainWrapper:p8};function y8(){return R.jsx(R.Fragment,{children:R.jsx("main",{className:g8.mainWrapper,children:R.jsxs("header",{children:[R.jsx("h1",{children:"Shows List Page"}),R.jsx(m8,{})]})})})}const v8="_actionBarWrapper_4hbr0_1",_8="_actionBarIconRow_4hbr0_17",gR={actionBarWrapper:v8,actionBarIconRow:_8},E8="_commentBoxWrapper_109pc_1",T8={commentBoxWrapper:E8};function xv(){function t(){}return R.jsxs("main",{children:[R.jsx("div",{className:T8.commentBoxWrapper,children:R.jsx("textarea",{})}),R.jsx("button",{onClick:t,children:"Post"})]})}const w8="_commentChatChainWrapper_138ms_1",S8="_commentChatChain_138ms_1",yR={commentChatChainWrapper:w8,commentChatChain:S8};function b8(){const[t,e]=N.useState(!1);function n(){e(!0)}return R.jsxs("main",{className:yR.commentChatChainWrapper,children:[R.jsx("h3",{children:"COMMENT CHAT CHAINS"}),R.jsxs("div",{className:yR.commentChatChain,children:[R.jsx("textarea",{defaultValue:"User B Comment"}),R.jsx("button",{onClick:n,children:"Reply (user a to b)"}),t&&R.jsx(xv,{}),R.jsx("textarea",{defaultValue:"User A Reply"}),R.jsx("button",{onClick:n,children:"Reply (user b to a)"}),t&&R.jsx(xv,{})]})]})}function A8(){const[t,e]=N.useState(!1),[n,i]=N.useState(null),[a,l]=N.useState(!1);function u(){e(!0),t&&e(!1)}function h(){l(!0),a&&l(!1)}function f(){i(n+1)}return R.jsxs("main",{className:gR.actionBarWrapper,children:[R.jsxs("div",{className:gR.actionBarIconRow,children:[R.jsx("img",{width:"30x",onClick:u,src:"/BingeLog/LeaveComment.png"}),R.jsx("img",{width:"30x",onClick:f,src:"/BingeLog/HeartReact.png"}),n,R.jsx("img",{width:"30x",onClick:h,src:"/BingeLog/CommentChats.png"})]}),R.jsxs("div",{children:[t&&R.jsx(xv,{}),a&&R.jsx(b8,{})]})]})}const R8="_mainStatusWrapper_xg5if_1",C8="_feedHeader_xg5if_19",I8="_feedContent_xg5if_55",wy={mainStatusWrapper:R8,feedHeader:C8,feedContent:I8};function $D({friend:t,key:e}){return R.jsxs("main",{className:wy.mainStatusWrapper,children:[R.jsxs("article",{children:[R.jsxs("header",{className:wy.feedHeader,children:[R.jsx("img",{src:"/BingeLog/DefaultAvatar.png"}),R.jsx("p",{children:t?.userName})]}),R.jsxs("div",{className:wy.feedContent,children:[R.jsxs("p",{children:["Currently Binging: ","",t.currentlyBinging?.length>0?t.currentlyBinging.map(n=>n.show).join(", "):`${t.userName} is not currently binging anything`]})," ",R.jsx("br",{}),R.jsxs("p",{children:["Recently Watched: ","",t.watchedEps?.length>0?`${t.watchedEps[t.watchedEps.length-1].epName} -
                      ${t.watchedEps[t.watchedEps.length-1].showName}`:`${t.userName} has not recently watched anything`]}),R.jsx("br",{}),R.jsxs("p",{children:["Recently Finished: ","",t.finishedShows?.length>0?t.finishedShows[t.finishedShows.length-1].show:`${t.userName} has not recently finshed anything`]})]})]}),R.jsx(A8,{})]},e)}const x8="_sortingDiv_igypd_17",vR={sortingDiv:x8};function D8({globalUsers:t}){const e=tt(n=>n.friends.friendsList);return console.log(t),console.log(e),R.jsxs("main",{className:vR.mainAutoFeedWrappe,children:[R.jsx("h1",{children:"BingeLog Feed - Auto Updates "}),R.jsxs("div",{className:vR.sortingDiv,children:[R.jsx("p",{children:"Sort by username"}),R.jsx("p",{children:"Sort by most recently updated"})]}),e?.map(n=>{const i=t.find(a=>a.id===n);return i?R.jsx($D,{friend:i},i.id):null})]})}const M8="_mainManualFeedWrapper_r64it_1",P8="_sortingDiv_r64it_17",_R={mainManualFeedWrapper:M8,sortingDiv:P8};function N8({globalUsers:t}){const e=tt(n=>n.friends.friendsList);return R.jsxs("main",{className:_R.mainManualFeedWrapper,children:[R.jsx("h1",{children:"BingeLog Feed - Manual Updates"}),R.jsxs("div",{className:_R.sortingDiv,children:[R.jsx("p",{children:"Sort by username"}),R.jsx("p",{children:"Sort by most recently updated"})]}),e?.map(n=>{const i=t.find(a=>a.id===n);return i?R.jsx($D,{friend:i},i.id):null})]})}const O8="_mainFeedPageWrapper_bm8ym_1",V8={mainFeedPageWrapper:O8};function L8(){const[t,e]=N.useState([]),[n,i]=N.useState("auto");function a(){i("manual")}function l(){i("auto")}return N.useEffect(()=>{async function u(){try{const f=(await C_(T_(Si,"Users"))).docs.map(p=>({id:p.id,...p.data()}));e(f)}catch(h){console.error("Can't find global users",h)}}u()},[]),console.log(t),R.jsxs("main",{className:V8.mainFeedPageWrapper,children:[R.jsxs("div",{children:[R.jsx("button",{onClick:l,children:"View Auto Updates"}),R.jsx("button",{onClick:a,children:"View Manuel Updates"})]}),n==="auto"?R.jsx(D8,{globalUsers:t}):R.jsx(N8,{globalUsers:t})]})}const k8="_mainWrapper_1q5s2_1",U8={mainWrapper:k8},j8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAAAxCAYAAABQzoWlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAyqSURBVHhe7Z09axtLF8fzVQT+AoYUT3sFaQRuAreIIEUwT/EgXATj4iLSBPEUF+EiiBRGpDDoFgalCMhFwG4MSmFQCoNcGOQihQoXW7jYwsW5Z1YraXfmPzuzaynROufAD8xodnZ3Xv47c+bFz9hIEAThiQEDBUEQygwMFARBKDMwUBAEoczAQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUINvUODqj0dWYxpdn1N3bBnEEYc08b1D3fERjroej8y41noM4AgwUDCrUvgwpbSGNj6og7hNhq0q7/+9S77i3oPPXS6pugbir4nmN6q/rKWrScJdstWlkVMMxdV+AuCulQtU/0+VS/7NKFRh3I4CBgkGXxnE9Stl1F8QtOxVqHI8peIjfUbdwRB143Qr4ZOby+BOI97sC8kfZ+vNon86C+GZzC85oH8bdCGCght6oH9NTqVHvJk5mbqUQB4uwXT01YavQ/rlegzX73lnfl/oJCFv3On7wud2xAPj0ct+ekZHzetuwCdtRIs5a+C2EjY2/2u0CQ5LK4YhlUbNSCBsaigZ0dlABcUvMmwFN47ez2eiD7zs3aHAbUnif4HZADRg35ikKG1twvu/+GPgIGxqK+grno1iPsDW+TNL1435Cgz0cNycwUAP3VrwKK8lWi4b38cVJK81w7ulPHqDeWngzoNZenep7Lepf9KkJrsMUaAxPVNiiUc6nGoy/wEfYFL9k8mA9wmbWN+4svMVxcwIDNSzDMP62D96g+Jj9r2ajiaw0wvb0MRrlw4g6hXsDImxpc/TwfYXtl/BbCRvbbZ9q8BqNnT5N4ksM8y28aMasSZ3FDB33InZsvSYwi/O6RtswbpJtqqWuqdPLP2aVsfLHy1R4/bXfDGF03V+deGaxG/V+1jfTN3vvxnw286hFDc/nXFnlXcxstmlopDekdioPtTJxCNv2Tp2aH+JZ2g/NjPJ3oJ6Re6DdRF2al/NjsQsbm5rB3MHX+QlbwdnJrSq9XLyvqoPpOqHyNTtNR91wpJ9m2cba30xhG/6dfpaCbQUGamQIG9v4k2sioZpd2JnCxgV50KPRD8Mzt7T7KY0+t6ieysgKdb7Hvy8spOG7ZByTyvuh5gMMaXQ4q/D5vi4Vqh8OaHwXRwUW/hhRb1XD2ee71DnNmMlkC64tw+ePo4WPA9nS/6HwmBG1OLixcUN3XDv+pPLyjCbIjaHsbkyDvx3DvJjtPUddUmkd1h81OZJZ15XZfGJewpbv41N51aazWyPVhQVXvWgoazyzkablvjws7l1Z0n8IaXrJ6Rvvmq0nuhXsscNADceDOCYS4IRB0mzCtlWnzqW9UAwLuNG9Snx13+kixZY5o1c1Z2ynA9qNf/cWtq0G9W8y3zhhXPinTY+epJ3tdwOa+N4O3e8xQoRYsbCFgU8dcPmwatS+cE2LLC3gepL+UPrjFDa2kOu8MdJZqbBVqHEyyW53c+Ne5PhH/PfcfITtIaDA5waGkJdF2NjCby2LYIAM0Q0KW40riHdrXVqqq79LA6Mu8++2CgtmBCf/LHujXsK2xe/r334WlnsiJqZyABqDh6Xut+HC5m+2HjTXpav8dQmKjwc+wqbMKPMVCluN87FA61maj7DlsPCqS9VFWiUSNlul2v2itXI0VALCZp1oCCY0Ou9T7+SMRrYudqKXVf3H9OwlxSpJ80KrCprj3EfY4HOHExoeK1+X8hk0qPUZDRltjTKDF1wusPZyr+x6SIPjHg0uxjSFQ7jlEHvlQ9E3rZkP7JiH4vq973moF/02p7UoqwiHsIV3ExpzuYe2ITfokVePQCPn3sb4tEPN2I/TPBrCXq/bzWJiCltIwR3KW62XuSphy/BnB7cjOjvhfD8dci8Nl3dkeYUtDLjOcV2zduGSE4271IrLf2B0XjhPTpP1o0etHBOUCWCghilswfnAXE+jTyTs9GiiVcDJSd8USb3wVIM1Km7I1zaMSlv5HxciyMvFWqutDo30tBLCtwDECy+aqThOYXvB7xv/sjCbP2UHiNJNL/FVc2M+D9vdkNqGc5qHYYaTls3IB7/egD8F0rMIW3jT15Y1bFMTvT9/jNrJ9J41zSVGNge+6m3rPtH7YY7lLTNMYeN6cgDSjkz9FtfVFQmb8YFWxu/cS7ppYrb3cPvxF7aAhppPsvKqBz+40y/1RHozvN07+YGBGkjY9qkKKuHkeP4FqlD7u/Z2qpGj3p9WeKiXFX5vG6I2x7bodx7fLGhzEsG8p7mUxVUI1RM9jezJCvOeGcNkA9BgM5ffoGG5XokKCFEmBdJDwsbi0oL5ghob58HrRBxjMsjeY48w/LL5GxoUNpUG+pgpmwvtSoQN5QnfP2OZCWw/nsI2OcF+zQoqR27DeryNFDbVE+jfxgFziycS0Ozi8L3KXLewtdFs5vvk8+iAhb/JgkGr6VNDFtDoQe/JVQjmc095CJruVqc41YdIqgKm72nlNXgn7jFn9fhM4VUfomSFLyBEmRRIDzSIWV0DcZnWN71JpsukrrtCOMf1oU6aoZGv6TxyYxU2/s3qE1UfffRbbmED7YvTztzt4Wo/EUjYJtSzfYhfgOGw8S4bK2z8GxCN8Fvf6HYve1xuYTMrRkYGRlTM2Uy+y9IpDWY7VZrzExHA7CnaNuQqBPO585u3oxR83bMEIAI0nPQ1mylsWXniKhPz9/zmzFeNLGFT2Bz74V1ghq9C2ICgpPEpp7xl6fccmytsLCrOyvPAIrLwaaxD2KpmzzElbPyl/DCKw5c2Pd3l38B6N4tf5acIm+9m5iLCBoZlImxuC742Uvd04RI2rzYzt1UIm7MM26Yf2rjmtxM2xrYHNLbpFyUg9rT0FzaHF9yDOlz+buJTMMAnpQQMOPxngpe8doarEMznntLgbXoVdTY5zjpDXf3pgOoobow5LNOHWU9P2JDfc3SE8t5O3pXvbmFTeC5nyi1sdeBLTcyAA2rHpovCLKffUdgY6yJc4+XdLwwdjxlbt2DBgGn/3VPT3zK5MTwqyyGqhqsQ0HOrfLJNejwOUNH4fWZ+TBBfzfgZ8fXJhgJClAlIT00EwLgxKxY26JC/6RVan+aLn7Ax6KQO3XILG6rnbA9TY/ZS9Rzrh0Mzf5T9MmFz+dO9gYEabmFTXyDTj4UaGujd6S9sKfDgW9vYNoULxvKFQssxdMvYmeBsRPC5WTw/N+DOArW9ZxxMszdGZ2CsEVQWTqivb5t6btkJsfblHqiRZ83cMqsWNjgbjOrSjGgL0o+A7+m3RQvhLWyMc4F1AWHLFMwwoIk6neZ6mr1r4CcJGypv24gpJzBQw0fYGG1hYHq18RyQQeCFrSunH2YLAdWRLVNLjbCvGEf7R5PGQpyxPMPdiCy9R2X83FGFikk/O6dTRNzQuqvYooWs6l7WxazonqsXNjPP2MIpjS8G8eJhrYe8cmHLEA+1lzGuS4pJahGtxzFDFvIImyJzl0ARYWOK7khZ2M8SNtSj5tyIFpirRcRT7hhkLc+xAwM1PIWN2edu8GyF+jgxYZDET9hUDxAuKnWZbUHsHLR/dG5o4W4Cn0ZU+LnVcdv/0dNyY1ugnG22Rrt6YfM5uHJykqi4axA29UHz3jeZMu5d/ldPy01eYcucTCgobAq1h5h1wW1TFnVnmmsSNkuPOmWOZUwWYKCGv7C58RU2xTY1T/0rpDqdtel09IK1d7G5vgx+jUiR77kj/4fn6RSIyqsOjfRHsxn3HEcfbadXrEHYVKP96qi5yQ/KWoRNUaH6x1Hm6SdpwztdfMgvbArLZMIjhC1ifuoLqow8LB1Hp+KANI21b+sStlnvcppZLg73BQYGavwqYZtRedWi/uXUWikDdfzPgf9/zEFLP3wOVPRvRDMqf+xT72Ji92WoirWyE1Bnp/uO4Z5ENnWv0w7tZt5rHcKmyDjCKTrapvsThC0mbug2N0bk6rjsUwtsP/KlmLAxyLXwWGFLkDxPMHX2HJphN/6Xx/qETaF8m4NrXCjqeK/ueoRtc0gd9rjZ//4rjfZv5db7L+XSh2Vu1L+vS+bDry4/dThiIp9WddDkplA9aHl9NNEsKtrX+XNI1t0cy59MYKAgCGVmvrZUnWLCo4J9JNos7Pufkcuk0NBv04CBgiCUGLwUKKQwmM6WeqgJPotrJ+vAiRIBAwVBKCvw2C9Pc60qKA8wUBCE0uL4HxEWM8+8KzUwUBCE0qP+EVJnthA6wEPP8D6gycWAOk/vf+TCQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUBEEoMzBQEAShzMBAQRCEkvKM/gU6XAPgx+NWUwAAAABJRU5ErkJggg==";function B8(){return R.jsx(R.Fragment,{children:R.jsxs("footer",{className:U8.mainWrapper,children:[R.jsx("h4",{children:"Credits"}),R.jsxs("p",{children:[R.jsx("a",{href:"https://www.movieofthenight.com/about/api",children:R.jsx("img",{width:"110px",src:j8})})," | Show and Movie Data"]})]})})}function z8(){return R.jsxs(R.Fragment,{children:[R.jsx("h2",{children:"About Page"}),R.jsx(B8,{})]})}function F8(){ni();const t=tt(i=>i.friends.friendsList),[e,n]=N.useState([]);return N.useEffect(()=>{async function i(){try{const l=(await C_(T_(Si,"Users"))).docs.map(u=>({id:u.id,...u.data()}));n(l)}catch(a){console.error("Can't find global users",a)}}i()},[]),console.log("Global Users",e),console.log("Friend List",t),R.jsxs(R.Fragment,{children:[R.jsx("h1",{children:"Friends List"}),t.map(i=>{const a=e.find(l=>l.id===i);return R.jsx("div",{children:R.jsx("p",{children:a?.userName||"Unknown User"})},i)})]})}const H8="_showWrapper_ok71v_1",q8="_showInfo_ok71v_35",ER={showWrapper:H8,showInfo:q8};function G8({userDetails:t}){console.log("User Details",t);const e=ni(),n=tt(u=>u.auth.user.uid),i=tt(u=>u.friends.friendsList);l1().id;async function l(u){const h=[...i,u];try{const f=Ir(Si,"Users",n);await ca(f,{friendsList:h}),e(zR.addFriend(i)),alert("Friend Added!")}catch(f){console.log(f),alert(f.message)}}return R.jsx("main",{className:ER.showWrapper,children:t&&R.jsx("div",{className:ER.showInfo,children:R.jsxs("header",{children:[R.jsx(as,{to:`/userPage/:${t.id}`,children:R.jsx("h2",{children:t.userName})}),R.jsx(Rn,{onClick:()=>l(t.id),children:"Save User"})]})},t.id)})}const K8="_mainDropdownWrapper_15h6a_1",W8={mainDropdownWrapper:K8};function $8({searchResults:t}){console.log("Search Results in Dropdown",t);const[e,n]=N.useState(null);function i(a){n(a)}return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:W8.mainDropdownWrapper,children:R.jsx("div",{children:t.map(a=>R.jsx("p",{onClick:()=>i(a),children:a.userName},a.uid))})}),R.jsx("div",{children:e&&R.jsx(G8,{userDetails:e})})]})}const Y8="_mainWrapper_vwg4t_1",Q8={mainWrapper:Y8};function X8(){const[t,e]=N.useState(""),[n,i]=N.useState(null);return N.useEffect(()=>{async function a(l){if(l)try{const f=(await C_(T_(Si,"Users"))).docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.userName?.toLowerCase().includes(l.toLowerCase()));i(f),console.log("Query Data",f)}catch(u){console.error("Can't find global users",u)}}a(t)},[t]),R.jsxs("div",{className:Q8.mainWrapper,children:[R.jsx("input",{type:"search",placeholder:"Seach a user",value:t,onChange:a=>e(a.target.value)}),n&&R.jsx($8,{searchResults:n})]})}const Z8="_mainWrapper_1yzt3_1",J8={mainWrapper:Z8};function eH(){return R.jsx(R.Fragment,{children:R.jsx("main",{className:J8.mainWrapper,children:R.jsxs("header",{children:[R.jsx("h1",{children:"User Search"}),R.jsx(X8,{})]})})})}const tH="_mainWrapper_m6cxa_1",nH="_nav_m6cxa_77",iH="_navList_m6cxa_95",Sy={mainWrapper:tH,nav:nH,navList:iH},rH="_inputWrapper_mikpn_3",Jd={inputWrapper:rH};function sH({type:t,onSubmit:e}){return N.useContext(y7),tt(n=>n.auth.user),ni(),R.jsx("form",{onSubmit:e,className:Jd.formWrapper,children:R.jsxs("div",{className:Jd.inputWrapper,children:[R.jsx(Ul,{label:"User Name",htmlFor:"username",id:"username",name:"username"}),R.jsx(Ul,{label:"Password",htmlFor:"password",id:"password",name:"password"}),R.jsx(Ul,{label:"Email",htmlFor:"email",id:"email",name:"email"}),R.jsx(Rn,{type:t,children:"Sign Up"})]})})}const aH={};function YD({children:t,open:e,handleClose:n}){const i=N.useRef();return N.useEffect(()=>{const a=i.current;return e&&a.showModal(),()=>{a.open&&a.close()}},[e]),g1.createPortal(R.jsxs("dialog",{onClose:n,ref:i,className:aH.dialog,children:[" ",t," "]}),document.getElementById("modal"))}function oH(){const t=ni(),e=tt(l=>l.auth.isCreatingAccount),n=()=>t(cs.stopCreatingAccount());async function i(l){try{const h=(await p6(k_,l.email,l.password)).user.uid,f=Ir(Si,"Users",h);await gj(f,{email:l.email,userName:l.userName,bio:"",bioAvatar:null,friendsList:[],myShows:[],epNotes:[],charNotes:[],currentlyBinging:[],watchedEps:[],finishedShows:[],reviews:[]}),t(cs.login({uid:h,email:l.email,userName:l.userName})),t(cs.stopCreatingAccount())}catch(u){console.error(u)}}function a(l){l.preventDefault();const u=new FormData(l.target),h=u.get("email"),f=u.get("username"),p=u.get("password");i({email:h,userName:f,password:p})}return R.jsx(R.Fragment,{children:R.jsx(YD,{open:e,handleClose:n,children:R.jsx(sH,{onSubmit:a,type:"submit"})})})}function lH({type:t,onSubmit:e}){return R.jsx("form",{onSubmit:e,className:Jd.formWrapper,children:R.jsxs("div",{className:Jd.inputWrapper,children:[R.jsx(Ul,{label:"Email",htmlFor:"email",id:"email",name:"email"}),R.jsx(Ul,{label:"Password",htmlFor:"password",id:"password",name:"password"}),R.jsx(Rn,{type:t,children:"Sign In"})]})})}function uH(){const t=ni(),e=tt(a=>a.auth.isLoggingIn);function n(){t(cs.stopLoggingIn())}async function i(a){a.preventDefault();const l=new FormData(a.target),u=l.get("email"),h=l.get("password");try{const p=(await g6(k_,u,h)).user;t(cs.login({uid:p.uid,email:p.email}))}catch(f){console.error("Login failed:",f)}}return R.jsx(R.Fragment,{children:R.jsx(YD,{open:e,onClose:n,children:R.jsx(lH,{onSubmit:i,type:"submit"})})})}function cH(){const t=ni(),e=tt(u=>u.auth.isLoggedIn),n=tt(u=>u.auth.user?.uid);function i(){t(cs.startLoggingIn())}function a(){t(cs.logOut())}function l(){t(cs.startCreatingAccount())}return R.jsx("header",{className:Sy.mainWrapper,children:R.jsxs("nav",{className:Sy.nav,children:[R.jsxs("ul",{className:Sy.navList,children:[R.jsxs("li",{children:[R.jsx(as,{to:"/",children:R.jsx("img",{width:"35px",src:"/BingeLog/HomeIcon.png"})}),R.jsx("br",{})]}),R.jsx("li",{children:!e&&R.jsx(Rn,{onClick:i,children:R.jsx("img",{width:"35px",src:"/BingeLog/LogIn.png"})})}),R.jsx("li",{children:!e&&R.jsx(Rn,{onClick:l,children:"Create Account"})}),R.jsx("li",{children:e&&R.jsx(as,{to:"/bingelog",children:R.jsx("img",{width:"35px",src:"/BingeLog/BingeLog.png"})})}),R.jsx("li",{children:e&&n&&R.jsx(as,{to:`/userPage/${n}`,children:R.jsx("img",{width:"35px",src:"/BingeLog/UserPage.png"})})}),R.jsx("li",{children:e&&R.jsx(as,{to:"/shows",children:R.jsx("img",{width:"35px",src:"/BingeLog/TvIcon.png"})})}),R.jsx("li",{children:e&&R.jsx(as,{to:"/userSearch",children:R.jsx("img",{width:"35px",src:"/BingeLog/UserSearchIcon.png"})})}),R.jsx("li",{children:e&&R.jsx(Rn,{onClick:a,children:R.jsx("img",{width:"35px",src:"/BingeLog/LogOut.png"})})})]}),R.jsx(oH,{}),R.jsx(uH,{})]})})}function hH(){return R.jsxs(R.Fragment,{children:[R.jsx("main",{children:R.jsx(yV,{})}),R.jsx(cH,{})]})}function fH(){const t=ni();tt(a=>a.shows.myShows),tt(a=>a.auth.isLoggedIn);const[e,n]=N.useState(!1);if(N.useEffect(()=>{const a=_6(k_,async l=>{if(l)try{const u=Ir(Si,"Users",l?.uid),h=await pj(u);if(h.exists()){const f=h.data();t(cs.login({uid:l.uid,userName:f.userName,email:f.email})),t(Lc.uploadAvatar(f.bioAvatar)),t(Lc.updateBio(f.bio)),t(Qt.updateMyShows(f.myShows||[])),t(Qt.updateBinging(f.currentlyBinging||[])),t(Qt.updateFinishedShows(f.finishedShows||[])),t(Qt.updateWatchedEps(f.watchedEps||[])),t(Qt.updateReviews(f.reviews||[])),t(_d.updateEpNotes(f.epNotes||[])),t(_d.updateCharNotes(f.charNotes||[])),t(zR.addFriend(f.friendsList||[]))}n(!0)}catch(u){console.error("Auth restore failed:",u)}});return()=>a},[t]),!e)return R.jsx("div",{children:"Loading..."});const i=zV([{path:"/",element:R.jsx(hH,{}),children:[{index:!0,element:R.jsx(VB,{})},{path:"userPage/:uid",element:R.jsx(n8,{})},{path:"friendsList",element:R.jsx(F8,{})},{path:"bingelog",element:R.jsx(L8,{})},{path:"userSearch",element:R.jsx(eH,{})},{path:"shows",element:R.jsx(y8,{})},{path:"about",element:R.jsx(z8,{})}]}]);return R.jsx(R.Fragment,{children:R.jsx(ZV,{router:i})})}MP.createRoot(document.getElementById("root")).render(R.jsx(N.StrictMode,{children:R.jsx($P,{store:qN,children:R.jsx(fH,{})})}));
