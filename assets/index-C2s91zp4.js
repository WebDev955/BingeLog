(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Wm={exports:{}},mu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function w1(){if(xE)return mu;xE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:l}}return mu.Fragment=e,mu.jsx=n,mu.jsxs=n,mu}var ME;function S1(){return ME||(ME=1,Wm.exports=w1()),Wm.exports}var C=S1(),Xm={exports:{}},pu={},Jm={exports:{}},Zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function b1(){return PE||(PE=1,function(t){function e($,fe){var ge=$.length;$.push(fe);e:for(;0<ge;){var je=ge-1>>>1,M=$[je];if(0<o(M,fe))$[je]=fe,$[ge]=M,ge=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var fe=$[0],ge=$.pop();if(ge!==fe){$[0]=ge;e:for(var je=0,M=$.length,ne=M>>>1;je<ne;){var pe=2*(je+1)-1,de=$[pe],Ee=pe+1,qe=$[Ee];if(0>o(de,ge))Ee<M&&0>o(qe,de)?($[je]=qe,$[Ee]=ge,je=Ee):($[je]=de,$[pe]=ge,je=pe);else if(Ee<M&&0>o(qe,ge))$[je]=qe,$[Ee]=ge,je=Ee;else break e}}return fe}function o($,fe){var ge=$.sortIndex-fe.sortIndex;return ge!==0?ge:$.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,T=null,w=3,I=!1,j=!1,W=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function he($){for(var fe=n(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=$)s(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(g)}}function oe($){if(W=!1,he($),!j)if(n(m)!==null)j=!0,P||(P=!0,z());else{var fe=n(g);fe!==null&&Qe(oe,fe.startTime-$)}}var P=!1,N=-1,A=5,R=-1;function V(){return U?!0:!(t.unstable_now()-R<A)}function L(){if(U=!1,P){var $=t.unstable_now();R=$;var fe=!0;try{e:{j=!1,W&&(W=!1,ue(N),N=-1),I=!0;var ge=w;try{t:{for(he($),T=n(m);T!==null&&!(T.expirationTime>$&&V());){var je=T.callback;if(typeof je=="function"){T.callback=null,w=T.priorityLevel;var M=je(T.expirationTime<=$);if($=t.unstable_now(),typeof M=="function"){T.callback=M,he($),fe=!0;break t}T===n(m)&&s(m),he($)}else s(m);T=n(m)}if(T!==null)fe=!0;else{var ne=n(g);ne!==null&&Qe(oe,ne.startTime-$),fe=!1}}break e}finally{T=null,w=ge,I=!1}fe=void 0}}finally{fe?z():P=!1}}}var z;if(typeof ee=="function")z=function(){ee(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Le=D.port2;D.port1.onmessage=L,z=function(){Le.postMessage(null)}}else z=function(){Y(L,0)};function Qe($,fe){N=Y(function(){$(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function($){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var ge=w;w=fe;try{return $()}finally{w=ge}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function($,fe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ge=w;w=$;try{return fe()}finally{w=ge}},t.unstable_scheduleCallback=function($,fe,ge){var je=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?je+ge:je):ge=je,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,$={id:_++,callback:fe,priorityLevel:$,startTime:ge,expirationTime:M,sortIndex:-1},ge>je?($.sortIndex=ge,e(g,$),n(m)===null&&$===n(g)&&(W?(ue(N),N=-1):W=!0,Qe(oe,ge-je))):($.sortIndex=M,e(m,$),j||I||(j=!0,P||(P=!0,z()))),$},t.unstable_shouldYield=V,t.unstable_wrapCallback=function($){var fe=w;return function(){var ge=w;w=fe;try{return $.apply(this,arguments)}finally{w=ge}}}}(Zm)),Zm}var VE;function A1(){return VE||(VE=1,Jm.exports=b1()),Jm.exports}var ep={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function R1(){if(LE)return Ge;LE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,W={};function U(M,ne,pe){this.props=M,this.context=ne,this.refs=W,this.updater=pe||I}U.prototype.isReactComponent={},U.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function ue(M,ne,pe){this.props=M,this.context=ne,this.refs=W,this.updater=pe||I}var ee=ue.prototype=new Y;ee.constructor=ue,j(ee,U.prototype),ee.isPureReactComponent=!0;var he=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function N(M,ne,pe,de,Ee,qe){return pe=qe.ref,{$$typeof:t,type:M,key:ne,ref:pe!==void 0?pe:null,props:qe}}function A(M,ne){return N(M.type,ne,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function V(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return ne[pe]})}var L=/\/+/g;function z(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):ne.toString(36)}function D(){}function Le(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Qe(M,ne,pe,de,Ee){var qe=typeof M;(qe==="undefined"||qe==="boolean")&&(M=null);var De=!1;if(M===null)De=!0;else switch(qe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(M.$$typeof){case t:case e:De=!0;break;case _:return De=M._init,Qe(De(M._payload),ne,pe,de,Ee)}}if(De)return Ee=Ee(M),De=de===""?"."+z(M,0):de,he(Ee)?(pe="",De!=null&&(pe=De.replace(L,"$&/")+"/"),Qe(Ee,ne,pe,"",function(Gn){return Gn})):Ee!=null&&(R(Ee)&&(Ee=A(Ee,pe+(Ee.key==null||M&&M.key===Ee.key?"":(""+Ee.key).replace(L,"$&/")+"/")+De)),ne.push(Ee)),1;De=0;var Yt=de===""?".":de+":";if(he(M))for(var ot=0;ot<M.length;ot++)de=M[ot],qe=Yt+z(de,ot),De+=Qe(de,ne,pe,qe,Ee);else if(ot=w(M),typeof ot=="function")for(M=ot.call(M),ot=0;!(de=M.next()).done;)de=de.value,qe=Yt+z(de,ot++),De+=Qe(de,ne,pe,qe,Ee);else if(qe==="object"){if(typeof M.then=="function")return Qe(Le(M),ne,pe,de,Ee);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return De}function $(M,ne,pe){if(M==null)return M;var de=[],Ee=0;return Qe(M,de,"","",function(qe){return ne.call(pe,qe,Ee++)}),de}function fe(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function je(){}return Ge.Children={map:$,forEach:function(M,ne,pe){$(M,function(){ne.apply(this,arguments)},pe)},count:function(M){var ne=0;return $(M,function(){ne++}),ne},toArray:function(M){return $(M,function(ne){return ne})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ge.Component=U,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=ue,Ge.StrictMode=s,Ge.Suspense=m,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(M){return oe.H.useMemoCache(M)}},Ge.cache=function(M){return function(){return M.apply(null,arguments)}},Ge.cloneElement=function(M,ne,pe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=j({},M.props),Ee=M.key,qe=void 0;if(ne!=null)for(De in ne.ref!==void 0&&(qe=void 0),ne.key!==void 0&&(Ee=""+ne.key),ne)!P.call(ne,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ne.ref===void 0||(de[De]=ne[De]);var De=arguments.length-2;if(De===1)de.children=pe;else if(1<De){for(var Yt=Array(De),ot=0;ot<De;ot++)Yt[ot]=arguments[ot+2];de.children=Yt}return N(M.type,Ee,void 0,void 0,qe,de)},Ge.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ge.createElement=function(M,ne,pe){var de,Ee={},qe=null;if(ne!=null)for(de in ne.key!==void 0&&(qe=""+ne.key),ne)P.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Ee[de]=ne[de]);var De=arguments.length-2;if(De===1)Ee.children=pe;else if(1<De){for(var Yt=Array(De),ot=0;ot<De;ot++)Yt[ot]=arguments[ot+2];Ee.children=Yt}if(M&&M.defaultProps)for(de in De=M.defaultProps,De)Ee[de]===void 0&&(Ee[de]=De[de]);return N(M,qe,void 0,void 0,null,Ee)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(M){return{$$typeof:d,render:M}},Ge.isValidElement=R,Ge.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:fe}},Ge.memo=function(M,ne){return{$$typeof:g,type:M,compare:ne===void 0?null:ne}},Ge.startTransition=function(M){var ne=oe.T,pe={};oe.T=pe;try{var de=M(),Ee=oe.S;Ee!==null&&Ee(pe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(je,ge)}catch(qe){ge(qe)}finally{oe.T=ne}},Ge.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ge.use=function(M){return oe.H.use(M)},Ge.useActionState=function(M,ne,pe){return oe.H.useActionState(M,ne,pe)},Ge.useCallback=function(M,ne){return oe.H.useCallback(M,ne)},Ge.useContext=function(M){return oe.H.useContext(M)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(M,ne){return oe.H.useDeferredValue(M,ne)},Ge.useEffect=function(M,ne,pe){var de=oe.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(M,ne)},Ge.useId=function(){return oe.H.useId()},Ge.useImperativeHandle=function(M,ne,pe){return oe.H.useImperativeHandle(M,ne,pe)},Ge.useInsertionEffect=function(M,ne){return oe.H.useInsertionEffect(M,ne)},Ge.useLayoutEffect=function(M,ne){return oe.H.useLayoutEffect(M,ne)},Ge.useMemo=function(M,ne){return oe.H.useMemo(M,ne)},Ge.useOptimistic=function(M,ne){return oe.H.useOptimistic(M,ne)},Ge.useReducer=function(M,ne,pe){return oe.H.useReducer(M,ne,pe)},Ge.useRef=function(M){return oe.H.useRef(M)},Ge.useState=function(M){return oe.H.useState(M)},Ge.useSyncExternalStore=function(M,ne,pe){return oe.H.useSyncExternalStore(M,ne,pe)},Ge.useTransition=function(){return oe.H.useTransition()},Ge.version="19.1.1",Ge}var kE;function If(){return kE||(kE=1,ep.exports=R1()),ep.exports}var tp={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function C1(){if(UE)return wn;UE=1;var t=If();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,wn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},wn.flushSync=function(m){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=g,s.p=_,s.d.f()}},wn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},wn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},wn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:I}):_==="script"&&s.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},wn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},wn.requestFormReset=function(m){s.d.r(m)},wn.unstable_batchedUpdates=function(m,g){return m(g)},wn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var jE;function aw(){if(jE)return tp.exports;jE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tp.exports=C1(),tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function I1(){if(zE)return pu;zE=1;var t=A1(),e=If(),n=aw();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var a=r,u=i;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return d(f),r;if(p===u)return d(f),i;p=p.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,u=p;break}if(S===u){E=!0,u=f,a=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===a){E=!0,a=p,u=f;break}if(S===u){E=!0,u=p,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function Le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case U:return"Profiler";case W:return"StrictMode";case oe:return"Suspense";case P:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case I:return"Portal";case ee:return(r.displayName||"Context")+".Provider";case ue:return(r._context.displayName||"Context")+".Consumer";case he:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return i=r.displayName||null,i!==null?i:Le(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return Le(r(i))}catch{}}return null}var Qe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},je=[],M=-1;function ne(r){return{current:r}}function pe(r){0>M||(r.current=je[M],je[M]=null,M--)}function de(r,i){M++,je[M]=r.current,r.current=i}var Ee=ne(null),qe=ne(null),De=ne(null),Yt=ne(null);function ot(r,i){switch(de(De,i),de(qe,r),de(Ee,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?aE(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=aE(i),r=oE(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Ee),de(Ee,r)}function Gn(){pe(Ee),pe(qe),pe(De)}function Mt(r){r.memoizedState!==null&&de(Yt,r);var i=Ee.current,a=oE(i,r.type);i!==a&&(de(qe,r),de(Ee,a))}function Kn(r){qe.current===r&&(pe(Ee),pe(qe)),Yt.current===r&&(pe(Yt),uu._currentValue=ge)}var _i=Object.prototype.hasOwnProperty,vi=t.unstable_scheduleCallback,Ln=t.unstable_cancelCallback,fl=t.unstable_shouldYield,Js=t.unstable_requestPaint,cn=t.unstable_now,Za=t.unstable_getCurrentPriorityLevel,kt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,Nr=t.unstable_NormalPriority,Or=t.unstable_LowPriority,xr=t.unstable_IdlePriority,eo=t.log,Mr=t.unstable_setDisableYieldValue,hn=null,_t=null;function Cn(r){if(typeof eo=="function"&&Mr(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(hn,r)}catch{}}var $t=Math.clz32?Math.clz32:Zs,dl=Math.log,Yn=Math.LN2;function Zs(r){return r>>>=0,r===0?32:31-(dl(r)/Yn|0)|0}var $n=256,Pr=4194304;function Qn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function In(r,i,a){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=Qn(u):(E&=S,E!==0?f=Qn(E):a||(a=S&~r,a!==0&&(f=Qn(a))))):(S=u&~p,S!==0?f=Qn(S):E!==0?f=Qn(E):a||(a=u&~r,a!==0&&(f=Qn(a)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:f}function Wn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ei(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ti(){var r=$n;return $n<<=1,($n&4194048)===0&&($n=256),r}function Xr(){var r=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),r}function wi(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function It(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ea(r,i,a,u,f,p){var E=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var S=r.entanglements,O=r.expirationTimes,K=r.hiddenUpdates;for(a=E&~a;0<a;){var te=31-$t(a),se=1<<te;S[te]=0,O[te]=-1;var Q=K[te];if(Q!==null)for(K[te]=null,te=0;te<Q.length;te++){var X=Q[te];X!==null&&(X.lane&=-536870913)}a&=~se}u!==0&&Xn(r,u,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~i))}function Xn(r,i,a){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-$t(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|a&4194090}function Jn(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var u=31-$t(a),f=1<<u;f&i|r[u]&i&&(r[u]|=i),a&=~f}}function ta(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function na(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function x(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:RE(r.type))}function H(r,i){var a=fe.p;try{return fe.p=r,i()}finally{fe.p=a}}var J=Math.random().toString(36).slice(2),ie="__reactFiber$"+J,ce="__reactProps$"+J,ve="__reactContainer$"+J,Se="__reactEvents$"+J,_e="__reactListeners$"+J,Re="__reactHandles$"+J,Ae="__reactResources$"+J,Te="__reactMarker$"+J;function be(r){delete r[ie],delete r[ce],delete r[Se],delete r[_e],delete r[Re]}function ze(r){var i=r[ie];if(i)return i;for(var a=r.parentNode;a;){if(i=a[ve]||a[ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=hE(r);r!==null;){if(a=r[ie])return a;r=hE(r)}return i}r=a,a=r.parentNode}return null}function rt(r){if(r=r[ie]||r[ve]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function wt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function At(r){var i=r[Ae];return i||(i=r[Ae]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ke(r){r[Te]=!0}var lt=new Set,Dn={};function vn(r,i){Qt(r,i),Qt(r+"Capture",i)}function Qt(r,i){for(Dn[r]=i,r=0;r<i.length;r++)lt.add(i[r])}var nn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kn={},dr={};function Vr(r){return _i.call(dr,r)?!0:_i.call(kn,r)?!1:nn.test(r)?dr[r]=!0:(kn[r]=!0,!1)}function mr(r,i,a){if(Vr(i))if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+a)}}function pr(r,i,a){if(a===null)r.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+a)}}function He(r,i,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(i,a,""+u)}}var Rt,Lr;function Nn(r){if(Rt===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rt=i&&i[1]||"",Lr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+r+Lr}var vt=!1;function kr(r,i){if(!r||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var Q=X}Reflect.construct(r,[],se)}else{try{se.call()}catch(X){Q=X}r.call(se.prototype)}}else{try{throw Error()}catch(X){Q=X}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var O=E.split(`
`),K=S.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===K.length)for(u=O.length-1,f=K.length-1;1<=u&&0<=f&&O[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==K[f]){var te=`
`+O[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Nn(a):""}function to(r){switch(r.tag){case 26:case 27:case 5:return Nn(r.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return kr(r.type,!1);case 11:return kr(r.type.render,!1);case 1:return kr(r.type,!0);case 31:return Nn("Activity");default:return""}}function Zn(r){try{var i="";do i+=to(r),r=r.return;while(r);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ji(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ra(r){var i=Ji(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Zi(r){r._valueTracker||(r._valueTracker=ra(r))}function dt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return r&&(u=Ji(r)?r.checked?"true":"false":r.value),r=u,r!==a?(i.setValue(r),!0):!1}function Si(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ia=/[\n"\\]/g;function rn(r){return r.replace(ia,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ml(r,i,a,u,f,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Dt(i)):r.value!==""+Dt(i)&&(r.value=""+Dt(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?gl(r,E,Dt(i)):a!=null?gl(r,E,Dt(a)):u!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Dt(S):r.removeAttribute("name")}function pl(r,i,a,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+Dt(a):"",i=i!=null?""+Dt(i):a,S||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function gl(r,i,a){i==="number"&&Si(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function es(r,i,a,u){if(r=r.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=i.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&u&&(r[a].defaultSelected=!0)}else{for(a=""+Dt(a),i=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function uc(r,i,a){if(i!=null&&(i=""+Dt(i),i!==r.value&&(r.value=i),a==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=a!=null?""+Dt(a):""}function cc(r,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(Qe(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=Dt(i),r.defaultValue=a,u=r.textContent,u===a&&u!==""&&u!==null&&(r.value=u)}function gr(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(r,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,a):typeof a!="number"||a===0||bi.has(i)?i==="float"?r.cssFloat=a:r[i]=(""+a).trim():r[i]=a+"px"}function _l(r,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&yl(r,f,u)}else for(var p in i)i.hasOwnProperty(p)&&yl(r,p,i[p])}function no(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(r){return fc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vl=null;function El(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ts=null,On=null;function dc(r){var i=rt(r);if(i&&(r=i.stateNode)){var a=r[ce]||null;e:switch(r=i.stateNode,i.type){case"input":if(ml(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==r&&u.form===r.form){var f=u[ce]||null;if(!f)throw Error(s(90));ml(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===r.form&&dt(u)}break e;case"textarea":uc(r,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&es(r,!!a.multiple,i,!1)}}}var sa=!1;function aa(r,i,a){if(sa)return r(i,a);sa=!0;try{var u=r(i);return u}finally{if(sa=!1,(ts!==null||On!==null)&&(nh(),ts&&(i=ts,r=On,On=ts=null,dc(i),r)))for(i=0;i<r.length;i++)dc(r[i])}}function ns(r,i){var a=r.stateNode;if(a===null)return null;var u=a[ce]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(xn)try{var rs={};Object.defineProperty(rs,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",rs,rs),window.removeEventListener("test",rs,rs)}catch{Ai=!1}var yr=null,Et=null,ro=null;function mc(){if(ro)return ro;var r,i=Et,a=i.length,u,f="value"in yr?yr.value:yr.textContent,p=f.length;for(r=0;r<a&&i[r]===f[r];r++);var E=a-r;for(u=1;u<=E&&i[a-u]===f[p-u];u++);return ro=f.slice(r,1<u?1-u:void 0)}function oa(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function la(){return!0}function Tl(){return!1}function Wt(r){function i(a,u,f,p,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?la:Tl,this.isPropagationStopped=Tl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),i}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Wt(En),ca=_({},En,{view:0,detail:0}),ha=Wt(ca),io,fa,Jr,da=_({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(io=r.screenX-Jr.screenX,fa=r.screenY-Jr.screenY):fa=io=0,Jr=r),io)},movementY:function(r){return"movementY"in r?r.movementY:fa}}),ma=Wt(da),sd=_({},da,{dataTransfer:0}),pc=Wt(sd),pa=_({},ca,{relatedTarget:0}),so=Wt(pa),gc=_({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=Wt(gc),Sl=_({},En,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),yc=Wt(Sl),ao=_({},En,{data:0}),bl=Wt(ao),_c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ec(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=vc[r])?!!i[r]:!1}function oo(){return Ec}var Tc=_({},ca,{key:function(r){if(r.key){var i=_c[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=oa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ri[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(r){return r.type==="keypress"?oa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),lo=Wt(Tc),Mn=_({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Wt(Mn),wc=_({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),is=Wt(wc),h=_({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Wt(h),v=_({},da,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),b=Wt(v),G=_({},En,{newState:0,oldState:0}),Z=Wt(G),me=[9,13,27,32],Be=xn&&"CompositionEvent"in window,St=null;xn&&"documentMode"in document&&(St=document.documentMode);var ct=xn&&"TextEvent"in window&&!St,Ut=xn&&(!Be||St&&8<St&&11>=St),er=" ",Zr=!1;function jr(r,i){switch(r){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Br=!1;function Rl(r,i){switch(r){case"compositionend":return zr(i);case"keypress":return i.which!==32?null:(Zr=!0,er);case"textInput":return r=i.data,r===er&&Zr?null:r;default:return null}}function QA(r,i){if(Br)return r==="compositionend"||!Be&&jr(r,i)?(r=mc(),ro=Et=yr=null,Br=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ut&&i.locale!=="ko"?null:i.data;default:return null}}var WA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!WA[r.type]:i==="textarea"}function Ty(r,i,a,u){ts?On?On.push(u):On=[u]:ts=u,i=lh(i,"onChange"),0<i.length&&(a=new ua("onChange","change",null,a,u),r.push({event:a,listeners:i}))}var Cl=null,Il=null;function XA(r){tE(r,0)}function Sc(r){var i=wt(r);if(dt(i))return r}function wy(r,i){if(r==="change")return i}var Sy=!1;if(xn){var ad;if(xn){var od="oninput"in document;if(!od){var by=document.createElement("div");by.setAttribute("oninput","return;"),od=typeof by.oninput=="function"}ad=od}else ad=!1;Sy=ad&&(!document.documentMode||9<document.documentMode)}function Ay(){Cl&&(Cl.detachEvent("onpropertychange",Ry),Il=Cl=null)}function Ry(r){if(r.propertyName==="value"&&Sc(Il)){var i=[];Ty(i,Il,r,El(r)),aa(XA,i)}}function JA(r,i,a){r==="focusin"?(Ay(),Cl=i,Il=a,Cl.attachEvent("onpropertychange",Ry)):r==="focusout"&&Ay()}function ZA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Sc(Il)}function eR(r,i){if(r==="click")return Sc(i)}function tR(r,i){if(r==="input"||r==="change")return Sc(i)}function nR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var tr=typeof Object.is=="function"?Object.is:nR;function Dl(r,i){if(tr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!_i.call(i,f)||!tr(r[f],i[f]))return!1}return!0}function Cy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Iy(r,i){var a=Cy(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=i&&u>=i)return{node:a,offset:i-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cy(a)}}function Dy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Dy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ny(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Si(r.document);i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Si(r.document)}return i}function ld(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var rR=xn&&"documentMode"in document&&11>=document.documentMode,uo=null,ud=null,Nl=null,cd=!1;function Oy(r,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||uo==null||uo!==Si(u)||(u=uo,"selectionStart"in u&&ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Nl&&Dl(Nl,u)||(Nl=u,u=lh(ud,"onSelect"),0<u.length&&(i=new ua("onSelect","select",null,i,a),r.push({event:i,listeners:u}),i.target=uo)))}function ga(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var co={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},hd={},xy={};xn&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ya(r){if(hd[r])return hd[r];if(!co[r])return r;var i=co[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in xy)return hd[r]=i[a];return r}var My=ya("animationend"),Py=ya("animationiteration"),Vy=ya("animationstart"),iR=ya("transitionrun"),sR=ya("transitionstart"),aR=ya("transitioncancel"),Ly=ya("transitionend"),ky=new Map,fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fd.push("scrollEnd");function Fr(r,i){ky.set(r,i),vn(i,[r])}var Uy=new WeakMap;function _r(r,i){if(typeof r=="object"&&r!==null){var a=Uy.get(r);return a!==void 0?a:(i={value:r,source:i,stack:Zn(i)},Uy.set(r,i),i)}return{value:r,source:i,stack:Zn(i)}}var vr=[],ho=0,dd=0;function bc(){for(var r=ho,i=dd=ho=0;i<r;){var a=vr[i];vr[i++]=null;var u=vr[i];vr[i++]=null;var f=vr[i];vr[i++]=null;var p=vr[i];if(vr[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&jy(a,f,p)}}function Ac(r,i,a,u){vr[ho++]=r,vr[ho++]=i,vr[ho++]=a,vr[ho++]=u,dd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function md(r,i,a,u){return Ac(r,i,a,u),Rc(r)}function fo(r,i){return Ac(r,null,null,i),Rc(r)}function jy(r,i,a){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a);for(var f=!1,p=r.return;p!==null;)p.childLanes|=a,u=p.alternate,u!==null&&(u.childLanes|=a),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&i!==null&&(f=31-$t(a),r=p.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=a|536870912),p):null}function Rc(r){if(50<tu)throw tu=0,Em=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var mo={};function oR(r,i,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(r,i,a,u){return new oR(r,i,a,u)}function pd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ci(r,i){var a=r.alternate;return a===null?(a=nr(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function zy(r,i){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,i=a.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Cc(r,i,a,u,f,p){var E=0;if(u=r,typeof r=="function")pd(r)&&(E=1);else if(typeof r=="string")E=u1(r,a,Ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=nr(31,a,i,f),r.elementType=R,r.lanes=p,r;case j:return _a(a.children,f,p,i);case W:E=8,f|=24;break;case U:return r=nr(12,a,i,f|2),r.elementType=U,r.lanes=p,r;case oe:return r=nr(13,a,i,f),r.elementType=oe,r.lanes=p,r;case P:return r=nr(19,a,i,f),r.elementType=P,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:case ee:E=10;break e;case ue:E=9;break e;case he:E=11;break e;case N:E=14;break e;case A:E=16,u=null;break e}E=29,a=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=nr(E,a,i,f),i.elementType=r,i.type=u,i.lanes=p,i}function _a(r,i,a,u){return r=nr(7,r,u,i),r.lanes=a,r}function gd(r,i,a){return r=nr(6,r,null,i),r.lanes=a,r}function yd(r,i,a){return i=nr(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var po=[],go=0,Ic=null,Dc=0,Er=[],Tr=0,va=null,Ii=1,Di="";function Ea(r,i){po[go++]=Dc,po[go++]=Ic,Ic=r,Dc=i}function By(r,i,a){Er[Tr++]=Ii,Er[Tr++]=Di,Er[Tr++]=va,va=r;var u=Ii;r=Di;var f=32-$t(u)-1;u&=~(1<<f),a+=1;var p=32-$t(i)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ii=1<<32-$t(i)+f|a<<f|u,Di=p+r}else Ii=1<<p|a<<f|u,Di=r}function _d(r){r.return!==null&&(Ea(r,1),By(r,1,0))}function vd(r){for(;r===Ic;)Ic=po[--go],po[go]=null,Dc=po[--go],po[go]=null;for(;r===va;)va=Er[--Tr],Er[Tr]=null,Di=Er[--Tr],Er[Tr]=null,Ii=Er[--Tr],Er[Tr]=null}var Pn=null,Pt=null,at=!1,Ta=null,ei=!1,Ed=Error(s(519));function wa(r){var i=Error(s(418,""));throw Ml(_r(i,r)),Ed}function Fy(r){var i=r.stateNode,a=r.type,u=r.memoizedProps;switch(i[ie]=r,i[ce]=u,a){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(a=0;a<ru.length;a++)Xe(ru[a],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":Xe("invalid",i),pl(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Zi(i);break;case"select":Xe("invalid",i);break;case"textarea":Xe("invalid",i),cc(i,u.value,u.defaultValue,u.children),Zi(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||sE(i.textContent,a)?(u.popover!=null&&(Xe("beforetoggle",i),Xe("toggle",i)),u.onScroll!=null&&Xe("scroll",i),u.onScrollEnd!=null&&Xe("scrollend",i),u.onClick!=null&&(i.onclick=uh),i=!0):i=!1,i||wa(r)}function Hy(r){for(Pn=r.return;Pn;)switch(Pn.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Pn=Pn.return}}function Ol(r){if(r!==Pn)return!1;if(!at)return Hy(r),at=!0,!1;var i=r.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||Lm(r.type,r.memoizedProps)),a=!a),a&&Pt&&wa(r),Hy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(a=r.data,a==="/$"){if(i===0){Pt=qr(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;r=r.nextSibling}Pt=null}}else i===27?(i=Pt,Es(r.type)?(r=zm,zm=null,Pt=r):Pt=i):Pt=Pn?qr(r.stateNode.nextSibling):null;return!0}function xl(){Pt=Pn=null,at=!1}function qy(){var r=Ta;return r!==null&&(zn===null?zn=r:zn.push.apply(zn,r),Ta=null),r}function Ml(r){Ta===null?Ta=[r]:Ta.push(r)}var Td=ne(null),Sa=null,Ni=null;function ss(r,i,a){de(Td,i._currentValue),i._currentValue=a}function Oi(r){r._currentValue=Td.current,pe(Td)}function wd(r,i,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===a)break;r=r.return}}function Sd(r,i,a,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var O=0;O<i.length;O++)if(S.context===i[O]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),wd(p.return,a,r),u||(E=null);break e}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,p=E.alternate,p!==null&&(p.lanes|=a),wd(E,a,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Pl(r,i,a,u){r=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;tr(f.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(f===Yt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(uu):r=[uu])}f=f.return}r!==null&&Sd(i,r,a,u),i.flags|=262144}function Nc(r){for(r=r.firstContext;r!==null;){if(!tr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ba(r){Sa=r,Ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Tn(r){return Gy(Sa,r)}function Oc(r,i){return Sa===null&&ba(r),Gy(r,i)}function Gy(r,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(r===null)throw Error(s(308));Ni=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ni=Ni.next=i;return a}var lR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(a,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(a){return a()})}},uR=t.unstable_scheduleCallback,cR=t.unstable_NormalPriority,Xt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new lR,data:new Map,refCount:0}}function Vl(r){r.refCount--,r.refCount===0&&uR(cR,function(){r.controller.abort()})}var Ll=null,Ad=0,yo=0,_o=null;function hR(r,i){if(Ll===null){var a=Ll=[];Ad=0,yo=Cm(),_o={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Ad++,i.then(Ky,Ky),i}function Ky(){if(--Ad===0&&Ll!==null){_o!==null&&(_o.status="fulfilled");var r=Ll;Ll=null,yo=0,_o=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function fR(r,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Yy=$.S;$.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&hR(r,i),Yy!==null&&Yy(r,i)};var Aa=ne(null);function Rd(){var r=Aa.current;return r!==null?r:Tt.pooledCache}function xc(r,i){i===null?de(Aa,Aa.current):de(Aa,i.pool)}function $y(){var r=Rd();return r===null?null:{parent:Xt._currentValue,pool:r}}var kl=Error(s(460)),Qy=Error(s(474)),Mc=Error(s(542)),Cd={then:function(){}};function Wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pc(){}function Xy(r,i,a){switch(a=r[a],a===void 0?r.push(i):a!==i&&(i.then(Pc,Pc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Zy(r),r;default:if(typeof i.status=="string")i.then(Pc,Pc);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Zy(r),r}throw Ul=i,kl}}var Ul=null;function Jy(){if(Ul===null)throw Error(s(459));var r=Ul;return Ul=null,r}function Zy(r){if(r===kl||r===Mc)throw Error(s(483))}var as=!1;function Id(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ls(r,i,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Rc(r),jy(r,null,a),i}return Ac(r,u,i,a),Rc(r)}function jl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Jn(r,a)}}function Nd(r,i){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,a=a.next}while(a!==null);p===null?f=p=i:p=p.next=i}else f=p=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}var Od=!1;function zl(){if(Od){var r=_o;if(r!==null)throw r}}function Bl(r,i,a,u){Od=!1;var f=r.updateQueue;as=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,K=O.next;O.next=null,E===null?p=K:E.next=K,E=O;var te=r.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==E&&(S===null?te.firstBaseUpdate=K:S.next=K,te.lastBaseUpdate=O))}if(p!==null){var se=f.baseState;E=0,te=K=O=null,S=p;do{var Q=S.lane&-536870913,X=Q!==S.lane;if(X?(tt&Q)===Q:(u&Q)===Q){Q!==0&&Q===yo&&(Od=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Pe=r,Oe=S;Q=i;var gt=a;switch(Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){se=Pe.call(gt,se,Q);break e}se=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,Q=typeof Pe=="function"?Pe.call(gt,se,Q):Pe,Q==null)break e;se=_({},se,Q);break e;case 2:as=!0}}Q=S.callback,Q!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(K=te=X,O=se):te=te.next=X,E|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(O=se),f.baseState=O,f.firstBaseUpdate=K,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),gs|=E,r.lanes=E,r.memoizedState=se}}function e_(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function t_(r,i){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)e_(a[r],i)}var vo=ne(null),Vc=ne(0);function n_(r,i){r=Ui,de(Vc,r),de(vo,i),Ui=r|i.baseLanes}function xd(){de(Vc,Ui),de(vo,vo.current)}function Md(){Ui=Vc.current,pe(vo),pe(Vc)}var us=0,Ke=null,mt=null,Ht=null,Lc=!1,Eo=!1,Ra=!1,kc=0,Fl=0,To=null,dR=0;function jt(){throw Error(s(321))}function Pd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!tr(r[a],i[a]))return!1;return!0}function Vd(r,i,a,u,f,p){return us=p,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?j_:z_,Ra=!1,p=a(u,f),Ra=!1,Eo&&(p=i_(i,a,u,f)),r_(r),p}function r_(r){$.H=Hc;var i=mt!==null&&mt.next!==null;if(us=0,Ht=mt=Ke=null,Lc=!1,Fl=0,To=null,i)throw Error(s(300));r===null||sn||(r=r.dependencies,r!==null&&Nc(r)&&(sn=!0))}function i_(r,i,a,u){Ke=r;var f=0;do{if(Eo&&(To=null),Fl=0,Eo=!1,25<=f)throw Error(s(301));if(f+=1,Ht=mt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=ER,p=i(a,u)}while(Eo);return p}function mR(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?Hl(i):i,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(Ke.flags|=1024),i}function Ld(){var r=kc!==0;return kc=0,r}function kd(r,i,a){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~a}function Ud(r){if(Lc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lc=!1}us=0,Ht=mt=Ke=null,Eo=!1,Fl=kc=0,To=null}function Un(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ke.memoizedState=Ht=r:Ht=Ht.next=r,Ht}function qt(){if(mt===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var i=Ht===null?Ke.memoizedState:Ht.next;if(i!==null)Ht=i,mt=r;else{if(r===null)throw Ke.alternate===null?Error(s(467)):Error(s(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ht===null?Ke.memoizedState=Ht=r:Ht=Ht.next=r}return Ht}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(r){var i=Fl;return Fl+=1,To===null&&(To=[]),r=Xy(To,r,i),i=Ke,(Ht===null?i.memoizedState:Ht.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?j_:z_),r}function Uc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hl(r);if(r.$$typeof===ee)return Tn(r)}throw Error(s(438,String(r)))}function zd(r){var i=null,a=Ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=jd(),Ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(r),u=0;u<r;u++)a[u]=V;return i.index++,a}function xi(r,i){return typeof i=="function"?i(r):i}function jc(r){var i=qt();return Bd(i,mt,r)}function Bd(r,i,a){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=r.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}i.baseQueue=f=p,u.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{i=f.next;var S=E=null,O=null,K=i,te=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(tt&se)===se:(us&se)===se){var Q=K.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===yo&&(te=!0);else if((us&Q)===Q){K=K.next,Q===yo&&(te=!0);continue}else se={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=se,E=p):O=O.next=se,Ke.lanes|=Q,gs|=Q;se=K.action,Ra&&a(p,se),p=K.hasEagerState?K.eagerState:a(p,se)}else Q={lane:se,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(S=O=Q,E=p):O=O.next=Q,Ke.lanes|=se,gs|=se;K=K.next}while(K!==null&&K!==i);if(O===null?E=p:O.next=S,!tr(p,r.memoizedState)&&(sn=!0,te&&(a=_o,a!==null)))throw a;r.memoizedState=p,r.baseState=E,r.baseQueue=O,u.lastRenderedState=p}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Fd(r){var i=qt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var u=a.dispatch,f=a.pending,p=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);tr(p,i.memoizedState)||(sn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,u]}function s_(r,i,a){var u=Ke,f=qt(),p=at;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!tr((mt||f).memoizedState,a);E&&(f.memoizedState=a,sn=!0),f=f.queue;var S=l_.bind(null,u,f,r);if(ql(2048,8,S,[r]),f.getSnapshot!==i||E||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,wo(9,zc(),o_.bind(null,u,f,a,i),null),Tt===null)throw Error(s(349));p||(us&124)!==0||a_(u,i,a)}return a}function a_(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=Ke.updateQueue,i===null?(i=jd(),Ke.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function o_(r,i,a,u){i.value=a,i.getSnapshot=u,u_(i)&&c_(r)}function l_(r,i,a){return a(function(){u_(i)&&c_(r)})}function u_(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!tr(r,a)}catch{return!0}}function c_(r){var i=fo(r,2);i!==null&&or(i,r,2)}function Hd(r){var i=Un();if(typeof r=="function"){var a=r;if(r=a(),Ra){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:r},i}function h_(r,i,a,u){return r.baseState=a,Bd(r,mt,typeof u=="function"?u:xi)}function pR(r,i,a,u,f){if(Fc(r))throw Error(s(485));if(r=i.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};$.T!==null?a(!0):p.isTransition=!1,u(p),a=i.pending,a===null?(p.next=i.pending=p,f_(i,p)):(p.next=a.next,i.pending=a.next=p)}}function f_(r,i){var a=i.action,u=i.payload,f=r.state;if(i.isTransition){var p=$.T,E={};$.T=E;try{var S=a(f,u),O=$.S;O!==null&&O(E,S),d_(r,i,S)}catch(K){qd(r,i,K)}finally{$.T=p}}else try{p=a(f,u),d_(r,i,p)}catch(K){qd(r,i,K)}}function d_(r,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){m_(r,i,u)},function(u){return qd(r,i,u)}):m_(r,i,a)}function m_(r,i,a){i.status="fulfilled",i.value=a,p_(i),r.state=a,i=r.pending,i!==null&&(a=i.next,a===i?r.pending=null:(a=a.next,i.next=a,f_(r,a)))}function qd(r,i,a){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,p_(i),i=i.next;while(i!==u)}r.action=null}function p_(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function g_(r,i){return i}function y_(r,i){if(at){var a=Tt.formState;if(a!==null){e:{var u=Ke;if(at){if(Pt){t:{for(var f=Pt,p=ei;f.nodeType!==8;){if(!p){f=null;break t}if(f=qr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Pt=qr(f.nextSibling),u=f.data==="F!";break e}}wa(u)}u=!1}u&&(i=a[0])}}return a=Un(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g_,lastRenderedState:i},a.queue=u,a=L_.bind(null,Ke,u),u.dispatch=a,u=Hd(!1),p=Qd.bind(null,Ke,!1,u.queue),u=Un(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,a=pR.bind(null,Ke,f,p,a),f.dispatch=a,u.memoizedState=r,[i,a,!1]}function __(r){var i=qt();return v_(i,mt,r)}function v_(r,i,a){if(i=Bd(r,i,g_)[0],r=jc(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Hl(i)}catch(E){throw E===kl?Mc:E}else u=i;i=qt();var f=i.queue,p=f.dispatch;return a!==i.memoizedState&&(Ke.flags|=2048,wo(9,zc(),gR.bind(null,f,a),null)),[u,p,r]}function gR(r,i){r.action=i}function E_(r){var i=qt(),a=mt;if(a!==null)return v_(i,a,r);qt(),i=i.memoizedState,a=qt();var u=a.queue.dispatch;return a.memoizedState=r,[i,u,!1]}function wo(r,i,a,u){return r={tag:r,create:a,deps:u,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=jd(),Ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,i.lastEffect=r),r}function zc(){return{destroy:void 0,resource:void 0}}function T_(){return qt().memoizedState}function Bc(r,i,a,u){var f=Un();u=u===void 0?null:u,Ke.flags|=r,f.memoizedState=wo(1|i,zc(),a,u)}function ql(r,i,a,u){var f=qt();u=u===void 0?null:u;var p=f.memoizedState.inst;mt!==null&&u!==null&&Pd(u,mt.memoizedState.deps)?f.memoizedState=wo(i,p,a,u):(Ke.flags|=r,f.memoizedState=wo(1|i,p,a,u))}function w_(r,i){Bc(8390656,8,r,i)}function S_(r,i){ql(2048,8,r,i)}function b_(r,i){return ql(4,2,r,i)}function A_(r,i){return ql(4,4,r,i)}function R_(r,i){if(typeof i=="function"){r=r();var a=i(r);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function C_(r,i,a){a=a!=null?a.concat([r]):null,ql(4,4,R_.bind(null,i,r),a)}function Gd(){}function I_(r,i){var a=qt();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Pd(i,u[1])?u[0]:(a.memoizedState=[r,i],r)}function D_(r,i){var a=qt();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Pd(i,u[1]))return u[0];if(u=r(),Ra){Cn(!0);try{r()}finally{Cn(!1)}}return a.memoizedState=[u,i],u}function Kd(r,i,a){return a===void 0||(us&1073741824)!==0?r.memoizedState=i:(r.memoizedState=a,r=xv(),Ke.lanes|=r,gs|=r,a)}function N_(r,i,a,u){return tr(a,i)?a:vo.current!==null?(r=Kd(r,a,u),tr(r,i)||(sn=!0),r):(us&42)===0?(sn=!0,r.memoizedState=a):(r=xv(),Ke.lanes|=r,gs|=r,i)}function O_(r,i,a,u,f){var p=fe.p;fe.p=p!==0&&8>p?p:8;var E=$.T,S={};$.T=S,Qd(r,!1,i,a);try{var O=f(),K=$.S;if(K!==null&&K(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=fR(O,u);Gl(r,i,te,ar(r))}else Gl(r,i,u,ar(r))}catch(se){Gl(r,i,{then:function(){},status:"rejected",reason:se},ar())}finally{fe.p=p,$.T=E}}function yR(){}function Yd(r,i,a,u){if(r.tag!==5)throw Error(s(476));var f=x_(r).queue;O_(r,f,i,ge,a===null?yR:function(){return M_(r),a(u)})}function x_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function M_(r){var i=x_(r).next.queue;Gl(r,i,{},ar())}function $d(){return Tn(uu)}function P_(){return qt().memoizedState}function V_(){return qt().memoizedState}function _R(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var a=ar();r=os(a);var u=ls(i,r,a);u!==null&&(or(u,i,a),jl(u,i,a)),i={cache:bd()},r.payload=i;return}i=i.return}}function vR(r,i,a){var u=ar();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fc(r)?k_(i,a):(a=md(r,i,a,u),a!==null&&(or(a,r,u),U_(a,i,u)))}function L_(r,i,a){var u=ar();Gl(r,i,a,u)}function Gl(r,i,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fc(r))k_(i,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var E=i.lastRenderedState,S=p(E,a);if(f.hasEagerState=!0,f.eagerState=S,tr(S,E))return Ac(r,i,f,0),Tt===null&&bc(),!1}catch{}finally{}if(a=md(r,i,f,u),a!==null)return or(a,r,u),U_(a,i,u),!0}return!1}function Qd(r,i,a,u){if(u={lane:2,revertLane:Cm(),action:u,hasEagerState:!1,eagerState:null,next:null},Fc(r)){if(i)throw Error(s(479))}else i=md(r,a,u,2),i!==null&&or(i,r,2)}function Fc(r){var i=r.alternate;return r===Ke||i!==null&&i===Ke}function k_(r,i){Eo=Lc=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function U_(r,i,a){if((a&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,a|=u,i.lanes=a,Jn(r,a)}}var Hc={readContext:Tn,use:Uc,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},j_={readContext:Tn,use:Uc,useCallback:function(r,i){return Un().memoizedState=[r,i===void 0?null:i],r},useContext:Tn,useEffect:w_,useImperativeHandle:function(r,i,a){a=a!=null?a.concat([r]):null,Bc(4194308,4,R_.bind(null,i,r),a)},useLayoutEffect:function(r,i){return Bc(4194308,4,r,i)},useInsertionEffect:function(r,i){Bc(4,2,r,i)},useMemo:function(r,i){var a=Un();i=i===void 0?null:i;var u=r();if(Ra){Cn(!0);try{r()}finally{Cn(!1)}}return a.memoizedState=[u,i],u},useReducer:function(r,i,a){var u=Un();if(a!==void 0){var f=a(i);if(Ra){Cn(!0);try{a(i)}finally{Cn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=vR.bind(null,Ke,r),[u.memoizedState,r]},useRef:function(r){var i=Un();return r={current:r},i.memoizedState=r},useState:function(r){r=Hd(r);var i=r.queue,a=L_.bind(null,Ke,i);return i.dispatch=a,[r.memoizedState,a]},useDebugValue:Gd,useDeferredValue:function(r,i){var a=Un();return Kd(a,r,i)},useTransition:function(){var r=Hd(!1);return r=O_.bind(null,Ke,r.queue,!0,!1),Un().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,a){var u=Ke,f=Un();if(at){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Tt===null)throw Error(s(349));(tt&124)!==0||a_(u,i,a)}f.memoizedState=a;var p={value:a,getSnapshot:i};return f.queue=p,w_(l_.bind(null,u,p,r),[r]),u.flags|=2048,wo(9,zc(),o_.bind(null,u,p,a,i),null),a},useId:function(){var r=Un(),i=Tt.identifierPrefix;if(at){var a=Di,u=Ii;a=(u&~(1<<32-$t(u)-1)).toString(32)+a,i="«"+i+"R"+a,a=kc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=dR++,i="«"+i+"r"+a.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:$d,useFormState:y_,useActionState:y_,useOptimistic:function(r){var i=Un();i.memoizedState=i.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qd.bind(null,Ke,!0,a),a.dispatch=i,[r,i]},useMemoCache:zd,useCacheRefresh:function(){return Un().memoizedState=_R.bind(null,Ke)}},z_={readContext:Tn,use:Uc,useCallback:I_,useContext:Tn,useEffect:S_,useImperativeHandle:C_,useInsertionEffect:b_,useLayoutEffect:A_,useMemo:D_,useReducer:jc,useRef:T_,useState:function(){return jc(xi)},useDebugValue:Gd,useDeferredValue:function(r,i){var a=qt();return N_(a,mt.memoizedState,r,i)},useTransition:function(){var r=jc(xi)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Hl(r),i]},useSyncExternalStore:s_,useId:P_,useHostTransitionStatus:$d,useFormState:__,useActionState:__,useOptimistic:function(r,i){var a=qt();return h_(a,mt,r,i)},useMemoCache:zd,useCacheRefresh:V_},ER={readContext:Tn,use:Uc,useCallback:I_,useContext:Tn,useEffect:S_,useImperativeHandle:C_,useInsertionEffect:b_,useLayoutEffect:A_,useMemo:D_,useReducer:Fd,useRef:T_,useState:function(){return Fd(xi)},useDebugValue:Gd,useDeferredValue:function(r,i){var a=qt();return mt===null?Kd(a,r,i):N_(a,mt.memoizedState,r,i)},useTransition:function(){var r=Fd(xi)[0],i=qt().memoizedState;return[typeof r=="boolean"?r:Hl(r),i]},useSyncExternalStore:s_,useId:P_,useHostTransitionStatus:$d,useFormState:E_,useActionState:E_,useOptimistic:function(r,i){var a=qt();return mt!==null?h_(a,mt,r,i):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:zd,useCacheRefresh:V_},So=null,Kl=0;function qc(r){var i=Kl;return Kl+=1,So===null&&(So=[]),Xy(So,r,i)}function Yl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Gc(r,i){throw i.$$typeof===T?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function B_(r){var i=r._init;return i(r._payload)}function F_(r){function i(B,k){if(r){var q=B.deletions;q===null?(B.deletions=[k],B.flags|=16):q.push(k)}}function a(B,k){if(!r)return null;for(;k!==null;)i(B,k),k=k.sibling;return null}function u(B){for(var k=new Map;B!==null;)B.key!==null?k.set(B.key,B):k.set(B.index,B),B=B.sibling;return k}function f(B,k){return B=Ci(B,k),B.index=0,B.sibling=null,B}function p(B,k,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<k?(B.flags|=67108866,k):q):(B.flags|=67108866,k)):(B.flags|=1048576,k)}function E(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,k,q,re){return k===null||k.tag!==6?(k=gd(q,B.mode,re),k.return=B,k):(k=f(k,q),k.return=B,k)}function O(B,k,q,re){var we=q.type;return we===j?te(B,k,q.props.children,re,q.key):k!==null&&(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&B_(we)===k.type)?(k=f(k,q.props),Yl(k,q),k.return=B,k):(k=Cc(q.type,q.key,q.props,null,B.mode,re),Yl(k,q),k.return=B,k)}function K(B,k,q,re){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=yd(q,B.mode,re),k.return=B,k):(k=f(k,q.children||[]),k.return=B,k)}function te(B,k,q,re,we){return k===null||k.tag!==7?(k=_a(q,B.mode,re,we),k.return=B,k):(k=f(k,q),k.return=B,k)}function se(B,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gd(""+k,B.mode,q),k.return=B,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return q=Cc(k.type,k.key,k.props,null,B.mode,q),Yl(q,k),q.return=B,q;case I:return k=yd(k,B.mode,q),k.return=B,k;case A:var re=k._init;return k=re(k._payload),se(B,k,q)}if(Qe(k)||z(k))return k=_a(k,B.mode,q,null),k.return=B,k;if(typeof k.then=="function")return se(B,qc(k),q);if(k.$$typeof===ee)return se(B,Oc(B,k),q);Gc(B,k)}return null}function Q(B,k,q,re){var we=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return we!==null?null:S(B,k,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===we?O(B,k,q,re):null;case I:return q.key===we?K(B,k,q,re):null;case A:return we=q._init,q=we(q._payload),Q(B,k,q,re)}if(Qe(q)||z(q))return we!==null?null:te(B,k,q,re,null);if(typeof q.then=="function")return Q(B,k,qc(q),re);if(q.$$typeof===ee)return Q(B,k,Oc(B,q),re);Gc(B,q)}return null}function X(B,k,q,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(q)||null,S(k,B,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return B=B.get(re.key===null?q:re.key)||null,O(k,B,re,we);case I:return B=B.get(re.key===null?q:re.key)||null,K(k,B,re,we);case A:var Ye=re._init;return re=Ye(re._payload),X(B,k,q,re,we)}if(Qe(re)||z(re))return B=B.get(q)||null,te(k,B,re,we,null);if(typeof re.then=="function")return X(B,k,q,qc(re),we);if(re.$$typeof===ee)return X(B,k,q,Oc(k,re),we);Gc(k,re)}return null}function Pe(B,k,q,re){for(var we=null,Ye=null,Ie=k,xe=k=0,on=null;Ie!==null&&xe<q.length;xe++){Ie.index>xe?(on=Ie,Ie=null):on=Ie.sibling;var st=Q(B,Ie,q[xe],re);if(st===null){Ie===null&&(Ie=on);break}r&&Ie&&st.alternate===null&&i(B,Ie),k=p(st,k,xe),Ye===null?we=st:Ye.sibling=st,Ye=st,Ie=on}if(xe===q.length)return a(B,Ie),at&&Ea(B,xe),we;if(Ie===null){for(;xe<q.length;xe++)Ie=se(B,q[xe],re),Ie!==null&&(k=p(Ie,k,xe),Ye===null?we=Ie:Ye.sibling=Ie,Ye=Ie);return at&&Ea(B,xe),we}for(Ie=u(Ie);xe<q.length;xe++)on=X(Ie,B,xe,q[xe],re),on!==null&&(r&&on.alternate!==null&&Ie.delete(on.key===null?xe:on.key),k=p(on,k,xe),Ye===null?we=on:Ye.sibling=on,Ye=on);return r&&Ie.forEach(function(As){return i(B,As)}),at&&Ea(B,xe),we}function Oe(B,k,q,re){if(q==null)throw Error(s(151));for(var we=null,Ye=null,Ie=k,xe=k=0,on=null,st=q.next();Ie!==null&&!st.done;xe++,st=q.next()){Ie.index>xe?(on=Ie,Ie=null):on=Ie.sibling;var As=Q(B,Ie,st.value,re);if(As===null){Ie===null&&(Ie=on);break}r&&Ie&&As.alternate===null&&i(B,Ie),k=p(As,k,xe),Ye===null?we=As:Ye.sibling=As,Ye=As,Ie=on}if(st.done)return a(B,Ie),at&&Ea(B,xe),we;if(Ie===null){for(;!st.done;xe++,st=q.next())st=se(B,st.value,re),st!==null&&(k=p(st,k,xe),Ye===null?we=st:Ye.sibling=st,Ye=st);return at&&Ea(B,xe),we}for(Ie=u(Ie);!st.done;xe++,st=q.next())st=X(Ie,B,xe,st.value,re),st!==null&&(r&&st.alternate!==null&&Ie.delete(st.key===null?xe:st.key),k=p(st,k,xe),Ye===null?we=st:Ye.sibling=st,Ye=st);return r&&Ie.forEach(function(T1){return i(B,T1)}),at&&Ea(B,xe),we}function gt(B,k,q,re){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var we=q.key;k!==null;){if(k.key===we){if(we=q.type,we===j){if(k.tag===7){a(B,k.sibling),re=f(k,q.props.children),re.return=B,B=re;break e}}else if(k.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&B_(we)===k.type){a(B,k.sibling),re=f(k,q.props),Yl(re,q),re.return=B,B=re;break e}a(B,k);break}else i(B,k);k=k.sibling}q.type===j?(re=_a(q.props.children,B.mode,re,q.key),re.return=B,B=re):(re=Cc(q.type,q.key,q.props,null,B.mode,re),Yl(re,q),re.return=B,B=re)}return E(B);case I:e:{for(we=q.key;k!==null;){if(k.key===we)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(B,k.sibling),re=f(k,q.children||[]),re.return=B,B=re;break e}else{a(B,k);break}else i(B,k);k=k.sibling}re=yd(q,B.mode,re),re.return=B,B=re}return E(B);case A:return we=q._init,q=we(q._payload),gt(B,k,q,re)}if(Qe(q))return Pe(B,k,q,re);if(z(q)){if(we=z(q),typeof we!="function")throw Error(s(150));return q=we.call(q),Oe(B,k,q,re)}if(typeof q.then=="function")return gt(B,k,qc(q),re);if(q.$$typeof===ee)return gt(B,k,Oc(B,q),re);Gc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(B,k.sibling),re=f(k,q),re.return=B,B=re):(a(B,k),re=gd(q,B.mode,re),re.return=B,B=re),E(B)):a(B,k)}return function(B,k,q,re){try{Kl=0;var we=gt(B,k,q,re);return So=null,we}catch(Ie){if(Ie===kl||Ie===Mc)throw Ie;var Ye=nr(29,Ie,null,B.mode);return Ye.lanes=re,Ye.return=B,Ye}finally{}}}var bo=F_(!0),H_=F_(!1),wr=ne(null),ti=null;function cs(r){var i=r.alternate;de(Jt,Jt.current&1),de(wr,r),ti===null&&(i===null||vo.current!==null||i.memoizedState!==null)&&(ti=r)}function q_(r){if(r.tag===22){if(de(Jt,Jt.current),de(wr,r),ti===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(ti=r)}}else hs()}function hs(){de(Jt,Jt.current),de(wr,wr.current)}function Mi(r){pe(wr),ti===r&&(ti=null),pe(Jt)}var Jt=ne(0);function Kc(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Wd(r,i,a,u){i=r.memoizedState,a=a(u,i),a=a==null?i:_({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Xd={enqueueSetState:function(r,i,a){r=r._reactInternals;var u=ar(),f=os(u);f.payload=i,a!=null&&(f.callback=a),i=ls(r,f,u),i!==null&&(or(i,r,u),jl(i,r,u))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var u=ar(),f=os(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=ls(r,f,u),i!==null&&(or(i,r,u),jl(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=ar(),u=os(a);u.tag=2,i!=null&&(u.callback=i),i=ls(r,u,a),i!==null&&(or(i,r,a),jl(i,r,a))}};function G_(r,i,a,u,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):i.prototype&&i.prototype.isPureReactComponent?!Dl(a,u)||!Dl(f,p):!0}function K_(r,i,a,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==r&&Xd.enqueueReplaceState(i,i.state,null)}function Ca(r,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(r=r.defaultProps){a===i&&(a=_({},a));for(var f in r)a[f]===void 0&&(a[f]=r[f])}return a}var Yc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Y_(r){Yc(r)}function $_(r){console.error(r)}function Q_(r){Yc(r)}function $c(r,i){try{var a=r.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function W_(r,i,a){try{var u=r.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Jd(r,i,a){return a=os(a),a.tag=3,a.payload={element:null},a.callback=function(){$c(r,i)},a}function X_(r){return r=os(r),r.tag=3,r}function J_(r,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;r.payload=function(){return f(p)},r.callback=function(){W_(i,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){W_(i,a,u),typeof f!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function TR(r,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&Pl(i,a,f,!0),a=wr.current,a!==null){switch(a.tag){case 13:return ti===null?wm():a.alternate===null&&Vt===0&&(Vt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Cd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),bm(r,u,f)),!1;case 22:return a.flags|=65536,u===Cd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),bm(r,u,f)),!1}throw Error(s(435,a.tag))}return bm(r,u,f),wm(),!1}if(at)return i=wr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Ed&&(r=Error(s(422),{cause:u}),Ml(_r(r,a)))):(u!==Ed&&(i=Error(s(423),{cause:u}),Ml(_r(i,a))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=_r(u,a),f=Jd(r.stateNode,u,f),Nd(r,f),Vt!==4&&(Vt=2)),!1;var p=Error(s(520),{cause:u});if(p=_r(p,a),eu===null?eu=[p]:eu.push(p),Vt!==4&&(Vt=2),i===null)return!0;u=_r(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,r=f&-f,a.lanes|=r,r=Jd(a.stateNode,u,r),Nd(a,r),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ys===null||!ys.has(p))))return a.flags|=65536,f&=-f,a.lanes|=f,f=X_(f),J_(f,r,a,u),Nd(a,f),!1}a=a.return}while(a!==null);return!1}var Z_=Error(s(461)),sn=!1;function fn(r,i,a,u){i.child=r===null?H_(i,null,a,u):bo(i,r.child,a,u)}function ev(r,i,a,u,f){a=a.render;var p=i.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return ba(i),u=Vd(r,i,a,E,p,f),S=Ld(),r!==null&&!sn?(kd(r,i,f),Pi(r,i,f)):(at&&S&&_d(i),i.flags|=1,fn(r,i,u,f),i.child)}function tv(r,i,a,u,f){if(r===null){var p=a.type;return typeof p=="function"&&!pd(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,nv(r,i,p,u,f)):(r=Cc(a.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(p=r.child,!am(r,f)){var E=p.memoizedProps;if(a=a.compare,a=a!==null?a:Dl,a(E,u)&&r.ref===i.ref)return Pi(r,i,f)}return i.flags|=1,r=Ci(p,u),r.ref=i.ref,r.return=i,i.child=r}function nv(r,i,a,u,f){if(r!==null){var p=r.memoizedProps;if(Dl(p,u)&&r.ref===i.ref)if(sn=!1,i.pendingProps=u=p,am(r,f))(r.flags&131072)!==0&&(sn=!0);else return i.lanes=r.lanes,Pi(r,i,f)}return Zd(r,i,a,u,f)}function rv(r,i,a){var u=i.pendingProps,f=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|a:a,r!==null){for(f=i.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return iv(r,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&xc(i,p!==null?p.cachePool:null),p!==null?n_(i,p):xd(),q_(i);else return i.lanes=i.childLanes=536870912,iv(r,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(xc(i,p.cachePool),n_(i,p),hs(),i.memoizedState=null):(r!==null&&xc(i,null),xd(),hs());return fn(r,i,f,a),i.child}function iv(r,i,a,u){var f=Rd();return f=f===null?null:{parent:Xt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},r!==null&&xc(i,null),xd(),q_(i),r!==null&&Pl(r,i,u,!0),null}function Qc(r,i){var a=i.ref;if(a===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(r===null||r.ref!==a)&&(i.flags|=4194816)}}function Zd(r,i,a,u,f){return ba(i),a=Vd(r,i,a,u,void 0,f),u=Ld(),r!==null&&!sn?(kd(r,i,f),Pi(r,i,f)):(at&&u&&_d(i),i.flags|=1,fn(r,i,a,f),i.child)}function sv(r,i,a,u,f,p){return ba(i),i.updateQueue=null,a=i_(i,u,a,f),r_(r),u=Ld(),r!==null&&!sn?(kd(r,i,p),Pi(r,i,p)):(at&&u&&_d(i),i.flags|=1,fn(r,i,a,p),i.child)}function av(r,i,a,u,f){if(ba(i),i.stateNode===null){var p=mo,E=a.contextType;typeof E=="object"&&E!==null&&(p=Tn(E)),p=new a(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Id(i),E=a.contextType,p.context=typeof E=="object"&&E!==null?Tn(E):mo,p.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Wd(i,a,E,u),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Xd.enqueueReplaceState(p,p.state,null),Bl(i,u,p,f),zl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){p=i.stateNode;var S=i.memoizedProps,O=Ca(a,S);p.props=O;var K=p.context,te=a.contextType;E=mo,typeof te=="object"&&te!==null&&(E=Tn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||K!==E)&&K_(i,p,u,E),as=!1;var Q=i.memoizedState;p.state=Q,Bl(i,u,p,f),zl(),K=i.memoizedState,S||Q!==K||as?(typeof se=="function"&&(Wd(i,a,se,u),K=i.memoizedState),(O=as||G_(i,a,O,u,Q,K,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),p.props=u,p.state=K,p.context=E,u=O):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Dd(r,i),E=i.memoizedProps,te=Ca(a,E),p.props=te,se=i.pendingProps,Q=p.context,K=a.contextType,O=mo,typeof K=="object"&&K!==null&&(O=Tn(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==se||Q!==O)&&K_(i,p,u,O),as=!1,Q=i.memoizedState,p.state=Q,Bl(i,u,p,f),zl();var X=i.memoizedState;E!==se||Q!==X||as||r!==null&&r.dependencies!==null&&Nc(r.dependencies)?(typeof S=="function"&&(Wd(i,a,S,u),X=i.memoizedState),(te=as||G_(i,a,te,u,Q,X,O)||r!==null&&r.dependencies!==null&&Nc(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,O)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=X),p.props=u,p.state=X,p.context=O,u=te):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),u=!1)}return p=u,Qc(r,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,r!==null&&u?(i.child=bo(i,r.child,null,f),i.child=bo(i,null,a,f)):fn(r,i,a,f),i.memoizedState=p.state,r=i.child):r=Pi(r,i,f),r}function ov(r,i,a,u){return xl(),i.flags|=256,fn(r,i,a,u),i.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(r){return{baseLanes:r,cachePool:$y()}}function nm(r,i,a){return r=r!==null?r.childLanes&~a:0,i&&(r|=Sr),r}function lv(r,i,a){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Jt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(at){if(f?cs(i):hs(),at){var S=Pt,O;if(O=S){e:{for(O=S,S=ei;O.nodeType!==8;){if(!S){S=null;break e}if(O=qr(O.nextSibling),O===null){S=null;break e}}S=O}S!==null?(i.memoizedState={dehydrated:S,treeContext:va!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},O=nr(18,null,null,0),O.stateNode=S,O.return=i,i.child=O,Pn=i,Pt=null,O=!0):O=!1}O||wa(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return jm(S)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return S=u.children,u=u.fallback,f?(hs(),f=i.mode,S=Wc({mode:"hidden",children:S},f),u=_a(u,f,a,null),S.return=i,u.return=i,S.sibling=u,i.child=S,f=i.child,f.memoizedState=tm(a),f.childLanes=nm(r,E,a),i.memoizedState=em,u):(cs(i),rm(i,S))}if(O=r.memoizedState,O!==null&&(S=O.dehydrated,S!==null)){if(p)i.flags&256?(cs(i),i.flags&=-257,i=im(r,i,a)):i.memoizedState!==null?(hs(),i.child=r.child,i.flags|=128,i=null):(hs(),f=u.fallback,S=i.mode,u=Wc({mode:"visible",children:u.children},S),f=_a(f,S,a,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,bo(i,r.child,null,a),u=i.child,u.memoizedState=tm(a),u.childLanes=nm(r,E,a),i.memoizedState=em,i=f);else if(cs(i),jm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(s(419)),u.stack="",u.digest=E,Ml({value:u,source:null,stack:null}),i=im(r,i,a)}else if(sn||Pl(r,i,a,!1),E=(a&r.childLanes)!==0,sn||E){if(E=Tt,E!==null&&(u=a&-a,u=(u&42)!==0?1:ta(u),u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,fo(r,u),or(E,r,u),Z_;S.data==="$?"||wm(),i=im(r,i,a)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=O.treeContext,Pt=qr(S.nextSibling),Pn=i,at=!0,Ta=null,ei=!1,r!==null&&(Er[Tr++]=Ii,Er[Tr++]=Di,Er[Tr++]=va,Ii=r.id,Di=r.overflow,va=i),i=rm(i,u.children),i.flags|=4096);return i}return f?(hs(),f=u.fallback,S=i.mode,O=r.child,K=O.sibling,u=Ci(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,K!==null?f=Ci(K,f):(f=_a(f,S,a,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,S=r.child.memoizedState,S===null?S=tm(a):(O=S.cachePool,O!==null?(K=Xt._currentValue,O=O.parent!==K?{parent:K,pool:K}:O):O=$y(),S={baseLanes:S.baseLanes|a,cachePool:O}),f.memoizedState=S,f.childLanes=nm(r,E,a),i.memoizedState=em,u):(cs(i),a=r.child,r=a.sibling,a=Ci(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=a,i.memoizedState=null,a)}function rm(r,i){return i=Wc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Wc(r,i){return r=nr(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function im(r,i,a){return bo(i,r.child,null,a),r=rm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function uv(r,i,a){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),wd(r.return,i,a)}function sm(r,i,a,u,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=a,p.tailMode=f)}function cv(r,i,a){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(fn(r,i,u.children,a),u=Jt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&uv(r,a,i);else if(r.tag===19)uv(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(de(Jt,u),f){case"forwards":for(a=i.child,f=null;a!==null;)r=a.alternate,r!==null&&Kc(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),sm(i,!1,f,a,p);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Kc(r)===null){i.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}sm(i,!0,a,null,p);break;case"together":sm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),gs|=i.lanes,(a&i.childLanes)===0)if(r!==null){if(Pl(r,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,a=Ci(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Ci(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function am(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Nc(r)))}function wR(r,i,a){switch(i.tag){case 3:ot(i,i.stateNode.containerInfo),ss(i,Xt,r.memoizedState.cache),xl();break;case 27:case 5:Mt(i);break;case 4:ot(i,i.stateNode.containerInfo);break;case 10:ss(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(cs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?lv(r,i,a):(cs(i),r=Pi(r,i,a),r!==null?r.sibling:null);cs(i);break;case 19:var f=(r.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(Pl(r,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return cv(r,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),de(Jt,Jt.current),u)break;return null;case 22:case 23:return i.lanes=0,rv(r,i,a);case 24:ss(i,Xt,r.memoizedState.cache)}return Pi(r,i,a)}function hv(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps)sn=!0;else{if(!am(r,a)&&(i.flags&128)===0)return sn=!1,wR(r,i,a);sn=(r.flags&131072)!==0}else sn=!1,at&&(i.flags&1048576)!==0&&By(i,Dc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")pd(u)?(r=Ca(u,r),i.tag=1,i=av(null,i,u,r,a)):(i.tag=0,i=Zd(null,i,u,r,a));else{if(u!=null){if(f=u.$$typeof,f===he){i.tag=11,i=ev(null,i,u,r,a);break e}else if(f===N){i.tag=14,i=tv(null,i,u,r,a);break e}}throw i=Le(u)||u,Error(s(306,i,""))}}return i;case 0:return Zd(r,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Ca(u,i.pendingProps),av(r,i,u,f,a);case 3:e:{if(ot(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,Dd(r,i),Bl(i,u,null,a);var E=i.memoizedState;if(u=E.cache,ss(i,Xt,u),u!==p.cache&&Sd(i,[Xt],a,!0),zl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=ov(r,i,u,a);break e}else if(u!==f){f=_r(Error(s(424)),i),Ml(f),i=ov(r,i,u,a);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Pt=qr(r.firstChild),Pn=i,at=!0,Ta=null,ei=!0,a=H_(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xl(),u===f){i=Pi(r,i,a);break e}fn(r,i,u,a)}i=i.child}return i;case 26:return Qc(r,i),r===null?(a=pE(i.type,null,i.pendingProps,null))?i.memoizedState=a:at||(a=i.type,r=i.pendingProps,u=ch(De.current).createElement(a),u[ie]=i,u[ce]=r,mn(u,a,r),ke(u),i.stateNode=u):i.memoizedState=pE(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Mt(i),r===null&&at&&(u=i.stateNode=fE(i.type,i.pendingProps,De.current),Pn=i,ei=!0,f=Pt,Es(i.type)?(zm=f,Pt=qr(u.firstChild)):Pt=f),fn(r,i,i.pendingProps.children,a),Qc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&at&&((f=u=Pt)&&(u=WR(u,i.type,i.pendingProps,ei),u!==null?(i.stateNode=u,Pn=i,Pt=qr(u.firstChild),ei=!1,f=!0):f=!1),f||wa(i)),Mt(i),f=i.type,p=i.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,Lm(f,p)?u=null:E!==null&&Lm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Vd(r,i,mR,null,null,a),uu._currentValue=f),Qc(r,i),fn(r,i,u,a),i.child;case 6:return r===null&&at&&((r=a=Pt)&&(a=XR(a,i.pendingProps,ei),a!==null?(i.stateNode=a,Pn=i,Pt=null,r=!0):r=!1),r||wa(i)),null;case 13:return lv(r,i,a);case 4:return ot(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=bo(i,null,u,a):fn(r,i,u,a),i.child;case 11:return ev(r,i,i.type,i.pendingProps,a);case 7:return fn(r,i,i.pendingProps,a),i.child;case 8:return fn(r,i,i.pendingProps.children,a),i.child;case 12:return fn(r,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,ss(i,i.type,u.value),fn(r,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,ba(i),f=Tn(f),u=u(f),i.flags|=1,fn(r,i,u,a),i.child;case 14:return tv(r,i,i.type,i.pendingProps,a);case 15:return nv(r,i,i.type,i.pendingProps,a);case 19:return cv(r,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},r===null?(a=Wc(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ci(r.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return rv(r,i,a);case 24:return ba(i),u=Tn(Xt),r===null?(f=Rd(),f===null&&(f=Tt,p=bd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=a),f=p),i.memoizedState={parent:u,cache:f},Id(i),ss(i,Xt,f)):((r.lanes&a)!==0&&(Dd(r,i),Bl(i,null,null,a),zl()),f=r.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ss(i,Xt,u)):(u=p.cache,ss(i,Xt,u),u!==f.cache&&Sd(i,[Xt],a,!0))),fn(r,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(r){r.flags|=4}function fv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!EE(i)){if(i=wr.current,i!==null&&((tt&4194048)===tt?ti!==null:(tt&62914560)!==tt&&(tt&536870912)===0||i!==ti))throw Ul=Cd,Qy;r.flags|=8192}}function Xc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Xr():536870912,r.lanes|=i,Io|=i)}function $l(r,i){if(!at)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Nt(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(i)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=a,i}function SR(r,i,a){var u=i.pendingProps;switch(vd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Nt(i),null;case 3:return a=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Oi(Xt),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Ol(i)?Vi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qy())),Nt(i),null;case 26:return a=i.memoizedState,r===null?(Vi(i),a!==null?(Nt(i),fv(i,a)):(Nt(i),i.flags&=-16777217)):a?a!==r.memoizedState?(Vi(i),Nt(i),fv(i,a)):(Nt(i),i.flags&=-16777217):(r.memoizedProps!==u&&Vi(i),Nt(i),i.flags&=-16777217),null;case 27:Kn(i),a=De.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Nt(i),null}r=Ee.current,Ol(i)?Fy(i):(r=fE(f,u,a),i.stateNode=r,Vi(i))}return Nt(i),null;case 5:if(Kn(i),a=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Nt(i),null}if(r=Ee.current,Ol(i))Fy(i);else{switch(f=ch(De.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}r[ie]=i,r[ce]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(mn(r,a,u),a){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vi(i)}}return Nt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Vi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=De.current,Ol(i)){if(r=i.stateNode,a=i.memoizedProps,u=null,f=Pn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[ie]=i,r=!!(r.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||sE(r.nodeValue,a)),r||wa(i)}else r=ch(r).createTextNode(u),r[ie]=i,i.stateNode=r}return Nt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ol(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ie]=i}else xl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),f=!1}else f=qy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,r=r!==null&&r.memoizedState!==null,a){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return a!==r&&a&&(i.child.flags|=8192),Xc(i,i.updateQueue),Nt(i),null;case 4:return Gn(),r===null&&Om(i.stateNode.containerInfo),Nt(i),null;case 10:return Oi(i.type),Nt(i),null;case 19:if(pe(Jt),f=i.memoizedState,f===null)return Nt(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)$l(f,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(p=Kc(r),p!==null){for(i.flags|=128,$l(f,!1),r=p.updateQueue,i.updateQueue=r,Xc(i,r),i.subtreeFlags=0,r=a,a=i.child;a!==null;)zy(a,r),a=a.sibling;return de(Jt,Jt.current&1|2),i.child}r=r.sibling}f.tail!==null&&cn()>eh&&(i.flags|=128,u=!0,$l(f,!1),i.lanes=4194304)}else{if(!u)if(r=Kc(p),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,Xc(i,r),$l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!at)return Nt(i),null}else 2*cn()-f.renderingStartTime>eh&&a!==536870912&&(i.flags|=128,u=!0,$l(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(r=f.last,r!==null?r.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=cn(),i.sibling=null,r=Jt.current,de(Jt,u?r&1|2:r&1),i):(Nt(i),null);case 22:case 23:return Mi(i),Md(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),a=i.updateQueue,a!==null&&Xc(i,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),r!==null&&pe(Aa),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(Xt),Nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bR(r,i){switch(vd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Oi(Xt),Gn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Kn(i),null;case 13:if(Mi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pe(Jt),null;case 4:return Gn(),null;case 10:return Oi(i.type),null;case 22:case 23:return Mi(i),Md(),r!==null&&pe(Aa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Oi(Xt),null;case 25:return null;default:return null}}function dv(r,i){switch(vd(i),i.tag){case 3:Oi(Xt),Gn();break;case 26:case 27:case 5:Kn(i);break;case 4:Gn();break;case 13:Mi(i);break;case 19:pe(Jt);break;case 10:Oi(i.type);break;case 22:case 23:Mi(i),Md(),r!==null&&pe(Aa);break;case 24:Oi(Xt)}}function Ql(r,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&r)===r){u=void 0;var p=a.create,E=a.inst;u=p(),E.destroy=u}a=a.next}while(a!==f)}}catch(S){yt(i,i.return,S)}}function fs(r,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=i;var O=a,K=S;try{K()}catch(te){yt(f,O,te)}}}u=u.next}while(u!==p)}}catch(te){yt(i,i.return,te)}}function mv(r){var i=r.updateQueue;if(i!==null){var a=r.stateNode;try{t_(i,a)}catch(u){yt(r,r.return,u)}}}function pv(r,i,a){a.props=Ca(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(u){yt(r,i,u)}}function Wl(r,i){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof a=="function"?r.refCleanup=a(u):a.current=u}}catch(f){yt(r,i,f)}}function ni(r,i){var a=r.ref,u=r.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){yt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){yt(r,i,f)}else a.current=null}function gv(r){var i=r.type,a=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){yt(r,r.return,f)}}function om(r,i,a){try{var u=r.stateNode;GR(u,r.type,a,i),u[ce]=i}catch(f){yt(r,r.return,f)}}function yv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Es(r.type)||r.tag===4}function lm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Es(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function um(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(r),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uh));else if(u!==4&&(u===27&&Es(r.type)&&(a=r.stateNode,i=null),r=r.child,r!==null))for(um(r,i,a),r=r.sibling;r!==null;)um(r,i,a),r=r.sibling}function Jc(r,i,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(u!==4&&(u===27&&Es(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Jc(r,i,a),r=r.sibling;r!==null;)Jc(r,i,a),r=r.sibling}function _v(r){var i=r.stateNode,a=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);mn(i,u,a),i[ie]=r,i[ce]=a}catch(p){yt(r,r.return,p)}}var Li=!1,zt=!1,cm=!1,vv=typeof WeakSet=="function"?WeakSet:Set,an=null;function AR(r,i){if(r=r.containerInfo,Pm=gh,r=Ny(r),ld(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var E=0,S=-1,O=-1,K=0,te=0,se=r,Q=null;t:for(;;){for(var X;se!==a||f!==0&&se.nodeType!==3||(S=E+f),se!==p||u!==0&&se.nodeType!==3||(O=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(X=se.firstChild)!==null;)Q=se,se=X;for(;;){if(se===r)break t;if(Q===a&&++K===f&&(S=E),Q===p&&++te===u&&(O=E),(X=se.nextSibling)!==null)break;se=Q,Q=se.parentNode}se=X}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vm={focusedElem:r,selectionRange:a},gh=!1,an=i;an!==null;)if(i=an,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,an=r;else for(;an!==null;){switch(i=an,p=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,a=i,f=p.memoizedProps,p=p.memoizedState,u=a.stateNode;try{var Pe=Ca(a.type,f,a.elementType===a.type);r=u.getSnapshotBeforeUpdate(Pe,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){yt(a,a.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,a=r.nodeType,a===9)Um(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Um(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,an=r;break}an=i.return}}function Ev(r,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ds(r,a),u&4&&Ql(5,a);break;case 1:if(ds(r,a),u&4)if(r=a.stateNode,i===null)try{r.componentDidMount()}catch(E){yt(a,a.return,E)}else{var f=Ca(a.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){yt(a,a.return,E)}}u&64&&mv(a),u&512&&Wl(a,a.return);break;case 3:if(ds(r,a),u&64&&(r=a.updateQueue,r!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{t_(r,i)}catch(E){yt(a,a.return,E)}}break;case 27:i===null&&u&4&&_v(a);case 26:case 5:ds(r,a),i===null&&u&4&&gv(a),u&512&&Wl(a,a.return);break;case 12:ds(r,a);break;case 13:ds(r,a),u&4&&Sv(r,a),u&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=PR.bind(null,a),JR(r,a))));break;case 22:if(u=a.memoizedState!==null||Li,!u){i=i!==null&&i.memoizedState!==null||zt,f=Li;var p=zt;Li=u,(zt=i)&&!p?ms(r,a,(a.subtreeFlags&8772)!==0):ds(r,a),Li=f,zt=p}break;case 30:break;default:ds(r,a)}}function Tv(r){var i=r.alternate;i!==null&&(r.alternate=null,Tv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&be(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ct=null,jn=!1;function ki(r,i,a){for(a=a.child;a!==null;)wv(r,i,a),a=a.sibling}function wv(r,i,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(hn,a)}catch{}switch(a.tag){case 26:zt||ni(a,i),ki(r,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||ni(a,i);var u=Ct,f=jn;Es(a.type)&&(Ct=a.stateNode,jn=!1),ki(r,i,a),su(a.stateNode),Ct=u,jn=f;break;case 5:zt||ni(a,i);case 6:if(u=Ct,f=jn,Ct=null,ki(r,i,a),Ct=u,jn=f,Ct!==null)if(jn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(p){yt(a,i,p)}else try{Ct.removeChild(a.stateNode)}catch(p){yt(a,i,p)}break;case 18:Ct!==null&&(jn?(r=Ct,cE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),du(r)):cE(Ct,a.stateNode));break;case 4:u=Ct,f=jn,Ct=a.stateNode.containerInfo,jn=!0,ki(r,i,a),Ct=u,jn=f;break;case 0:case 11:case 14:case 15:zt||fs(2,a,i),zt||fs(4,a,i),ki(r,i,a);break;case 1:zt||(ni(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&pv(a,i,u)),ki(r,i,a);break;case 21:ki(r,i,a);break;case 22:zt=(u=zt)||a.memoizedState!==null,ki(r,i,a),zt=u;break;default:ki(r,i,a)}}function Sv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{du(r)}catch(a){yt(i,i.return,a)}}function RR(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new vv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new vv),i;default:throw Error(s(435,r.tag))}}function hm(r,i){var a=RR(r);i.forEach(function(u){var f=VR.bind(null,r,u);a.has(u)||(a.add(u),u.then(f,f))})}function rr(r,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],p=r,E=i,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Es(S.type)){Ct=S.stateNode,jn=!1;break e}break;case 5:Ct=S.stateNode,jn=!1;break e;case 3:case 4:Ct=S.stateNode.containerInfo,jn=!0;break e}S=S.return}if(Ct===null)throw Error(s(160));wv(p,E,f),Ct=null,jn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)bv(i,r),i=i.sibling}var Hr=null;function bv(r,i){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(i,r),ir(r),u&4&&(fs(3,r,r.return),Ql(3,r),fs(5,r,r.return));break;case 1:rr(i,r),ir(r),u&512&&(zt||a===null||ni(a,a.return)),u&64&&Li&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Hr;if(rr(i,r),ir(r),u&512&&(zt||a===null||ni(a,a.return)),u&4){var p=a!==null?a.memoizedState:null;if(u=r.memoizedState,a===null)if(u===null)if(r.stateNode===null){e:{u=r.type,a=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Te]||p[ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),mn(p,u,a),p[ie]=r,ke(p),u=p;break e;case"link":var E=_E("link","href",f).get(u+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}p=f.createElement(u),mn(p,u,a),f.head.appendChild(p);break;case"meta":if(E=_E("meta","content",f).get(u+(a.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}p=f.createElement(u),mn(p,u,a),f.head.appendChild(p);break;default:throw Error(s(468,u))}p[ie]=r,ke(p),u=p}r.stateNode=u}else vE(f,r.type,r.stateNode);else r.stateNode=yE(f,u,r.memoizedProps);else p!==u?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,u===null?vE(f,r.type,r.stateNode):yE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&om(r,r.memoizedProps,a.memoizedProps)}break;case 27:rr(i,r),ir(r),u&512&&(zt||a===null||ni(a,a.return)),a!==null&&u&4&&om(r,r.memoizedProps,a.memoizedProps);break;case 5:if(rr(i,r),ir(r),u&512&&(zt||a===null||ni(a,a.return)),r.flags&32){f=r.stateNode;try{gr(f,"")}catch(X){yt(r,r.return,X)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,om(r,f,a!==null?a.memoizedProps:f)),u&1024&&(cm=!0);break;case 6:if(rr(i,r),ir(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,a=r.stateNode;try{a.nodeValue=u}catch(X){yt(r,r.return,X)}}break;case 3:if(dh=null,f=Hr,Hr=hh(i.containerInfo),rr(i,r),Hr=f,ir(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{du(i.containerInfo)}catch(X){yt(r,r.return,X)}cm&&(cm=!1,Av(r));break;case 4:u=Hr,Hr=hh(r.stateNode.containerInfo),rr(i,r),ir(r),Hr=u;break;case 12:rr(i,r),ir(r);break;case 13:rr(i,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ym=cn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hm(r,u)));break;case 22:f=r.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,K=Li,te=zt;if(Li=K||f,zt=te||O,rr(i,r),zt=te,Li=K,ir(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||O||Li||zt||Ia(r)),a=null,i=r;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(p=O.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var se=O.memoizedProps.style,Q=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){yt(O,O.return,X)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(X){yt(O,O.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,hm(r,a))));break;case 19:rr(i,r),ir(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hm(r,u)));break;case 30:break;case 21:break;default:rr(i,r),ir(r)}}function ir(r){var i=r.flags;if(i&2){try{for(var a,u=r.return;u!==null;){if(yv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,p=lm(r);Jc(r,p,f);break;case 5:var E=a.stateNode;a.flags&32&&(gr(E,""),a.flags&=-33);var S=lm(r);Jc(r,S,E);break;case 3:case 4:var O=a.stateNode.containerInfo,K=lm(r);um(r,K,O);break;default:throw Error(s(161))}}catch(te){yt(r,r.return,te)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Av(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ds(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ev(r,i.alternate,i),i=i.sibling}function Ia(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:fs(4,i,i.return),Ia(i);break;case 1:ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&pv(i,i.return,a),Ia(i);break;case 27:su(i.stateNode);case 26:case 5:ni(i,i.return),Ia(i);break;case 22:i.memoizedState===null&&Ia(i);break;case 30:Ia(i);break;default:Ia(i)}r=r.sibling}}function ms(r,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,p=i,E=p.flags;switch(p.tag){case 0:case 11:case 15:ms(f,p,a),Ql(4,p);break;case 1:if(ms(f,p,a),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){yt(u,u.return,K)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)e_(O[f],S)}catch(K){yt(u,u.return,K)}}a&&E&64&&mv(p),Wl(p,p.return);break;case 27:_v(p);case 26:case 5:ms(f,p,a),a&&u===null&&E&4&&gv(p),Wl(p,p.return);break;case 12:ms(f,p,a);break;case 13:ms(f,p,a),a&&E&4&&Sv(f,p);break;case 22:p.memoizedState===null&&ms(f,p,a),Wl(p,p.return);break;case 30:break;default:ms(f,p,a)}i=i.sibling}}function fm(r,i){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Vl(a))}function dm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Vl(r))}function ri(r,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(r,i,a,u),i=i.sibling}function Rv(r,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ri(r,i,a,u),f&2048&&Ql(9,i);break;case 1:ri(r,i,a,u);break;case 3:ri(r,i,a,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Vl(r)));break;case 12:if(f&2048){ri(r,i,a,u),r=i.stateNode;try{var p=i.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){yt(i,i.return,O)}}else ri(r,i,a,u);break;case 13:ri(r,i,a,u);break;case 23:break;case 22:p=i.stateNode,E=i.alternate,i.memoizedState!==null?p._visibility&2?ri(r,i,a,u):Xl(r,i):p._visibility&2?ri(r,i,a,u):(p._visibility|=2,Ao(r,i,a,u,(i.subtreeFlags&10256)!==0)),f&2048&&fm(E,i);break;case 24:ri(r,i,a,u),f&2048&&dm(i.alternate,i);break;default:ri(r,i,a,u)}}function Ao(r,i,a,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=r,E=i,S=a,O=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:Ao(p,E,S,O,f),Ql(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Ao(p,E,S,O,f):Xl(p,E):(te._visibility|=2,Ao(p,E,S,O,f)),f&&K&2048&&fm(E.alternate,E);break;case 24:Ao(p,E,S,O,f),f&&K&2048&&dm(E.alternate,E);break;default:Ao(p,E,S,O,f)}i=i.sibling}}function Xl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=r,u=i,f=u.flags;switch(u.tag){case 22:Xl(a,u),f&2048&&fm(u.alternate,u);break;case 24:Xl(a,u),f&2048&&dm(u.alternate,u);break;default:Xl(a,u)}i=i.sibling}}var Jl=8192;function Ro(r){if(r.subtreeFlags&Jl)for(r=r.child;r!==null;)Cv(r),r=r.sibling}function Cv(r){switch(r.tag){case 26:Ro(r),r.flags&Jl&&r.memoizedState!==null&&h1(Hr,r.memoizedState,r.memoizedProps);break;case 5:Ro(r);break;case 3:case 4:var i=Hr;Hr=hh(r.stateNode.containerInfo),Ro(r),Hr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Jl,Jl=16777216,Ro(r),Jl=i):Ro(r));break;default:Ro(r)}}function Iv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Zl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];an=u,Nv(u,r)}Iv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Dv(r),r=r.sibling}function Dv(r){switch(r.tag){case 0:case 11:case 15:Zl(r),r.flags&2048&&fs(9,r,r.return);break;case 3:Zl(r);break;case 12:Zl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Zc(r)):Zl(r);break;default:Zl(r)}}function Zc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];an=u,Nv(u,r)}Iv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:fs(8,i,i.return),Zc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(i));break;default:Zc(i)}r=r.sibling}}function Nv(r,i){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:fs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,an=u;else e:for(a=r;an!==null;){u=an;var f=u.sibling,p=u.return;if(Tv(u),u===a){an=null;break e}if(f!==null){f.return=p,an=f;break e}an=p}}}var CR={getCacheForType:function(r){var i=Tn(Xt),a=i.data.get(r);return a===void 0&&(a=r(),i.data.set(r,a)),a}},IR=typeof WeakMap=="function"?WeakMap:Map,ht=0,Tt=null,We=null,tt=0,ft=0,sr=null,ps=!1,Co=!1,mm=!1,Ui=0,Vt=0,gs=0,Da=0,pm=0,Sr=0,Io=0,eu=null,zn=null,gm=!1,ym=0,eh=1/0,th=null,ys=null,dn=0,_s=null,Do=null,No=0,_m=0,vm=null,Ov=null,tu=0,Em=null;function ar(){if((ht&2)!==0&&tt!==0)return tt&-tt;if($.T!==null){var r=yo;return r!==0?r:Cm()}return x()}function xv(){Sr===0&&(Sr=(tt&536870912)===0||at?Ti():536870912);var r=wr.current;return r!==null&&(r.flags|=32),Sr}function or(r,i,a){(r===Tt&&(ft===2||ft===9)||r.cancelPendingCommit!==null)&&(Oo(r,0),vs(r,tt,Sr,!1)),It(r,a),((ht&2)===0||r!==Tt)&&(r===Tt&&((ht&2)===0&&(Da|=a),Vt===4&&vs(r,tt,Sr,!1)),ii(r))}function Mv(r,i,a){if((ht&6)!==0)throw Error(s(327));var u=!a&&(i&124)===0&&(i&r.expiredLanes)===0||Wn(r,i),f=u?OR(r,i):Sm(r,i,!0),p=u;do{if(f===0){Co&&!u&&vs(r,i,0,!1);break}else{if(a=r.current.alternate,p&&!DR(a)){f=Sm(r,i,!1),p=!1;continue}if(f===2){if(p=i,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var S=r;f=eu;var O=S.current.memoizedState.isDehydrated;if(O&&(Oo(S,E).flags|=256),E=Sm(S,E,!1),E!==2){if(mm&&!O){S.errorRecoveryDisabledLanes|=p,Da|=p,f=4;break e}p=zn,zn=f,p!==null&&(zn===null?zn=p:zn.push.apply(zn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Oo(r,0),vs(r,i,0,!0);break}e:{switch(u=r,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:vs(u,i,Sr,!ps);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=ym+300-cn(),10<f)){if(vs(u,i,Sr,!ps),In(u,0,!0)!==0)break e;u.timeoutHandle=lE(Pv.bind(null,u,a,zn,th,gm,i,Sr,Da,Io,ps,p,2,-0,0),f);break e}Pv(u,a,zn,th,gm,i,Sr,Da,Io,ps,p,0,-0,0)}}break}while(!0);ii(r)}function Pv(r,i,a,u,f,p,E,S,O,K,te,se,Q,X){if(r.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(lu={stylesheets:null,count:0,unsuspend:c1},Cv(i),se=f1(),se!==null)){r.cancelPendingCommit=se(Bv.bind(null,r,i,p,a,u,f,E,S,O,te,1,Q,X)),vs(r,p,E,!K);return}Bv(r,i,p,a,u,f,E,S,O)}function DR(r){for(var i=r;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],p=f.getSnapshot;f=f.value;try{if(!tr(p(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vs(r,i,a,u){i&=~pm,i&=~Da,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var p=31-$t(f),E=1<<p;u[p]=-1,f&=~E}a!==0&&Xn(r,a,i)}function nh(){return(ht&6)===0?(nu(0),!1):!0}function Tm(){if(We!==null){if(ft===0)var r=We.return;else r=We,Ni=Sa=null,Ud(r),So=null,Kl=0,r=We;for(;r!==null;)dv(r.alternate,r),r=r.return;We=null}}function Oo(r,i){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,YR(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Tm(),Tt=r,We=a=Ci(r.current,null),tt=i,ft=0,sr=null,ps=!1,Co=Wn(r,i),mm=!1,Io=Sr=pm=Da=gs=Vt=0,zn=eu=null,gm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-$t(u),p=1<<f;i|=r[f],u&=~p}return Ui=i,bc(),a}function Vv(r,i){Ke=null,$.H=Hc,i===kl||i===Mc?(i=Jy(),ft=3):i===Qy?(i=Jy(),ft=4):ft=i===Z_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sr=i,We===null&&(Vt=1,$c(r,_r(i,r.current)))}function Lv(){var r=$.H;return $.H=Hc,r===null?Hc:r}function kv(){var r=$.A;return $.A=CR,r}function wm(){Vt=4,ps||(tt&4194048)!==tt&&wr.current!==null||(Co=!0),(gs&134217727)===0&&(Da&134217727)===0||Tt===null||vs(Tt,tt,Sr,!1)}function Sm(r,i,a){var u=ht;ht|=2;var f=Lv(),p=kv();(Tt!==r||tt!==i)&&(th=null,Oo(r,i)),i=!1;var E=Vt;e:do try{if(ft!==0&&We!==null){var S=We,O=sr;switch(ft){case 8:Tm(),E=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(i=!0);var K=ft;if(ft=0,sr=null,xo(r,S,O,K),a&&Co){E=0;break e}break;default:K=ft,ft=0,sr=null,xo(r,S,O,K)}}NR(),E=Vt;break}catch(te){Vv(r,te)}while(!0);return i&&r.shellSuspendCounter++,Ni=Sa=null,ht=u,$.H=f,$.A=p,We===null&&(Tt=null,tt=0,bc()),E}function NR(){for(;We!==null;)Uv(We)}function OR(r,i){var a=ht;ht|=2;var u=Lv(),f=kv();Tt!==r||tt!==i?(th=null,eh=cn()+500,Oo(r,i)):Co=Wn(r,i);e:do try{if(ft!==0&&We!==null){i=We;var p=sr;t:switch(ft){case 1:ft=0,sr=null,xo(r,i,p,1);break;case 2:case 9:if(Wy(p)){ft=0,sr=null,jv(i);break}i=function(){ft!==2&&ft!==9||Tt!==r||(ft=7),ii(r)},p.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Wy(p)?(ft=0,sr=null,jv(i)):(ft=0,sr=null,xo(r,i,p,7));break;case 5:var E=null;switch(We.tag){case 26:E=We.memoizedState;case 5:case 27:var S=We;if(!E||EE(E)){ft=0,sr=null;var O=S.sibling;if(O!==null)We=O;else{var K=S.return;K!==null?(We=K,rh(K)):We=null}break t}}ft=0,sr=null,xo(r,i,p,5);break;case 6:ft=0,sr=null,xo(r,i,p,6);break;case 8:Tm(),Vt=6;break e;default:throw Error(s(462))}}xR();break}catch(te){Vv(r,te)}while(!0);return Ni=Sa=null,$.H=u,$.A=f,ht=a,We!==null?0:(Tt=null,tt=0,bc(),Vt)}function xR(){for(;We!==null&&!fl();)Uv(We)}function Uv(r){var i=hv(r.alternate,r,Ui);r.memoizedProps=r.pendingProps,i===null?rh(r):We=i}function jv(r){var i=r,a=i.alternate;switch(i.tag){case 15:case 0:i=sv(a,i,i.pendingProps,i.type,void 0,tt);break;case 11:i=sv(a,i,i.pendingProps,i.type.render,i.ref,tt);break;case 5:Ud(i);default:dv(a,i),i=We=zy(i,Ui),i=hv(a,i,Ui)}r.memoizedProps=r.pendingProps,i===null?rh(r):We=i}function xo(r,i,a,u){Ni=Sa=null,Ud(i),So=null,Kl=0;var f=i.return;try{if(TR(r,f,i,a,tt)){Vt=1,$c(r,_r(a,r.current)),We=null;return}}catch(p){if(f!==null)throw We=f,p;Vt=1,$c(r,_r(a,r.current)),We=null;return}i.flags&32768?(at||u===1?r=!0:Co||(tt&536870912)!==0?r=!1:(ps=r=!0,(u===2||u===9||u===3||u===6)&&(u=wr.current,u!==null&&u.tag===13&&(u.flags|=16384))),zv(i,r)):rh(i)}function rh(r){var i=r;do{if((i.flags&32768)!==0){zv(i,ps);return}r=i.return;var a=SR(i.alternate,i,Ui);if(a!==null){We=a;return}if(i=i.sibling,i!==null){We=i;return}We=i=r}while(i!==null);Vt===0&&(Vt=5)}function zv(r,i){do{var a=bR(r.alternate,r);if(a!==null){a.flags&=32767,We=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(r=r.sibling,r!==null)){We=r;return}We=r=a}while(r!==null);Vt=6,We=null}function Bv(r,i,a,u,f,p,E,S,O){r.cancelPendingCommit=null;do ih();while(dn!==0);if((ht&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=dd,ea(r,a,p,E,S,O),r===Tt&&(We=Tt=null,tt=0),Do=i,_s=r,No=a,_m=p,vm=f,Ov=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,LR(Nr,function(){return Kv(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,f=fe.p,fe.p=2,E=ht,ht|=4;try{AR(r,i,a)}finally{ht=E,fe.p=f,$.T=u}}dn=1,Fv(),Hv(),qv()}}function Fv(){if(dn===1){dn=0;var r=_s,i=Do,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{bv(i,r);var p=Vm,E=Ny(r.containerInfo),S=p.focusedElem,O=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&Dy(S.ownerDocument.documentElement,S)){if(O!==null&&ld(S)){var K=O.start,te=O.end;if(te===void 0&&(te=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,Q=se&&se.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Pe=S.textContent.length,Oe=Math.min(O.start,Pe),gt=O.end===void 0?Oe:Math.min(O.end,Pe);!X.extend&&Oe>gt&&(E=gt,gt=Oe,Oe=E);var B=Iy(S,Oe),k=Iy(S,gt);if(B&&k&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var q=se.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),Oe>gt?(X.addRange(q),X.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),X.addRange(q))}}}}for(se=[],X=S;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}gh=!!Pm,Vm=Pm=null}finally{ht=f,fe.p=u,$.T=a}}r.current=i,dn=2}}function Hv(){if(dn===2){dn=0;var r=_s,i=Do,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var u=fe.p;fe.p=2;var f=ht;ht|=4;try{Ev(r,i.alternate,i)}finally{ht=f,fe.p=u,$.T=a}}dn=3}}function qv(){if(dn===4||dn===3){dn=0,Js();var r=_s,i=Do,a=No,u=Ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,Do=_s=null,Gv(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(ys=null),na(a),i=i.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(hn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,f=fe.p,fe.p=2,$.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{$.T=i,fe.p=f}}(No&3)!==0&&ih(),ii(r),f=r.pendingLanes,(a&4194090)!==0&&(f&42)!==0?r===Em?tu++:(tu=0,Em=r):tu=0,nu(0)}}function Gv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Vl(i)))}function ih(r){return Fv(),Hv(),qv(),Kv()}function Kv(){if(dn!==5)return!1;var r=_s,i=_m;_m=0;var a=na(No),u=$.T,f=fe.p;try{fe.p=32>a?32:a,$.T=null,a=vm,vm=null;var p=_s,E=No;if(dn=0,Do=_s=null,No=0,(ht&6)!==0)throw Error(s(331));var S=ht;if(ht|=4,Dv(p.current),Rv(p,p.current,E,a),ht=S,nu(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(hn,p)}catch{}return!0}finally{fe.p=f,$.T=u,Gv(r,i)}}function Yv(r,i,a){i=_r(a,i),i=Jd(r.stateNode,i,2),r=ls(r,i,2),r!==null&&(It(r,2),ii(r))}function yt(r,i,a){if(r.tag===3)Yv(r,r,a);else for(;i!==null;){if(i.tag===3){Yv(i,r,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ys===null||!ys.has(u))){r=_r(a,r),a=X_(2),u=ls(i,a,2),u!==null&&(J_(a,u,i,r),It(u,2),ii(u));break}}i=i.return}}function bm(r,i,a){var u=r.pingCache;if(u===null){u=r.pingCache=new IR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(mm=!0,f.add(a),r=MR.bind(null,r,i,a),i.then(r,r))}function MR(r,i,a){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Tt===r&&(tt&a)===a&&(Vt===4||Vt===3&&(tt&62914560)===tt&&300>cn()-ym?(ht&2)===0&&Oo(r,0):pm|=a,Io===tt&&(Io=0)),ii(r)}function $v(r,i){i===0&&(i=Xr()),r=fo(r,i),r!==null&&(It(r,i),ii(r))}function PR(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),$v(r,a)}function VR(r,i){var a=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),$v(r,a)}function LR(r,i){return vi(r,i)}var sh=null,Mo=null,Am=!1,ah=!1,Rm=!1,Na=0;function ii(r){r!==Mo&&r.next===null&&(Mo===null?sh=Mo=r:Mo=Mo.next=r),ah=!0,Am||(Am=!0,UR())}function nu(r,i){if(!Rm&&ah){Rm=!0;do for(var a=!1,u=sh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-$t(42|r)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,Jv(u,p))}else p=tt,p=In(u,u===Tt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Wn(u,p)||(a=!0,Jv(u,p));u=u.next}while(a);Rm=!1}}function kR(){Qv()}function Qv(){ah=Am=!1;var r=0;Na!==0&&(KR()&&(r=Na),Na=0);for(var i=cn(),a=null,u=sh;u!==null;){var f=u.next,p=Wv(u,i);p===0?(u.next=null,a===null?sh=f:a.next=f,f===null&&(Mo=a)):(a=u,(r!==0||(p&3)!==0)&&(ah=!0)),u=f}nu(r)}function Wv(r,i){for(var a=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-$t(p),S=1<<E,O=f[E];O===-1?((S&a)===0||(S&u)!==0)&&(f[E]=Ei(S,i)):O<=i&&(r.expiredLanes|=S),p&=~S}if(i=Tt,a=tt,a=In(r,r===i?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,a===0||r===i&&(ft===2||ft===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ln(u),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Wn(r,a)){if(i=a&-a,i===r.callbackPriority)return i;switch(u!==null&&Ln(u),na(a)){case 2:case 8:a=Ft;break;case 32:a=Nr;break;case 268435456:a=xr;break;default:a=Nr}return u=Xv.bind(null,r),a=vi(a,u),r.callbackPriority=i,r.callbackNode=a,i}return u!==null&&u!==null&&Ln(u),r.callbackPriority=2,r.callbackNode=null,2}function Xv(r,i){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(ih()&&r.callbackNode!==a)return null;var u=tt;return u=In(r,r===Tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Mv(r,u,i),Wv(r,cn()),r.callbackNode!=null&&r.callbackNode===a?Xv.bind(null,r):null)}function Jv(r,i){if(ih())return null;Mv(r,i,!0)}function UR(){$R(function(){(ht&6)!==0?vi(kt,kR):Qv()})}function Cm(){return Na===0&&(Na=Ti()),Na}function Zv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ur(""+r)}function eE(r,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,r.id&&a.setAttribute("form",r.id),i.parentNode.insertBefore(a,i),r=new FormData(r),a.parentNode.removeChild(a),r}function jR(r,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var p=Zv((f[ce]||null).action),E=u.submitter;E&&(i=(i=E[ce]||null)?Zv(i.formAction):E.getAttribute("formAction"),i!==null&&(p=i,E=null));var S=new ua("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Na!==0){var O=E?eE(f,E):new FormData(f);Yd(a,{pending:!0,data:O,method:f.method,action:p},null,O)}}else typeof p=="function"&&(S.preventDefault(),O=E?eE(f,E):new FormData(f),Yd(a,{pending:!0,data:O,method:f.method,action:p},p,O))},currentTarget:f}]})}}for(var Im=0;Im<fd.length;Im++){var Dm=fd[Im],zR=Dm.toLowerCase(),BR=Dm[0].toUpperCase()+Dm.slice(1);Fr(zR,"on"+BR)}Fr(My,"onAnimationEnd"),Fr(Py,"onAnimationIteration"),Fr(Vy,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(iR,"onTransitionRun"),Fr(sR,"onTransitionStart"),Fr(aR,"onTransitionCancel"),Fr(Ly,"onTransitionEnd"),Qt("onMouseEnter",["mouseout","mouseover"]),Qt("onMouseLeave",["mouseout","mouseover"]),Qt("onPointerEnter",["pointerout","pointerover"]),Qt("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function tE(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var E=u.length-1;0<=E;E--){var S=u[E],O=S.instance,K=S.currentTarget;if(S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(te){Yc(te)}f.currentTarget=null,p=O}else for(E=0;E<u.length;E++){if(S=u[E],O=S.instance,K=S.currentTarget,S=S.listener,O!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=K;try{p(f)}catch(te){Yc(te)}f.currentTarget=null,p=O}}}}function Xe(r,i){var a=i[Se];a===void 0&&(a=i[Se]=new Set);var u=r+"__bubble";a.has(u)||(nE(i,r,2,!1),a.add(u))}function Nm(r,i,a){var u=0;i&&(u|=4),nE(a,r,u,i)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Om(r){if(!r[oh]){r[oh]=!0,lt.forEach(function(a){a!=="selectionchange"&&(FR.has(a)||Nm(a,!1,r),Nm(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[oh]||(i[oh]=!0,Nm("selectionchange",!1,i))}}function nE(r,i,a,u){switch(RE(i)){case 2:var f=p1;break;case 8:f=g1;break;default:f=Gm}a=f.bind(null,i,a,r),f=void 0,!Ai||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,a,{capture:!0,passive:f}):r.addEventListener(i,a,!0):f!==void 0?r.addEventListener(i,a,{passive:f}):r.addEventListener(i,a,!1)}function xm(r,i,a,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ze(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=p=E;continue e}S=S.parentNode}}u=u.return}aa(function(){var K=p,te=El(a),se=[];e:{var Q=ky.get(r);if(Q!==void 0){var X=ua,Pe=r;switch(r){case"keypress":if(oa(a)===0)break e;case"keydown":case"keyup":X=lo;break;case"focusin":Pe="focus",X=so;break;case"focusout":Pe="blur",X=so;break;case"beforeblur":case"afterblur":X=so;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=is;break;case My:case Py:case Vy:X=wl;break;case Ly:X=y;break;case"scroll":case"scrollend":X=ha;break;case"wheel":X=b;break;case"copy":case"cut":case"paste":X=yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Al;break;case"toggle":case"beforetoggle":X=Z}var Oe=(i&4)!==0,gt=!Oe&&(r==="scroll"||r==="scrollend"),B=Oe?Q!==null?Q+"Capture":null:Q;Oe=[];for(var k=K,q;k!==null;){var re=k;if(q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||q===null||B===null||(re=ns(k,B),re!=null&&Oe.push(iu(k,re,q))),gt)break;k=k.return}0<Oe.length&&(Q=new X(Q,Pe,null,a,te),se.push({event:Q,listeners:Oe}))}}if((i&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Q&&a!==vl&&(Pe=a.relatedTarget||a.fromElement)&&(ze(Pe)||Pe[ve]))break e;if((X||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Pe=a.relatedTarget||a.toElement,X=K,Pe=Pe?ze(Pe):null,Pe!==null&&(gt=l(Pe),Oe=Pe.tag,Pe!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(Pe=null)):(X=null,Pe=K),X!==Pe)){if(Oe=ma,re="onMouseLeave",B="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Al,re="onPointerLeave",B="onPointerEnter",k="pointer"),gt=X==null?Q:wt(X),q=Pe==null?Q:wt(Pe),Q=new Oe(re,k+"leave",X,a,te),Q.target=gt,Q.relatedTarget=q,re=null,ze(te)===K&&(Oe=new Oe(B,k+"enter",Pe,a,te),Oe.target=q,Oe.relatedTarget=gt,re=Oe),gt=re,X&&Pe)t:{for(Oe=X,B=Pe,k=0,q=Oe;q;q=Po(q))k++;for(q=0,re=B;re;re=Po(re))q++;for(;0<k-q;)Oe=Po(Oe),k--;for(;0<q-k;)B=Po(B),q--;for(;k--;){if(Oe===B||B!==null&&Oe===B.alternate)break t;Oe=Po(Oe),B=Po(B)}Oe=null}else Oe=null;X!==null&&rE(se,Q,X,Oe,!1),Pe!==null&&gt!==null&&rE(se,gt,Pe,Oe,!0)}}e:{if(Q=K?wt(K):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var we=wy;else if(Ey(Q))if(Sy)we=tR;else{we=ZA;var Ye=JA}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&no(K.elementType)&&(we=wy):we=eR;if(we&&(we=we(r,K))){Ty(se,we,a,te);break e}Ye&&Ye(r,Q,K),r==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&gl(Q,"number",Q.value)}switch(Ye=K?wt(K):window,r){case"focusin":(Ey(Ye)||Ye.contentEditable==="true")&&(uo=Ye,ud=K,Nl=null);break;case"focusout":Nl=ud=uo=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Oy(se,a,te);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":Oy(se,a,te)}var Ie;if(Be)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Br?jr(r,a)&&(xe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ut&&a.locale!=="ko"&&(Br||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Br&&(Ie=mc()):(yr=te,Et="value"in yr?yr.value:yr.textContent,Br=!0)),Ye=lh(K,xe),0<Ye.length&&(xe=new bl(xe,r,null,a,te),se.push({event:xe,listeners:Ye}),Ie?xe.data=Ie:(Ie=zr(a),Ie!==null&&(xe.data=Ie)))),(Ie=ct?Rl(r,a):QA(r,a))&&(xe=lh(K,"onBeforeInput"),0<xe.length&&(Ye=new bl("onBeforeInput","beforeinput",null,a,te),se.push({event:Ye,listeners:xe}),Ye.data=Ie)),jR(se,r,K,a,te)}tE(se,i)})}function iu(r,i,a){return{instance:r,listener:i,currentTarget:a}}function lh(r,i){for(var a=i+"Capture",u=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ns(r,a),f!=null&&u.unshift(iu(r,f,p)),f=ns(r,i),f!=null&&u.push(iu(r,f,p))),r.tag===3)return u;r=r.return}return[]}function Po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function rE(r,i,a,u,f){for(var p=i._reactName,E=[];a!==null&&a!==u;){var S=a,O=S.alternate,K=S.stateNode;if(S=S.tag,O!==null&&O===u)break;S!==5&&S!==26&&S!==27||K===null||(O=K,f?(K=ns(a,p),K!=null&&E.unshift(iu(a,K,O))):f||(K=ns(a,p),K!=null&&E.push(iu(a,K,O)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var HR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function iE(r){return(typeof r=="string"?r:""+r).replace(HR,`
`).replace(qR,"")}function sE(r,i){return i=iE(i),iE(r)===i}function uh(){}function pt(r,i,a,u,f,p){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||gr(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&gr(r,""+u);break;case"className":pr(r,"class",u);break;case"tabIndex":pr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":pr(r,a,u);break;case"style":_l(r,u,p);break;case"data":if(i!=="object"){pr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){r.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Ur(""+u),r.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&pt(r,i,"name",f.name,f,null),pt(r,i,"formEncType",f.formEncType,f,null),pt(r,i,"formMethod",f.formMethod,f,null),pt(r,i,"formTarget",f.formTarget,f,null)):(pt(r,i,"encType",f.encType,f,null),pt(r,i,"method",f.method,f,null),pt(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(a);break}u=Ur(""+u),r.setAttribute(a,u);break;case"onClick":u!=null&&(r.onclick=uh);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}a=Ur(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""+u):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":u===!0?r.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(a,u):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(a,u):r.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(a):r.setAttribute(a,u);break;case"popover":Xe("beforetoggle",r),Xe("toggle",r),mr(r,"popover",u);break;case"xlinkActuate":He(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mr(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hc.get(a)||a,mr(r,a,u))}}function Mm(r,i,a,u,f,p){switch(a){case"style":_l(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=a}}break;case"children":typeof u=="string"?gr(r,u):(typeof u=="number"||typeof u=="bigint")&&gr(r,""+u);break;case"onScroll":u!=null&&Xe("scroll",r);break;case"onScrollEnd":u!=null&&Xe("scrollend",r);break;case"onClick":u!=null&&(r.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),p=r[ce]||null,p=p!=null?p[a]:null,typeof p=="function"&&r.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(i,u,f);break e}a in r?r[a]=u:u===!0?r.setAttribute(a,""):mr(r,a,u)}}}function mn(r,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",r),Xe("load",r);var u=!1,f=!1,p;for(p in a)if(a.hasOwnProperty(p)){var E=a[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,p,E,a,null)}}f&&pt(r,i,"srcSet",a.srcSet,a,null),u&&pt(r,i,"src",a.src,a,null);return;case"input":Xe("invalid",r);var S=p=E=f=null,O=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var te=a[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":O=te;break;case"defaultChecked":K=te;break;case"value":p=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:pt(r,i,u,te,a,null)}}pl(r,p,S,O,K,E,f,!1),Zi(r);return;case"select":Xe("invalid",r),u=E=p=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:pt(r,i,f,S,a,null)}i=p,a=E,r.multiple=!!u,i!=null?es(r,!!u,i,!1):a!=null&&es(r,!!u,a,!0);return;case"textarea":Xe("invalid",r),p=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:pt(r,i,E,S,a,null)}cc(r,u,f,p),Zi(r);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(r,i,O,u,a,null)}return;case"dialog":Xe("beforetoggle",r),Xe("toggle",r),Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":Xe("load",r);break;case"video":case"audio":for(u=0;u<ru.length;u++)Xe(ru[u],r);break;case"image":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"embed":case"source":case"link":Xe("error",r),Xe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:pt(r,i,K,u,a,null)}return;default:if(no(i)){for(te in a)a.hasOwnProperty(te)&&(u=a[te],u!==void 0&&Mm(r,i,te,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&pt(r,i,S,u,a,null))}function GR(r,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,O=null,K=null,te=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=se;default:u.hasOwnProperty(X)||pt(r,i,X,null,u,se)}}for(var Q in u){var X=u[Q];if(se=a[Q],u.hasOwnProperty(Q)&&(X!=null||se!=null))switch(Q){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==se&&pt(r,i,Q,X,u,se)}}ml(r,E,S,O,K,te,p,f);return;case"select":X=E=S=Q=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":X=O;default:u.hasOwnProperty(p)||pt(r,i,p,null,u,O)}for(f in u)if(p=u[f],O=a[f],u.hasOwnProperty(f)&&(p!=null||O!=null))switch(f){case"value":Q=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==O&&pt(r,i,f,p,u,O)}i=S,a=E,u=X,Q!=null?es(r,!!a,Q,!1):!!u!=!!a&&(i!=null?es(r,!!a,i,!0):es(r,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:pt(r,i,S,null,u,f)}for(E in u)if(f=u[E],p=a[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&pt(r,i,E,f,u,p)}uc(r,Q,X);return;case"option":for(var Pe in a)if(Q=a[Pe],a.hasOwnProperty(Pe)&&Q!=null&&!u.hasOwnProperty(Pe))switch(Pe){case"selected":r.selected=!1;break;default:pt(r,i,Pe,null,u,Q)}for(O in u)if(Q=u[O],X=a[O],u.hasOwnProperty(O)&&Q!==X&&(Q!=null||X!=null))switch(O){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:pt(r,i,O,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in a)Q=a[Oe],a.hasOwnProperty(Oe)&&Q!=null&&!u.hasOwnProperty(Oe)&&pt(r,i,Oe,null,u,Q);for(K in u)if(Q=u[K],X=a[K],u.hasOwnProperty(K)&&Q!==X&&(Q!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:pt(r,i,K,Q,u,X)}return;default:if(no(i)){for(var gt in a)Q=a[gt],a.hasOwnProperty(gt)&&Q!==void 0&&!u.hasOwnProperty(gt)&&Mm(r,i,gt,void 0,u,Q);for(te in u)Q=u[te],X=a[te],!u.hasOwnProperty(te)||Q===X||Q===void 0&&X===void 0||Mm(r,i,te,Q,u,X);return}}for(var B in a)Q=a[B],a.hasOwnProperty(B)&&Q!=null&&!u.hasOwnProperty(B)&&pt(r,i,B,null,u,Q);for(se in u)Q=u[se],X=a[se],!u.hasOwnProperty(se)||Q===X||Q==null&&X==null||pt(r,i,se,Q,u,X)}var Pm=null,Vm=null;function ch(r){return r.nodeType===9?r:r.ownerDocument}function aE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Lm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var km=null;function KR(){var r=window.event;return r&&r.type==="popstate"?r===km?!1:(km=r,!0):(km=null,!1)}var lE=typeof setTimeout=="function"?setTimeout:void 0,YR=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(r){return uE.resolve(null).then(r).catch(QR)}:lE;function QR(r){setTimeout(function(){throw r})}function Es(r){return r==="head"}function cE(r,i){var a=i,u=0,f=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<u&&8>u){a=u;var E=r.ownerDocument;if(a&1&&su(E.documentElement),a&2&&su(E.body),a&4)for(a=E.head,su(a),E=a.firstChild;E;){var S=E.nextSibling,O=E.nodeName;E[Te]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){r.removeChild(p),du(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=p}while(a);du(i)}function Um(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Um(a),be(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function WR(r,i,a,u){for(;r.nodeType===1;){var f=a;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Te])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=qr(r.nextSibling),r===null)break}return null}function XR(r,i,a){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=qr(r.nextSibling),r===null))return null;return r}function jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function JR(r,i){var a=r.ownerDocument;if(r.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function qr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var zm=null;function hE(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}function fE(r,i,a){switch(i=ch(a),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function su(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);be(r)}var br=new Map,dE=new Set;function hh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ji=fe.d;fe.d={f:ZR,r:e1,D:t1,C:n1,L:r1,m:i1,X:a1,S:s1,M:o1};function ZR(){var r=ji.f(),i=nh();return r||i}function e1(r){var i=rt(r);i!==null&&i.tag===5&&i.type==="form"?M_(i):ji.r(r)}var Vo=typeof document>"u"?null:document;function mE(r,i,a){var u=Vo;if(u&&typeof i=="string"&&i){var f=rn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),dE.has(f)||(dE.add(f),r={rel:r,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),mn(i,"link",r),ke(i),u.head.appendChild(i)))}}function t1(r){ji.D(r),mE("dns-prefetch",r,null)}function n1(r,i){ji.C(r,i),mE("preconnect",r,i)}function r1(r,i,a){ji.L(r,i,a);var u=Vo;if(u&&r&&i){var f='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+rn(a.imageSizes)+'"]')):f+='[href="'+rn(r)+'"]';var p=f;switch(i){case"style":p=Lo(r);break;case"script":p=ko(r)}br.has(p)||(r=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:r,as:i},a),br.set(p,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(au(p))||i==="script"&&u.querySelector(ou(p))||(i=u.createElement("link"),mn(i,"link",r),ke(i),u.head.appendChild(i)))}}function i1(r,i){ji.m(r,i);var a=Vo;if(a&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(r)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ko(r)}if(!br.has(p)&&(r=_({rel:"modulepreload",href:r},i),br.set(p,r),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ou(p)))return}u=a.createElement("link"),mn(u,"link",r),ke(u),a.head.appendChild(u)}}}function s1(r,i,a){ji.S(r,i,a);var u=Vo;if(u&&r){var f=At(u).hoistableStyles,p=Lo(r);i=i||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(au(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},a),(a=br.get(p))&&Bm(r,a);var O=E=u.createElement("link");ke(O),mn(O,"link",r),O._p=new Promise(function(K,te){O.onload=K,O.onerror=te}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function a1(r,i){ji.X(r,i);var a=Vo;if(a&&r){var u=At(a).hoistableScripts,f=ko(r),p=u.get(f);p||(p=a.querySelector(ou(f)),p||(r=_({src:r,async:!0},i),(i=br.get(f))&&Fm(r,i),p=a.createElement("script"),ke(p),mn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function o1(r,i){ji.M(r,i);var a=Vo;if(a&&r){var u=At(a).hoistableScripts,f=ko(r),p=u.get(f);p||(p=a.querySelector(ou(f)),p||(r=_({src:r,async:!0,type:"module"},i),(i=br.get(f))&&Fm(r,i),p=a.createElement("script"),ke(p),mn(p,"link",r),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function pE(r,i,a,u){var f=(f=De.current)?hh(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Lo(a.href),a=At(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Lo(a.href);var p=At(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(au(r)))&&!p._p&&(E.instance=p,E.state.loading=5),br.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},br.set(r,a),p||l1(f,r,a,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ko(a),a=At(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Lo(r){return'href="'+rn(r)+'"'}function au(r){return'link[rel="stylesheet"]['+r+"]"}function gE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function l1(r,i,a,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),mn(i,"link",a),ke(i),r.head.appendChild(i))}function ko(r){return'[src="'+rn(r)+'"]'}function ou(r){return"script[async]"+r}function yE(r,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+rn(a.href)+'"]');if(u)return i.instance=u,ke(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),ke(u),mn(u,"style",f),fh(u,a.precedence,r),i.instance=u;case"stylesheet":f=Lo(a.href);var p=r.querySelector(au(f));if(p)return i.state.loading|=4,i.instance=p,ke(p),p;u=gE(a),(f=br.get(f))&&Bm(u,f),p=(r.ownerDocument||r).createElement("link"),ke(p);var E=p;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),mn(p,"link",u),i.state.loading|=4,fh(p,a.precedence,r),i.instance=p;case"script":return p=ko(a.src),(f=r.querySelector(ou(p)))?(i.instance=f,ke(f),f):(u=a,(f=br.get(p))&&(u=_({},a),Fm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),ke(f),mn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,fh(u,a.precedence,r));return i.instance}function fh(r,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===i)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(r,i.firstChild))}function Bm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Fm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var dh=null;function _E(r,i,a){if(dh===null){var u=new Map,f=dh=new Map;f.set(a,u)}else f=dh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(r))return u;for(u.set(r,null),a=a.getElementsByTagName(r),f=0;f<a.length;f++){var p=a[f];if(!(p[Te]||p[ie]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(i)||"";E=r+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function vE(r,i,a){r=r.ownerDocument||r,r.head.insertBefore(a,i==="title"?r.querySelector("head > title"):null)}function u1(r,i,a){if(a===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function EE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var lu=null;function c1(){}function h1(r,i,a){if(lu===null)throw Error(s(475));var u=lu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Lo(a.href),p=r.querySelector(au(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=mh.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=p,ke(p);return}p=r.ownerDocument||r,a=gE(a),(f=br.get(f))&&Bm(a,f),p=p.createElement("link"),ke(p);var E=p;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),mn(p,"link",a),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=mh.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function f1(){if(lu===null)throw Error(s(475));var r=lu;return r.stylesheets&&r.count===0&&Hm(r,r.stylesheets),0<r.count?function(i){var a=setTimeout(function(){if(r.stylesheets&&Hm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(a)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Hm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ph=null;function Hm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ph=new Map,i.forEach(d1,r),ph=null,mh.call(r))}function d1(r,i){if(!(i.state.loading&4)){var a=ph.get(r);if(a)var u=a.get(null);else{a=new Map,ph.set(r,a);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),p=a.get(E)||u,p===u&&a.set(null,f),a.set(E,f),this.count++,u=mh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var uu={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function m1(r,i,a,u,f,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function TE(r,i,a,u,f,p,E,S,O,K,te,se){return r=new m1(r,i,a,E,S,O,K,se),i=1,p===!0&&(i|=24),p=nr(3,null,null,i),r.current=p,p.stateNode=r,i=bd(),i.refCount++,r.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:a,cache:i},Id(p),r}function wE(r){return r?(r=mo,r):mo}function SE(r,i,a,u,f,p){f=wE(f),u.context===null?u.context=f:u.pendingContext=f,u=os(i),u.payload={element:a},p=p===void 0?null:p,p!==null&&(u.callback=p),a=ls(r,u,i),a!==null&&(or(a,r,i),jl(a,r,i))}function bE(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function qm(r,i){bE(r,i),(r=r.alternate)&&bE(r,i)}function AE(r){if(r.tag===13){var i=fo(r,67108864);i!==null&&or(i,r,67108864),qm(r,67108864)}}var gh=!0;function p1(r,i,a,u){var f=$.T;$.T=null;var p=fe.p;try{fe.p=2,Gm(r,i,a,u)}finally{fe.p=p,$.T=f}}function g1(r,i,a,u){var f=$.T;$.T=null;var p=fe.p;try{fe.p=8,Gm(r,i,a,u)}finally{fe.p=p,$.T=f}}function Gm(r,i,a,u){if(gh){var f=Km(u);if(f===null)xm(r,i,u,yh,a),CE(r,u);else if(_1(f,r,i,a,u))u.stopPropagation();else if(CE(r,u),i&4&&-1<y1.indexOf(r)){for(;f!==null;){var p=rt(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Qn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-$t(E);S.entanglements[1]|=O,E&=~O}ii(p),(ht&6)===0&&(eh=cn()+500,nu(0))}}break;case 13:S=fo(p,2),S!==null&&or(S,p,2),nh(),qm(p,2)}if(p=Km(u),p===null&&xm(r,i,u,yh,a),p===f)break;f=p}f!==null&&u.stopPropagation()}else xm(r,i,u,null,a)}}function Km(r){return r=El(r),Ym(r)}var yh=null;function Ym(r){if(yh=null,r=ze(r),r!==null){var i=l(r);if(i===null)r=null;else{var a=i.tag;if(a===13){if(r=c(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return yh=r,null}function RE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Za()){case kt:return 2;case Ft:return 8;case Nr:case Or:return 32;case xr:return 268435456;default:return 32}default:return 32}}var $m=!1,Ts=null,ws=null,Ss=null,cu=new Map,hu=new Map,bs=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CE(r,i){switch(r){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":cu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(i.pointerId)}}function fu(r,i,a,u,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=rt(i),i!==null&&AE(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function _1(r,i,a,u,f){switch(i){case"focusin":return Ts=fu(Ts,r,i,a,u,f),!0;case"dragenter":return ws=fu(ws,r,i,a,u,f),!0;case"mouseover":return Ss=fu(Ss,r,i,a,u,f),!0;case"pointerover":var p=f.pointerId;return cu.set(p,fu(cu.get(p)||null,r,i,a,u,f)),!0;case"gotpointercapture":return p=f.pointerId,hu.set(p,fu(hu.get(p)||null,r,i,a,u,f)),!0}return!1}function IE(r){var i=ze(r.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){r.blockedOn=i,H(r.priority,function(){if(a.tag===13){var u=ar();u=ta(u);var f=fo(a,u);f!==null&&or(f,a,u),qm(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _h(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Km(r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);vl=u,a.target.dispatchEvent(u),vl=null}else return i=rt(a),i!==null&&AE(i),r.blockedOn=a,!1;i.shift()}return!0}function DE(r,i,a){_h(r)&&a.delete(i)}function v1(){$m=!1,Ts!==null&&_h(Ts)&&(Ts=null),ws!==null&&_h(ws)&&(ws=null),Ss!==null&&_h(Ss)&&(Ss=null),cu.forEach(DE),hu.forEach(DE)}function vh(r,i){r.blockedOn===i&&(r.blockedOn=null,$m||($m=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v1)))}var Eh=null;function NE(r){Eh!==r&&(Eh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Eh===r&&(Eh=null);for(var i=0;i<r.length;i+=3){var a=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(Ym(u||a)===null)continue;break}var p=rt(a);p!==null&&(r.splice(i,3),i-=3,Yd(p,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function du(r){function i(O){return vh(O,r)}Ts!==null&&vh(Ts,r),ws!==null&&vh(ws,r),Ss!==null&&vh(Ss,r),cu.forEach(i),hu.forEach(i);for(var a=0;a<bs.length;a++){var u=bs[a];u.blockedOn===r&&(u.blockedOn=null)}for(;0<bs.length&&(a=bs[0],a.blockedOn===null);)IE(a),a.blockedOn===null&&bs.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],p=a[u+1],E=f[ce]||null;if(typeof p=="function")E||NE(a);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[ce]||null)S=E.formAction;else if(Ym(f)!==null)continue}else S=E.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),NE(a)}}}function Qm(r){this._internalRoot=r}Th.prototype.render=Qm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=ar();SE(a,u,r,i,null,null)},Th.prototype.unmount=Qm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;SE(r.current,2,null,r,null,null),nh(),i[ve]=null}};function Th(r){this._internalRoot=r}Th.prototype.unstable_scheduleHydration=function(r){if(r){var i=x();r={blockedOn:null,target:r,priority:i};for(var a=0;a<bs.length&&i!==0&&i<bs[a].priority;a++);bs.splice(a,0,r),a===0&&IE(r)}};var OE=e.version;if(OE!=="19.1.1")throw Error(s(527,OE,"19.1.1"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var E1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{hn=wh.inject(E1),_t=wh}catch{}}return pu.createRoot=function(r,i){if(!o(r))throw Error(s(299));var a=!1,u="",f=Y_,p=$_,E=Q_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=TE(r,1,!1,null,null,a,u,f,p,E,S,null),r[ve]=i.current,Om(r),new Qm(i)},pu.hydrateRoot=function(r,i,a){if(!o(r))throw Error(s(299));var u=!1,f="",p=Y_,E=$_,S=Q_,O=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),i=TE(r,1,!0,i,a??null,u,f,p,E,S,O,K),i.context=wE(null),a=i.current,u=ar(),u=ta(u),f=os(u),f.callback=null,ls(a,f,u),a=u,i.current.lanes=a,It(i,a),ii(i),r[ve]=i.current,Om(r),new Th(i)},pu.version="19.1.1",pu}var BE;function D1(){if(BE)return Xm.exports;BE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xm.exports=I1(),Xm.exports}var N1=D1(),F=If(),np={exports:{}},rp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function O1(){if(FE)return rp;FE=1;var t=If();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=t.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return rp.useSyncExternalStoreWithSelector=function(m,g,_,T,w){var I=o(null);if(I.current===null){var j={hasValue:!1,value:null};I.current=j}else j=I.current;I=c(function(){function U(oe){if(!Y){if(Y=!0,ue=oe,oe=T(oe),w!==void 0&&j.hasValue){var P=j.value;if(w(P,oe))return ee=P}return ee=oe}if(P=ee,n(ue,oe))return P;var N=T(oe);return w!==void 0&&w(P,N)?(ue=oe,P):(ue=oe,ee=N)}var Y=!1,ue,ee,he=_===void 0?null:_;return[function(){return U(g())},he===null?void 0:function(){return U(he())}]},[g,_,T,w]);var W=s(m,I[0],I[1]);return l(function(){j.hasValue=!0,j.value=W},[W]),d(W),W},rp}var HE;function x1(){return HE||(HE=1,np.exports=O1()),np.exports}var M1=x1();function P1(t){t()}function V1(){let t=null,e=null;return{clear(){t=null,e=null},notify(){P1(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!s||t===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var qE={notify(){},get:()=>[]};function L1(t,e){let n,s=qE,o=0,l=!1;function c(W){_();const U=s.subscribe(W);let Y=!1;return()=>{Y||(Y=!0,U(),T())}}function d(){s.notify()}function m(){j.onStateChange&&j.onStateChange()}function g(){return l}function _(){o++,n||(n=t.subscribe(m),s=V1())}function T(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=qE)}function w(){l||(l=!0,_())}function I(){l&&(l=!1,T())}const j={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:w,tryUnsubscribe:I,getListeners:()=>s};return j}var k1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U1=k1(),j1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",z1=j1(),B1=()=>U1||z1?F.useLayoutEffect:F.useEffect,F1=B1(),H1=Symbol.for("react-redux-context"),q1=typeof globalThis<"u"?globalThis:{};function G1(){if(!F.createContext)return{};const t=q1[H1]??=new Map;let e=t.get(F.createContext);return e||(e=F.createContext(null),t.set(F.createContext,e)),e}var zs=G1();function K1(t){const{children:e,context:n,serverState:s,store:o}=t,l=F.useMemo(()=>{const m=L1(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),c=F.useMemo(()=>o.getState(),[o]);F1(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=n||zs;return F.createElement(d.Provider,{value:l},e)}var Y1=K1;function dg(t=zs){return function(){return F.useContext(t)}}var ow=dg();function lw(t=zs){const e=t===zs?ow:dg(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var $1=lw();function Q1(t=zs){const e=t===zs?$1:lw(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var fr=Q1(),W1=(t,e)=>t===e;function X1(t=zs){const e=t===zs?ow:dg(t),n=(s,o={})=>{const{equalityFn:l=W1}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:m,getServerState:g}=c;F.useRef(!0);const _=F.useCallback({[s.name](w){return s(w)}}[s.name],[s]),T=M1.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,_,l);return F.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var it=X1();function pn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var J1=typeof Symbol=="function"&&Symbol.observable||"@@observable",GE=J1,ip=()=>Math.random().toString(36).substring(7).split("").join("."),Z1={INIT:`@@redux/INIT${ip()}`,REPLACE:`@@redux/REPLACE${ip()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ip()}`},Qh=Z1;function mg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function uw(t,e,n){if(typeof t!="function")throw new Error(pn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pn(1));return n(uw)(t,e)}let s=t,o=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((U,Y)=>{c.set(Y,U)}))}function _(){if(m)throw new Error(pn(3));return o}function T(U){if(typeof U!="function")throw new Error(pn(4));if(m)throw new Error(pn(5));let Y=!0;g();const ue=d++;return c.set(ue,U),function(){if(Y){if(m)throw new Error(pn(6));Y=!1,g(),c.delete(ue),l=null}}}function w(U){if(!mg(U))throw new Error(pn(7));if(typeof U.type>"u")throw new Error(pn(8));if(typeof U.type!="string")throw new Error(pn(17));if(m)throw new Error(pn(9));try{m=!0,o=s(o,U)}finally{m=!1}return(l=c).forEach(ue=>{ue()}),U}function I(U){if(typeof U!="function")throw new Error(pn(10));s=U,w({type:Qh.REPLACE})}function j(){const U=T;return{subscribe(Y){if(typeof Y!="object"||Y===null)throw new Error(pn(11));function ue(){const he=Y;he.next&&he.next(_())}return ue(),{unsubscribe:U(ue)}},[GE](){return this}}}return w({type:Qh.INIT}),{dispatch:w,subscribe:T,getState:_,replaceReducer:I,[GE]:j}}function eC(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Qh.INIT})>"u")throw new Error(pn(12));if(typeof n(void 0,{type:Qh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pn(13))})}function tC(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const s=Object.keys(n);let o;try{eC(n)}catch(l){o=l}return function(c={},d){if(o)throw o;let m=!1;const g={};for(let _=0;_<s.length;_++){const T=s[_],w=n[T],I=c[T],j=w(I,d);if(typeof j>"u")throw d&&d.type,new Error(pn(14));g[T]=j,m=m||j!==I}return m=m||s.length!==Object.keys(c).length,m?g:c}}function Wh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function nC(...t){return e=>(n,s)=>{const o=e(n,s);let l=()=>{throw new Error(pn(15))};const c={getState:o.getState,dispatch:(m,...g)=>l(m,...g)},d=t.map(m=>m(c));return l=Wh(...d)(o.dispatch),{...o,dispatch:l}}}function rC(t){return mg(t)&&"type"in t&&typeof t.type=="string"}var cw=Symbol.for("immer-nothing"),KE=Symbol.for("immer-draftable"),hr=Symbol.for("immer-state");function Gr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xo=Object.getPrototypeOf;function Ua(t){return!!t&&!!t[hr]}function Gi(t){return t?hw(t)||Array.isArray(t)||!!t[KE]||!!t.constructor?.[KE]||Qu(t)||Nf(t):!1}var iC=Object.prototype.constructor.toString();function hw(t){if(!t||typeof t!="object")return!1;const e=Xo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===iC}function Xh(t,e){Df(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,s)=>e(s,n,t))}function Df(t){const e=t[hr];return e?e.type_:Array.isArray(t)?1:Qu(t)?2:Nf(t)?3:0}function Op(t,e){return Df(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function fw(t,e,n){const s=Df(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function sC(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qu(t){return t instanceof Map}function Nf(t){return t instanceof Set}function xa(t){return t.copy_||t.base_}function xp(t,e){if(Qu(t))return new Map(t);if(Nf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=hw(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[hr];let o=Reflect.ownKeys(s);for(let l=0;l<o.length;l++){const c=o[l],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(Xo(t),s)}else{const s=Xo(t);if(s!==null&&n)return{...t};const o=Object.create(s);return Object.assign(o,t)}}function pg(t,e=!1){return Of(t)||Ua(t)||!Gi(t)||(Df(t)>1&&Object.defineProperties(t,{set:{value:Sh},add:{value:Sh},clear:{value:Sh},delete:{value:Sh}}),Object.freeze(t),e&&Object.values(t).forEach(n=>pg(n,!0))),t}function Sh(){Gr(2)}function Of(t){return Object.isFrozen(t)}var aC={};function ja(t){const e=aC[t];return e||Gr(0,t),e}var Pu;function dw(){return Pu}function oC(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YE(t,e){e&&(ja("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Mp(t){Pp(t),t.drafts_.forEach(lC),t.drafts_=null}function Pp(t){t===Pu&&(Pu=t.parent_)}function $E(t){return Pu=oC(Pu,t)}function lC(t){const e=t[hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function QE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[hr].modified_&&(Mp(e),Gr(4)),Gi(t)&&(t=Jh(e,t),e.parent_||Zh(e,t)),e.patches_&&ja("Patches").generateReplacementPatches_(n[hr].base_,t,e.patches_,e.inversePatches_)):t=Jh(e,n,[]),Mp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==cw?t:void 0}function Jh(t,e,n){if(Of(e))return e;const s=e[hr];if(!s)return Xh(e,(o,l)=>WE(t,s,e,o,l,n)),e;if(s.scope_!==t)return e;if(!s.modified_)return Zh(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),Xh(l,(d,m)=>WE(t,s,o,d,m,n,c)),Zh(t,o,!1),n&&t.patches_&&ja("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function WE(t,e,n,s,o,l,c){if(Ua(o)){const d=l&&e&&e.type_!==3&&!Op(e.assigned_,s)?l.concat(s):void 0,m=Jh(t,o,d);if(fw(n,s,m),Ua(m))t.canAutoFreeze_=!1;else return}else c&&n.add(o);if(Gi(o)&&!Of(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Jh(t,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(Qu(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&Zh(t,o)}}function Zh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pg(e,n)}function uC(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:dw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,l=gg;n&&(o=[s],l=Vu);const{revoke:c,proxy:d}=Proxy.revocable(o,l);return s.draft_=d,s.revoke_=c,d}var gg={get(t,e){if(e===hr)return t;const n=xa(t);if(!Op(n,e))return cC(t,n,e);const s=n[e];return t.finalized_||!Gi(s)?s:s===sp(t.base_,e)?(ap(t),t.copy_[e]=Lp(s,t)):s},has(t,e){return e in xa(t)},ownKeys(t){return Reflect.ownKeys(xa(t))},set(t,e,n){const s=mw(xa(t),e);if(s?.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const o=sp(xa(t),e),l=o?.[hr];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(sC(n,o)&&(n!==void 0||Op(t.base_,e)))return!0;ap(t),Vp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return sp(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ap(t),Vp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=xa(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){Gr(11)},getPrototypeOf(t){return Xo(t.base_)},setPrototypeOf(){Gr(12)}},Vu={};Xh(gg,(t,e)=>{Vu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vu.deleteProperty=function(t,e){return Vu.set.call(this,t,e,void 0)};Vu.set=function(t,e,n){return gg.set.call(this,t[0],e,n,t[0])};function sp(t,e){const n=t[hr];return(n?xa(n):t)[e]}function cC(t,e,n){const s=mw(e,n);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function mw(t,e){if(!(e in t))return;let n=Xo(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Xo(n)}}function Vp(t){t.modified_||(t.modified_=!0,t.parent_&&Vp(t.parent_))}function ap(t){t.copy_||(t.copy_=xp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var hC=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(m=l,...g){return c.produce(m,_=>n.call(this,_,...g))}}typeof n!="function"&&Gr(6),s!==void 0&&typeof s!="function"&&Gr(7);let o;if(Gi(e)){const l=$E(this),c=Lp(e,void 0);let d=!0;try{o=n(c),d=!1}finally{d?Mp(l):Pp(l)}return YE(l,s),QE(o,l)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===cw&&(o=void 0),this.autoFreeze_&&pg(o,!0),s){const l=[],c=[];ja("Patches").generateReplacementPatches_(e,o,l,c),s(l,c)}return o}else Gr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let s,o;return[this.produce(e,n,(c,d)=>{s=c,o=d}),s,o]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gi(t)||Gr(8),Ua(t)&&(t=fC(t));const e=$E(this),n=Lp(t,void 0);return n[hr].isManual_=!0,Pp(e),n}finishDraft(t,e){const n=t&&t[hr];(!n||!n.isManual_)&&Gr(9);const{scope_:s}=n;return YE(s,e),QE(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const s=ja("Patches").applyPatches_;return Ua(t)?s(t,e):this.produce(t,o=>s(o,e))}};function Lp(t,e){const n=Qu(t)?ja("MapSet").proxyMap_(t,e):Nf(t)?ja("MapSet").proxySet_(t,e):uC(t,e);return(e?e.scope_:dw()).drafts_.push(n),n}function fC(t){return Ua(t)||Gr(10,t),pw(t)}function pw(t){if(!Gi(t)||Of(t))return t;const e=t[hr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=xp(t,!0);return Xh(n,(s,o)=>{fw(n,s,pw(o))}),e&&(e.finalized_=!1),n}var dC=new hC,gw=dC.produce;function yw(t){return({dispatch:n,getState:s})=>o=>l=>typeof l=="function"?l(n,s,t):o(l)}var mC=yw(),pC=yw,gC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wh:Wh.apply(null,arguments)};function XE(t,e){function n(...s){if(e){let o=e(...s);if(!o)throw new Error(Hi(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>rC(s)&&s.type===t,n}var _w=class Eu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Eu.prototype)}static get[Symbol.species](){return Eu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Eu(...e[0].concat(this)):new Eu(...e.concat(this))}};function JE(t){return Gi(t)?gw(t,()=>{}):t}function bh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function yC(t){return typeof t=="boolean"}var _C=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=e??{};let c=new _w;return n&&(yC(n)?c.push(mC):c.push(pC(n.extraArgument))),c},vC="RTK_autoBatch",ZE=t=>e=>{setTimeout(e,t)},EC=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let o=!0,l=!1,c=!1;const d=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ZE(10):t.type==="callback"?t.queueNotification:ZE(t.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const T=()=>o&&_(),w=s.subscribe(T);return d.add(_),()=>{w(),d.delete(_)}},dispatch(_){try{return o=!_?.meta?.[vC],l=!o,l&&(c||(c=!0,m(g))),s.dispatch(_)}finally{o=!0}}})},TC=t=>function(n){const{autoBatch:s=!0}=n??{};let o=new _w(t);return s&&o.push(EC(typeof s=="object"?s:void 0)),o};function wC(t){const e=_C(),{reducer:n=void 0,middleware:s,devTools:o=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(mg(n))d=tC(n);else throw new Error(Hi(1));let m;typeof s=="function"?m=s(e):m=e();let g=Wh;o&&(g=gC({trace:!1,...typeof o=="object"&&o}));const _=nC(...m),T=TC(_);let w=typeof c=="function"?c(T):T();const I=g(...w);return uw(d,l,I)}function vw(t){const e={},n=[];let s;const o={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Hi(28));if(d in e)throw new Error(Hi(29));return e[d]=c,o},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),o},addMatcher(l,c){return n.push({matcher:l,reducer:c}),o},addDefaultCase(l){return s=l,o}};return t(o),[e,n,s]}function SC(t){return typeof t=="function"}function bC(t,e){let[n,s,o]=vw(e),l;if(SC(t))l=()=>JE(t());else{const d=JE(t);l=()=>d}function c(d=l(),m){let g=[n[m.type],...s.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[o]),g.reduce((_,T)=>{if(T)if(Ua(_)){const I=T(_,m);return I===void 0?_:I}else{if(Gi(_))return gw(_,w=>T(w,m));{const w=T(_,m);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},d)}return c.getInitialState=l,c}var AC=Symbol.for("rtk-slice-createasyncthunk");function RC(t,e){return`${t}/${e}`}function CC({creators:t}={}){const e=t?.asyncThunk?.[AC];return function(s){const{name:o,reducerPath:l=o}=s;if(!o)throw new Error(Hi(11));const c=(typeof s.reducers=="function"?s.reducers(DC()):s.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(ee,he){const oe=typeof ee=="string"?ee:ee.type;if(!oe)throw new Error(Hi(12));if(oe in m.sliceCaseReducersByType)throw new Error(Hi(13));return m.sliceCaseReducersByType[oe]=he,g},addMatcher(ee,he){return m.sliceMatchers.push({matcher:ee,reducer:he}),g},exposeAction(ee,he){return m.actionCreators[ee]=he,g},exposeCaseReducer(ee,he){return m.sliceCaseReducersByName[ee]=he,g}};d.forEach(ee=>{const he=c[ee],oe={reducerName:ee,type:RC(o,ee),createNotation:typeof s.reducers=="function"};OC(he)?MC(oe,he,g,e):NC(oe,he,g)});function _(){const[ee={},he=[],oe=void 0]=typeof s.extraReducers=="function"?vw(s.extraReducers):[s.extraReducers],P={...ee,...m.sliceCaseReducersByType};return bC(s.initialState,N=>{for(let A in P)N.addCase(A,P[A]);for(let A of m.sliceMatchers)N.addMatcher(A.matcher,A.reducer);for(let A of he)N.addMatcher(A.matcher,A.reducer);oe&&N.addDefaultCase(oe)})}const T=ee=>ee,w=new Map,I=new WeakMap;let j;function W(ee,he){return j||(j=_()),j(ee,he)}function U(){return j||(j=_()),j.getInitialState()}function Y(ee,he=!1){function oe(N){let A=N[ee];return typeof A>"u"&&he&&(A=bh(I,oe,U)),A}function P(N=T){const A=bh(w,he,()=>new WeakMap);return bh(A,N,()=>{const R={};for(const[V,L]of Object.entries(s.selectors??{}))R[V]=IC(L,N,()=>bh(I,N,U),he);return R})}return{reducerPath:ee,getSelectors:P,get selectors(){return P(oe)},selectSlice:oe}}const ue={name:o,reducer:W,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:U,...Y(l),injectInto(ee,{reducerPath:he,...oe}={}){const P=he??l;return ee.inject({reducerPath:P,reducer:W},oe),{...ue,...Y(P,!0)}}};return ue}}function IC(t,e,n,s){function o(l,...c){let d=e(l);return typeof d>"u"&&s&&(d=n()),t(d,...c)}return o.unwrapped=t,o}var Wu=CC();function DC(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function NC({type:t,reducerName:e,createNotation:n},s,o){let l,c;if("reducer"in s){if(n&&!xC(s))throw new Error(Hi(17));l=s.reducer,c=s.prepare}else l=s;o.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?XE(t,c):XE(t))}function OC(t){return t._reducerDefinitionType==="asyncThunk"}function xC(t){return t._reducerDefinitionType==="reducerWithPrepare"}function MC({type:t,reducerName:e},n,s,o){if(!o)throw new Error(Hi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:_}=n,T=o(t,l,_);s.exposeAction(e,T),c&&s.addCase(T.fulfilled,c),d&&s.addCase(T.pending,d),m&&s.addCase(T.rejected,m),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:c||Ah,pending:d||Ah,rejected:m||Ah,settled:g||Ah})}function Ah(){}function Hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Ew={user:null,isCreatingAccount:!1,isLoggedIn:!1,isLoggingIn:!1};console.log(Ew.user);const Tw=Wu({name:"auth",initialState:Ew,reducers:{startCreatingAccount(t){t.isCreatingAccount=!0},stopCreatingAccount(t){t.isCreatingAccount=!1},startLoggingIn(t){t.isLoggingIn=!0},stopLoggingIn(t){t.isLoggingIn=!1},login(t,e){const{uid:n,email:s,userName:o}=e.payload;t.user={uid:n,email:s,userName:o},t.isLoggedIn=!0,t.isLoggingIn=!1},logOut(t){t.user=null,t.isLoggedIn=!1}}}),qi=Tw.actions,PC=Tw.reducer,VC={bio:"Set bio here!",isEditingBio:!1},ww=Wu({name:"profile",initialState:VC,reducers:{editBio(t){t.isEditingBio=!0},saveBio(t){t.isEditingBio=!1},updateBio(t,e){t.bio=e.payload},uploadAvatar(t,e){t.bioAvatar=e.payload}}}),Lu=ww.actions,LC=ww.reducer,kC={myShows:[],currentlyBinging:[],watchedEps:[],finishedShows:[],isReviewing:!1,reviews:[]},Sw=Wu({name:"shows",initialState:kC,reducers:{updateMyShows(t,e){t.myShows=e.payload},updateBinging(t,e){t.currentlyBinging=e.payload},updateWatchedEps(t,e){t.watchedEps=e.payload},updateFinishedShows(t,e){t.finishedShows=e.payload},startReviewing(t){t.isReviewing=!0}}}),ai=Sw.actions,UC=Sw.reducer,jC={epNotes:[],charNotes:[]},bw=Wu({name:"notes",initialState:jC,reducers:{updateEpNotes(t,e){t.epNotes=e.payload},updateCharNotes(t,e){t.charNotes=e.payload}}}),ef=bw.actions,zC=bw.reducer,BC={friendsList:[]},Aw=Wu({name:"friends",initialState:BC,reducers:{addFriend(t,e){t.friendsList=e.payload}}}),Rw=Aw.actions,FC=Aw.reducer,HC=wC({reducer:{auth:PC,profile:LC,shows:UC,notes:zC,friends:FC}});/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cw=t=>{throw TypeError(t)},qC=(t,e,n)=>e.has(t)||Cw("Cannot "+n),op=(t,e,n)=>(qC(t,e,"read from private field"),n?n.call(t):e.get(t)),GC=(t,e,n)=>e.has(t)?Cw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),eT="popstate";function KC(t={}){function e(o,l){let{pathname:c="/",search:d="",hash:m=""}=Xi(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ku("",{pathname:c,search:d,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");d=g===-1?m:m.slice(0,g)}return d+"#"+(typeof l=="string"?l:Bs(l))}function s(o,l){Lt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return $C(e,n,s,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YC(){return Math.random().toString(36).substring(2,10)}function tT(t,e){return{usr:t.state,key:t.key,idx:e}}function ku(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xi(e):e,state:n,key:e&&e.key||s||YC()}}function Bs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function $C(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let U=_(),Y=U==null?null:U-g;g=U,m&&m({action:d,location:W.location,delta:Y})}function w(U,Y){d="PUSH";let ue=ku(W.location,U,Y);n&&n(ue,U),g=_()+1;let ee=tT(ue,g),he=W.createHref(ue);try{c.pushState(ee,"",he)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(he)}l&&m&&m({action:d,location:W.location,delta:1})}function I(U,Y){d="REPLACE";let ue=ku(W.location,U,Y);n&&n(ue,U),g=_();let ee=tT(ue,g),he=W.createHref(ue);c.replaceState(ee,"",he),l&&m&&m({action:d,location:W.location,delta:0})}function j(U){return Iw(U)}let W={get action(){return d},get location(){return t(o,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(eT,T),m=U,()=>{o.removeEventListener(eT,T),m=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let Y=j(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:w,replace:I,go(U){return c.go(U)}};return W}function Iw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Bs(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Tu,nT=class{constructor(t){if(GC(this,Tu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(op(this,Tu).has(t))return op(this,Tu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){op(this,Tu).set(t,e)}};Tu=new WeakMap;var QC=new Set(["lazy","caseSensitive","path","id","index","children"]);function WC(t){return QC.has(t)}var XC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function JC(t){return XC.has(t)}function ZC(t){return t.index===!0}function Uu(t,e,n=[],s={},o=!1){return t.map((l,c)=>{let d=[...n,String(c)],m=typeof l.id=="string"?l.id:d.join("-");if($e(l.index!==!0||!l.children,"Cannot specify children on an index route"),$e(o||!s[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),ZC(l)){let g={...l,...e(l),id:m};return s[m]=g,g}else{let g={...l,...e(l),id:m,children:void 0};return s[m]=g,l.children&&(g.children=Uu(l.children,e,d,s,o)),g}})}function Is(t,e,n="/"){return Vh(t,e,n,!1)}function Vh(t,e,n,s){let o=typeof e=="string"?Xi(e):e,l=Ir(o.pathname||"/",n);if(l==null)return null;let c=Dw(t);tI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=fI(l);d=cI(c[m],g,s)}return d}function eI(t,e){let{route:n,pathname:s,params:o}=t;return{id:n.id,pathname:s,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function Dw(t,e=[],n=[],s=""){let o=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&($e(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=oi([s,m.relativePath]),_=n.concat(m);l.children&&l.children.length>0&&($e(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Dw(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:lI(g,l.index),routesMeta:_})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let d of Nw(l.path))o(l,c,d)}),e}function Nw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Nw(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function tI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nI=/^:[\w-]+$/,rI=3,iI=2,sI=1,aI=10,oI=-2,rT=t=>t==="*";function lI(t,e){let n=t.split("/"),s=n.length;return n.some(rT)&&(s+=oI),e&&(s+=iI),n.filter(o=>!rT(o)).reduce((o,l)=>o+(nI.test(l)?rI:l===""?sI:aI),s)}function uI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function cI(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=tf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:oi([l,T.pathname]),pathnameBase:gI(oi([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=oi([l,T.pathnameBase]))}return c}function tf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=hI(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let j=d[w]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const I=d[w];return T&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function hI(t,e=!1,n=!0){Lt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function fI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ir(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function dI({basename:t,pathname:e}){return e==="/"?t:oi([t,e])}function mI(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Xi(t):t;return{pathname:n?n.startsWith("/")?n:pI(n,e):e,search:yI(s),hash:_I(o)}}function pI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ow(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xf(t){let e=Ow(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Mf(t,e,n,s=!1){let o;typeof t=="string"?o=Xi(t):(o={...t},$e(!o.pathname||!o.pathname.includes("?"),lp("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),lp("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),lp("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let m=mI(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var oi=t=>t.join("/").replace(/\/\/+/g,"/"),gI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_I=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,nf=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ju(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var xw=["POST","PUT","PATCH","DELETE"],vI=new Set(xw),EI=["GET",...xw],TI=new Set(EI),wI=new Set([301,302,303,307,308]),SI=new Set([307,308]),up={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yg=t=>AI.test(t),RI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Mw="remix-router-transitions",Pw=Symbol("ResetLoaderData");function CI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";$e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=t.hydrationRouteProperties||[],o=t.mapRouteProperties||RI,l={},c=Uu(t.routes,o,void 0,l),d,m=t.basename||"/",g=t.dataStrategy||xI,_={unstable_middleware:!1,...t.future},T=null,w=new Set,I=null,j=null,W=null,U=t.hydrationData!=null,Y=Is(c,t.history.location,m),ue=!1,ee=null,he;if(Y==null&&!t.patchRoutesOnNavigation){let x=Ar(404,{pathname:t.history.location.pathname}),{matches:H,route:J}=pT(c);he=!0,Y=H,ee={[J.id]:x}}else if(Y&&!t.hydrationData&&Xn(Y,c,t.history.location.pathname).active&&(Y=null),Y)if(Y.some(x=>x.route.lazy))he=!1;else if(!Y.some(x=>x.route.loader))he=!0;else{let x=t.hydrationData?t.hydrationData.loaderData:null,H=t.hydrationData?t.hydrationData.errors:null;if(H){let J=Y.findIndex(ie=>H[ie.route.id]!==void 0);he=Y.slice(0,J+1).every(ie=>!Up(ie.route,x,H))}else he=Y.every(J=>!Up(J.route,x,H))}else{he=!1,Y=[];let x=Xn(null,c,t.history.location.pathname);x.active&&x.matches&&(ue=!0,Y=x.matches)}let oe,P={historyAction:t.history.action,location:t.history.location,matches:Y,initialized:he,navigation:up,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},N="POP",A=!1,R,V=!1,L=new Map,z=null,D=!1,Le=!1,Qe=new Set,$=new Map,fe=0,ge=-1,je=new Map,M=new Set,ne=new Map,pe=new Map,de=new Set,Ee=new Map,qe,De=null;function Yt(){if(T=t.history.listen(({action:x,location:H,delta:J})=>{if(qe){qe(),qe=void 0;return}Lt(Ee.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Ei({currentLocation:P.location,nextLocation:H,historyAction:x});if(ie&&J!=null){let ce=new Promise(ve=>{qe=ve});t.history.go(J*-1),Wn(ie,{state:"blocked",location:H,proceed(){Wn(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),ce.then(()=>t.history.go(J))},reset(){let ve=new Map(P.blockers);ve.set(ie,gu),Mt({blockers:ve})}});return}return Ln(x,H)}),n){HI(e,L);let x=()=>qI(e,L);e.addEventListener("pagehide",x),z=()=>e.removeEventListener("pagehide",x)}return P.initialized||Ln("POP",P.location,{initialHydration:!0}),oe}function ot(){T&&T(),z&&z(),w.clear(),R&&R.abort(),P.fetchers.forEach((x,H)=>$t(H)),P.blockers.forEach((x,H)=>In(H))}function Gn(x){return w.add(x),()=>w.delete(x)}function Mt(x,H={}){x.matches&&(x.matches=x.matches.map(ce=>{let ve=l[ce.route.id],Se=ce.route;return Se.element!==ve.element||Se.errorElement!==ve.errorElement||Se.hydrateFallbackElement!==ve.hydrateFallbackElement?{...ce,route:ve}:ce})),P={...P,...x};let J=[],ie=[];P.fetchers.forEach((ce,ve)=>{ce.state==="idle"&&(de.has(ve)?J.push(ve):ie.push(ve))}),de.forEach(ce=>{!P.fetchers.has(ce)&&!$.has(ce)&&J.push(ce)}),[...w].forEach(ce=>ce(P,{deletedFetchers:J,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),J.forEach(ce=>$t(ce)),ie.forEach(ce=>P.fetchers.delete(ce))}function Kn(x,H,{flushSync:J}={}){let ie=P.actionData!=null&&P.navigation.formMethod!=null&&Fn(P.navigation.formMethod)&&P.navigation.state==="loading"&&x.state?._isRedirect!==!0,ce;H.actionData?Object.keys(H.actionData).length>0?ce=H.actionData:ce=null:ie?ce=P.actionData:ce=null;let ve=H.loaderData?dT(P.loaderData,H.loaderData,H.matches||[],H.errors):P.loaderData,Se=P.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((Te,be)=>Se.set(be,gu)));let _e=D?!1:ea(x,H.matches||P.matches),Re=A===!0||P.navigation.formMethod!=null&&Fn(P.navigation.formMethod)&&x.state?._isRedirect!==!0;d&&(c=d,d=void 0),D||N==="POP"||(N==="PUSH"?t.history.push(x,x.state):N==="REPLACE"&&t.history.replace(x,x.state));let Ae;if(N==="POP"){let Te=L.get(P.location.pathname);Te&&Te.has(x.pathname)?Ae={currentLocation:P.location,nextLocation:x}:L.has(x.pathname)&&(Ae={currentLocation:x,nextLocation:P.location})}else if(V){let Te=L.get(P.location.pathname);Te?Te.add(x.pathname):(Te=new Set([x.pathname]),L.set(P.location.pathname,Te)),Ae={currentLocation:P.location,nextLocation:x}}Mt({...H,actionData:ce,loaderData:ve,historyAction:N,location:x,initialized:!0,navigation:up,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:Re,blockers:Se},{viewTransitionOpts:Ae,flushSync:J===!0}),N="POP",A=!1,V=!1,D=!1,Le=!1,De?.resolve(),De=null}async function _i(x,H){if(typeof x=="number"){t.history.go(x);return}let J=kp(P.location,P.matches,m,x,H?.fromRouteId,H?.relative),{path:ie,submission:ce,error:ve}=iT(!1,J,H),Se=P.location,_e=ku(P.location,ie,H&&H.state);_e={..._e,...t.history.encodeLocation(_e)};let Re=H&&H.replace!=null?H.replace:void 0,Ae="PUSH";Re===!0?Ae="REPLACE":Re===!1||ce!=null&&Fn(ce.formMethod)&&ce.formAction===P.location.pathname+P.location.search&&(Ae="REPLACE");let Te=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,be=(H&&H.flushSync)===!0,ze=Ei({currentLocation:Se,nextLocation:_e,historyAction:Ae});if(ze){Wn(ze,{state:"blocked",location:_e,proceed(){Wn(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),_i(x,H)},reset(){let rt=new Map(P.blockers);rt.set(ze,gu),Mt({blockers:rt})}});return}await Ln(Ae,_e,{submission:ce,pendingError:ve,preventScrollReset:Te,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:be})}function vi(){De||(De=GI()),Mr(),Mt({revalidation:"loading"});let x=De.promise;return P.navigation.state==="submitting"?x:P.navigation.state==="idle"?(Ln(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),x):(Ln(N||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:V===!0}),x)}async function Ln(x,H,J){R&&R.abort(),R=null,N=x,D=(J&&J.startUninterruptedRevalidation)===!0,It(P.location,P.matches),A=(J&&J.preventScrollReset)===!0,V=(J&&J.enableViewTransition)===!0;let ie=d||c,ce=J&&J.overrideNavigation,ve=J?.initialHydration&&P.matches&&P.matches.length>0&&!ue?P.matches:Is(ie,H,m),Se=(J&&J.flushSync)===!0;if(ve&&P.initialized&&!Le&&UI(P.location,H)&&!(J&&J.submission&&Fn(J.submission.formMethod))){Kn(H,{matches:ve},{flushSync:Se});return}let _e=Xn(ve,ie,H.pathname);if(_e.active&&_e.matches&&(ve=_e.matches),!ve){let{error:At,notFoundMatches:ke,route:lt}=Ti(H.pathname);Kn(H,{matches:ke,loaderData:{},errors:{[lt.id]:At}},{flushSync:Se});return}R=new AbortController;let Re=jo(t.history,H,R.signal,J&&J.submission),Ae=t.unstable_getContext?await t.unstable_getContext():new nT,Te;if(J&&J.pendingError)Te=[Ds(ve).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Fn(J.submission.formMethod)){let At=await fl(Re,H,J.submission,ve,Ae,_e.active,J&&J.initialHydration===!0,{replace:J.replace,flushSync:Se});if(At.shortCircuited)return;if(At.pendingActionResult){let[ke,lt]=At.pendingActionResult;if(lr(lt)&&ju(lt.error)&&lt.error.status===404){R=null,Kn(H,{matches:At.matches,loaderData:{},errors:{[ke]:lt.error}});return}}ve=At.matches||ve,Te=At.pendingActionResult,ce=cp(H,J.submission),Se=!1,_e.active=!1,Re=jo(t.history,Re.url,Re.signal)}let{shortCircuited:be,matches:ze,loaderData:rt,errors:wt}=await Js(Re,H,ve,Ae,_e.active,ce,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Se,Te);be||(R=null,Kn(H,{matches:ze||ve,...mT(Te),loaderData:rt,errors:wt}))}async function fl(x,H,J,ie,ce,ve,Se,_e={}){Mr();let Re=BI(H,J);if(Mt({navigation:Re},{flushSync:_e.flushSync===!0}),ve){let be=await Jn(ie,H.pathname,x.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let ze=Ds(be.partialMatches).route.id;return{matches:be.partialMatches,pendingActionResult:[ze,{type:"error",error:be.error}]}}else if(be.matches)ie=be.matches;else{let{notFoundMatches:ze,error:rt,route:wt}=Ti(H.pathname);return{matches:ze,pendingActionResult:[wt.id,{type:"error",error:rt}]}}}let Ae,Te=Lh(ie,H);if(!Te.route.action&&!Te.route.lazy)Ae={type:"error",error:Ar(405,{method:x.method,pathname:H.pathname,routeId:Te.route.id})};else{let be=Go(o,l,x,ie,Te,Se?[]:s,ce),ze=await xr(x,be,ce,null);if(Ae=ze[Te.route.id],!Ae){for(let rt of ie)if(ze[rt.route.id]){Ae=ze[rt.route.id];break}}if(x.signal.aborted)return{shortCircuited:!0}}if(Pa(Ae)){let be;return _e&&_e.replace!=null?be=_e.replace:be=cT(Ae.response.headers.get("Location"),new URL(x.url),m)===P.location.pathname+P.location.search,await Or(x,Ae,!0,{submission:J,replace:be}),{shortCircuited:!0}}if(lr(Ae)){let be=Ds(ie,Te.route.id);return(_e&&_e.replace)!==!0&&(N="PUSH"),{matches:ie,pendingActionResult:[be.route.id,Ae,Te.route.id]}}return{matches:ie,pendingActionResult:[Te.route.id,Ae]}}async function Js(x,H,J,ie,ce,ve,Se,_e,Re,Ae,Te,be){let ze=ve||cp(H,Se),rt=Se||_e||yT(ze),wt=!D&&!Ae;if(ce){if(wt){let Rt=cn(be);Mt({navigation:ze,...Rt!==void 0?{actionData:Rt}:{}},{flushSync:Te})}let He=await Jn(J,H.pathname,x.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let Rt=Ds(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[Rt]:He.error}}}else if(He.matches)J=He.matches;else{let{error:Rt,notFoundMatches:Lr,route:Nn}=Ti(H.pathname);return{matches:Lr,loaderData:{},errors:{[Nn.id]:Rt}}}}let At=d||c,{dsMatches:ke,revalidatingFetchers:lt}=sT(x,ie,o,l,t.history,P,J,rt,H,Ae?[]:s,Ae===!0,Le,Qe,de,ne,M,At,m,t.patchRoutesOnNavigation!=null,be);if(ge=++fe,!t.dataStrategy&&!ke.some(He=>He.shouldLoad)&&!ke.some(He=>He.route.unstable_middleware)&&lt.length===0){let He=$n();return Kn(H,{matches:J,loaderData:{},errors:be&&lr(be[1])?{[be[0]]:be[1].error}:null,...mT(be),...He?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Te}),{shortCircuited:!0}}if(wt){let He={};if(!ce){He.navigation=ze;let Rt=cn(be);Rt!==void 0&&(He.actionData=Rt)}lt.length>0&&(He.fetchers=Za(lt)),Mt(He,{flushSync:Te})}lt.forEach(He=>{Yn(He.key),He.controller&&$.set(He.key,He.controller)});let Dn=()=>lt.forEach(He=>Yn(He.key));R&&R.signal.addEventListener("abort",Dn);let{loaderResults:vn,fetcherResults:Qt}=await eo(ke,lt,x,ie);if(x.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Dn),lt.forEach(He=>$.delete(He.key));let nn=Rh(vn);if(nn)return await Or(x,nn.result,!0,{replace:Re}),{shortCircuited:!0};if(nn=Rh(Qt),nn)return M.add(nn.key),await Or(x,nn.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:kn,errors:dr}=fT(P,J,vn,be,lt,Qt);Ae&&P.errors&&(dr={...P.errors,...dr});let Vr=$n(),mr=Pr(ge),pr=Vr||mr||lt.length>0;return{matches:J,loaderData:kn,errors:dr,...pr?{fetchers:new Map(P.fetchers)}:{}}}function cn(x){if(x&&!lr(x[1]))return{[x[0]]:x[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function Za(x){return x.forEach(H=>{let J=P.fetchers.get(H.key),ie=yu(void 0,J?J.data:void 0);P.fetchers.set(H.key,ie)}),new Map(P.fetchers)}async function kt(x,H,J,ie){Yn(x);let ce=(ie&&ie.flushSync)===!0,ve=d||c,Se=kp(P.location,P.matches,m,J,H,ie?.relative),_e=Is(ve,Se,m),Re=Xn(_e,ve,Se);if(Re.active&&Re.matches&&(_e=Re.matches),!_e){_t(x,H,Ar(404,{pathname:Se}),{flushSync:ce});return}let{path:Ae,submission:Te,error:be}=iT(!0,Se,ie);if(be){_t(x,H,be,{flushSync:ce});return}let ze=t.unstable_getContext?await t.unstable_getContext():new nT,rt=(ie&&ie.preventScrollReset)===!0;if(Te&&Fn(Te.formMethod)){await Ft(x,H,Ae,_e,ze,Re.active,ce,rt,Te);return}ne.set(x,{routeId:H,path:Ae}),await Nr(x,H,Ae,_e,ze,Re.active,ce,rt,Te)}async function Ft(x,H,J,ie,ce,ve,Se,_e,Re){Mr(),ne.delete(x);let Ae=P.fetchers.get(x);hn(x,FI(Re,Ae),{flushSync:Se});let Te=new AbortController,be=jo(t.history,J,Te.signal,Re);if(ve){let vt=await Jn(ie,new URL(be.url).pathname,be.signal,x);if(vt.type==="aborted")return;if(vt.type==="error"){_t(x,H,vt.error,{flushSync:Se});return}else if(vt.matches)ie=vt.matches;else{_t(x,H,Ar(404,{pathname:J}),{flushSync:Se});return}}let ze=Lh(ie,J);if(!ze.route.action&&!ze.route.lazy){let vt=Ar(405,{method:Re.formMethod,pathname:J,routeId:H});_t(x,H,vt,{flushSync:Se});return}$.set(x,Te);let rt=fe,wt=Go(o,l,be,ie,ze,s,ce),ke=(await xr(be,wt,ce,x))[ze.route.id];if(be.signal.aborted){$.get(x)===Te&&$.delete(x);return}if(de.has(x)){if(Pa(ke)||lr(ke)){hn(x,Cs(void 0));return}}else{if(Pa(ke))if($.delete(x),ge>rt){hn(x,Cs(void 0));return}else return M.add(x),hn(x,yu(Re)),Or(be,ke,!1,{fetcherSubmission:Re,preventScrollReset:_e});if(lr(ke)){_t(x,H,ke.error);return}}let lt=P.navigation.location||P.location,Dn=jo(t.history,lt,Te.signal),vn=d||c,Qt=P.navigation.state!=="idle"?Is(vn,P.navigation.location,m):P.matches;$e(Qt,"Didn't find any matches after fetcher action");let nn=++fe;je.set(x,nn);let kn=yu(Re,ke.data);P.fetchers.set(x,kn);let{dsMatches:dr,revalidatingFetchers:Vr}=sT(Dn,ce,o,l,t.history,P,Qt,Re,lt,s,!1,Le,Qe,de,ne,M,vn,m,t.patchRoutesOnNavigation!=null,[ze.route.id,ke]);Vr.filter(vt=>vt.key!==x).forEach(vt=>{let kr=vt.key,to=P.fetchers.get(kr),Zn=yu(void 0,to?to.data:void 0);P.fetchers.set(kr,Zn),Yn(kr),vt.controller&&$.set(kr,vt.controller)}),Mt({fetchers:new Map(P.fetchers)});let mr=()=>Vr.forEach(vt=>Yn(vt.key));Te.signal.addEventListener("abort",mr);let{loaderResults:pr,fetcherResults:He}=await eo(dr,Vr,Dn,ce);if(Te.signal.aborted)return;if(Te.signal.removeEventListener("abort",mr),je.delete(x),$.delete(x),Vr.forEach(vt=>$.delete(vt.key)),P.fetchers.has(x)){let vt=Cs(ke.data);P.fetchers.set(x,vt)}let Rt=Rh(pr);if(Rt)return Or(Dn,Rt.result,!1,{preventScrollReset:_e});if(Rt=Rh(He),Rt)return M.add(Rt.key),Or(Dn,Rt.result,!1,{preventScrollReset:_e});let{loaderData:Lr,errors:Nn}=fT(P,Qt,pr,void 0,Vr,He);Pr(nn),P.navigation.state==="loading"&&nn>ge?($e(N,"Expected pending action"),R&&R.abort(),Kn(P.navigation.location,{matches:Qt,loaderData:Lr,errors:Nn,fetchers:new Map(P.fetchers)})):(Mt({errors:Nn,loaderData:dT(P.loaderData,Lr,Qt,Nn),fetchers:new Map(P.fetchers)}),Le=!1)}async function Nr(x,H,J,ie,ce,ve,Se,_e,Re){let Ae=P.fetchers.get(x);hn(x,yu(Re,Ae?Ae.data:void 0),{flushSync:Se});let Te=new AbortController,be=jo(t.history,J,Te.signal);if(ve){let lt=await Jn(ie,new URL(be.url).pathname,be.signal,x);if(lt.type==="aborted")return;if(lt.type==="error"){_t(x,H,lt.error,{flushSync:Se});return}else if(lt.matches)ie=lt.matches;else{_t(x,H,Ar(404,{pathname:J}),{flushSync:Se});return}}let ze=Lh(ie,J);$.set(x,Te);let rt=fe,wt=Go(o,l,be,ie,ze,s,ce),ke=(await xr(be,wt,ce,x))[ze.route.id];if($.get(x)===Te&&$.delete(x),!be.signal.aborted){if(de.has(x)){hn(x,Cs(void 0));return}if(Pa(ke))if(ge>rt){hn(x,Cs(void 0));return}else{M.add(x),await Or(be,ke,!1,{preventScrollReset:_e});return}if(lr(ke)){_t(x,H,ke.error);return}hn(x,Cs(ke.data))}}async function Or(x,H,J,{submission:ie,fetcherSubmission:ce,preventScrollReset:ve,replace:Se}={}){H.response.headers.has("X-Remix-Revalidate")&&(Le=!0);let _e=H.response.headers.get("Location");$e(_e,"Expected a Location header on the redirect Response"),_e=cT(_e,new URL(x.url),m);let Re=ku(P.location,_e,{_isRedirect:!0});if(n){let wt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(yg(_e)){const At=Iw(_e,!0);wt=At.origin!==e.location.origin||Ir(At.pathname,m)==null}if(wt){Se?e.location.replace(_e):e.location.assign(_e);return}}R=null;let Ae=Se===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Te,formAction:be,formEncType:ze}=P.navigation;!ie&&!ce&&Te&&be&&ze&&(ie=yT(P.navigation));let rt=ie||ce;if(SI.has(H.response.status)&&rt&&Fn(rt.formMethod))await Ln(Ae,Re,{submission:{...rt,formAction:_e},preventScrollReset:ve||A,enableViewTransition:J?V:void 0});else{let wt=cp(Re,ie);await Ln(Ae,Re,{overrideNavigation:wt,fetcherSubmission:ce,preventScrollReset:ve||A,enableViewTransition:J?V:void 0})}}async function xr(x,H,J,ie){let ce,ve={};try{ce=await MI(g,x,H,ie,J,!1)}catch(Se){return H.filter(_e=>_e.shouldLoad).forEach(_e=>{ve[_e.route.id]={type:"error",error:Se}}),ve}if(x.signal.aborted)return ve;for(let[Se,_e]of Object.entries(ce))if(jI(_e)){let Re=_e.result;ve[Se]={type:"redirect",response:LI(Re,x,Se,H,m)}}else ve[Se]=await VI(_e);return ve}async function eo(x,H,J,ie){let ce=xr(J,x,ie,null),ve=Promise.all(H.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let Te=(await xr(Re.request,Re.matches,ie,Re.key))[Re.match.route.id];return{[Re.key]:Te}}else return Promise.resolve({[Re.key]:{type:"error",error:Ar(404,{pathname:Re.path})}})})),Se=await ce,_e=(await ve).reduce((Re,Ae)=>Object.assign(Re,Ae),{});return{loaderResults:Se,fetcherResults:_e}}function Mr(){Le=!0,ne.forEach((x,H)=>{$.has(H)&&Qe.add(H),Yn(H)})}function hn(x,H,J={}){P.fetchers.set(x,H),Mt({fetchers:new Map(P.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function _t(x,H,J,ie={}){let ce=Ds(P.matches,H);$t(x),Mt({errors:{[ce.route.id]:J},fetchers:new Map(P.fetchers)},{flushSync:(ie&&ie.flushSync)===!0})}function Cn(x){return pe.set(x,(pe.get(x)||0)+1),de.has(x)&&de.delete(x),P.fetchers.get(x)||bI}function $t(x){let H=P.fetchers.get(x);$.has(x)&&!(H&&H.state==="loading"&&je.has(x))&&Yn(x),ne.delete(x),je.delete(x),M.delete(x),de.delete(x),Qe.delete(x),P.fetchers.delete(x)}function dl(x){let H=(pe.get(x)||0)-1;H<=0?(pe.delete(x),de.add(x)):pe.set(x,H),Mt({fetchers:new Map(P.fetchers)})}function Yn(x){let H=$.get(x);H&&(H.abort(),$.delete(x))}function Zs(x){for(let H of x){let J=Cn(H),ie=Cs(J.data);P.fetchers.set(H,ie)}}function $n(){let x=[],H=!1;for(let J of M){let ie=P.fetchers.get(J);$e(ie,`Expected fetcher: ${J}`),ie.state==="loading"&&(M.delete(J),x.push(J),H=!0)}return Zs(x),H}function Pr(x){let H=[];for(let[J,ie]of je)if(ie<x){let ce=P.fetchers.get(J);$e(ce,`Expected fetcher: ${J}`),ce.state==="loading"&&(Yn(J),je.delete(J),H.push(J))}return Zs(H),H.length>0}function Qn(x,H){let J=P.blockers.get(x)||gu;return Ee.get(x)!==H&&Ee.set(x,H),J}function In(x){P.blockers.delete(x),Ee.delete(x)}function Wn(x,H){let J=P.blockers.get(x)||gu;$e(J.state==="unblocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="blocked"||J.state==="blocked"&&H.state==="proceeding"||J.state==="blocked"&&H.state==="unblocked"||J.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${H.state}`);let ie=new Map(P.blockers);ie.set(x,H),Mt({blockers:ie})}function Ei({currentLocation:x,nextLocation:H,historyAction:J}){if(Ee.size===0)return;Ee.size>1&&Lt(!1,"A router only supports one blocker at a time");let ie=Array.from(Ee.entries()),[ce,ve]=ie[ie.length-1],Se=P.blockers.get(ce);if(!(Se&&Se.state==="proceeding")&&ve({currentLocation:x,nextLocation:H,historyAction:J}))return ce}function Ti(x){let H=Ar(404,{pathname:x}),J=d||c,{matches:ie,route:ce}=pT(J);return{notFoundMatches:ie,route:ce,error:H}}function Xr(x,H,J){if(I=x,W=H,j=J||null,!U&&P.navigation===up){U=!0;let ie=ea(P.location,P.matches);ie!=null&&Mt({restoreScrollPosition:ie})}return()=>{I=null,W=null,j=null}}function wi(x,H){return j&&j(x,H.map(ie=>eI(ie,P.loaderData)))||x.key}function It(x,H){if(I&&W){let J=wi(x,H);I[J]=W()}}function ea(x,H){if(I){let J=wi(x,H),ie=I[J];if(typeof ie=="number")return ie}return null}function Xn(x,H,J){if(t.patchRoutesOnNavigation)if(x){if(Object.keys(x[0].params).length>0)return{active:!0,matches:Vh(H,J,m,!0)}}else return{active:!0,matches:Vh(H,J,m,!0)||[]};return{active:!1,matches:null}}async function Jn(x,H,J,ie){if(!t.patchRoutesOnNavigation)return{type:"success",matches:x};let ce=x;for(;;){let ve=d==null,Se=d||c,_e=l;try{await t.patchRoutesOnNavigation({signal:J,path:H,matches:ce,fetcherKey:ie,patch:(Te,be)=>{J.aborted||aT(Te,be,Se,_e,o,!1)}})}catch(Te){return{type:"error",error:Te,partialMatches:ce}}finally{ve&&!J.aborted&&(c=[...c])}if(J.aborted)return{type:"aborted"};let Re=Is(Se,H,m);if(Re)return{type:"success",matches:Re};let Ae=Vh(Se,H,m,!0);if(!Ae||ce.length===Ae.length&&ce.every((Te,be)=>Te.route.id===Ae[be].route.id))return{type:"success",matches:null};ce=Ae}}function ta(x){l={},d=Uu(x,o,void 0,l)}function na(x,H,J=!1){let ie=d==null;aT(x,H,d||c,l,o,J),ie&&(c=[...c],Mt({}))}return oe={get basename(){return m},get future(){return _},get state(){return P},get routes(){return c},get window(){return e},initialize:Yt,subscribe:Gn,enableScrollRestoration:Xr,navigate:_i,fetch:kt,revalidate:vi,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:Cn,deleteFetcher:dl,dispose:ot,getBlocker:Qn,deleteBlocker:In,patchRoutes:na,_internalFetchControllers:$,_internalSetRoutes:ta,_internalSetStateDoNotUseOrYouWillBreakYourApp(x){Mt(x)}},oe}function II(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function kp(t,e,n,s,o,l){let c,d;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){d=g;break}}else c=e,d=e[e.length-1];let m=Mf(s||".",xf(c),Ir(t.pathname,n)||t.pathname,l==="path");if(s==null&&(m.search=t.search,m.hash=t.hash),(s==null||s===""||s===".")&&d){let g=_g(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let _=new URLSearchParams(m.search),T=_.getAll("index");_.delete("index"),T.filter(I=>I).forEach(I=>_.append("index",I));let w=_.toString();m.search=w?`?${w}`:""}}return n!=="/"&&(m.pathname=dI({basename:n,pathname:m.pathname})),Bs(m)}function iT(t,e,n){if(!n||!II(n))return{path:e};if(n.formMethod&&!zI(n.formMethod))return{path:e,error:Ar(405,{method:n.formMethod})};let s=()=>({path:e,error:Ar(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),c=Bw(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Fn(l))return s();let T=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[I,j])=>`${w}${I}=${j}
`,""):String(n.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:T}}}else if(n.formEncType==="application/json"){if(!Fn(l))return s();try{let T=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:T,text:void 0}}}catch{return s()}}}$e(typeof FormData=="function","FormData is not available in this environment");let d,m;if(n.formData)d=zp(n.formData),m=n.formData;else if(n.body instanceof FormData)d=zp(n.body),m=n.body;else if(n.body instanceof URLSearchParams)d=n.body,m=hT(d);else if(n.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(n.body),m=hT(d)}catch{return s()}let g={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Fn(g.formMethod))return{path:e,submission:g};let _=Xi(e);return t&&_.search&&_g(_.search)&&d.append("index",""),_.search=`?${d}`,{path:Bs(_),submission:g}}function sT(t,e,n,s,o,l,c,d,m,g,_,T,w,I,j,W,U,Y,ue,ee){let he=ee?lr(ee[1])?ee[1].error:ee[1].data:void 0,oe=o.createURL(l.location),P=o.createURL(m),N;if(_&&l.errors){let D=Object.keys(l.errors)[0];N=c.findIndex(Le=>Le.route.id===D)}else if(ee&&lr(ee[1])){let D=ee[0];N=c.findIndex(Le=>Le.route.id===D)-1}let A=ee?ee[1].statusCode:void 0,R=A&&A>=400,V={currentUrl:oe,currentParams:l.matches[0]?.params||{},nextUrl:P,nextParams:c[0].params,...d,actionResult:he,actionStatus:A},L=c.map((D,Le)=>{let{route:Qe}=D,$=null;if(N!=null&&Le>N?$=!1:Qe.lazy?$=!0:Qe.loader==null?$=!1:_?$=Up(Qe,l.loaderData,l.errors):DI(l.loaderData,l.matches[Le],D)&&($=!0),$!==null)return jp(n,s,t,D,g,e,$);let fe=R?!1:T||oe.pathname+oe.search===P.pathname+P.search||oe.search!==P.search||NI(l.matches[Le],D),ge={...V,defaultShouldRevalidate:fe},je=rf(D,ge);return jp(n,s,t,D,g,e,je,ge)}),z=[];return j.forEach((D,Le)=>{if(_||!c.some(pe=>pe.route.id===D.routeId)||I.has(Le))return;let Qe=l.fetchers.get(Le),$=Qe&&Qe.state!=="idle"&&Qe.data===void 0,fe=Is(U,D.path,Y);if(!fe){if(ue&&$)return;z.push({key:Le,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(W.has(Le))return;let ge=Lh(fe,D.path),je=new AbortController,M=jo(o,D.path,je.signal),ne=null;if(w.has(Le))w.delete(Le),ne=Go(n,s,M,fe,ge,g,e);else if($)T&&(ne=Go(n,s,M,fe,ge,g,e));else{let pe={...V,defaultShouldRevalidate:R?!1:T};rf(ge,pe)&&(ne=Go(n,s,M,fe,ge,g,e,pe))}ne&&z.push({key:Le,routeId:D.routeId,path:D.path,matches:ne,match:ge,request:M,controller:je})}),{dsMatches:L,revalidatingFetchers:z}}function Up(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let s=e!=null&&t.id in e,o=n!=null&&n[t.id]!==void 0;return!s&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!s&&!o}function DI(t,e,n){let s=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return s||o}function NI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function rf(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function aT(t,e,n,s,o,l){let c;if(t){let g=s[t];$e(g,`No route found to patch children into: routeId = ${t}`),g.children||(g.children=[]),c=g.children}else c=n;let d=[],m=[];if(e.forEach(g=>{let _=c.find(T=>Vw(g,T));_?m.push({existingRoute:_,newRoute:g}):d.push(g)}),d.length>0){let g=Uu(d,o,[t||"_","patch",String(c?.length||"0")],s);c.push(...g)}if(l&&m.length>0)for(let g=0;g<m.length;g++){let{existingRoute:_,newRoute:T}=m[g],w=_,[I]=Uu([T],o,[],{},!0);Object.assign(w,{element:I.element?I.element:w.element,errorElement:I.errorElement?I.errorElement:w.errorElement,hydrateFallbackElement:I.hydrateFallbackElement?I.hydrateFallbackElement:w.hydrateFallbackElement})}}function Vw(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,s)=>e.children?.some(o=>Vw(n,o))):!1}var oT=new WeakMap,Lw=({key:t,route:e,manifest:n,mapRouteProperties:s})=>{let o=n[e.id];if($e(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let l=o.lazy[t];if(!l)return;let c=oT.get(o);c||(c={},oT.set(o,c));let d=c[t];if(d)return d;let m=(async()=>{let g=WC(t),T=o[t]!==void 0&&t!=="hasErrorBoundary";if(g)Lt(!g,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),c[t]=Promise.resolve();else if(T)Lt(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await l();w!=null&&(Object.assign(o,{[t]:w}),Object.assign(o,s(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(w=>w===void 0)&&(o.lazy=void 0))})();return c[t]=m,m},lT=new WeakMap;function OI(t,e,n,s,o){let l=n[t.id];if($e(l,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let _=lT.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let T=(async()=>{$e(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),I={};for(let j in w){let W=w[j];if(W===void 0)continue;let U=JC(j),ue=l[j]!==void 0&&j!=="hasErrorBoundary";U?Lt(!U,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):ue?Lt(!ue,`Route "${l.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):I[j]=W}Object.assign(l,I),Object.assign(l,{...s(l),lazy:void 0})})();return lT.set(l,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(t.lazy),d=[],m;for(let _ of c){if(o&&o.includes(_))continue;let T=Lw({key:_,route:t,manifest:n,mapRouteProperties:s});T&&(d.push(T),_===e&&(m=T))}let g=d.length>0?Promise.all(d).then(()=>{}):void 0;return g?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:m}}async function uT(t){let e=t.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{n[e[l].route.id]=o}),n}async function xI(t){if(!t.matches.some(n=>n.route.unstable_middleware))return uT(t);let e=!1;return Uw(t,()=>(e=!0,uT(t)),(n,s)=>kw(n,s,t.matches,e))}function kw(t,e,n,s){return s?{[e]:{type:"error",result:t}}:{[Ds(n,n.find(l=>l.route.id===e||l.route.loader)?.route.id||e).route.id]:{type:"error",result:t}}}async function Uw(t,e,n){let{matches:s,request:o,params:l,context:c}=t,d=s.flatMap(g=>g.route.unstable_middleware?g.route.unstable_middleware.map(_=>[g.route.id,_]):[]),m={};return await jw({request:o,params:l,context:c},d,e,n,m),m}async function jw(t,e,n,s,o={},l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason?c.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${c.method} ${c.url}`);let d=e[l];if(!d){let w=await n();Object.assign(o,w);return}let[m,g]=d,_=!1,T=async()=>{if(_)throw new Error("You may only call `next()` once per middleware");_=!0;try{let w=await jw(t,e,n,s,o,l+1);Object.assign(o,w)}catch(w){let I=await s(w,m);Object.assign(o,I)}};try{let w=await g({request:t.request,params:t.params,context:t.context},T);typeof w<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",w),_||await T()}catch(w){let I=await s(w,m);Object.assign(o,I)}}function zw(t,e,n,s,o){let l=Lw({key:"unstable_middleware",route:s.route,manifest:e,mapRouteProperties:t}),c=OI(s.route,Fn(n.method)?"action":"loader",e,t,o);return{middleware:l,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function jp(t,e,n,s,o,l,c,d=null){let m=!1,g=zw(t,e,n,s,o);return{...s,_lazyPromises:g,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(_){return m=!0,d?typeof _=="boolean"?rf(s,{...d,defaultShouldRevalidate:_}):rf(s,d):c},resolve(_){return m||c||_&&!Fn(n.method)&&(s.route.lazy||s.route.loader)?PI({request:n,match:s,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function Go(t,e,n,s,o,l,c,d=null){return s.map(m=>m.route.id!==o.route.id?{...m,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:zw(t,e,n,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:jp(t,e,n,m,l,c,!0,d))}async function MI(t,e,n,s,o,l){n.some(g=>g._lazyPromises?.middleware)&&await Promise.all(n.map(g=>g._lazyPromises?.middleware));let c={request:e,params:n[0].params,context:o,matches:n},m=await t({...c,fetcherKey:s,unstable_runClientMiddleware:g=>{let _=c,T=!1;return Uw(_,()=>(T=!0,g({..._,fetcherKey:s,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(w,I)=>kw(w,I,n,T))}});try{await Promise.all(n.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return m}async function PI({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:o,scopedContext:l}){let c,d,m=Fn(t.method),g=m?"action":"loader",_=T=>{let w,I=new Promise((U,Y)=>w=Y);d=()=>w(),t.signal.addEventListener("abort",d);let j=U=>typeof T!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${e.route.id}]`)):T({request:t,params:e.params,context:l},...U!==void 0?[U]:[]),W=(async()=>{try{return{type:"data",result:await(o?o(Y=>j(Y)):j())}}catch(U){return{type:"error",result:U}}})();return Promise.race([W,I])};try{let T=m?e.route.action:e.route.loader;if(n||s)if(T){let w,[I]=await Promise.all([_(T).catch(j=>{w=j}),n,s]);if(w!==void 0)throw w;c=I}else{await n;let w=m?e.route.action:e.route.loader;if(w)[c]=await Promise.all([_(w),s]);else if(g==="action"){let I=new URL(t.url),j=I.pathname+I.search;throw Ar(405,{method:t.method,pathname:j,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(T)c=await _(T);else{let w=new URL(t.url),I=w.pathname+w.search;throw Ar(404,{pathname:I})}}catch(T){return{type:"error",result:T}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function VI(t){let{result:e,type:n}=t;if(Fw(e)){let s;try{let o=e.headers.get("Content-Type");o&&/\bapplication\/json\b/.test(o)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new nf(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:"data",data:s,statusCode:e.status,headers:e.headers}}return n==="error"?gT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new nf(e.init?.status||500,void 0,e.data),statusCode:ju(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:ju(e)?e.status:void 0}:gT(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function LI(t,e,n,s,o){let l=t.headers.get("Location");if($e(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!yg(l)){let c=s.slice(0,s.findIndex(d=>d.route.id===n)+1);l=kp(new URL(e.url),c,o,l),t.headers.set("Location",l)}return t}function cT(t,e,n){if(yg(t)){let s=t,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),l=Ir(o.pathname,n)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return t}function jo(t,e,n,s){let o=t.createURL(Bw(e)).toString(),l={signal:n};if(s&&Fn(s.formMethod)){let{formMethod:c,formEncType:d}=s;l.method=c.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(s.json)):d==="text/plain"?l.body=s.text:d==="application/x-www-form-urlencoded"&&s.formData?l.body=zp(s.formData):l.body=s.formData}return new Request(o,l)}function zp(t){let e=new URLSearchParams;for(let[n,s]of t.entries())e.append(n,typeof s=="string"?s:s.name);return e}function hT(t){let e=new FormData;for(let[n,s]of t.entries())e.append(n,s);return e}function kI(t,e,n,s=!1,o=!1){let l={},c=null,d,m=!1,g={},_=n&&lr(n[1])?n[1].error:void 0;return t.forEach(T=>{if(!(T.route.id in e))return;let w=T.route.id,I=e[w];if($e(!Pa(I),"Cannot handle redirect results in processLoaderData"),lr(I)){let j=I.error;if(_!==void 0&&(j=_,_=void 0),c=c||{},o)c[w]=j;else{let W=Ds(t,w);c[W.route.id]==null&&(c[W.route.id]=j)}s||(l[w]=Pw),m||(m=!0,d=ju(I.error)?I.error.status:500),I.headers&&(g[w]=I.headers)}else l[w]=I.data,I.statusCode&&I.statusCode!==200&&!m&&(d=I.statusCode),I.headers&&(g[w]=I.headers)}),_!==void 0&&n&&(c={[n[0]]:_},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:c,statusCode:d||200,loaderHeaders:g}}function fT(t,e,n,s,o,l){let{loaderData:c,errors:d}=kI(e,n,s);return o.filter(m=>!m.matches||m.matches.some(g=>g.shouldLoad)).forEach(m=>{let{key:g,match:_,controller:T}=m;if(T&&T.signal.aborted)return;let w=l[g];if($e(w,"Did not find corresponding fetcher result"),lr(w)){let I=Ds(t.matches,_?.route.id);d&&d[I.route.id]||(d={...d,[I.route.id]:w.error}),t.fetchers.delete(g)}else if(Pa(w))$e(!1,"Unhandled fetcher revalidation redirect");else{let I=Cs(w.data);t.fetchers.set(g,I)}}),{loaderData:c,errors:d}}function dT(t,e,n,s){let o=Object.entries(e).filter(([,l])=>l!==Pw).reduce((l,[c,d])=>(l[c]=d,l),{});for(let l of n){let c=l.route.id;if(!e.hasOwnProperty(c)&&t.hasOwnProperty(c)&&l.route.loader&&(o[c]=t[c]),s&&s.hasOwnProperty(c))break}return o}function mT(t){return t?lr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ds(t,e){return(e?t.slice(0,t.findIndex(s=>s.route.id===e)+1):[...t]).reverse().find(s=>s.route.hasErrorBoundary===!0)||t[0]}function pT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ar(t,{pathname:e,routeId:n,method:s,type:o,message:l}={}){let c="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&e&&n?d=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):t===403?(c="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(c="Not Found",d=`No route matches URL "${e}"`):t===405&&(c="Method Not Allowed",s&&e&&n?d=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(d=`Invalid request method "${s.toUpperCase()}"`)),new nf(t||500,c,new Error(d),!0)}function Rh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(Pa(o))return{key:s,result:o}}}function Bw(t){let e=typeof t=="string"?Xi(t):t;return Bs({...e,hash:""})}function UI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jI(t){return Fw(t.result)&&wI.has(t.result.status)}function lr(t){return t.type==="error"}function Pa(t){return(t&&t.type)==="redirect"}function gT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Fw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zI(t){return TI.has(t.toUpperCase())}function Fn(t){return vI.has(t.toUpperCase())}function _g(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Lh(t,e){let n=typeof e=="string"?Xi(e).search:e.search;if(t[t.length-1].route.index&&_g(n||""))return t[t.length-1];let s=Ow(t);return s[s.length-1]}function yT(t){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:l,json:c}=t;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:n,formEncType:s,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:c,text:void 0}}}function cp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BI(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function FI(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Cs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function HI(t,e){try{let n=t.sessionStorage.getItem(Mw);if(n){let s=JSON.parse(n);for(let[o,l]of Object.entries(s||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function qI(t,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{t.sessionStorage.setItem(Mw,JSON.stringify(n))}catch(s){Lt(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function GI(){let t,e,n=new Promise((s,o)=>{t=async l=>{s(l);try{await n}catch{}},e=async l=>{o(l);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ya=F.createContext(null);Ya.displayName="DataRouter";var Xu=F.createContext(null);Xu.displayName="DataRouterState";F.createContext(!1);var vg=F.createContext({isTransitioning:!1});vg.displayName="ViewTransition";var Hw=F.createContext(new Map);Hw.displayName="Fetchers";var KI=F.createContext(null);KI.displayName="Await";var Qr=F.createContext(null);Qr.displayName="Navigation";var Pf=F.createContext(null);Pf.displayName="Location";var Dr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var Eg=F.createContext(null);Eg.displayName="RouteError";function YI(t,{relative:e}={}){$e(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Qr),{hash:o,pathname:l,search:c}=Ju(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:oi([n,l])),s.createHref({pathname:d,search:c,hash:o})}function il(){return F.useContext(Pf)!=null}function Qs(){return $e(il(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Pf).location}var qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gw(t){F.useContext(Qr).static||F.useLayoutEffect(t)}function Kw(){let{isDataRoute:t}=F.useContext(Dr);return t?lD():$I()}function $I(){$e(il(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Ya),{basename:e,navigator:n}=F.useContext(Qr),{matches:s}=F.useContext(Dr),{pathname:o}=Qs(),l=JSON.stringify(xf(s)),c=F.useRef(!1);return Gw(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Lt(c.current,qw),!c.current)return;if(typeof m=="number"){n.go(m);return}let _=Mf(m,JSON.parse(l),o,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:oi([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,o,t])}var QI=F.createContext(null);function WI(t){let e=F.useContext(Dr).outlet;return e&&F.createElement(QI.Provider,{value:t},e)}function Yw(){let{matches:t}=F.useContext(Dr),e=t[t.length-1];return e?e.params:{}}function Ju(t,{relative:e}={}){let{matches:n}=F.useContext(Dr),{pathname:s}=Qs(),o=JSON.stringify(xf(n));return F.useMemo(()=>Mf(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function XI(t,e,n,s){$e(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=F.useContext(Qr),{matches:l}=F.useContext(Dr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",g=c?c.pathnameBase:"/",_=c&&c.route;{let Y=_&&_.path||"";$w(m,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let T=Qs(),w;w=T;let I=w.pathname||"/",j=I;if(g!=="/"){let Y=g.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(Y.length).join("/")}let W=Is(t,{pathname:j});return Lt(_||W!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Lt(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),nD(W&&W.map(Y=>Object.assign({},Y,{params:Object.assign({},d,Y.params),pathname:oi([g,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?g:oi([g,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),l,n,s)}function JI(){let t=oD(),e=ju(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,c)}var ZI=F.createElement(JI,null),eD=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(Dr.Provider,{value:this.props.routeContext},F.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tD({routeContext:t,match:e,children:n}){let s=F.useContext(Ya);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Dr.Provider,{value:t},n)}function nD(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);$e(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:T}=n,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,_)=>{let T,w=!1,I=null,j=null;n&&(T=l&&g.route.id?l[g.route.id]:void 0,I=g.route.errorElement||ZI,c&&(d<0&&_===0?($w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):d===_&&(w=!0,j=g.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,_+1)),U=()=>{let Y;return T?Y=I:w?Y=j:g.route.Component?Y=F.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=m,F.createElement(tD,{match:g,routeContext:{outlet:m,matches:W,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?F.createElement(eD,{location:n.location,revalidation:n.revalidation,component:I,error:T,children:U(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):U()},null)}function Tg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rD(t){let e=F.useContext(Ya);return $e(e,Tg(t)),e}function iD(t){let e=F.useContext(Xu);return $e(e,Tg(t)),e}function sD(t){let e=F.useContext(Dr);return $e(e,Tg(t)),e}function wg(t){let e=sD(t),n=e.matches[e.matches.length-1];return $e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function aD(){return wg("useRouteId")}function oD(){let t=F.useContext(Eg),e=iD("useRouteError"),n=wg("useRouteError");return t!==void 0?t:e.errors?.[n]}function lD(){let{router:t}=rD("useNavigate"),e=wg("useNavigate"),n=F.useRef(!1);return Gw(()=>{n.current=!0}),F.useCallback(async(o,l={})=>{Lt(n.current,qw),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var _T={};function $w(t,e,n){!e&&!_T[t]&&(_T[t]=!0,Lt(!1,n))}var vT={};function ET(t,e){!t&&!vT[e]&&(vT[e]=!0,console.warn(e))}function uD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Lt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:F.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Lt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:F.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Lt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var cD=["HydrateFallback","hydrateFallbackElement"],hD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function fD({router:t,flushSync:e}){let[n,s]=F.useState(t.state),[o,l]=F.useState(),[c,d]=F.useState({isTransitioning:!1}),[m,g]=F.useState(),[_,T]=F.useState(),[w,I]=F.useState(),j=F.useRef(new Map),W=F.useCallback((ee,{deletedFetchers:he,flushSync:oe,viewTransitionOpts:P})=>{ee.fetchers.forEach((A,R)=>{A.data!==void 0&&j.current.set(R,A.data)}),he.forEach(A=>j.current.delete(A)),ET(oe===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(ET(P==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!N){e&&oe?e(()=>s(ee)):F.startTransition(()=>s(ee));return}if(e&&oe){e(()=>{_&&(m&&m.resolve(),_.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let A=t.window.document.startViewTransition(()=>{e(()=>s(ee))});A.finished.finally(()=>{e(()=>{g(void 0),T(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>T(A));return}_?(m&&m.resolve(),_.skipTransition(),I({state:ee,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(l(ee),d({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[t.window,e,_,m]);F.useLayoutEffect(()=>t.subscribe(W),[t,W]),F.useEffect(()=>{c.isTransitioning&&!c.flushSync&&g(new hD)},[c]),F.useEffect(()=>{if(m&&o&&t.window){let ee=o,he=m.promise,oe=t.window.document.startViewTransition(async()=>{F.startTransition(()=>s(ee)),await he});oe.finished.finally(()=>{g(void 0),T(void 0),l(void 0),d({isTransitioning:!1})}),T(oe)}},[o,m,t.window]),F.useEffect(()=>{m&&o&&n.location.key===o.location.key&&m.resolve()},[m,_,n.location,o]),F.useEffect(()=>{!c.isTransitioning&&w&&(l(w.state),d({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),I(void 0))},[c.isTransitioning,w]);let U=F.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:ee=>t.navigate(ee),push:(ee,he,oe)=>t.navigate(ee,{state:he,preventScrollReset:oe?.preventScrollReset}),replace:(ee,he,oe)=>t.navigate(ee,{replace:!0,state:he,preventScrollReset:oe?.preventScrollReset})}),[t]),Y=t.basename||"/",ue=F.useMemo(()=>({router:t,navigator:U,static:!1,basename:Y}),[t,U,Y]);return F.createElement(F.Fragment,null,F.createElement(Ya.Provider,{value:ue},F.createElement(Xu.Provider,{value:n},F.createElement(Hw.Provider,{value:j.current},F.createElement(vg.Provider,{value:c},F.createElement(yD,{basename:Y,location:n.location,navigationType:n.historyAction,navigator:U},F.createElement(dD,{routes:t.routes,future:t.future,state:n})))))),null)}var dD=F.memo(mD);function mD({routes:t,future:e,state:n}){return XI(t,void 0,n,e)}function pD({to:t,replace:e,state:n,relative:s}){$e(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(Qr);Lt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Dr),{pathname:c}=Qs(),d=Kw(),m=Mf(t,xf(l),c,s==="path"),g=JSON.stringify(m);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function gD(t){return WI(t.context)}function yD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){$e(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Xi(n));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:w="default"}=n,I=F.useMemo(()=>{let j=Ir(m,c);return j==null?null:{location:{pathname:j,search:g,hash:_,state:T,key:w},navigationType:s}},[c,m,g,_,T,w,s]);return Lt(I!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:F.createElement(Qr.Provider,{value:d},F.createElement(Pf.Provider,{children:e,value:I}))}var kh="get",Uh="application/x-www-form-urlencoded";function Vf(t){return t!=null&&typeof t.tagName=="string"}function _D(t){return Vf(t)&&t.tagName.toLowerCase()==="button"}function vD(t){return Vf(t)&&t.tagName.toLowerCase()==="form"}function ED(t){return Vf(t)&&t.tagName.toLowerCase()==="input"}function TD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wD(t,e){return t.button===0&&(!e||e==="_self")&&!TD(t)}var Ch=null;function SD(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var bD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hp(t){return t!=null&&!bD.has(t)?(Lt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):t}function AD(t,e){let n,s,o,l,c;if(vD(t)){let d=t.getAttribute("action");s=d?Ir(d,e):null,n=t.getAttribute("method")||kh,o=hp(t.getAttribute("enctype"))||Uh,l=new FormData(t)}else if(_D(t)||ED(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?Ir(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||kh,o=hp(t.getAttribute("formenctype"))||hp(d.getAttribute("enctype"))||Uh,l=new FormData(d,t),!SD()){let{name:g,type:_,value:T}=t;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(Vf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kh,s=null,o=Uh,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ir(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function CD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ID(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DD(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await CD(l,n);return c.links?c.links():[]}return[]}));return MD(s.flat(1).filter(ID).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function TT(t,e,n,s,o,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let _=s.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ND(t,e,{includeHydrateFallback:n}={}){return OD(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function OD(t){return[...new Set(t)]}function xD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function MD(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(xD(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function Qw(){let t=F.useContext(Ya);return Sg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PD(){let t=F.useContext(Xu);return Sg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bg=F.createContext(void 0);bg.displayName="FrameworkContext";function Ww(){let t=F.useContext(bg);return Sg(t,"You must render this element inside a <HydratedRouter> element"),t}function VD(t,e){let n=F.useContext(bg),[s,o]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let W=Y=>{Y.forEach(ue=>{c(ue.isIntersecting)})},U=new IntersectionObserver(W,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[t]),F.useEffect(()=>{if(s){let W=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(W)}}},[s]);let I=()=>{o(!0)},j=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:_u(d,I),onBlur:_u(m,j),onMouseEnter:_u(g,I),onMouseLeave:_u(_,j),onTouchStart:_u(T,I)}]:[!1,w,{}]}function _u(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LD({page:t,...e}){let{router:n}=Qw(),s=F.useMemo(()=>Is(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?F.createElement(UD,{page:t,matches:s,...e}):null}function kD(t){let{manifest:e,routeModules:n}=Ww(),[s,o]=F.useState([]);return F.useEffect(()=>{let l=!1;return DD(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),s}function UD({page:t,matches:e,...n}){let s=Qs(),{manifest:o,routeModules:l}=Ww(),{basename:c}=Qw(),{loaderData:d,matches:m}=PD(),g=F.useMemo(()=>TT(t,e,m,o,s,"data"),[t,e,m,o,s]),_=F.useMemo(()=>TT(t,e,m,o,s,"assets"),[t,e,m,o,s]),T=F.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,W=!1;if(e.forEach(Y=>{let ue=o.routes[Y.route.id];!ue||!ue.hasLoader||(!g.some(ee=>ee.route.id===Y.route.id)&&Y.route.id in d&&l[Y.route.id]?.shouldRevalidate||ue.hasClientLoader?W=!0:j.add(Y.route.id))}),j.size===0)return[];let U=RD(t,c,"data");return W&&j.size>0&&U.searchParams.set("_routes",e.filter(Y=>j.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[c,d,s,o,g,e,t,l]),w=F.useMemo(()=>ND(_,o),[_,o]),I=kD(_);return F.createElement(F.Fragment,null,T.map(j=>F.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>F.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),I.map(({key:j,link:W})=>F.createElement("link",{key:j,nonce:n.nonce,...W})))}function jD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Xw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xw&&(window.__reactRouterVersion="7.8.0")}catch{}function zD(t,e){return CI({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:KC({window:e?.window}),hydrationData:BD(),routes:t,mapRouteProperties:uD,hydrationRouteProperties:cD,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function BD(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:FD(t.errors)}),t}function FD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new nf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let c=new l(o.message);c.stack="",n[s]=c}catch{}}if(n[s]==null){let l=new Error(o.message);l.stack="",n[s]=l}}else n[s]=o;return n}var Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zw=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...w},I){let{basename:j}=F.useContext(Qr),W=typeof g=="string"&&Jw.test(g),U,Y=!1;if(typeof g=="string"&&W&&(U=g,Xw))try{let R=new URL(window.location.href),V=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=Ir(V.pathname,j);V.origin===R.origin&&L!=null?g=L+V.search+V.hash:Y=!0}catch{Lt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=YI(g,{relative:o}),[ee,he,oe]=VD(s,w),P=GD(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:o,viewTransition:T});function N(R){e&&e(R),R.defaultPrevented||P(R)}let A=F.createElement("a",{...w,...oe,href:U||ue,onClick:Y||l?e:N,ref:jD(I,he),target:m,"data-discover":!W&&n==="render"?"true":void 0});return ee&&!W?F.createElement(F.Fragment,null,A,F.createElement(LD,{page:ue})):A});Zw.displayName="Link";var zi=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let T=Ju(c,{relative:g.relative}),w=Qs(),I=F.useContext(Xu),{navigator:j,basename:W}=F.useContext(Qr),U=I!=null&&WD(T)&&d===!0,Y=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ue=w.pathname,ee=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(ue=ue.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&W&&(ee=Ir(ee,W)||ee);const he=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=ue===Y||!o&&ue.startsWith(Y)&&ue.charAt(he)==="/",P=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),N={isActive:oe,isPending:P,isTransitioning:U},A=oe?e:void 0,R;typeof s=="function"?R=s(N):R=[s,oe?"active":null,P?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(N):l;return F.createElement(Zw,{...g,"aria-current":A,className:R,ref:_,style:V,to:c,viewTransition:d},typeof m=="function"?m(N):m)});zi.displayName="NavLink";var HD=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=kh,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...w},I)=>{let j=$D(),W=QD(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",Y=typeof d=="string"&&Jw.test(d),ue=ee=>{if(m&&m(ee),ee.defaultPrevented)return;ee.preventDefault();let he=ee.nativeEvent.submitter,oe=he?.getAttribute("formmethod")||c;j(he||ee.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return F.createElement("form",{ref:I,method:U,action:W,onSubmit:s?m:ue,...w,"data-discover":!Y&&t==="render"?"true":void 0})});HD.displayName="Form";function qD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eS(t){let e=F.useContext(Ya);return $e(e,qD(t)),e}function GD(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Kw(),m=Qs(),g=Ju(t,{relative:l});return F.useCallback(_=>{if(wD(_,e)){_.preventDefault();let T=n!==void 0?n:Bs(m)===Bs(g);d(t,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[m,d,g,n,s,e,t,o,l,c])}var KD=0,YD=()=>`__${String(++KD)}__`;function $D(){let{router:t}=eS("useSubmit"),{basename:e}=F.useContext(Qr),n=aD();return F.useCallback(async(s,o={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=AD(s,e);if(o.navigate===!1){let _=o.fetcherKey||YD();await t.fetch(_,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function QD(t,{relative:e}={}){let{basename:n}=F.useContext(Qr),s=F.useContext(Dr);$e(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ju(t||".",{relative:e})},c=Qs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:oi([n,l.pathname])),Bs(l)}function WD(t,{relative:e}={}){let n=F.useContext(vg);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eS("useViewTransitionState"),o=Ju(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return tf(o.pathname,c)!=null||tf(o.pathname,l)!=null}var tS=aw();function XD(t){return F.createElement(fD,{flushSync:tS.flushSync,...t})}const JD=()=>{};var wT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ZD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},rS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,m=o+2<t.length,g=m?t[o+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,I=g&63;m||(I=64,c||(w=64)),s.push(n[_],n[T],n[w],n[I])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const T=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new eN;const w=l<<2|d>>4;if(s.push(w),g!==64){const I=d<<4&240|g>>2;if(s.push(I),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tN=function(t){const e=nS(t);return rS.encodeByteArray(e,!0)},sf=function(t){return tN(t).replace(/\./g,"")},iS=function(t){try{return rS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=()=>nN().__FIREBASE_DEFAULTS__,iN=()=>{if(typeof process>"u"||typeof wT>"u")return;const t=wT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iS(t[1]);return e&&JSON.parse(e)},Lf=()=>{try{return JD()||rN()||iN()||sN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sS=t=>Lf()?.emulatorHosts?.[t],aN=t=>{const e=sS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},aS=()=>Lf()?.config,oS=t=>Lf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sf(JSON.stringify(n)),sf(JSON.stringify(c)),""].join(".")}const Ru={};function uN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?t.emulator.push(e):t.prod.push(e);return t}function cN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ST=!1;function uS(t,e){if(typeof window>"u"||typeof document>"u"||!sl(window.location.host)||Ru[t]===e||Ru[t]||ST)return;Ru[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=uN().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ST=!0,c()},w}function _(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=cN(s),I=n("text"),j=document.getElementById(I)||document.createElement("span"),W=n("learnmore"),U=document.getElementById(W)||document.createElement("a"),Y=n("preprendIcon"),ue=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;d(ee),_(U,W);const he=g();m(ue,Y),ee.append(ue,j,U,he),document.body.appendChild(ee)}l?(j.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function fN(){const t=Lf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gN(){return!fN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function yN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="FirebaseError";class Wr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_N,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$a.prototype.create)}}class $a{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?vN(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Wr(o,d,s)}}function vN(t,e){return t.replace(EN,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const EN=/\{\$([^}]+)}/g;function TN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(bT(l)&&bT(c)){if(!Fs(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function bT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function wN(t,e){const n=new SN(t,e);return n.subscribe.bind(n)}class SN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fp),o.error===void 0&&(o.error=fp),o.complete===void 0&&(o.complete=fp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1e3,RN=2,CN=14400*1e3,IN=.5;function AT(t,e=AN,n=RN){const s=e*Math.pow(n,t),o=Math.round(IN*s*(Math.random()-.5)*2);return Math.min(CN,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){return t&&t._delegate?t._delegate:t}class $r{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new oN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ON(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NN(t){return t===Ma?void 0:t}function ON(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const MN={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},PN=Je.INFO,VN={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},LN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=VN[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kf{constructor(e){this.name=e,this._logLevel=PN,this._logHandler=LN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const kN=(t,e)=>e.some(n=>t instanceof n);let RT,CT;function UN(){return RT||(RT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jN(){return CT||(CT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dS=new WeakMap,Bp=new WeakMap,mS=new WeakMap,dp=new WeakMap,Ag=new WeakMap;function zN(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Vs(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&dS.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function BN(t){if(Bp.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Bp.set(t,e)}let Fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FN(t){Fp=t(Fp)}function HN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(mp(this),e,...n);return mS.set(s,e.sort?e.sort():[e]),Vs(s)}:jN().includes(t)?function(...e){return t.apply(mp(this),e),Vs(dS.get(this))}:function(...e){return Vs(t.apply(mp(this),e))}}function qN(t){return typeof t=="function"?HN(t):(t instanceof IDBTransaction&&BN(t),kN(t,UN())?new Proxy(t,Fp):t)}function Vs(t){if(t instanceof IDBRequest)return zN(t);if(dp.has(t))return dp.get(t);const e=qN(t);return e!==t&&(dp.set(t,e),Ag.set(e,t)),e}const mp=t=>Ag.get(t);function pS(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=Vs(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Vs(c.result),m.oldVersion,m.newVersion,Vs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const GN=["get","getKey","getAll","getAllKeys","count"],KN=["put","add","delete","clear"],pp=new Map;function IT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=KN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return pp.set(e,l),l}FN(t=>({...t,get:(e,n,s)=>IT(e,n)||t.get(e,n,s),has:(e,n)=>!!IT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($N(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function $N(t){return t.getComponent()?.type==="VERSION"}const Hp="@firebase/app",DT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new kf("@firebase/app"),QN="@firebase/app-compat",WN="@firebase/analytics-compat",XN="@firebase/analytics",JN="@firebase/app-check-compat",ZN="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",r2="@firebase/data-connect",i2="@firebase/database-compat",s2="@firebase/functions",a2="@firebase/functions-compat",o2="@firebase/installations",l2="@firebase/installations-compat",u2="@firebase/messaging",c2="@firebase/messaging-compat",h2="@firebase/performance",f2="@firebase/performance-compat",d2="@firebase/remote-config",m2="@firebase/remote-config-compat",p2="@firebase/storage",g2="@firebase/storage-compat",y2="@firebase/firestore",_2="@firebase/ai",v2="@firebase/firestore-compat",E2="firebase",T2="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",w2={[Hp]:"fire-core",[QN]:"fire-core-compat",[XN]:"fire-analytics",[WN]:"fire-analytics-compat",[ZN]:"fire-app-check",[JN]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[r2]:"fire-data-connect",[i2]:"fire-rtdb-compat",[s2]:"fire-fn",[a2]:"fire-fn-compat",[o2]:"fire-iid",[l2]:"fire-iid-compat",[u2]:"fire-fcm",[c2]:"fire-fcm-compat",[h2]:"fire-perf",[f2]:"fire-perf-compat",[d2]:"fire-rc",[m2]:"fire-rc-compat",[p2]:"fire-gcs",[g2]:"fire-gcs-compat",[y2]:"fire-fst",[v2]:"fire-fst-compat",[_2]:"fire-vertex","fire-js":"fire-js",[E2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,S2=new Map,Gp=new Map;function NT(t,e){try{t.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pi(t){const e=t.name;if(Gp.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(const n of af.values())NT(n,t);for(const n of S2.values())NT(n,t);return!0}function Qa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new $a("app","Firebase",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=T2;function gS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:qp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ls.create("bad-app-name",{appName:String(o)});if(n||(n=aS()),!n)throw Ls.create("no-options");const l=af.get(o);if(l){if(Fs(n,l.options)&&Fs(s,l.config))return l;throw Ls.create("duplicate-app",{appName:o})}const c=new xN(o);for(const m of Gp.values())c.addComponent(m);const d=new A2(n,s,c);return af.set(o,d),d}function Rg(t=qp){const e=af.get(t);if(!e&&t===qp&&aS())return gS();if(!e)throw Ls.create("no-app",{appName:t});return e}function Cr(t,e,n){let s=w2[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(c.join(" "));return}pi(new $r(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebase-heartbeat-database",C2=1,zu="firebase-heartbeat-store";let gp=null;function yS(){return gp||(gp=pS(R2,C2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),gp}async function I2(t){try{const n=(await yS()).transaction(zu),s=await n.objectStore(zu).get(_S(t));return await n.done,s}catch(e){if(e instanceof Wr)Ki.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(n.message)}}}async function OT(t,e){try{const s=(await yS()).transaction(zu,"readwrite");await s.objectStore(zu).put(e,_S(t)),await s.done}catch(n){if(n instanceof Wr)Ki.warn(n.message);else{const s=Ls.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(s.message)}}}function _S(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1024,N2=30;class O2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new M2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>N2){const o=P2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xT(),{heartbeatsToSend:n,unsentEntries:s}=x2(this._heartbeatsCache.heartbeats),o=sf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ki.warn(e),""}}}function xT(){return new Date().toISOString().substring(0,10)}function x2(t,e=D2){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),MT(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),MT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class M2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return OT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function MT(t){return sf(JSON.stringify({version:2,heartbeats:t})).length}function P2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){pi(new $r("platform-logger",e=>new YN(e),"PRIVATE")),pi(new $r("heartbeat",e=>new O2(e),"PRIVATE")),Cr(Hp,DT,t),Cr(Hp,DT,"esm2020"),Cr("fire-js","")}V2("");var L2="firebase",k2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(L2,k2,"app");const vS="@firebase/installations",Cg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=1e4,TS=`w:${Cg}`,wS="FIS_v2",U2="https://firebaseinstallations.googleapis.com/v1",j2=3600*1e3,z2="installations",B2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},za=new $a(z2,B2,F2);function SS(t){return t instanceof Wr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS({projectId:t}){return`${U2}/projects/${t}/installations`}function AS(t){return{token:t.token,requestStatus:2,expiresIn:q2(t.expiresIn),creationTime:Date.now()}}async function RS(t,e){const s=(await e.json()).error;return za.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function CS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function H2(t,{refreshToken:e}){const n=CS(t);return n.append("Authorization",G2(e)),n}async function IS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function q2(t){return Number(t.replace("s","000"))}function G2(t){return`${wS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=bS(t),o=CS(t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:wS,appId:t.appId,sdkVersion:TS},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await IS(()=>fetch(s,d));if(m.ok){const g=await m.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:AS(g.authToken)}}else throw await RS("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^[cdef][\w-]{21}$/,Kp="";function Q2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=W2(t);return $2.test(n)?n:Kp}catch{return Kp}}function W2(t){return Y2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map;function OS(t,e){const n=Uf(t);xS(n,e),X2(n,e)}function xS(t,e){const n=NS.get(t);if(n)for(const s of n)s(e)}function X2(t,e){const n=J2();n&&n.postMessage({key:t,fid:e}),Z2()}let Va=null;function J2(){return!Va&&"BroadcastChannel"in self&&(Va=new BroadcastChannel("[Firebase] FID Change"),Va.onmessage=t=>{xS(t.data.key,t.data.fid)}),Va}function Z2(){NS.size===0&&Va&&(Va.close(),Va=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="firebase-installations-database",tO=1,Ba="firebase-installations-store";let yp=null;function Ig(){return yp||(yp=pS(eO,tO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ba)}}})),yp}async function of(t,e){const n=Uf(t),o=(await Ig()).transaction(Ba,"readwrite"),l=o.objectStore(Ba),c=await l.get(n);return await l.put(e,n),await o.done,(!c||c.fid!==e.fid)&&OS(t,e.fid),e}async function MS(t){const e=Uf(t),s=(await Ig()).transaction(Ba,"readwrite");await s.objectStore(Ba).delete(e),await s.done}async function jf(t,e){const n=Uf(t),o=(await Ig()).transaction(Ba,"readwrite"),l=o.objectStore(Ba),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await o.done,d&&(!c||c.fid!==d.fid)&&OS(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(t){let e;const n=await jf(t.appConfig,s=>{const o=nO(s),l=rO(t,o);return e=l.registrationPromise,l.installationEntry});return n.fid===Kp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nO(t){const e=t||{fid:Q2(),registrationStatus:0};return PS(e)}function rO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(za.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=iO(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sO(t)}:{installationEntry:e}}async function iO(t,e){try{const n=await K2(t,e);return of(t.appConfig,n)}catch(n){throw SS(n)&&n.customData.serverCode===409?await MS(t.appConfig):await of(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function sO(t){let e=await PT(t.appConfig);for(;e.registrationStatus===1;)await DS(100),e=await PT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Dg(t);return s||n}return e}function PT(t){return jf(t,e=>{if(!e)throw za.create("installation-not-found");return PS(e)})}function PS(t){return aO(t)?{fid:t.fid,registrationStatus:0}:t}function aO(t){return t.registrationStatus===1&&t.registrationTime+ES<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO({appConfig:t,heartbeatServiceProvider:e},n){const s=lO(t,n),o=H2(t,n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:TS,appId:t.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await IS(()=>fetch(s,d));if(m.ok){const g=await m.json();return AS(g)}else throw await RS("Generate Auth Token",m)}function lO(t,{fid:e}){return`${bS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ng(t,e=!1){let n;const s=await jf(t.appConfig,l=>{if(!VS(l))throw za.create("not-registered");const c=l.authToken;if(!e&&hO(c))return l;if(c.requestStatus===1)return n=uO(t,e),l;{if(!navigator.onLine)throw za.create("app-offline");const d=dO(l);return n=cO(t,d),d}});return n?await n:s.authToken}async function uO(t,e){let n=await VT(t.appConfig);for(;n.authToken.requestStatus===1;)await DS(100),n=await VT(t.appConfig);const s=n.authToken;return s.requestStatus===0?Ng(t,e):s}function VT(t){return jf(t,e=>{if(!VS(e))throw za.create("not-registered");const n=e.authToken;return mO(n)?{...e,authToken:{requestStatus:0}}:e})}async function cO(t,e){try{const n=await oO(t,e),s={...e,authToken:n};return await of(t.appConfig,s),n}catch(n){if(SS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await MS(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await of(t.appConfig,s)}throw n}}function VS(t){return t!==void 0&&t.registrationStatus===2}function hO(t){return t.requestStatus===2&&!fO(t)}function fO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+j2}function dO(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function mO(t){return t.requestStatus===1&&t.requestTime+ES<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t){const e=t,{installationEntry:n,registrationPromise:s}=await Dg(e);return s?s.catch(console.error):Ng(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e=!1){const n=t;return await yO(n),(await Ng(n,e)).token}async function yO(t){const{registrationPromise:e}=await Dg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){if(!t||!t.options)throw _p("App Configuration");if(!t.name)throw _p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw _p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _p(t){return za.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="installations",vO="installations-internal",EO=t=>{const e=t.getProvider("app").getImmediate(),n=_O(e),s=Qa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},TO=t=>{const e=t.getProvider("app").getImmediate(),n=Qa(e,LS).getImmediate();return{getId:()=>pO(n),getToken:o=>gO(n,o)}};function wO(){pi(new $r(LS,EO,"PUBLIC")),pi(new $r(vO,TO,"PRIVATE"))}wO();Cr(vS,Cg);Cr(vS,Cg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="analytics",SO="firebase_id",bO="origin",AO=60*1e3,RO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=new kf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cr=new $a("analytics","Analytics",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){if(!t.startsWith(Og)){const e=cr.create("invalid-gtag-resource",{gtagURL:t});return qn.warn(e.message),""}return t}function kS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function NO(t,e){const n=DO("firebase-js-sdk-policy",{createScriptURL:IO}),s=document.createElement("script"),o=`${Og}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function OO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function xO(t,e,n,s,o,l){const c=s[o];try{if(c)await e[c];else{const m=(await kS(n)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){qn.error(d)}t("config",o,l)}async function MO(t,e,n,s,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await kS(n);for(const m of c){const g=d.find(T=>T.measurementId===m),_=g&&e[g.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,o||{})}catch(l){qn.error(l)}}function PO(t,e,n,s){async function o(l,...c){try{if(l==="event"){const[d,m]=c;await MO(t,e,n,d,m)}else if(l==="config"){const[d,m]=c;await xO(t,e,n,s,d,m)}else if(l==="consent"){const[d,m]=c;t("consent",d,m)}else if(l==="get"){const[d,m,g]=c;t("get",d,m,g)}else if(l==="set"){const[d]=c;t("set",d)}else t(l,...c)}catch(d){qn.error(d)}}return o}function VO(t,e,n,s,o){let l=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=PO(l,t,e,n),{gtagCore:l,wrappedGtag:window[o]}}function LO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Og)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=30,UO=1e3;class jO{constructor(e={},n=UO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const US=new jO;function zO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function BO(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:zO(n)},o=RO.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw cr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function FO(t,e=US,n){const{appId:s,apiKey:o,measurementId:l}=t.options;if(!s)throw cr.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw cr.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new GO;return setTimeout(async()=>{d.abort()},AO),jS({appId:s,apiKey:o,measurementId:l},c,d,e)}async function jS(t,{throttleEndTimeMillis:e,backoffCount:n},s,o=US){const{appId:l,measurementId:c}=t;try{await HO(s,e)}catch(d){if(c)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await BO(t);return o.deleteThrottleMetadata(l),d}catch(d){const m=d;if(!qO(m)){if(o.deleteThrottleMetadata(l),c)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(m?.customData?.httpStatus)===503?AT(n,o.intervalMillis,kO):AT(n,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(l,_),qn.debug(`Calling attemptFetch again in ${g} millis`),jS(t,_,s,o)}}function HO(t,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(l),s(cr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qO(t){if(!(t instanceof Wr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class GO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KO(t,e,n,s,o){if(o&&o.global){t("event",n,s);return}else{const l=await e,c={...s,send_to:l};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(){if(hS())try{await fS()}catch(t){return qn.warn(cr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return qn.warn(cr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $O(t,e,n,s,o,l,c){const d=FO(t);d.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>qn.error(w)),e.push(d);const m=YO().then(w=>{if(w)return s.getId()}),[g,_]=await Promise.all([d,m]);LO(l)||NO(l,g.measurementId),o("js",new Date);const T=c?.config??{};return T[bO]="firebase",T.update=!0,_!=null&&(T[SO]=_),o("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.app=e}_delete(){return delete Cu[this.app.options.appId],Promise.resolve()}}let Cu={},LT=[];const kT={};let vp="dataLayer",WO="gtag",UT,zS,jT=!1;function XO(){const t=[];if(cS()&&t.push("This is a browser extension environment."),yN()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=cr.create("invalid-analytics-context",{errorInfo:e});qn.warn(n.message)}}function JO(t,e,n){XO();const s=t.options.appId;if(!s)throw cr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cr.create("no-api-key");if(Cu[s]!=null)throw cr.create("already-exists",{id:s});if(!jT){OO(vp);const{wrappedGtag:l,gtagCore:c}=VO(Cu,LT,kT,vp,WO);zS=l,UT=c,jT=!0}return Cu[s]=$O(t,LT,kT,e,UT,vp,n),new QO(t)}function ZO(t=Rg()){t=Vn(t);const e=Qa(t,lf);return e.isInitialized()?e.getImmediate():ex(t)}function ex(t,e={}){const n=Qa(t,lf);if(n.isInitialized()){const o=n.getImmediate();if(Fs(e,n.getOptions()))return o;throw cr.create("already-initialized")}return n.initialize({options:e})}function tx(t,e,n,s){t=Vn(t),KO(zS,Cu[t.app.options.appId],e,n,s).catch(o=>qn.error(o))}const zT="@firebase/analytics",BT="0.10.18";function nx(){pi(new $r(lf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return JO(s,o,n)},"PUBLIC")),pi(new $r("analytics-internal",t,"PRIVATE")),Cr(zT,BT),Cr(zT,BT,"esm2020");function t(e){try{const n=e.getProvider(lf).getImmediate();return{logEvent:(s,o,l)=>tx(n,s,o,l)}}catch(n){throw cr.create("interop-component-reg-failed",{reason:n})}}}nx();var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,BS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,L,z){for(var D=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)D[Le-2]=arguments[Le];return A.prototype[L].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var L=0;L<16;++L)V[L]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(L=0;L<16;++L)V[L]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],L=N.g[2];let z=N.g[3],D;D=A+(z^R&(L^z))+V[0]+3614090360&4294967295,A=R+(D<<7&4294967295|D>>>25),D=z+(L^A&(R^L))+V[1]+3905402710&4294967295,z=A+(D<<12&4294967295|D>>>20),D=L+(R^z&(A^R))+V[2]+606105819&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(A^L&(z^A))+V[3]+3250441966&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(z^R&(L^z))+V[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=z+(L^A&(R^L))+V[5]+1200080426&4294967295,z=A+(D<<12&4294967295|D>>>20),D=L+(R^z&(A^R))+V[6]+2821735955&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(A^L&(z^A))+V[7]+4249261313&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(z^R&(L^z))+V[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=z+(L^A&(R^L))+V[9]+2336552879&4294967295,z=A+(D<<12&4294967295|D>>>20),D=L+(R^z&(A^R))+V[10]+4294925233&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(A^L&(z^A))+V[11]+2304563134&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(z^R&(L^z))+V[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=z+(L^A&(R^L))+V[13]+4254626195&4294967295,z=A+(D<<12&4294967295|D>>>20),D=L+(R^z&(A^R))+V[14]+2792965006&4294967295,L=z+(D<<17&4294967295|D>>>15),D=R+(A^L&(z^A))+V[15]+1236535329&4294967295,R=L+(D<<22&4294967295|D>>>10),D=A+(L^z&(R^L))+V[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(A^R))+V[6]+3225465664&4294967295,z=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(z^A))+V[11]+643717713&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(L^z))+V[0]+3921069994&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^z&(R^L))+V[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(A^R))+V[10]+38016083&4294967295,z=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(z^A))+V[15]+3634488961&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(L^z))+V[4]+3889429448&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^z&(R^L))+V[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(A^R))+V[14]+3275163606&4294967295,z=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(z^A))+V[3]+4107603335&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(L^z))+V[8]+1163531501&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(L^z&(R^L))+V[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=z+(R^L&(A^R))+V[2]+4243563512&4294967295,z=A+(D<<9&4294967295|D>>>23),D=L+(A^R&(z^A))+V[7]+1735328473&4294967295,L=z+(D<<14&4294967295|D>>>18),D=R+(z^A&(L^z))+V[12]+2368359562&4294967295,R=L+(D<<20&4294967295|D>>>12),D=A+(R^L^z)+V[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^L)+V[8]+2272392833&4294967295,z=A+(D<<11&4294967295|D>>>21),D=L+(z^A^R)+V[11]+1839030562&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^A)+V[14]+4259657740&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^z)+V[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^L)+V[4]+1272893353&4294967295,z=A+(D<<11&4294967295|D>>>21),D=L+(z^A^R)+V[7]+4139469664&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^A)+V[10]+3200236656&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^z)+V[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^L)+V[0]+3936430074&4294967295,z=A+(D<<11&4294967295|D>>>21),D=L+(z^A^R)+V[3]+3572445317&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^A)+V[6]+76029189&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(R^L^z)+V[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=z+(A^R^L)+V[12]+3873151461&4294967295,z=A+(D<<11&4294967295|D>>>21),D=L+(z^A^R)+V[15]+530742520&4294967295,L=z+(D<<16&4294967295|D>>>16),D=R+(L^z^A)+V[2]+3299628645&4294967295,R=L+(D<<23&4294967295|D>>>9),D=A+(L^(R|~z))+V[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~L))+V[7]+1126891415&4294967295,z=A+(D<<10&4294967295|D>>>22),D=L+(A^(z|~R))+V[14]+2878612391&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~A))+V[5]+4237533241&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~z))+V[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~L))+V[3]+2399980690&4294967295,z=A+(D<<10&4294967295|D>>>22),D=L+(A^(z|~R))+V[10]+4293915773&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~A))+V[1]+2240044497&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~z))+V[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~L))+V[15]+4264355552&4294967295,z=A+(D<<10&4294967295|D>>>22),D=L+(A^(z|~R))+V[6]+2734768916&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~A))+V[13]+1309151649&4294967295,R=L+(D<<21&4294967295|D>>>11),D=A+(L^(R|~z))+V[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=z+(R^(A|~L))+V[11]+3174756917&4294967295,z=A+(D<<10&4294967295|D>>>22),D=L+(A^(z|~R))+V[2]+718787259&4294967295,L=z+(D<<15&4294967295|D>>>17),D=R+(z^(L|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,V=this.C;let L=this.h,z=0;for(;z<A;){if(L==0)for(;z<=R;)o(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<A;)if(V[L++]=N.charCodeAt(z++),L==this.blockSize){o(this,V),L=0;break}}else for(;z<A;)if(V[L++]=N[z++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[A++]=this.g[R]>>>V&255;return N};function l(N,A){var R=d;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function c(N,A){this.h=A;const R=[];let V=!0;for(let L=N.length-1;L>=0;L--){const z=N[L]|0;V&&z==A||(R[L]=z,V=!1)}this.g=R}var d={};function m(N){return-128<=N&&N<128?l(N,function(A){return new c([A|0],A<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return U(g(-N));const A=[];let R=1;for(let V=0;N>=R;V++)A[V]=N/R|0,R*=4294967296;return new c(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return U(_(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let V=T;for(let z=0;z<N.length;z+=8){var L=Math.min(8,N.length-z);const D=parseInt(N.substring(z,z+L),A);L<8?(L=g(Math.pow(A,L)),V=V.j(L).add(g(D))):(V=V.j(R),V=V.add(g(D)))}return V}var T=m(0),w=m(1),I=m(16777216);t=c.prototype,t.m=function(){if(W(this))return-U(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(W(this))return"-"+U(this).toString(N);const A=g(Math.pow(N,6));var R=this;let V="";for(;;){const L=he(R,A).g;R=Y(R,L.j(A));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=L,j(R))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}t.l=function(N){return N=Y(this,N),W(N)?-1:j(N)?0:1};function U(N){const A=N.g.length,R=[];for(let V=0;V<A;V++)R[V]=~N.g[V];return new c(R,~N.h).add(w)}t.abs=function(){return W(this)?U(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let L=0;L<=A;L++){let z=V+(this.i(L)&65535)+(N.i(L)&65535),D=(z>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);V=D>>>16,z&=65535,D&=65535,R[L]=D<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function Y(N,A){return N.add(U(A))}t.j=function(N){if(j(this)||j(N))return T;if(W(this))return W(N)?U(this).j(U(N)):U(U(this).j(N));if(W(N))return U(this.j(U(N)));if(this.l(I)<0&&N.l(I)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<N.g.length;L++){const z=this.i(V)>>>16,D=this.i(V)&65535,Le=N.i(L)>>>16,Qe=N.i(L)&65535;R[2*V+2*L]+=D*Qe,ue(R,2*V+2*L),R[2*V+2*L+1]+=z*Qe,ue(R,2*V+2*L+1),R[2*V+2*L+1]+=D*Le,ue(R,2*V+2*L+1),R[2*V+2*L+2]+=z*Le,ue(R,2*V+2*L+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new c(R,0)};function ue(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ee(N,A){this.g=N,this.h=A}function he(N,A){if(j(A))throw Error("division by zero");if(j(N))return new ee(T,T);if(W(N))return A=he(U(N),A),new ee(U(A.g),U(A.h));if(W(A))return A=he(N,U(A)),new ee(U(A.g),A.h);if(N.g.length>30){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=A;V.l(N)<=0;)R=oe(R),V=oe(V);var L=P(R,1),z=P(V,1);for(V=P(V,2),R=P(R,2);!j(V);){var D=z.add(V);D.l(N)<=0&&(L=L.add(R),z=D),V=P(V,1),R=P(R,1)}return A=Y(N,L.j(A)),new ee(L,A)}for(L=T;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=g(R),D=z.j(A);W(D)||D.l(N)>0;)R-=V,z=g(R),D=z.j(A);j(z)&&(z=w),L=L.add(z),N=Y(N,D)}return new ee(L,N)}t.B=function(N){return he(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&N.i(V);return new c(R,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|N.i(V);return new c(R,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^N.i(V);return new c(R,this.h^N.h)};function oe(N){const A=N.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(R,N.h)}function P(N,A){const R=A>>5;A%=32;const V=N.g.length-R,L=[];for(let z=0;z<V;z++)L[z]=A>0?N.i(z+R)>>>A|N.i(z+R+1)<<32-A:N.i(z+R);return new c(L,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,ks=c}).apply(typeof FT<"u"?FT:typeof self<"u"?self:typeof window<"u"?window:{});var Ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FS,wu,HS,jh,Yp,qS,GS,KS;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ih=="object"&&Ih];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var G=h[b];if(!(G in v))break e;v=v[G]}h=h[h.length-1],b=v[h],y=y(b),y!=b&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=m,g.apply(null,arguments)}function _(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(b,G,Z){for(var me=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)me[Be-2]=arguments[Be];return y.prototype[G].apply(b,me)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=h[b];return v}return[]}function j(h,y){for(let b=1;b<arguments.length;b++){const G=arguments[b];var v=typeof G;if(v=v!="object"?v:G?Array.isArray(G)?"array":v:"null",v=="array"||v=="object"&&typeof G.length=="number"){v=h.length||0;const Z=G.length||0;h.length=v+Z;for(let me=0;me<Z;me++)h[v+me]=G[me]}else h.push(G)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ue{constructor(){this.h=this.g=null}add(y,v){const b=ee.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ee=new W(()=>new he,h=>h.reset());class he{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,P=!1,N=new ue,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(R)}};function R(){for(var h;h=Y();){try{h.h.call(h.g)}catch(v){U(v)}var y=ee;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}P=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h}();function D(h){return/^[\s\xa0]*$/.test(h)}function Le(h,y){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Le,L),Le.prototype.init=function(h,y){const v=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),$=0;function fe(h,y,v,b,G){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=G,this.key=++$,this.da=this.fa=!1}function ge(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,y,v){for(const b in h)y.call(v,h[b],b,h)}function M(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function ne(h){const y={};for(const v in h)y[v]=h[v];return y}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(h,y){let v,b;for(let G=1;G<arguments.length;G++){b=arguments[G];for(v in b)h[v]=b[v];for(let Z=0;Z<pe.length;Z++)v=pe[Z],Object.prototype.hasOwnProperty.call(b,v)&&(h[v]=b[v])}}function Ee(h){this.src=h,this.g={},this.h=0}Ee.prototype.add=function(h,y,v,b,G){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const me=De(h,y,b,G);return me>-1?(y=h[me],v||(y.fa=!1)):(y=new fe(y,this.src,Z,!!b,G),y.fa=v,h.push(y)),y};function qe(h,y){const v=y.type;if(v in h.g){var b=h.g[v],G=Array.prototype.indexOf.call(b,y,void 0),Z;(Z=G>=0)&&Array.prototype.splice.call(b,G,1),Z&&(ge(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function De(h,y,v,b){for(let G=0;G<h.length;++G){const Z=h[G];if(!Z.da&&Z.listener==y&&Z.capture==!!v&&Z.ha==b)return G}return-1}var Yt="closure_lm_"+(Math.random()*1e6|0),ot={};function Gn(h,y,v,b,G){if(Array.isArray(y)){for(let Z=0;Z<y.length;Z++)Gn(h,y[Z],v,b,G);return null}return v=Za(v),h&&h[Qe]?h.J(y,v,d(b)?!!b.capture:!1,G):Mt(h,y,v,!1,b,G)}function Mt(h,y,v,b,G,Z){if(!y)throw Error("Invalid event type");const me=d(G)?!!G.capture:!!G;let Be=Js(h);if(Be||(h[Yt]=Be=new Ee(h)),v=Be.add(y,v,b,me,Z),v.proxy)return v;if(b=Kn(),v.proxy=b,b.src=h,b.listener=v,h.addEventListener)z||(G=me),G===void 0&&(G=!1),h.addEventListener(y.toString(),b,G);else if(h.attachEvent)h.attachEvent(Ln(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kn(){function h(v){return y.call(h.src,h.listener,v)}const y=fl;return h}function _i(h,y,v,b,G){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)_i(h,y[Z],v,b,G);else b=d(b)?!!b.capture:!!b,v=Za(v),h&&h[Qe]?(h=h.i,Z=String(y).toString(),Z in h.g&&(y=h.g[Z],v=De(y,v,b,G),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Js(h))&&(y=h.g[y.toString()],h=-1,y&&(h=De(y,v,b,G)),(v=h>-1?y[h]:null)&&vi(v))}function vi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Qe])qe(y.i,h);else{var v=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(v,b,h.capture):y.detachEvent?y.detachEvent(Ln(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=Js(y))?(qe(v,h),v.h==0&&(v.src=null,y[Yt]=null)):ge(h)}}}function Ln(h){return h in ot?ot[h]:ot[h]="on"+h}function fl(h,y){if(h.da)h=!0;else{y=new Le(y,this);const v=h.listener,b=h.ha||h.src;h.fa&&vi(h),h=v.call(b,y)}return h}function Js(h){return h=h[Yt],h instanceof Ee?h:null}var cn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Za(h){return typeof h=="function"?h:(h[cn]||(h[cn]=function(y){return h.handleEvent(y)}),h[cn])}function kt(){V.call(this),this.i=new Ee(this),this.M=this,this.G=null}T(kt,V),kt.prototype[Qe]=!0,kt.prototype.removeEventListener=function(h,y,v,b){_i(this,h,y,v,b)};function Ft(h,y){var v,b=h.G;if(b)for(v=[];b;b=b.G)v.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new L(y,h);else if(y instanceof L)y.target=y.target||h;else{var G=y;y=new L(b,h),de(y,G)}G=!0;let Z,me;if(v)for(me=v.length-1;me>=0;me--)Z=y.g=v[me],G=Nr(Z,b,!0,y)&&G;if(Z=y.g=h,G=Nr(Z,b,!0,y)&&G,G=Nr(Z,b,!1,y)&&G,v)for(me=0;me<v.length;me++)Z=y.g=v[me],G=Nr(Z,b,!1,y)&&G}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let b=0;b<v.length;b++)ge(v[b]);delete h.g[y],h.h--}}this.G=null},kt.prototype.J=function(h,y,v,b){return this.i.add(String(h),y,!1,v,b)},kt.prototype.K=function(h,y,v,b){return this.i.add(String(h),y,!0,v,b)};function Nr(h,y,v,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let Z=0;Z<y.length;++Z){const me=y[Z];if(me&&!me.da&&me.capture==v){const Be=me.listener,St=me.ha||me.src;me.fa&&qe(h.i,me),G=Be.call(St,b)!==!1&&G}}return G&&!b.defaultPrevented}function Or(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function xr(h){h.g=Or(()=>{h.g=null,h.i&&(h.i=!1,xr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class eo extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(h){V.call(this),this.h=h,this.g={}}T(Mr,V);var hn=[];function _t(h){je(h.g,function(y,v){this.g.hasOwnProperty(v)&&vi(y)},h),h.g={}}Mr.prototype.N=function(){Mr.Z.N.call(this),_t(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=c.JSON.stringify,$t=c.JSON.parse,dl=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Yn(){}function Zs(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pr(){L.call(this,"d")}T(Pr,L);function Qn(){L.call(this,"c")}T(Qn,L);var In={},Wn=null;function Ei(){return Wn=Wn||new kt}In.Ia="serverreachability";function Ti(h){L.call(this,In.Ia,h)}T(Ti,L);function Xr(h){const y=Ei();Ft(y,new Ti(y))}In.STAT_EVENT="statevent";function wi(h,y){L.call(this,In.STAT_EVENT,h),this.stat=y}T(wi,L);function It(h){const y=Ei();Ft(y,new wi(y,h))}In.Ja="timingevent";function ea(h,y){L.call(this,In.Ja,h),this.size=y}T(ea,L);function Xn(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function ta(h,y,v,b,G,Z){h.info(function(){if(h.g)if(Z){var me="",Be=Z.split("&");for(let ct=0;ct<Be.length;ct++){var St=Be[ct].split("=");if(St.length>1){const Ut=St[0];St=St[1];const er=Ut.split("_");me=er.length>=2&&er[1]=="type"?me+(Ut+"="+St+"&"):me+(Ut+"=redacted&")}}}else me=null;else me=Z;return"XMLHTTP REQ ("+b+") [attempt "+G+"]: "+y+`
`+v+`
`+me})}function na(h,y,v,b,G,Z,me){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+G+"]: "+y+`
`+v+`
`+Z+" "+me})}function x(h,y,v,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+J(h,v)+(b?" "+b:"")})}function H(h,y){h.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function J(h,y){if(!h.g)return y;if(!y)return null;try{const Z=JSON.parse(y);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var v=Z[h];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var G=b[0];if(G!="noop"&&G!="stop"&&G!="close")for(let me=1;me<b.length;me++)b[me]=""}}}}return Cn(Z)}catch{return y}}var ie={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ve;function Se(){}T(Se,Yn),Se.prototype.g=function(){return new XMLHttpRequest},ve=new Se;function _e(h){return encodeURIComponent(String(h))}function Re(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Ae(h,y,v,b){this.j=h,this.i=y,this.l=v,this.S=b||1,this.V=new Mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var be={},ze={};function rt(h,y,v){h.M=1,h.A=Si(Dt(y)),h.u=v,h.R=!0,wt(h,null)}function wt(h,y){h.F=Date.now(),Dn(h),h.B=Dt(h.A);var v=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),hc(v.i,"t",b),h.C=0,v=h.j.L,h.h=new Te,h.g=oo(h.j,v?y:null,!h.u),h.P>0&&(h.O=new eo(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,b=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(hn[0]=G.toString()),G=hn);for(let Z=0;Z<G.length;Z++){const me=Gn(v,G[Z],b||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.J?ne(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Xr(),ta(h.i,h.v,h.B,h.l,h.S,h.u)}Ae.prototype.ba=function(h){h=h.target;const y=this.O;y&&En(h)==3?y.j():this.Y(h)},Ae.prototype.Y=function(h){try{if(h==this.g)e:{const Be=En(this.g),St=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||ua(this.g)))){this.K||Be!=4||St==7||(St==8||ct<=0?Xr(3):Xr(2)),Qt(this);var y=this.g.ca();this.X=y;var v=At(this);if(this.o=y==200,na(this.i,this.v,this.B,this.l,this.S,Be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,G=this.g;if((b=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(b)){var Z=b;break t}}Z=null}if(h=Z)x(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dr(this,h);else{this.o=!1,this.m=3,It(12),kn(this),nn(this);break e}}if(this.R){h=!0;let Ut;for(;!this.K&&this.C<v.length;)if(Ut=lt(this,v),Ut==ze){Be==4&&(this.m=4,It(14),h=!1),x(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==be){this.m=4,It(15),x(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else x(this.i,this.l,Ut,null),dr(this,Ut);if(ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||v.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)x(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),nn(this);else if(v.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Sl(me),me.P=!0,It(11))}}else x(this.i,this.l,v,null),dr(this,v);Be==4&&kn(this),this.o&&!this.K&&(Be==4?bl(this.j,this):(this.o=!1,Dn(this)))}else ca(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),kn(this),nn(this)}}}catch{}finally{}};function At(h){if(!ke(h))return h.g.la();const y=ua(h.g);if(y==="")return"";let v="";const b=y.length,G=En(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),nn(h),"";h.h.i=new c.TextDecoder}for(let Z=0;Z<b;Z++)h.h.h=!0,v+=h.h.i.decode(y[Z],{stream:!(G&&Z==b-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function ke(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function lt(h,y){var v=h.C,b=y.indexOf(`
`,v);return b==-1?ze:(v=Number(y.substring(v,b)),isNaN(v)?be:(b+=1,b+v>y.length?ze:(y=y.slice(b,b+v),h.C=b+v,y)))}Ae.prototype.cancel=function(){this.K=!0,kn(this)};function Dn(h){h.T=Date.now()+h.H,vn(h,h.H)}function vn(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Xn(g(h.aa,h),y)}function Qt(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Ae.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(H(this.i,this.B),this.M!=2&&(Xr(),It(17)),kn(this),this.m=2,nn(this)):vn(this,this.T-h)};function nn(h){h.j.I==0||h.K||bl(h.j,h)}function kn(h){Qt(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,_t(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function dr(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Rt(v.h,h))){if(!h.L&&Rt(v.h,h)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var G=b;if(G[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)ao(v),Jr(v);else break e;wl(v),It(18)}}else v.xa=G[1],0<v.xa-v.K&&G[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Xn(g(v.Va,v),6e3));He(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((h.L||v.g==h)&&ao(v),!D(y))for(G=v.Ba.g.parse(y),y=0;y<G.length;y++){let ct=G[y];const Ut=ct[0];if(!(Ut<=v.K))if(v.K=Ut,ct=ct[1],v.I==2)if(ct[0]=="c"){v.M=ct[1],v.ba=ct[2];const er=ct[3];er!=null&&(v.ka=er,v.j.info("VER="+v.ka));const Zr=ct[4];Zr!=null&&(v.za=Zr,v.j.info("SVER="+v.za));const jr=ct[5];jr!=null&&typeof jr=="number"&&jr>0&&(b=1.5*jr,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const zr=h.g;if(zr){const Br=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var Z=b.h;Z.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Lr(Z,Z.h),Z.h=null))}if(b.G){const Rl=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(b.wa=Rl,dt(b.J,b.G,Rl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var me=h;if(b.na=Ec(b,b.L?b.ba:null,b.W),me.L){Nn(b.h,me);var Be=me,St=b.O;St&&(Be.H=St),Be.D&&(Qt(Be),Dn(Be)),b.g=me}else gc(b);v.i.length>0&&ma(v)}else ct[0]!="stop"&&ct[0]!="close"||Ri(v,7);else v.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ri(v,7):fa(v):ct[0]!="noop"&&v.l&&v.l.qa(ct),v.A=0)}}Xr(4)}catch{}}var Vr=class{constructor(h,y){this.g=h,this.map=y}};function mr(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function He(h){return h.h?1:h.g?h.g.size:0}function Rt(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Lr(h,y){h.g?h.g.add(y):h.h=y}function Nn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}mr.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vt(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return I(h.i)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const b=h[v].indexOf("=");let G,Z=null;b>=0?(G=h[v].substring(0,b),Z=h[v].substring(b+1)):G=h[v],y(G,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Zn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Zn?(this.l=h.l,Ji(this,h.j),this.o=h.o,this.g=h.g,ra(this,h.u),this.h=h.h,Zi(this,fc(h.i)),this.m=h.m):h&&(y=String(h).match(kr))?(this.l=!1,Ji(this,y[1]||"",!0),this.o=ia(y[2]||""),this.g=ia(y[3]||"",!0),ra(this,y[4]),this.h=ia(y[5]||"",!0),Zi(this,y[6]||"",!0),this.m=ia(y[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}Zn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(rn(y,pl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(rn(y,pl,!0),"@"),h.push(_e(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(rn(v,v.charAt(0)=="/"?es:gl,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",rn(v,cc)),h.join("")},Zn.prototype.resolve=function(h){const y=Dt(this);let v=!!h.j;v?Ji(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var b=h.h;if(v)ra(y,h.u);else if(v=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var G=y.h.lastIndexOf("/");G!=-1&&(b=y.h.slice(0,G+1)+b)}if(G=b,G==".."||G==".")b="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){b=G.lastIndexOf("/",0)==0,G=G.split("/");const Z=[];for(let me=0;me<G.length;){const Be=G[me++];Be=="."?b&&me==G.length&&Z.push(""):Be==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),b&&me==G.length&&Z.push("")):(Z.push(Be),b=!0)}b=Z.join("/")}else b=G}return v?y.h=b:v=h.i.toString()!=="",v?Zi(y,fc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Dt(h){return new Zn(h)}function Ji(h,y,v){h.j=v?ia(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ra(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Zi(h,y,v){y instanceof gr?(h.i=y,vl(h.i,h.l)):(v||(y=rn(y,uc)),h.i=new gr(y,h.l))}function dt(h,y,v){h.i.set(y,v)}function Si(h){return dt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ia(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function rn(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,ml),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ml(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var pl=/[#\/\?@]/g,gl=/[#\?:]/g,es=/[#\?]/g,uc=/[#\?@]/g,cc=/#/g;function gr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function bi(h){h.g||(h.g=new Map,h.h=0,h.i&&to(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}t=gr.prototype,t.add=function(h,y){bi(this),this.i=null,h=Ur(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function yl(h,y){bi(h),y=Ur(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function _l(h,y){return bi(h),y=Ur(h,y),h.g.has(y)}t.forEach=function(h,y){bi(this),this.g.forEach(function(v,b){v.forEach(function(G){h.call(y,G,b,this)},this)},this)};function no(h,y){bi(h);let v=[];if(typeof y=="string")_l(h,y)&&(v=v.concat(h.g.get(Ur(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}t.set=function(h,y){return bi(this),this.i=null,h=Ur(this,h),_l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=no(this,h),h.length>0?String(h[0]):y):y};function hc(h,y,v){yl(h,y),v.length>0&&(h.i=null,h.g.set(Ur(h,y),I(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const G=_e(v);v=no(this,v);for(let Z=0;Z<v.length;Z++){let me=G;v[Z]!==""&&(me+="="+_e(v[Z])),h.push(me)}}return this.i=h.join("&")};function fc(h){const y=new gr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ur(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function vl(h,y){y&&!h.j&&(bi(h),h.i=null,h.g.forEach(function(v,b){const G=b.toLowerCase();b!=G&&(yl(this,b),hc(this,G,v))},h)),h.j=y}function El(h,y){const v=new Jn;if(c.Image){const b=new Image;b.onload=_(On,v,"TestLoadImage: loaded",!0,y,b),b.onerror=_(On,v,"TestLoadImage: error",!1,y,b),b.onabort=_(On,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(On,v,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function ts(h,y){const v=new Jn,b=new AbortController,G=setTimeout(()=>{b.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(Z=>{clearTimeout(G),Z.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),On(v,"TestPingServer: error",!1,y)})}function On(h,y,v,b,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),b(v)}catch{}}function dc(){this.g=new dl}function sa(h){this.i=h.Sb||null,this.h=h.ab||!1}T(sa,Yn),sa.prototype.g=function(){return new aa(this.i,this.h)};function aa(h,y){kt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(aa,kt),t=aa.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Ai(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xn(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ns(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ns(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?xn(this):Ai(this),this.readyState==3&&ns(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,xn(this))},t.Na=function(h){this.g&&(this.response=h,xn(this))},t.ga=function(){this.g&&xn(this)};function xn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ai(h)}t.setRequestHeader=function(h,y){this.A.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function rs(h){let y="";return je(h,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function yr(h,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=rs(v),typeof h=="string"?v!=null&&_e(v):dt(h,y,v))}function Et(h){kt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Et,kt);var ro=/^https?$/i,mc=["POST","PUT"];t=Et.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ve.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Z){oa(this,Z);return}if(h=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var G in b)v.set(G,b[G]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Z of b.keys())v.set(Z,b.get(Z));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(mc,y,void 0)>=0)||b||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of v)this.g.setRequestHeader(Z,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){oa(this,Z)}};function oa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,la(h),Wt(h)}function la(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ft(this,"complete"),Ft(this,"abort"),Wt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Tl(this):this.Xa())},t.Xa=function(){Tl(this)};function Tl(h){if(h.h&&typeof l<"u"){if(h.v&&En(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ft(h,"readystatechange"),En(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=Z===0){let me=String(h.D).match(kr)[1]||null;!me&&c.self&&c.self.location&&(me=c.self.location.protocol.slice(0,-1)),b=!ro.test(me?me.toLowerCase():"")}v=b}if(v)Ft(h,"complete"),Ft(h,"success");else{h.o=6;try{var G=En(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",la(h)}}finally{Wt(h)}}}}function Wt(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Ft(h,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function En(h){return h.g?h.g.readyState:0}t.ca=function(){try{return En(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),$t(y)}};function ua(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(h){const y={};h=(h.g&&En(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(D(h[b]))continue;var v=Re(h[b]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=y[G]||[];y[G]=Z,Z.push(v)}M(y,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function io(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ha("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ha("baseRetryDelayMs",5e3,h),this.Za=ha("retryDelaySeedMs",1e4,h),this.Ta=ha("forwardChannelMaxRetries",2,h),this.va=ha("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new mr(h&&h.concurrentRequestLimit),this.Ba=new dc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=io.prototype,t.ka=8,t.I=1,t.connect=function(h,y,v,b){It(0),this.W=h,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Ec(this,null,this.W),ma(this)};function fa(h){if(da(h),h.I==3){var y=h.V++,v=Dt(h.J);if(dt(v,"SID",h.M),dt(v,"RID",y),dt(v,"TYPE","terminate"),pa(h,v),y=new Ae(h,h.j,y),y.M=2,y.A=Si(Dt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=oo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Dn(y)}vc(h)}function Jr(h){h.g&&(Sl(h),h.g.cancel(),h.g=null)}function da(h){Jr(h),h.v&&(c.clearTimeout(h.v),h.v=null),ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ma(h){if(!pr(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||A(),P||(oe(),P=!0),N.add(y,h),h.D=0}}function sd(h,y){return He(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Xn(g(h.Ea,h,y),_c(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Ae(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=ne(Z),de(Z,this.U)):Z=this.U),this.u!==null||this.R||(G.J=Z,Z=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=so(this,G,y),v=Dt(this.J),dt(v,"RID",h),dt(v,"CVER",22),this.G&&dt(v,"X-HTTP-Session-Id",this.G),pa(this,v),Z&&(this.R?y="headers="+_e(rs(Z))+"&"+y:this.u&&yr(v,this.u,Z)),Lr(this.h,G),this.Ra&&dt(v,"TYPE","init"),this.S?(dt(v,"$req",y),dt(v,"SID","null"),G.U=!0,rt(G,v,null)):rt(G,v,y),this.I=2}}else this.I==3&&(h?pc(this,h):this.i.length==0||pr(this.h)||pc(this))};function pc(h,y){var v;y?v=y.l:v=h.V++;const b=Dt(h.J);dt(b,"SID",h.M),dt(b,"RID",v),dt(b,"AID",h.K),pa(h,b),h.u&&h.o&&yr(b,h.u,h.o),v=new Ae(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=so(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Lr(h.h,v),rt(v,b,y)}function pa(h,y){h.H&&je(h.H,function(v,b){dt(y,b,v)}),h.l&&je({},function(v,b){dt(y,b,v)})}function so(h,y,v){v=Math.min(h.i.length,v);const b=h.l?g(h.l.Ka,h.l,h):null;e:{var G=h.i;let Be=-1;for(;;){const St=["count="+v];Be==-1?v>0?(Be=G[0].g,St.push("ofs="+Be)):Be=0:St.push("ofs="+Be);let ct=!0;for(let Ut=0;Ut<v;Ut++){var Z=G[Ut].g;const er=G[Ut].map;if(Z-=Be,Z<0)Be=Math.max(0,G[Ut].g-100),ct=!1;else try{Z="req"+Z+"_"||"";try{var me=er instanceof Map?er:Object.entries(er);for(const[Zr,jr]of me){let zr=jr;d(jr)&&(zr=Cn(jr)),St.push(Z+Zr+"="+encodeURIComponent(zr))}}catch(Zr){throw St.push(Z+"type="+encodeURIComponent("_badmap")),Zr}}catch{b&&b(er)}}if(ct){me=St.join("&");break e}}me=void 0}return h=h.i.splice(0,v),y.G=h,me}function gc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||A(),P||(oe(),P=!0),N.add(y,h),h.A=0}}function wl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Xn(g(h.Da,h),_c(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Xn(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Jr(this),yc(this))};function Sl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function yc(h){h.g=new Ae(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Dt(h.na);dt(y,"RID","rpc"),dt(y,"SID",h.M),dt(y,"AID",h.K),dt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&dt(y,"TO",h.ia),dt(y,"TYPE","xmlhttp"),pa(h,y),h.u&&h.o&&yr(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Si(Dt(y)),v.u=null,v.R=!0,wt(v,h)}t.Va=function(){this.C!=null&&(this.C=null,Jr(this),wl(this),It(19))};function ao(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function bl(h,y){var v=null;if(h.g==y){ao(h),Sl(h),h.g=null;var b=2}else if(Rt(h.h,y))v=y.G,Nn(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var G=h.D;b=Ei(),Ft(b,new ea(b,v)),ma(h)}else gc(h);else if(G=y.m,G==3||G==0&&y.X>0||!(b==1&&sd(h,y)||b==2&&wl(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),G){case 1:Ri(h,5);break;case 4:Ri(h,10);break;case 3:Ri(h,6);break;default:Ri(h,2)}}}function _c(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ri(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),b=h.Ua;const G=!b;b=new Zn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ji(b,"https"),Si(b),G?El(b.toString(),v):ts(b.toString(),v)}else It(2);h.I=0,h.l&&h.l.pa(y),vc(h),da(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function vc(h){if(h.I=0,h.ja=[],h.l){const y=vt(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Ec(h,y,v){var b=v instanceof Zn?Dt(v):new Zn(v);if(b.g!="")y&&(b.g=y+"."+b.g),ra(b,b.u);else{var G=c.location;b=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const Z=new Zn(null);b&&Ji(Z,b),y&&(Z.g=y),G&&ra(Z,G),v&&(Z.h=v),b=Z}return v=h.G,y=h.wa,v&&y&&dt(b,v,y),dt(b,"VER",h.ka),pa(h,b),b}function oo(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Et(new sa({ab:v})):new Et(h.ma),y.Fa(h.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}t=Tc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lo(){}lo.prototype.g=function(h,y){return new Mn(h,y)};function Mn(h,y){kt.call(this),this.g=new io(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new is(this)}T(Mn,kt),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){fa(this.g)},Mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Cn(h),h=v);y.i.push(new Vr(y.Ya++,h)),y.I==3&&ma(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,fa(this.g),delete this.g,Mn.Z.N.call(this)};function Al(h){Pr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Al,Pr);function wc(){Qn.call(this),this.status=1}T(wc,Qn);function is(h){this.g=h}T(is,Tc),is.prototype.ra=function(){Ft(this.g,"a")},is.prototype.qa=function(h){Ft(this.g,new Al(h))},is.prototype.pa=function(h){Ft(this.g,new wc)},is.prototype.oa=function(){Ft(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,KS=function(){return new lo},GS=function(){return Ei()},qS=In,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,jh=ie,ce.COMPLETE="complete",HS=ce,Zs.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",kt.prototype.listen=kt.prototype.J,wu=Zs,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,FS=Et}).apply(typeof Ih<"u"?Ih:typeof self<"u"?self:typeof window<"u"?window:{});const HT="@firebase/firestore",qT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new kf("@firebase/firestore");function zo(){return Fa.logLevel}function ye(t,...e){if(Fa.logLevel<=Je.DEBUG){const n=e.map(xg);Fa.debug(`Firestore (${ol}): ${t}`,...n)}}function Yi(t,...e){if(Fa.logLevel<=Je.ERROR){const n=e.map(xg);Fa.error(`Firestore (${ol}): ${t}`,...n)}}function Jo(t,...e){if(Fa.logLevel<=Je.WARN){const n=e.map(xg);Fa.warn(`Firestore (${ol}): ${t}`,...n)}}function xg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YS(t,s,n)}function YS(t,e,n){let s=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yi(s),new Error(s)}function ut(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||YS(e,o,s)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bn.UNAUTHENTICATED))}shutdown(){}}class ix{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Us,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Us)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new $S(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class ax{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ox{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ax(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new GT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new GT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ux(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%62))}return s}}function Ze(t,e){return t<e?-1:t>e?1:0}function $p(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),l=e.charAt(s);if(o!==l)return Ep(o)===Ep(l)?Ze(o,l):Ep(o)?1:-1}return Ze(t.length,e.length)}const cx=55296,hx=57343;function Ep(t){const e=t.charCodeAt(0);return e>=cx&&e<=hx}function Zo(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__name__";class si{constructor(e,n,s){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Me(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=si.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const s=si.isNumericId(e),o=si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(e).compare(si.extractNumericId(n)):$p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Ot extends si{construct(e,n,s){return new Ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ce(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const fx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends si{construct(e,n,s){return new yn(e,n,s)}static isValidIdentifier(e){return fx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KT}static keyField(){return new yn([KT])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new Ce(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ce(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ce(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new Ce(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ot.fromString(e))}static fromName(e){return new Ne(Ot.fromString(e).popFirst(5))}static empty(){return new Ne(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e,n){if(!n)throw new Ce(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mx(t,e,n,s){if(e===!0&&s===!0)throw new Ce(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YT(t){if(!Ne.isDocumentKey(t))throw new Ce(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pg(t);throw new Ce(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ec(t,e){if(!QS(t))throw new Ce(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new Ce(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=-62135596800,QT=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*QT);return new bt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ce(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$T)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QT}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ec(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Kt("string",bt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new bt(0,0))}static max(){return new Ue(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=-1;function px(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(s===1e9?new bt(n+1,0):new bt(n,s));return new Hs(o,Ne.empty(),e)}function gx(t){return new Hs(t.readTime,t.key,Bu)}class Hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Hs(Ue.min(),Ne.empty(),Bu)}static max(){return new Hs(Ue.max(),Ne.empty(),Bu)}}function yx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==_x)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,s)=>{n(e)})}static reject(e){return new ae((n,s)=>{s(e)})}static waitFor(e){return new ae((n,s)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&n()},m=>s(m))}),c=!0,l===o&&n()})}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next(o=>o?ae.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,l)=>{s.push(n.call(this,o,l))}),this.waitFor(s)}static mapArray(e,n){return new ae((s,o)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(_=>{c[g]=_,++d,d===l&&s(c)},_=>o(_))}})}static doWhile(e,n){return new ae((s,o)=>{const l=()=>{e()===!0?n().next(()=>{l()},o):s()};l()})}}function Ex(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=-1;function Bf(t){return t==null}function uf(t){return t===0&&1/t==-1/0}function Tx(t){return typeof t=="number"&&Number.isInteger(t)&&!uf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function wx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WT(e)),e=Sx(t.get(n),e);return WT(e)}function Sx(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case WS:n+="";break;default:n+=l}}return n}function WT(t){return t+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dh(this.root,e,this.comparator,!0)}}class Dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s??gn.RED,this.left=o??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new gn(e??this.key,n??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,s,o,l){return this}insert(e,n,s){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JT(this.data.getIterator())}getIteratorFrom(e){return new JT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class JT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new ur([])}unionWith(e){let n=new tn(yn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ur(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JS("Invalid base64 string: "+l):l}}(e);return new _n(n)}static fromUint8Array(e){const n=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qs(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=bx.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="server_timestamp",eb="__type__",tb="__previous_value__",nb="__local_write_time__";function Lg(t){return(t?.mapValue?.fields||{})[eb]?.stringValue===ZS}function Ff(t){const e=t.mapValue.fields[tb];return Lg(e)?Ff(e):e}function Fu(t){const e=qs(t.mapValue.fields[nb].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,s,o,l,c,d,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const cf="(default)";class Hu{constructor(e,n){this.projectId=e,this.database=n||cf}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===cf}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="__type__",Rx="__max__",Nh={mapValue:{}},ib="__vector__",hf="value";function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lg(t)?4:Ix(t)?9007199254740991:Cx(t)?10:11:Me(28295,{value:t})}function gi(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fu(t).isEqual(Fu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=qs(o.timestampValue),d=qs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,l){return Gs(o.bytesValue).isEqual(Gs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,l){return Bt(o.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(o.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(t,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Bt(o.integerValue)===Bt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Bt(o.doubleValue),d=Bt(l.doubleValue);return c===d?uf(c)===uf(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Zo(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(XT(c)!==XT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!gi(c[m],d[m])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function qu(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function el(t,e){if(t===e)return 0;const n=Ks(t),s=Ks(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Bt(l.integerValue||l.doubleValue),m=Bt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return ZT(t.timestampValue,e.timestampValue);case 4:return ZT(Fu(t),Fu(e));case 5:return $p(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Gs(l),m=Gs(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Ze(d[g],m[g]);if(_!==0)return _}return Ze(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ze(Bt(l.latitude),Bt(c.latitude));return d!==0?d:Ze(Bt(l.longitude),Bt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e0(t.arrayValue,e.arrayValue);case 10:return function(l,c){const d=l.fields||{},m=c.fields||{},g=d[hf]?.arrayValue,_=m[hf]?.arrayValue,T=Ze(g?.values?.length||0,_?.values?.length||0);return T!==0?T:e0(g,_)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Nh.mapValue&&c===Nh.mapValue)return 0;if(l===Nh.mapValue)return 1;if(c===Nh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const w=$p(m[T],_[T]);if(w!==0)return w;const I=el(d[m[T]],g[_[T]]);if(I!==0)return I}return Ze(m.length,_.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function ZT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=qs(t),s=qs(e),o=Ze(n.seconds,s.seconds);return o!==0?o:Ze(n.nanos,s.nanos)}function e0(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=el(n[o],s[o]);if(l)return l}return Ze(n.length,s.length)}function tl(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=qs(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=Qp(l);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Qp(n.fields[c])}`;return o+"}"}(t.mapValue):Me(61005,{value:t})}function zh(t){switch(Ks(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ff(t);return e?16+zh(e):16;case 5:return 2*t.stringValue.length;case 6:return Gs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+zh(l),0)}(t.arrayValue);case 10:case 11:return function(s){let o=0;return Ws(s.fields,(l,c)=>{o+=l.length+zh(c)}),o}(t.mapValue);default:throw Me(13486,{value:t})}}function Wp(t){return!!t&&"integerValue"in t}function kg(t){return!!t&&"arrayValue"in t}function t0(t){return!!t&&"nullValue"in t}function n0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bh(t){return!!t&&"mapValue"in t}function Cx(t){return(t?.mapValue?.fields||{})[rb]?.stringValue===ib}function Iu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Iu(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Iu(t.arrayValue.values[n]);return e}return{...t}}function Ix(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Rx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Bh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(n)}setAll(e){let n=yn.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=Iu(c):o.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Bh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Bh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new Hn(Iu(this.value))}}function sb(t){const e=[];return Ws(t.fields,(n,s)=>{const o=new yn([n]);if(Bh(s)){const l=sb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,s,o,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new An(e,0,Ue.min(),Ue.min(),Ue.min(),Hn.empty(),0)}static newFoundDocument(e,n,s,o){return new An(e,1,n,Ue.min(),s,o,0)}static newNoDocument(e,n){return new An(e,2,n,Ue.min(),Ue.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Ue.min(),Ue.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.position=e,this.inclusive=n}}function r0(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?s=Ne.comparator(Ne.fromName(c.referenceValue),n.key):s=el(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function i0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{}class Zt extends ab{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Ox(e,n,s):n==="array-contains"?new Px(e,s):n==="in"?new Vx(e,s):n==="not-in"?new Lx(e,s):n==="array-contains-any"?new kx(e,s):new Zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xx(e,s):new Mx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends ab{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yi(e,n)}matches(e){return ob(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ob(t){return t.op==="and"}function lb(t){return Nx(t)&&ob(t)}function Nx(t){for(const e of t.filters)if(e instanceof yi)return!1;return!0}function Xp(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+tl(t.value);if(lb(t))return t.filters.map(e=>Xp(e)).join(",");{const e=t.filters.map(n=>Xp(n)).join(",");return`${t.op}(${e})`}}function ub(t,e){return t instanceof Zt?function(s,o){return o instanceof Zt&&s.op===o.op&&s.field.isEqual(o.field)&&gi(s.value,o.value)}(t,e):t instanceof yi?function(s,o){return o instanceof yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,d)=>l&&ub(c,o.filters[d]),!0):!1}(t,e):void Me(19439)}function cb(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`}(t):t instanceof yi?function(n){return n.op.toString()+" {"+n.getFilters().map(cb).join(" ,")+"}"}(t):"Filter"}class Ox extends Zt{constructor(e,n,s){super(e,n,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class xx extends Zt{constructor(e,n){super(e,"in",n),this.keys=hb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mx extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=hb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hb(t,e){return(e.arrayValue?.values||[]).map(n=>Ne.fromName(n.referenceValue))}class Px extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kg(n)&&qu(n.arrayValue,this.value)}}class Vx extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class Lx extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class kx extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n=null,s=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function s0(t,e=null,n=[],s=[],o=null,l=null,c=null){return new Ux(t,e,n,s,o,l,c)}function Ug(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Xp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>tl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>tl(s)).join(",")),e.Te=n}return e.Te}function jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ub(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i0(t.startAt,e.startAt)&&i0(t.endAt,e.endAt)}function Jp(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n=null,s=[],o=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jx(t,e,n,s,o,l,c,d){return new Hf(t,e,n,s,o,l,c,d)}function zg(t){return new Hf(t)}function a0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zx(t){return t.collectionGroup!==null}function Du(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new tn(yn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new df(l,s))}),n.has(yn.keyField().canonicalString())||e.Ie.push(new df(yn.keyField(),s))}return e.Ie}function li(t){const e=Fe(t);return e.Ee||(e.Ee=Bx(e,Du(t))),e.Ee}function Bx(t,e){if(t.limitType==="F")return s0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new df(o.field,l)});const n=t.endAt?new ff(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ff(t.startAt.position,t.startAt.inclusive):null;return s0(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Zp(t,e,n){return new Hf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return jg(li(t),li(e))&&t.limitType===e.limitType}function fb(t){return`${Ug(li(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>cb(o)).join(", ")}]`),Bf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>tl(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>tl(o)).join(",")),`Target(${s})`}(li(t))}; limitType=${t.limitType})`}function Gf(t,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ne.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(t,e)&&function(s,o){for(const l of Du(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(t,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(t,e)&&function(s,o){return!(s.startAt&&!function(c,d,m){const g=r0(c,d,m);return c.inclusive?g<=0:g<0}(s.startAt,Du(s),o)||s.endAt&&!function(c,d,m){const g=r0(c,d,m);return c.inclusive?g>=0:g>0}(s.endAt,Du(s),o))}(t,e)}function Fx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function db(t){return(e,n)=>{let s=!1;for(const o of Du(t)){const l=Hx(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function Hx(t,e,n){const s=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?el(m,g):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return XS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new xt(Ne.comparator);function $i(){return qx}const mb=new xt(Ne.comparator);function Su(...t){let e=mb;for(const n of t)e=e.insert(n.key,n);return e}function pb(t){let e=mb;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function La(){return Nu()}function gb(){return Nu()}function Nu(){return new Wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Gx=new xt(Ne.comparator),Kx=new tn(Ne.comparator);function et(...t){let e=Kx;for(const n of t)e=e.add(n);return e}const Yx=new tn(Ze);function $x(){return Yx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function yb(t){return{integerValue:""+t}}function Qx(t,e){return Tx(e)?yb(e):Bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function Wx(t,e,n){return t instanceof mf?function(o,l){const c={fields:{[eb]:{stringValue:ZS},[nb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Lg(l)&&(l=Ff(l)),l&&(c.fields[tb]=l),{mapValue:c}}(n,e):t instanceof Gu?vb(t,e):t instanceof Ku?Eb(t,e):function(o,l){const c=_b(o,l),d=o0(c)+o0(o.Ae);return Wp(c)&&Wp(o.Ae)?yb(d):Bg(o.serializer,d)}(t,e)}function Xx(t,e,n){return t instanceof Gu?vb(t,e):t instanceof Ku?Eb(t,e):n}function _b(t,e){return t instanceof pf?function(s){return Wp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class mf extends Kf{}class Gu extends Kf{constructor(e){super(),this.elements=e}}function vb(t,e){const n=Tb(e);for(const s of t.elements)n.some(o=>gi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ku extends Kf{constructor(e){super(),this.elements=e}}function Eb(t,e){let n=Tb(e);for(const s of t.elements)n=n.filter(o=>!gi(o,s));return{arrayValue:{values:n}}}class pf extends Kf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function o0(t){return Bt(t.integerValue||t.doubleValue)}function Tb(t){return kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Jx(t,e){return t.field.isEqual(e.field)&&function(s,o){return s instanceof Gu&&o instanceof Gu||s instanceof Ku&&o instanceof Ku?Zo(s.elements,o.elements,gi):s instanceof pf&&o instanceof pf?gi(s.Ae,o.Ae):s instanceof mf&&o instanceof mf}(t.transform,e.transform)}class Zx{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yf{}function wb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bb(t.key,ui.none()):new tc(t.key,t.data,ui.none());{const n=t.data,s=Hn.empty();let o=new tn(yn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Xs(t.key,s,new ur(o.toArray()),ui.none())}}function eM(t,e,n){t instanceof tc?function(o,l,c){const d=o.value.clone(),m=u0(o.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(o,l,c){if(!Fh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=u0(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Sb(o)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ou(t,e,n,s){return t instanceof tc?function(l,c,d,m){if(!Fh(l.precondition,c))return d;const g=l.value.clone(),_=c0(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,s):t instanceof Xs?function(l,c,d,m){if(!Fh(l.precondition,c))return d;const g=c0(l.fieldTransforms,m,c),_=c.data;return _.setAll(Sb(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(t,e,n,s):function(l,c,d){return Fh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function tM(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=_b(s.transform,o||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(s.field,l))}return n||null}function l0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Zo(s,o,(l,c)=>Jx(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tc extends Yf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends Yf{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Sb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function u0(t,e,n){const s=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,d=e.data.field(l.field);s.set(l.field,Xx(c,d,n[o]))}return s}function c0(t,e,n){const s=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);s.set(o.field,Wx(l,c,e))}return s}class bb extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nM extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&eM(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ou(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ou(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gb();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const m=wb(c,d);m!==null&&s.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(Ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(n,s)=>l0(n,s))&&Zo(this.baseMutations,e.baseMutations,(n,s)=>l0(n,s))}}class Fg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ut(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return Gx}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new Fg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,nt;function aM(t){switch(t){case le.OK:return Me(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function Ab(t){if(t===void 0)return Yi("GRPC error has no .code"),le.UNKNOWN;switch(t){case Gt.OK:return le.OK;case Gt.CANCELLED:return le.CANCELLED;case Gt.UNKNOWN:return le.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return le.INTERNAL;case Gt.UNAVAILABLE:return le.UNAVAILABLE;case Gt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Gt.NOT_FOUND:return le.NOT_FOUND;case Gt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Gt.ABORTED:return le.ABORTED;case Gt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Gt.DATA_LOSS:return le.DATA_LOSS;default:return Me(39323,{code:t})}}(nt=Gt||(Gt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new ks([4294967295,4294967295],0);function h0(t){const e=oM().encode(t),n=new BS;return n.update(e),new Uint8Array(n.digest())}function f0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ks([n,s],0),new ks([o,l],0)]}class Hg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(s<0)throw new bu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ks.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ks.fromNumber(s)));return o.compare(lM)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=h0(e),[s,o]=f0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Hg(l,o,n);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.ge===0)return;const n=h0(e),[s,o]=f0(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,nc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $f(Ue.min(),o,new xt(Ze),$i(),et())}}class nc{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nc(s,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Rb{constructor(e,n){this.targetId=e,this.Ce=n}}class Cb{constructor(e,n,s=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class d0{constructor(){this.ve=0,this.Fe=m0(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),s=et();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Me(38017,{changeType:l})}}),new nc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=m0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uM{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=Oh(),this.He=Oh(),this.Ye=new xt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Jp(l))if(s===0){const c=new Ne(l.path);this.et(n,c,An.newNoDocument(c,Ue.min()))}else ut(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=Gs(s).toUint8Array()}catch(m){if(m instanceof JS)return Jo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Hg(c,o,l)}catch(m){return Jo(m instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Jp(d.target)){const m=new Ne(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,An.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}});let s=et();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new $f(e,n,this.Ye,this.je,s);return this.je=$i(),this.Je=Oh(),this.He=Oh(),this.Ye=new xt(Ze),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new d0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tn(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tn(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oh(){return new xt(Ne.comparator)}function m0(){return new xt(Ne.comparator)}const cM={asc:"ASCENDING",desc:"DESCENDING"},hM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fM={and:"AND",or:"OR"};class dM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(t,e){return t.useProto3Json||Bf(e)?e:{value:e}}function gf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ib(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mM(t,e){return gf(t,e.toTimestamp())}function ci(t){return ut(!!t,49232),Ue.fromTimestamp(function(n){const s=qs(n);return new bt(s.seconds,s.nanos)}(t))}function qg(t,e){return tg(t,e).canonicalString()}function tg(t,e){const n=function(o){return new Ot(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Db(t){const e=Ot.fromString(t);return ut(Pb(e),10190,{key:e.toString()}),e}function ng(t,e){return qg(t.databaseId,e.path)}function Tp(t,e){const n=Db(e);if(n.get(1)!==t.databaseId.projectId)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ce(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(Ob(n))}function Nb(t,e){return qg(t.databaseId,e)}function pM(t){const e=Db(t);return e.length===4?Ot.emptyPath():Ob(e)}function rg(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ob(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function p0(t,e,n){return{name:ng(t,e),fields:n.value.mapValue.fields}}function gM(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Me(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(ut(_===void 0||typeof _=="string",58123),_n.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),_n.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?le.UNKNOWN:Ab(g.code);return new Ce(_,g.message||"")}(c);n=new Cb(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Tp(t,s.document.name),l=ci(s.document.updateTime),c=s.document.createTime?ci(s.document.createTime):Ue.min(),d=new Hn({mapValue:{fields:s.document.fields}}),m=An.newFoundDocument(o,l,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Hh(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Tp(t,s.document),l=s.readTime?ci(s.readTime):Ue.min(),c=An.newNoDocument(o,l),d=s.removedTargetIds||[];n=new Hh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Tp(t,s.document),l=s.removedTargetIds||[];n=new Hh([],l,o,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new sM(o,l),d=s.targetId;n=new Rb(d,c)}}return n}function yM(t,e){let n;if(e instanceof tc)n={update:p0(t,e.key,e.value)};else if(e instanceof bb)n={delete:ng(t,e.key)};else if(e instanceof Xs)n={update:p0(t,e.key,e.data),updateMask:RM(e.fieldMask)};else{if(!(e instanceof nM))return Me(16599,{Vt:e.type});n={verify:ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof mf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof pf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Me(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:mM(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me(27497)}(t,e.precondition)),n}function _M(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map(n=>function(o,l){let c=o.updateTime?ci(o.updateTime):ci(l);return c.isEqual(Ue.min())&&(c=ci(l)),new Zx(c,o.transformResults||[])}(n,e))):[]}function vM(t,e){return{documents:[Nb(t,e.path)]}}function EM(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Nb(t,o);const l=function(g){if(g.length!==0)return Mb(yi.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:Fo(w.field),direction:SM(w.dir)}}(_))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=eg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function TM(t){let e=pM(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ut(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=function(T){const w=xb(T);return w instanceof yi&&lb(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(w=>function(j){return new df(Ho(j.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,Bf(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(T){const w=!!T.before,I=T.values||[];return new ff(I,w)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const w=!T.before,I=T.values||[];return new ff(I,w)}(n.endAt)),jx(e,o,c,l,d,"F",m,g)}function wM(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ho(n.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(n.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(n.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(n.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(Ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yi.create(n.compositeFilter.filters.map(s=>xb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function SM(t){return cM[t]}function bM(t){return hM[t]}function AM(t){return fM[t]}function Fo(t){return{fieldPath:t.canonicalString()}}function Ho(t){return yn.fromServerFormat(t.fieldPath)}function Mb(t){return t instanceof Zt?function(n){if(n.op==="=="){if(n0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(t0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(n0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(t0(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:bM(n.op),value:n.value}}}(t):t instanceof yi?function(n){const s=n.getFilters().map(o=>Mb(o));return s.length===1?s[0]:{compositeFilter:{op:AM(n.op),filters:s}}}(t):Me(54877,{filter:t})}function RM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,s,o,l=Ue.min(),c=Ue.min(),d=_n.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.yt=e}}function IM(t){const e=TM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this.Cn=new NM}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Hs.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class NM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new tn(Ot.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new tn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vb=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(Vb,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="LruGarbageCollector",OM=1048576;function _0([t,e],[n,s]){const o=Ze(t,n);return o===0?Ze(e,s):o}class xM{constructor(e){this.Ir=e,this.buffer=new tn(_0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?ye(y0,"Ignoring IndexedDB error during garbage collection: ",n):await ll(n)}await this.Vr(3e5)})}}class PM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(zf.ce);const s=new xM(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(g0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,n))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),zo()<=Je.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function VM(t,e){return new PM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ou(s.mutation,o,ur.empty(),bt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,et()).next(()=>s))}getLocalViewOfDocuments(e,n,s=et()){const o=La();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(l=>{let c=Su();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=La();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,et()))}populateOverlays(e,n,s){const o=[];return s.forEach(l=>{n.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,s,o){let l=$i();const c=Nu(),d=function(){return Nu()}();return n.forEach((m,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Xs)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Ou(_.mutation,g,_.mutation.getFieldMask(),bt.now())):c.set(g.key,ur.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),n.forEach((g,_)=>d.set(g,new kM(_,c.get(g)??null))),d))}recalculateAndSaveOverlays(e,n){const s=Nu();let o=new xt((c,d)=>c-d),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let _=s.get(m)||ur.empty();_=d.applyToLocalView(g,_),s.set(m,_);const T=(o.get(d.batchId)||et()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=gb();_.forEach(w=>{if(!l.has(w)){const I=wb(n.get(w),s.get(w));I!==null&&T.set(w,I),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):ae.resolve(La());let d=Bu,m=l;return c.next(g=>ae.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{m=m.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,et())).next(_=>({batchId:d,changes:pb(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(s=>{let o=Su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const g=function(T,w){return new Hf(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((T,w)=>{c=c.insert(T,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,An.newInvalidDocument(_)))});let d=Su();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&Ou(_.mutation,g,ur.empty(),bt.now()),Gf(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:IM(o.bundledQuery),readTime:ci(o.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.overlays=new xt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=La();return ae.forEach(n,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,l)=>{this.St(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const o=La(),l=n.length+1,c=new Ne(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new xt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=La(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=La(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ae.resolve(d)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new iM(n,s));let l=this.qr.get(n);l===void 0&&(l=et(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Qr=new tn(ln.$r),this.Ur=new tn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ln(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new ln(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Ne(new Ot([])),s=new ln(n,e),o=new ln(n,e+1),l=[];return this.Ur.forEachInRange([s,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new Ot([])),s=new ln(n,e),o=new ln(n,e+1);let l=et();return this.Ur.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new ln(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(ln.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rM(l,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new ln(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),l=o<0?0:o;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Vg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],c=>{const d=this.Xr(c.Yr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new tn(Ze);return n.forEach(o=>{const l=new ln(o,0),c=new ln(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{s=s.add(d.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;Ne.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Ne(l),0);let d=new tn(Ze);return this.Zr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Yr)),!0)},c),ae.resolve(this.ti(d))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,o=>{const l=new ln(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new ln(n,0),o=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.ri=e,this.docs=function(){return new xt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let s=$i();return n.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():An.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=$i();const c=n.path,d=new Ne(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yx(gx(_),s)<=0||(o.has(_.key)||Gf(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,o){Me(9500)}ii(e,n){return ae.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new qM(this)}getSize(e){return ae.resolve(this.size)}}class qM extends LM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.persistence=e,this.si=new Wa(n=>Ug(n),jg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Gg,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ae.waitFor(l).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new BM,this.referenceDelegate=e(this),this.Pi=new GM(this),this.indexManager=new DM,this.remoteDocumentCache=function(o){return new HM(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new CM(n),this.Ii=new jM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new FM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const o=new KM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,n){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class KM extends vx{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new Gg,this.Vi=null}static mi(e){return new Kg(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const o=Ne.fromPath(s);return this.gi(e,o).next(l=>{l||n.removeEntry(o,Ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yf{constructor(e,n){this.persistence=e,this.pi=new Wa(s=>wx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=VM(this,n)}static mi(e,n){return new yf(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ae.forEach(this.pi,(s,o)=>this.br(e,s,o).next(l=>l?ae.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,n).next(d=>{d||(s++,l.removeEntry(c,Ue.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=et(),o=et();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Yg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return gN()?8:Ex(Rn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.ys(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,n,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new YM;return this.Ss(e,n,c).next(d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)})}).next(()=>l.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(zo()<=Je.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(zo()<=Je.DEBUG&&ye("QueryEngine","Query:",Bo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(zo()<=Je.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):ae.resolve())}ys(e,n){if(a0(n))return ae.resolve(null);let s=li(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zp(n,null,"F"),s=li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=et(...l);return this.ps.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.Ds(n,d);return this.Cs(n,g,c,m.readTime)?this.ys(e,Zp(n,null,"F")):this.vs(e,g,n,m)}))})))}ws(e,n,s,o){return a0(n)||o.isEqual(Ue.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,o)?ae.resolve(null):(zo()<=Je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(n)),this.vs(e,c,n,px(o,Bu)).next(d=>d))})}Ds(e,n){let s=new tn(db(e));return n.forEach((o,l)=>{Gf(e,l)&&(s=s.add(l))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,s){return zo()<=Je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.ps.getDocumentsMatchingQuery(e,n,Hs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",QM=3e8;class WM{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new xt(Ze),this.xs=new Wa(l=>Ug(l),jg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function XM(t,e,n,s){return new WM(t,e,n,s)}async function kb(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let m=et();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:d}))})})}function JM(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,w=T.keys();let I=ae.resolve();return w.forEach(j=>{I=I.next(()=>_.getEntry(m,j)).next(W=>{const U=g.docVersions.get(j);ut(U!==null,48541),W.version.compareTo(U)<0&&(T.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),_.addEntry(W)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=et();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Ub(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function ZM(t,e){const n=Fe(t),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];e.targetChanges.forEach((_,T)=>{const w=o.get(T);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(l,_.addedDocuments,T)));let I=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(_n.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(T,I),function(W,U,Y){return W.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=QM?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(w,I,_)&&d.push(n.Pi.updateTargetData(l,I))});let m=$i(),g=et();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(eP(l,c,e.documentUpdates).next(_=>{m=_.ks,g=_.qs})),!s.isEqual(Ue.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next(T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.Ms=o,l))}function eP(t,e,n){let s=et(),o=et();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=$i();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Ue.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):ye($g,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{ks:c,qs:o}})}function tP(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Vg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nP(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(l=>l?(o=l,ae.resolve(o)):n.Pi.allocateTargetId(s).next(c=>(o=new Ps(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function ig(t,e,n){const s=Fe(t),o=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ul(c))throw c;ye($g,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function v0(t,e,n){const s=Fe(t);let o=Ue.min(),l=et();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const T=Fe(m),w=T.xs.get(_);return w!==void 0?ae.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,_)}(s,c,li(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:Ue.min(),n?l:et())).next(d=>(rP(s,Fx(e),d),{documents:d,Qs:l})))}function rP(t,e,n){let s=t.Os.get(e)||Ue.min();n.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Os.set(e,s)}class E0{constructor(){this.activeTargetIds=$x()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iP{constructor(){this.Mo=new E0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="ConnectivityMonitor";class w0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(T0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh=null;function sg(){return xh===null?xh=function(){return 268435456+Math.round(2147483648*Math.random())}():xh++,"0x"+xh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",aP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===cf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,l){const c=sg(),d=this.zo(e,n.toUriEncodedString());ye(wp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:g}=new URL(d),_=sl(g);return this.Jo(e,d,m,s,_).then(T=>(ye(wp,`Received RPC '${e}' ${c}: `,T),T),T=>{throw Jo(wp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T})}Ho(e,n,s,o,l,c){return this.Go(e,n,s,o,l)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}zo(e,n){const s=aP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn="WebChannelConnection";class uP extends oP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,l){const c=sg();return new Promise((d,m)=>{const g=new FS;g.setWithCredentials(!0),g.listenOnce(HS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const T=g.getResponseJson();ye(Sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case jh.TIMEOUT:ye(Sn,`RPC '${e}' ${c} timed out`),m(new Ce(le.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const w=g.getStatus();if(ye(Sn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const j=I?.error;if(j&&j.status&&j.message){const W=function(Y){const ue=Y.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ue)>=0?ue:le.UNKNOWN}(j.status);m(new Ce(W,j.message))}else m(new Ce(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Ce(le.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(Sn,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(o);ye(Sn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)})}T_(e,n,s){const o=sg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=KS(),d=GS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const _=l.join("");ye(Sn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const T=c.createWebChannel(_,m);this.I_(T);let w=!1,I=!1;const j=new lP({Yo:U=>{I?ye(Sn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ye(Sn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ye(Sn,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),W=(U,Y,ue)=>{U.listen(Y,ee=>{try{ue(ee)}catch(he){setTimeout(()=>{throw he},0)}})};return W(T,wu.EventType.OPEN,()=>{I||(ye(Sn,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),W(T,wu.EventType.CLOSE,()=>{I||(I=!0,ye(Sn,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))}),W(T,wu.EventType.ERROR,U=>{I||(I=!0,Jo(Sn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new Ce(le.UNAVAILABLE,"The operation could not be completed")))}),W(T,wu.EventType.MESSAGE,U=>{if(!I){const Y=U.data[0];ut(!!Y,16349);const ue=Y,ee=ue?.error||ue[0]?.error;if(ee){ye(Sn,`RPC '${e}' stream ${o} received error:`,ee);const he=ee.status;let oe=function(A){const R=Gt[A];if(R!==void 0)return Ab(R)}(he),P=ee.message;oe===void 0&&(oe=le.INTERNAL,P="Unknown error status: "+he+" with message "+ee.message),I=!0,j.a_(new Ce(oe,P)),T.close()}else ye(Sn,`RPC '${e}' stream ${o} received:`,Y),j.u_(Y)}}),W(d,qS.STAT_EVENT,U=>{U.stat===Yp.PROXY?ye(Sn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Yp.NOPROXY&&ye(Sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return new dM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class zb{constructor(e,n,s,o,l,c,d,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new Ce(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ye(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ye(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cP extends zb{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gM(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ue.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?ci(c.readTime):Ue.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=rg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=Jp(m)?{documents:vM(l,m)}:{query:EM(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ib(l,c.resumeToken);const g=eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ue.min())>0){d.readTime=gf(l,c.snapshotVersion.toTimestamp());const g=eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=wM(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.q_(n)}}class hP extends zb{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=_M(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=rg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>yM(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{}class dP extends fP{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,tg(n,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(le.UNKNOWN,l.toString())})}Ho(e,n,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(e,tg(n,s),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(le.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="RemoteStore";class pP{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{Xa(this)&&(ye(qa,"Restarting streams for network reachability change."),await async function(m){const g=Fe(m);g.Ea.add(4),await rc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Wf(g)}(this))})}),this.Ra=new mP(s,o)}}async function Wf(t){if(Xa(t))for(const e of t.da)await e(!0)}async function rc(t){for(const e of t.da)await e(!1)}function Bb(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jg(n)?Xg(n):cl(n).O_()&&Wg(n,e))}function Qg(t,e){const n=Fe(t),s=cl(n);n.Ia.delete(e),s.O_()&&Fb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xa(n)&&n.Ra.set("Unknown"))}function Wg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).Y_(e)}function Fb(t,e){t.Va.Ue(e),cl(t).Z_(e)}function Xg(t){t.Va=new uM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.Ra.ua()}function Jg(t){return Xa(t)&&!cl(t).x_()&&t.Ia.size>0}function Xa(t){return Fe(t).Ea.size===0}function Hb(t){t.Va=void 0}async function gP(t){t.Ra.set("Online")}async function yP(t){t.Ia.forEach((e,n)=>{Wg(t,e)})}async function _P(t,e){Hb(t),Jg(t)?(t.Ra.ha(e),Xg(t)):t.Ra.set("Unknown")}async function vP(t,e,n){if(t.Ra.set("Online"),e instanceof Cb&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))}(t,e)}catch(s){ye(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _f(t,s)}else if(e instanceof Hh?t.Va.Ze(e):e instanceof Rb?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const s=await Ub(t.localStore);n.compareTo(s)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(_n.EMPTY_BYTE_STRING,_.snapshotVersion)),Fb(l,m);const T=new Ps(_.target,m,g,_.sequenceNumber);Wg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(s){ye(qa,"Failed to raise snapshot:",s),await _f(t,s)}}async function _f(t,e,n){if(!ul(e))throw e;t.Ea.add(1),await rc(t),t.Ra.set("Offline"),n||(n=()=>Ub(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wf(t)})}function qb(t,e){return e().catch(n=>_f(t,n,e))}async function Xf(t){const e=Fe(t),n=Ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vg;for(;EP(e);)try{const o=await tP(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,TP(e,o)}catch(o){await _f(e,o)}Gb(e)&&Kb(e)}function EP(t){return Xa(t)&&t.Ta.length<10}function TP(t,e){t.Ta.push(e);const n=Ys(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Gb(t){return Xa(t)&&!Ys(t).x_()&&t.Ta.length>0}function Kb(t){Ys(t).start()}async function wP(t){Ys(t).ra()}async function SP(t){const e=Ys(t);for(const n of t.Ta)e.ea(n.mutations)}async function bP(t,e,n){const s=t.Ta.shift(),o=Fg.from(s,e,n);await qb(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Xf(t)}async function AP(t,e){e&&Ys(t).X_&&await async function(s,o){if(function(c){return aM(c)&&c!==le.ABORTED}(o.code)){const l=s.Ta.shift();Ys(s).B_(),await qb(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Xf(s)}}(t,e),Gb(t)&&Kb(t)}async function b0(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ye(qa,"RemoteStore received new credentials");const s=Xa(n);n.Ea.add(3),await rc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wf(n)}async function RP(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Wf(n)):e||(n.Ea.add(2),await rc(n),n.Ra.set("Unknown"))}function cl(t){return t.ma||(t.ma=function(n,s,o){const l=Fe(n);return l.sa(),new cP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Xo:gP.bind(null,t),t_:yP.bind(null,t),r_:_P.bind(null,t),H_:vP.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Jg(t)?Xg(t):t.Ra.set("Unknown")):(await t.ma.stop(),Hb(t))})),t.ma}function Ys(t){return t.fa||(t.fa=function(n,s,o){const l=Fe(n);return l.sa(),new hP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wP.bind(null,t),r_:AP.bind(null,t),ta:SP.bind(null,t),na:bP.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Xf(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,d=new Zg(e,n,c,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),ul(t))return new Ce(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ne.comparator(n.key,s.key):(n,s)=>Ne.comparator(n.key,s.key),this.keyedMap=Su(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.ga=new xt(Ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class rl{constructor(e,n,s,o,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new rl(e,n,Ko.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class IP{constructor(){this.queries=R0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Fe(n),l=o.queries;o.queries=R0(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(s)})})(this,new Ce(le.ABORTED,"Firestore shutting down"))}}function R0(){return new Wa(t=>fb(t),qf)}async function DP(t,e){const n=Fe(t);let s=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new CP,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=ey(c,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&ty(n)}async function NP(t,e){const n=Fe(t),s=e.query;let o=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function OP(t,e){const n=Fe(t);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&ty(n)}function xP(t,e,n){const s=Fe(t),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);s.queries.delete(e)}function ty(t){t.Ca.forEach(e=>{e.next()})}var ag,C0;(C0=ag||(ag={})).Ma="default",C0.Cache="cache";class MP{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new rl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ag.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.key=e}}class $b{constructor(e){this.key=e}}class PP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=db(e),this.tu=new Ko(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new A0,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const w=o.get(_),I=Gf(this.query,T)?T:null,j=!!w&&this.mutatedKeys.has(w.key),W=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;w&&I?w.data.isEqual(I.data)?j!==W&&(s.track({type:3,doc:I}),U=!0):this.su(w,I)||(s.track({type:2,doc:I}),U=!0,(m&&this.eu(I,m)>0||g&&this.eu(I,g)<0)&&(d=!0)):!w&&I?(s.track({type:0,doc:I}),U=!0):w&&!I&&(s.track({type:1,doc:w}),U=!0,(m||g)&&(d=!0)),U&&(I?(c=c.add(I),l=W?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((_,T)=>function(I,j){const W=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:U})}};return W(I)-W(j)}(_.type,T.type)||this.eu(_.doc,T.doc)),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new rl(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new $b(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new Yb(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ny="SyncEngine";class VP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LP{constructor(e){this.key=e,this.hu=!1}}class kP{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Wa(d=>fb(d),qf),this.Iu=new Map,this.Eu=new Set,this.du=new xt(Ne.comparator),this.Au=new Map,this.Ru=new Gg,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UP(t,e,n=!0){const s=eA(t);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Qb(s,e,n,!0),o}async function jP(t,e){const n=eA(t);await Qb(n,e,!0,!1)}async function Qb(t,e,n,s){const o=await nP(t.localStore,li(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await zP(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&Bb(t.remoteStore,o),d}async function zP(t,e,n,s,o){t.pu=(T,w,I)=>async function(W,U,Y,ue){let ee=U.view.ru(Y);ee.Cs&&(ee=await v0(W.localStore,U.query,!1).then(({documents:N})=>U.view.ru(N,ee)));const he=ue&&ue.targetChanges.get(U.targetId),oe=ue&&ue.targetMismatches.get(U.targetId)!=null,P=U.view.applyChanges(ee,W.isPrimaryClient,he,oe);return D0(W,U.targetId,P.au),P.snapshot}(t,T,w,I);const l=await v0(t.localStore,e,!0),c=new PP(e,l.Qs),d=c.ru(l.documents),m=nc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(d,t.isPrimaryClient,m);D0(t,n,g.au);const _=new VP(e,n,c);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function BP(t,e,n){const s=Fe(t),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter(c=>!qf(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ig(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Qg(s.remoteStore,o.targetId),og(s,o.targetId)}).catch(ll)):(og(s,o.targetId),await ig(s.localStore,o.targetId,!0))}async function FP(t,e){const n=Fe(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qg(n.remoteStore,s.targetId))}async function HP(t,e,n){const s=WP(t);try{const o=await function(c,d){const m=Fe(c),g=bt.now(),_=d.reduce((I,j)=>I.add(j.key),et());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>{let j=$i(),W=et();return m.Ns.getEntries(I,_).next(U=>{j=U,j.forEach((Y,ue)=>{ue.isValidDocument()||(W=W.add(Y))})}).next(()=>m.localDocuments.getOverlayedDocuments(I,j)).next(U=>{T=U;const Y=[];for(const ue of d){const ee=tM(ue,T.get(ue.key).overlayedDocument);ee!=null&&Y.push(new Xs(ue.key,ee,sb(ee.value.mapValue),ui.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,Y,d)}).next(U=>{w=U;const Y=U.applyToLocalDocumentSet(T,W);return m.documentOverlayCache.saveOverlays(I,U.batchId,Y)})}).then(()=>({batchId:w.batchId,changes:pb(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new xt(Ze)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g}(s,o.batchId,n),await ic(s,o.changes),await Xf(s.remoteStore)}catch(o){const l=ey(o,"Failed to persist write");n.reject(l)}}async function Wb(t,e){const n=Fe(t);try{const s=await ZM(n.localStore,e);e.targetChanges.forEach((o,l)=>{const c=n.Au.get(l);c&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ut(c.hu,14607):o.removedDocuments.size>0&&(ut(c.hu,42227),c.hu=!1))}),await ic(n,s,e)}catch(s){await ll(s)}}function I0(t,e,n){const s=Fe(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((l,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=Fe(c);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const w of T.Sa)w.va(d)&&(g=!0)}),g&&ty(m)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function qP(t,e,n){const s=Fe(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new xt(Ne.comparator);c=c.insert(l,An.newNoDocument(l,Ue.min()));const d=et().add(l),m=new $f(Ue.min(),new Map,new xt(Ze),c,d);await Wb(s,m),s.du=s.du.remove(l),s.Au.delete(e),ry(s)}else await ig(s.localStore,e,!1).then(()=>og(s,e,n)).catch(ll)}async function GP(t,e){const n=Fe(t),s=e.batch.batchId;try{const o=await JM(n.localStore,e);Jb(n,s,null),Xb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ic(n,o)}catch(o){await ll(o)}}async function KP(t,e,n){const s=Fe(t);try{const o=await function(c,d){const m=Fe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(ut(T!==null,37113),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(s.localStore,e);Jb(s,e,n),Xb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ic(s,o)}catch(o){await ll(o)}}function Xb(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Jb(t,e,n){const s=Fe(t);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||Zb(t,s)})}function Zb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ry(t))}function D0(t,e,n){for(const s of n)s instanceof Yb?(t.Ru.addReference(s.key,e),YP(t,s)):s instanceof $b?(ye(ny,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||Zb(t,s.key)):Me(19791,{wu:s})}function YP(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(ny,"New document in limbo: "+n),t.Eu.add(s),ry(t))}function ry(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Ot.fromString(e)),s=t.fu.next();t.Au.set(s,new LP(n)),t.du=t.du.insert(n,s),Bb(t.remoteStore,new Ps(li(zg(n.path)),s,"TargetPurposeLimboResolution",zf.ce))}}async function ic(t,e,n){const s=Fe(t),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((d,m)=>{c.push(s.pu(m,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Yg.As(m.targetId,g);l.push(_)}}))}),await Promise.all(c),s.Pu.H_(o),await async function(m,g){const _=Fe(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(g,w=>ae.forEach(w.Es,I=>_.persistence.referenceDelegate.addReference(T,w.targetId,I)).next(()=>ae.forEach(w.ds,I=>_.persistence.referenceDelegate.removeReference(T,w.targetId,I)))))}catch(T){if(!ul(T))throw T;ye($g,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const I=_.Ms.get(w),j=I.snapshotVersion,W=I.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(w,W)}}}(s.localStore,l))}async function $P(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){ye(ny,"User change. New user:",e.toKey());const s=await kb(n.localStore,e);n.currentUser=e,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new Ce(le.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ic(n,s.Ls)}}function QP(t,e){const n=Fe(t),s=n.Au.get(e);if(s&&s.hu)return et().add(s.key);{let o=et();const l=n.Iu.get(e);if(!l)return o;for(const c of l){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function eA(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.Pu.H_=OP.bind(null,e.eventManager),e.Pu.yu=xP.bind(null,e.eventManager),e}function WP(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KP.bind(null,e),e}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return XM(this.persistence,new $M,e.initialUser,this.serializer)}Cu(e){return new Lb(Kg.mi,this.serializer)}Du(e){return new iP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class XP extends vf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Lb(s=>yf.mi(s,n),this.serializer)}}class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$P.bind(null,this.syncEngine),await RP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IP}()}createDatastore(e){const n=Qf(e.databaseInfo.databaseId),s=function(l){return new uP(l)}(e.databaseInfo);return function(l,c,d,m){return new dP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,l,c,d){return new pP(s,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>I0(this.syncEngine,n,0),function(){return w0.v()?new w0:new sP}())}createSyncEngine(e,n){return function(o,l,c,d,m,g,_){const T=new kP(o,l,c,d,m,g);return _&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Fe(n);ye(qa,"RemoteStore shutting down."),s.Ea.add(5),await rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class ZP{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=bn.UNAUTHENTICATED,this.clientId=Mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ye($s,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ye($s,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ey(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bp(t,e){t.asyncQueue.verifyOperationInProgress(),ye($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await kb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function N0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eV(t);ye($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>b0(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>b0(e.remoteStore,o)),t._onlineComponents=e}async function eV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye($s,"Using user provided OfflineComponentProvider");try{await bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await bp(t,new vf)}}else ye($s,"Using default OfflineComponentProvider"),await bp(t,new XP(void 0));return t._offlineComponents}async function tA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye($s,"Using user provided OnlineComponentProvider"),await N0(t,t._uninitializedComponentsProvider._online)):(ye($s,"Using default OnlineComponentProvider"),await N0(t,new lg))),t._onlineComponents}function tV(t){return tA(t).then(e=>e.syncEngine)}async function nV(t){const e=await tA(t),n=e.eventManager;return n.onListen=UP.bind(null,e.syncEngine),n.onUnlisten=BP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FP.bind(null,e.syncEngine),n}function rV(t,e,n={}){const s=new Us;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new JP({next:w=>{_.Nu(),c.enqueueAndForget(()=>NP(l,T));const I=w.docs.has(d);!I&&w.fromCache?g.reject(new Ce(le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&m&&m.source==="server"?g.reject(new Ce(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new MP(zg(d.path),_,{includeMetadataChanges:!0,qa:!0});return DP(l,T)}(await nV(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firestore.googleapis.com",x0=!0;class M0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rA,this.ssl=x0}else this.host=e.host,this.ssl=e.ssl??x0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OM)throw new Ce(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ce(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iy{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new rx;switch(s.type){case"firstParty":return new ox(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ce(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=O0.get(n);s&&(ye("ComponentProvider","Removing Datastore"),O0.delete(n),s.terminate())}(this),Promise.resolve()}}function iV(t,e,n,s={}){t=Ha(t,iy);const o=sl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;o&&(lS(`https://${d}`),uS("Firestore",!0)),l.host!==rA&&l.host!==d&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:o,emulatorOptions:s};if(!Fs(m,c)&&(t._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=bn.MOCK_USER;else{g=lN(s.mockUserToken,t._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new Ce(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bn(T)}t._authCredentials=new ix(new $S(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sy(this.firestore,e,this._query)}}class en{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ec(n,en._jsonSchema))return new en(e,s||null,new Ne(Ot.fromString(n.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Kt("string",en._jsonSchemaVersion),referencePath:Kt("string")};class Yu extends sy{constructor(e,n,s){super(e,n,zg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Ne(e))}withConverter(e){return new Yu(this.firestore,e,this._path)}}function ay(t,e,...n){if(t=Vn(t),arguments.length===1&&(e=Mg.newId()),dx("doc","path",e),t instanceof iy){const s=Ot.fromString(e,...n);return YT(s),new en(t,null,new Ne(s))}{if(!(t instanceof en||t instanceof Yu))throw new Ce(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Ot.fromString(e,...n));return YT(s),new en(t.firestore,t instanceof Yu?t.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jb(this,"async_queue_retry"),this._c=()=>{const s=Sp();s&&ye(P0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;ye(P0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",L0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Zg.createAndSchedule(this,e,n,s,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Me(47125,{Pc:L0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function L0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Jf extends iy{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new V0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function sV(t,e){const n=typeof t=="object"?t:Rg(),s=typeof t=="string"?t:cf,o=Qa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=aN("firestore");l&&iV(o,...l)}return o}function iA(t){if(t._terminated)throw new Ce(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aV(t),t._firestoreClient}function aV(t){const e=t._freezeSettings(),n=function(o,l,c,d){return new Ax(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ZP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(_n.fromBase64String(e))}catch(n){throw new Ce(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ec(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:Kt("string",Rr._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ce(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ce(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ce(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(ec(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Kt("string",hi._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ec(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new fi(e.vectorValues);throw new Ce(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Kt("string",fi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=/^__.*__$/;class lV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new tc(e,this.data,n,this.fieldTransforms)}}class sA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class ly{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ly({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aA(this.Ac)&&oV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qf(e)}Cc(e,n,s,o=!1){return new ly({Ac:e,methodName:n,Dc:s,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oA(t){const e=t._freezeSettings(),n=Qf(t._databaseId);return new uV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cV(t,e,n,s,o,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);uy("Data must be an object, but it was:",c,s);const d=lA(s,c);let m,g;if(l.merge)m=new ur(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=ug(e,T,n);if(!c.contains(w))throw new Ce(le.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cA(_,w)||_.push(w)}m=new ur(_),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new lV(new Hn(d),m,g)}class ed extends oy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}function hV(t,e,n,s){const o=t.Cc(1,e,n);uy("Data must be an object, but it was:",o,s);const l=[],c=Hn.empty();Ws(s,(m,g)=>{const _=cy(e,m,n);g=Vn(g);const T=o.yc(_);if(g instanceof ed)l.push(_);else{const w=td(g,T);w!=null&&(l.push(_),c.set(_,w))}});const d=new ur(l);return new sA(c,d,o.fieldTransforms)}function fV(t,e,n,s,o,l){const c=t.Cc(1,e,n),d=[ug(e,s,n)],m=[o];if(l.length%2!=0)throw new Ce(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(ug(e,l[w])),m.push(l[w+1]);const g=[],_=Hn.empty();for(let w=d.length-1;w>=0;--w)if(!cA(g,d[w])){const I=d[w];let j=m[w];j=Vn(j);const W=c.yc(I);if(j instanceof ed)g.push(I);else{const U=td(j,W);U!=null&&(g.push(I),_.set(I,U))}}const T=new ur(g);return new sA(_,T,c.fieldTransforms)}function td(t,e){if(uA(t=Vn(t)))return uy("Unsupported field value:",e,t),lA(t,e);if(t instanceof oy)return function(s,o){if(!aA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const d of s){let m=td(d,o.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(s,o){if((s=Vn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Qx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=bt.fromDate(s);return{timestampValue:gf(o.serializer,l)}}if(s instanceof bt){const l=new bt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gf(o.serializer,l)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Rr)return{bytesValue:Ib(o.serializer,s._byteString)};if(s instanceof en){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(c,d){return{mapValue:{fields:{[rb]:{stringValue:ib},[hf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Bg(d.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Pg(s)}`)}(t,e)}function lA(t,e){const n={};return XS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(s,o)=>{const l=td(o,e.mc(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function uA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof hi||t instanceof Rr||t instanceof en||t instanceof oy||t instanceof fi)}function uy(t,e,n){if(!uA(n)||!QS(n)){const s=Pg(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function ug(t,e,n){if((e=Vn(e))instanceof Zf)return e._internalPath;if(typeof e=="string")return cy(t,e);throw Ef("Field path arguments must be of type string or ",t,!1,void 0,n)}const dV=new RegExp("[~\\*/\\[\\]]");function cy(t,e,n){if(e.search(dV)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zf(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ef(t,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${o}`),m+=")"),new Ce(le.INVALID_ARGUMENT,d+t+m)}function cA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mV extends hA{data(){return super.data()}}function fA(t,e){return typeof e=="string"?cy(t,e):e instanceof Zf?e._internalPath:e._delegate._internalPath}class pV{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,(o,l)=>{s[o]=this.convertValue(l,n)}),s}convertVectorValue(e){const n=e.fields?.[hf].arrayValue?.values?.map(s=>Bt(s.doubleValue));return new fi(n)}convertGeoPoint(e){return new hi(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ff(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const n=qs(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ot.fromString(e);ut(Pb(s),9688,{name:e});const o=new Hu(s.get(1),s.get(3)),l=new Ne(s.popFirst(5));return o.isEqual(n)||Yi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ka extends hA{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(fA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ka._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Kt("string",ka._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class qh extends ka{data(e={}){return super.data(e)}}class xu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new qh(this._firestore,this._userDataWriter,s.key,s,new Au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ce(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new qh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new qh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Au(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:yV(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){t=Ha(t,en);const e=Ha(t.firestore,Jf);return rV(iA(e),t._key).then(n=>wV(e,t,n))}xu._jsonSchemaVersion="firestore/querySnapshot/1.0",xu._jsonSchema={type:Kt("string",xu._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class vV extends pV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function EV(t,e,n){t=Ha(t,en);const s=Ha(t.firestore,Jf),o=gV(t.converter,e);return dA(s,[cV(oA(s),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ui.none())])}function TV(t,e,n,...s){t=Ha(t,en);const o=Ha(t.firestore,Jf),l=oA(o);let c;return c=typeof(e=Vn(e))=="string"||e instanceof Zf?fV(l,"updateDoc",t._key,e,n,s):hV(l,"updateDoc",t._key,e),dA(o,[c.toMutation(t._key,ui.exists(!0))])}function dA(t,e){return function(s,o){const l=new Us;return s.asyncQueue.enqueueAndForget(async()=>HP(await tV(s),o,l)),l.promise}(iA(t),e)}function wV(t,e,n){const s=n.docs.get(e._key),o=new vV(t);return new ka(t,o,e._key,s,new Au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ol=o})(al),pi(new $r("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Jf(new sx(s.getProvider("auth-internal")),new lx(c,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ce(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(g.options.projectId,_)}(c,o),c);return l={useFetchStreams:n,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Cr(HT,qT,e),Cr(HT,qT,"esm2020")})();function mA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SV=mA,pA=new $a("auth","Firebase",mA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=new kf("@firebase/auth");function bV(t,...e){Tf.logLevel<=Je.WARN&&Tf.warn(`Auth (${al}): ${t}`,...e)}function Gh(t,...e){Tf.logLevel<=Je.ERROR&&Tf.error(`Auth (${al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,...e){throw hy(t,...e)}function di(t,...e){return hy(t,...e)}function gA(t,e,n){const s={...SV(),[e]:n};return new $a("auth","Firebase",s).create(e,{appName:t.name})}function js(t){return gA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return pA.create(t,...e)}function Ve(t,e,...n){if(!t)throw hy(e,...n)}function Bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function Wi(t,e){t||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){return typeof self<"u"&&self.location?.href||""}function AV(){return k0()==="http:"||k0()==="https:"}function k0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AV()||cS()||"connection"in navigator)?navigator.onLine:!0}function CV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=hN()||mN()}get(){return RV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){Wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NV=new sc(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ja(t,e,n,s,o={}){return _A(t,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Zu({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return dN()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&sl(t.emulatorConfig.host)&&(g.credentials="include"),yA.fetch()(await EA(t,t.config.apiHost,n,d),g)})}async function _A(t,e,n){t._canInitEmulator=!1;const s={...IV,...e};try{const o=new xV(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Mh(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Mh(t,"user-disabled",c);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gA(t,_,g);Qi(t,_)}}catch(o){if(o instanceof Wr)throw o;Qi(t,"network-request-failed",{message:String(o)})}}async function vA(t,e,n,s,o={}){const l=await Ja(t,e,n,s,o);return"mfaPendingCredential"in l&&Qi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function EA(t,e,n,s){const o=`${e}${n}?${s}`,l=t,c=l.config.emulator?fy(t.config,o):`${t.config.apiScheme}://${o}`;return DV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function OV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),NV.get())})}}function Mh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(t,e,s);return o.customData._tokenResponse=n,o}function U0(t){return t!==void 0&&t.enterprise!==void 0}class MV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PV(t,e){return Ja(t,"GET","/v2/recaptchaConfig",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e){return Ja(t,"POST","/v1/accounts:delete",e)}async function wf(t,e){return Ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LV(t,e=!1){const n=Vn(t),s=await n.getIdToken(e),o=dy(s);Ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:Mu(Ap(o.auth_time)),issuedAtTime:Mu(Ap(o.iat)),expirationTime:Mu(Ap(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ap(t){return Number(t)*1e3}function dy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=iS(n);return o?JSON.parse(o):(Gh("Failed to decode base64 JWT payload"),null)}catch(o){return Gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function j0(t){const e=dy(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Wr&&kV(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function kV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t){const e=t.auth,n=await t.getIdToken(),s=await $u(t,wf(e,{idToken:n}));Ve(s?.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=o.providerUserInfo?.length?TA(o.providerUserInfo):[],c=zV(t.providerData,l),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!c?.length,g=d?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function jV(t){const e=Vn(t);await Sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zV(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function TA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){const n=await _A(t,{},async()=>{const s=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,c=await EA(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&sl(t.emulatorConfig.host)&&(m.credentials="include"),yA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FV(t,e){return Ja(t,"POST","/v2/accounts:revokeToken",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=j0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:l}=await BV(e,n);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:l}=n,c=new Yo;return s&&(Ve(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ve(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new UV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $u(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LV(this,e)}reload(){return jV(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kr(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await $u(this,VV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:I,providerData:j,stsTokenManager:W}=n;Ve(T&&W,e,"internal-error");const U=Yo.fromJSON(this.name,W);Ve(typeof T=="string",e,"internal-error"),Rs(s,e.name),Rs(o,e.name),Ve(typeof w=="boolean",e,"internal-error"),Ve(typeof I=="boolean",e,"internal-error"),Rs(l,e.name),Rs(c,e.name),Rs(d,e.name),Rs(m,e.name),Rs(g,e.name),Rs(_,e.name);const Y=new Yr({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:U,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(Y.providerData=j.map(ue=>({...ue}))),m&&(Y._redirectEventId=m),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Yo;o.updateFromServerResponse(n);const l=new Yr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?TA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Yo;d.updateFromIdToken(s);const m=new Yr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new hg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;function Fi(t){Wi(t instanceof Function,"Expected a class definition");let e=z0.get(t);return e?(Wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,z0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wA.type="NONE";const B0=wA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Kh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Kh("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wf(this.auth,{idToken:e}).catch(()=>{});return n?Yr._fromGetAccountInfoResponse(this.auth,n,e):null}return Yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new $o(Fi(B0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Fi(B0);const c=Kh(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const w=await wf(e,{idToken:_}).catch(()=>{});if(!w)break;T=await Yr._fromGetAccountInfoResponse(e,w,_)}else T=Yr._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new $o(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new $o(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IA(e))return"Blackberry";if(DA(e))return"Webos";if(bA(e))return"Safari";if((e.includes("chrome/")||AA(e))&&!e.includes("edge/"))return"Chrome";if(CA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function SA(t=Rn()){return/firefox\//i.test(t)}function bA(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AA(t=Rn()){return/crios\//i.test(t)}function RA(t=Rn()){return/iemobile/i.test(t)}function CA(t=Rn()){return/android/i.test(t)}function IA(t=Rn()){return/blackberry/i.test(t)}function DA(t=Rn()){return/webos/i.test(t)}function my(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HV(t=Rn()){return my(t)&&!!window.navigator?.standalone}function qV(){return pN()&&document.documentMode===10}function NA(t=Rn()){return my(t)||CA(t)||DA(t)||IA(t)||/windows phone/i.test(t)||RA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e=[]){let n;switch(t){case"Browser":n=F0(Rn());break;case"Worker":n=`${F0(Rn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e={}){return Ja(t,"GET","/v2/passwordPolicy",ac(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=6;class $V{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new GV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wf(this,{idToken:e}),s=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kr(this.app))return Promise.reject(js(this));const n=e?Vn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kr(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kr(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KV(this),n=new $V(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $a("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Kr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hl(t){return Vn(t)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=wN(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WV(t){nd=t}function xA(t){return nd.loadJS(t)}function XV(){return nd.recaptchaEnterpriseScript}function JV(){return nd.gapiScript}function ZV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class e4{constructor(){this.enterprise=new t4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class t4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const n4="recaptcha-enterprise",MA="NO_RECAPTCHA";class r4{constructor(e){this.type=n4,this.auth=hl(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{PV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new MV(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,c,d){const m=window.grecaptcha;U0(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(MA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&U0(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=XV();m.length!==0&&(m+=d),xA(m).then(()=>{o(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function q0(t,e,n,s=!1,o=!1){const l=new r4(t);let c;if(o)c=MA;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function i4(t,e,n,s,o){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await q0(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await q0(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e){const n=Qa(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Fs(l,e??{}))return o;Qi(o,"already-initialized")}return n.initialize({options:e})}function a4(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function o4(t,e,n){const s=hl(t);Ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=PA(e),{host:c,port:d}=l4(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ve(Fs(g,s.config.emulator)&&Fs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,sl(c)?(lS(`${l}//${c}${m}`),uS("Auth",!0)):u4()}function PA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l4(t){const e=PA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:G0(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:G0(c)}}}function G0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return vA(t,"POST","/v1/accounts:signInWithIdp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="http://localhost";class Ga extends VA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=n;if(!s||!o)return null;const c=new Ga(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:c4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends LA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends oc{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Os.credential(n,s)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends oc{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends oc{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ms.credential(n,s)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(t,e){return vA(t,"POST","/v1/accounts:signUp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const l=await Yr._fromIdTokenResponse(e,s,o),c=K0(s);return new Ka({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=K0(s);return new Ka({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function K0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends Wr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bf(e,n,s,o)}}function kA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bf._fromErrorAndOperation(t,l,e,s):l})}async function f4(t,e,n=!1){const s=await $u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e,n=!1){const{auth:s}=t;if(Kr(s.app))return Promise.reject(js(s));const o="reauthenticate";try{const l=await $u(t,kA(s,o,e,t),n);Ve(l.idToken,s,"internal-error");const c=dy(l.idToken);Ve(c,s,"internal-error");const{sub:d}=c;return Ve(t.uid===d,s,"user-mismatch"),Ka._forOperation(t,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Qi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e,n=!1){if(Kr(t.app))return Promise.reject(js(t));const s="signIn",o=await kA(t,s,e),l=await Ka._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t){const e=hl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g4(t,e,n){if(Kr(t.app))return Promise.reject(js(t));const s=hl(t),c=await i4(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&p4(t),m}),d=await Ka._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function y4(t,e,n,s){return Vn(t).onIdTokenChanged(e,n,s)}function _4(t,e,n){return Vn(t).beforeAuthStateChanged(e,n)}const Af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=1e3,E4=10;class jA extends UA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);qV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E4):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jA.type="LOCAL";const T4=jA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends UA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zA.type="SESSION";const BA=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await w4(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=py("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function b4(t){mi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function A4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R4(){return navigator?.serviceWorker?.controller||null}function C4(){return FA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="firebaseLocalStorageDb",I4=1,Rf="firebaseLocalStorage",qA="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(t,e){return t.transaction([Rf],e?"readwrite":"readonly").objectStore(Rf)}function D4(){const t=indexedDB.deleteDatabase(HA);return new lc(t).toPromise()}function fg(){const t=indexedDB.open(HA,I4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Rf,{keyPath:qA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Rf)?e(s):(s.close(),await D4(),e(await fg()))})})}async function Y0(t,e,n){const s=id(t,!0).put({[qA]:e,value:n});return new lc(s).toPromise()}async function N4(t,e){const n=id(t,!1).get(e),s=await new lc(n).toPromise();return s===void 0?null:s.value}function $0(t,e){const n=id(t,!0).delete(e);return new lc(n).toPromise()}const O4=800,x4=3;class GA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>x4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(C4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await A4(),!this.activeServiceWorker)return;this.sender=new S4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fg();return await Y0(e,Af,"1"),await $0(e,Af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Y0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>N4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=id(o,!1).getAll();return new lc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GA.type="LOCAL";const M4=GA;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){return e?Fi(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends VA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V4(t){return m4(t.auth,new gy(t),t.bypassAuthState)}function L4(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),d4(n,new gy(t),t.bypassAuthState)}async function k4(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),f4(n,new gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V4;case"linkViaPopup":case"linkViaRedirect":return k4;case"reauthViaPopup":case"reauthViaRedirect":return L4;default:Qi(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new sc(2e3,1e4);class qo extends KA{constructor(e,n,s,o,l){super(e,n,o,l),this.provider=s,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U4.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="pendingRedirect",Yh=new Map;class z4 extends KA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const s=await B4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B4(t,e){const n=q4(e),s=H4(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function F4(t,e){Yh.set(t._key(),e)}function H4(t){return Fi(t._redirectPersistence)}function q4(t){return Kh(j4,t.config.apiKey,t.name)}async function G4(t,e,n=!1){if(Kr(t.app))return Promise.reject(js(t));const s=hl(t),o=P4(s,e),c=await new z4(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=600*1e3;class Y4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!YA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e={}){return Ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X4=/^https?/;async function J4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q4(t);for(const n of e)try{if(Z4(n))return}catch{}Qi(t,"unauthorized-domain")}function Z4(t){const e=cg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!X4.test(n))return!1;if(W4.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new sc(3e4,6e4);function W0(){const t=mi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tL(t){return new Promise((e,n)=>{function s(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),n(di(t,"network-request-failed"))},timeout:eL.get()})}if(mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mi().gapi?.load)s();else{const o=ZV("iframefcb");return mi()[o]=()=>{gapi.load?s():n(di(t,"network-request-failed"))},xA(`${JV()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw $h=null,e})}let $h=null;function nL(t){return $h=$h||tL(t),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new sc(5e3,15e3),iL="__/auth/iframe",sL="emulator/auth/iframe",aL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lL(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fy(e,sL):`https://${t.config.authDomain}/${iL}`,s={apiKey:e.apiKey,appName:t.name,v:al},o=oL.get(t.config.apiHost);o&&(s.eid=o);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Zu(s).slice(1)}`}async function uL(t){const e=await nL(t),n=mi().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:lL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aL,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=di(t,"network-request-failed"),d=mi().setTimeout(()=>{l(c)},rL.get());function m(){mi().clearTimeout(d),o(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hL=500,fL=600,dL="_blank",mL="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pL(t,e,n,s=hL,o=fL){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...cL,width:s.toString(),height:o.toString(),top:l,left:c},g=Rn().toLowerCase();n&&(d=AA(g)?dL:n),SA(g)&&(e=e||mL,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[I,j])=>`${w}${I}=${j},`,"");if(HV(g)&&d!=="_self")return gL(e||"",d),new X0(null);const T=window.open(e||"",d,_);Ve(T,t,"popup-blocked");try{T.focus()}catch{}return new X0(T)}function gL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="__/auth/handler",_L="emulator/auth/handler",vL=encodeURIComponent("fac");async function J0(t,e,n,s,o,l){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:al,eventId:o};if(e instanceof LA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",TN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof oc){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await t._getAppCheckToken(),g=m?`#${vL}=${encodeURIComponent(m)}`:"";return`${EL(t)}?${Zu(d).slice(1)}${g}`}function EL({config:t}){return t.emulator?fy(t,_L):`https://${t.authDomain}/${yL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class TL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BA,this._completeRedirectFn=G4,this._overrideRedirectResult=F4}async _openPopup(e,n,s,o){Wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await J0(e,n,s,cg(),o);return pL(e,l,py())}async _openRedirect(e,n,s,o){await this._originValidation(e);const l=await J0(e,n,s,cg(),o);return b4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uL(e),s=new Y4(e);return n.register("authEvent",o=>(Ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},o=>{const l=o?.[0]?.[Rp];l!==void 0&&n(!!l),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NA()||bA()||my()}}const wL=TL;var Z0="@firebase/auth",ew="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AL(t){pi(new $r("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OA(t)},g=new QV(s,o,l,m);return a4(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pi(new $r("auth-internal",e=>{const n=hl(e.getProvider("auth").getImmediate());return(s=>new SL(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(Z0,ew,bL(t)),Cr(Z0,ew,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=300,CL=oS("authIdTokenMaxAge")||RL;let tw=null;const IL=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CL)return;const o=n?.token;tw!==o&&(tw=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DL(t=Rg()){const e=Qa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s4(t,{popupRedirectResolver:wL,persistence:[M4,T4,BA]}),s=oS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=IL(l.toString());_4(n,c,()=>c(n.currentUser)),y4(n,d=>c(d))}}const o=sS("auth");return o&&o4(n,`http://${o}`),n}function NL(){return document.getElementsByTagName("head")?.[0]??document}WV({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const l=di("internal-error");l.customData=o,n(l)},s.type="text/javascript",s.charset="UTF-8",NL().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AL("Browser");const OL={apiKey:"AIzaSyDHOq__gt6HEkEkCDfxquDCpSheirR5qEA",authDomain:"bingelog-e89f5.firebaseapp.com",projectId:"bingelog-e89f5",storageBucket:"bingelog-e89f5.firebasestorage.app",messagingSenderId:"1027526846013",appId:"1:1027526846013:web:ac40efa1ca0b6c4e50ec54",measurementId:"G-N05RJMX3YG"},yy=gS(OL);ZO(yy);const _y=sV(yy),$A=DL(yy),xL="_mainWrapper_9jvga_1",ML={mainWrapper:xL};function PL(){return C.jsxs("main",{className:ML.mainWrapper,children:[C.jsx("h1",{children:"What's BingeLog?"}),C.jsx("p",{children:"Netflix. Max. Hulu. Disney+. Crunchyroll. The age of streaming is a mishmash of different sources of entertainment with monthly new releases. Do you have the time to watch everything? Can you even keep track of it all? Welcome to BingeLog. Toss all your the shows and movies you still need to watch or catch up on into a list. Keep track of each and every episode and share with friends live updates so they don’t spoil what happens two episodes from now in that big final episode of the season. Be as detailed as you want. Track entire characters and their arcs. Settings. Plot points. Make notes for each episode."}),C.jsx(zi,{to:"/about",children:C.jsx("h2",{children:"Click here to learn more"})}),C.jsx("br",{})]})}function un({children:t,...e}){return C.jsx(C.Fragment,{children:C.jsx("button",{...e,children:t})})}const VL="_curWatchingWrapper_qlfa3_1",LL="_watchingList_qlfa3_19",nw={curWatchingWrapper:VL,watchingList:LL};function kL(){const t=it(e=>e.shows.currentlyBinging);return console.log(t),C.jsx(C.Fragment,{children:C.jsxs("main",{className:nw.curWatchingWrapper,children:[C.jsx("h2",{children:"Currently Binging:"}),C.jsx("div",{className:nw.watchingList,children:t.map(e=>C.jsx("p",{children:e.show},e.id))})]})})}const UL=F.createContext({userAccount:{id:void 0,email:void 0,userName:void 0,password:void 0,myShows:[],friendList:[]},bingeFeed:[{userName:void 0,currBinge:[],recentlyWatchedEp:{epName:void 0,showName:void 0},recentlyFinishedShow:void 0}],addFriend:()=>{},isCreatingAccount:!1,createNewUser:async()=>{},startCreatingAccount:()=>{},stopCreatingAccount:()=>{},isLoggingIn:!1,isLoggedIn:!1,startLoggingIn:()=>{},stopLoggingIn:()=>{},verifyLogin:()=>{},logOut:()=>{}});F.createContext({bio:[],editingBio:[!1],updateBio:()=>{},editBio:()=>{},saveBio:()=>{},bioAvatar:[],uploadAvatar:()=>{},myShows:[],saveShow:()=>{},displayShows:()=>{},currentlyBinging:[],binging:()=>{},bingingChecked:[],areNotesOpen:[],openNotes:()=>{},isEditingEpNotes:[],editEpNotes:()=>{},updateEpNotes:()=>{},saveNotes:()=>{},epNotes:[],isEditingCharNotes:[],editCharNotes:()=>{},updateCharNotes:()=>{},saveCharNotes:()=>{},characterNotes:[]});function jL(){const t=fr();function e(o){t(Lu.updateBio(o))}function n(){t(Lu.saveBio())}const s=it(o=>o.profile.bio);return C.jsxs(C.Fragment,{children:[C.jsx("label",{children:"Upload Avatar"}),C.jsx("input",{type:"file",accept:"image/*"}),C.jsxs("div",{children:[C.jsx("textarea",{value:s,onChange:o=>e(o.target.value)}),C.jsx(un,{onClick:n,children:"Save Bio"})]})]})}const zL="_mainWrapper_cfe5a_1",BL="_header_cfe5a_15",FL="_editBttn_cfe5a_27",HL="_totalBinge_cfe5a_37",qL="_bioBox_cfe5a_57",Uo={mainWrapper:zL,header:BL,editBttn:FL,totalBinge:HL,bioBox:qL};function GL({id:t}){const e=fr();function n(){e(Lu.editBio())}const s=it(m=>m.profile.bio),o=it(m=>m.auth.user.userName);it(m=>m.auth.user.id);const l=it(m=>m.profile.isEditingBio),c=it(m=>m.shows.currentlyBinging),d=it(m=>m.shows.finishedShows);return C.jsx(C.Fragment,{children:C.jsxs("main",{className:Uo.mainWrapper,children:[C.jsxs("div",{className:Uo.header,children:[C.jsx(un,{className:Uo.editBttn,onClick:n,children:"Edit Bio"}),C.jsx(un,{className:Uo.editBttn,children:" Add Friend"}),C.jsx("h3",{children:o}),C.jsx("h3",{children:"Binging since: 2025"}),C.jsx(zi,{to:"/friendsList",children:C.jsx("h2",{children:"Friends List"})}),l?C.jsx(jL,{}):C.jsx("div",{className:Uo.bioBox,children:s}),C.jsxs("div",{className:Uo.totalBinge,children:[C.jsxs("h4",{children:["Shows Finished: ",d.length," "]}),C.jsxs("h4",{children:["Currently Binging: ",c.length," shows"]})]})]}),C.jsx("a",{href:"http://localhost:5173/userPage/${userId}",to:"_blank",children:C.jsx("h4",{children:"Share Profile Link"})})]})})}const KL="_mainWrapper_9mvwk_1",YL="_menuBttns_9mvwk_19",$L="_mainContent_9mvwk_41",Cp={mainWrapper:KL,menuBttns:YL,mainContent:$L};function Wo({label:t,id:e,attribute:n,...s}){return C.jsxs(C.Fragment,{children:[C.jsx("label",{htmlFor:n,children:t}),C.jsx("input",{id:e,...s})]})}const QL="_showNotesWrapper_4jif2_1",WL="_saveNotesBttn_4jif2_45",XL="_noteBttnsDiv_4jif2_61",JL="_editBttn_4jif2_75",ZL="_viewNotesBttn_4jif2_89",ek="_closeNotesBttn_4jif2_105",tk="_showNotes_4jif2_1",Oa={showNotesWrapper:QL,saveNotesBttn:WL,noteBttnsDiv:XL,editBttn:JL,viewNotesBttn:ZL,closeNotesBttn:ek,showNotes:tk};function nk({epTitle:t,showTitle:e}){const n=fr(),s=it(P=>P.notes.epNotes),o=it(P=>P.notes.charNotes),l=it(P=>P.auth.user.id),c=it(P=>P.shows.watchedEps),[d,m]=F.useState({}),[g,_]=F.useState({}),[T,w]=F.useState(),[I,j]=F.useState();function W(P){w(P)}function U(P,N){m(A=>({...A,[N]:P}))}function Y(P,N){_(A=>({...A,[N]:P}))}async function ue(P,N){const A=c.some(V=>V.epName===P&&V.showName===N);let R;A?R=c.filter(V=>!(V.epName===P&&V.showName===N)):(R=[...c,{epName:P,showName:N}],alert(`Watched ${P}!`));try{const V=await fetch(`http://localhost:3000/users/${l}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({watchedEps:R})});if(!V.ok)throw new Error(`Failed to save show: ${V.status}`);await V.json(),n(ai.updateWatchedEps(R))}catch(V){console.error(V)}}async function ee(P){const N={...s,[P]:d[P]??s[P]},A={...o,[P]:g[P]??o[P]};try{const R=await fetch(`http://localhost:3000/users/${l}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({epNotes:N,charNotes:A})});if(!R.ok)throw new Error(`Failed to save show: ${R.status}`);await R.json(),n(ef.updateEpNotes(N)),n(ef.updateCharNotes(A))}catch(R){console.error(R)}w()}function he(P){j(P)}function oe(){j()}return F.useEffect(()=>{const P=JSON.parse(localStorage.getItem("EpNotes: "+t));P&&U(P,t)},[t]),C.jsxs("main",{className:Oa.showNotesWrapper,children:[C.jsxs("div",{className:Oa.noteBttnsDiv,children:[T===t?C.jsx(un,{className:Oa.saveNotesBttn,onClick:()=>ee(t),children:"Save Notes"}):C.jsx(un,{className:Oa.editBttn,onClick:()=>W(t),children:"Edit Notes"}),T!==t&&I===t?C.jsx(un,{className:Oa.closeNotesBttn,onClick:()=>oe(),children:"Close Notes"}):C.jsx(un,{className:Oa.viewNotesBttn,onClick:()=>he(t),children:"View Notes"}),C.jsx(Wo,{label:"Watched",type:"checkbox",value:t,checked:c.some(P=>P.epName===t&&P.showName===e),onChange:()=>ue(t,e)})]}),T===t&&C.jsxs("div",{children:[C.jsx("p",{children:"Episode Notes"}),C.jsx("textarea",{value:d[t]??s[t],onChange:P=>U(P.target.value,t)}),C.jsx("p",{children:"Character Notes"}),C.jsx("textarea",{value:g[t]??o[t],onChange:P=>Y(P.target.value,t)})]}),I===t&&C.jsxs("div",{className:Oa.showNotes,children:[C.jsx("p",{children:"Episode Notes "}),s[t],C.jsx("hr",{}),C.jsx("p",{children:"CharacterNotes"}),o[t]]})]})}const rk="_epWrapper_9zql4_1",ik="_epList_9zql4_63",sk="_singleEp_9zql4_87",Ph={epWrapper:rk,epList:ik,singleEp:sk};function ak({seasonTitle:t,show:e}){const n=e.seasons.find(s=>s.title===t);return C.jsxs("main",{className:Ph.epWrapper,children:[C.jsx("div",{children:C.jsx("p",{className:Ph.epList,children:"Episodes List"})}),n&&C.jsx("div",{children:n.episodes?.map(s=>C.jsxs("div",{className:Ph.singleEp,id:s.title,children:[C.jsxs("header",{children:[C.jsx("h3",{children:s.title}),C.jsx("div",{className:Ph.noteBttnsDiv,children:C.jsx(nk,{show:e,epTitle:s.title,showTitle:e.title})})]}),C.jsx("br",{})]},s.title))},n.title)]})}const ok="_seasonsWrapper_u2jy9_1",lk="_seasonsTitle_u2jy9_15",rw={seasonsWrapper:ok,seasonsTitle:lk};function uk({show:t}){const[e,n]=F.useState("");function s(o){n(o),e===o&&n("")}return C.jsxs("main",{className:rw.seasonsWrapper,children:[C.jsx("p",{className:rw.seasonsTitle,children:"Seasons List"}),t&&C.jsxs("div",{children:[t.seasons?.map(o=>C.jsx("p",{onClick:()=>s(o.title),children:o.title},o.title)),e&&C.jsx(ak,{seasonTitle:e,show:t})]},t.imdbId)]})}const ck="_showWrapper_glu6g_1",hk="_showTitle_glu6g_19",fk="_showStatus_glu6g_47",Ip={showWrapper:ck,showTitle:hk,showStatus:fk},dk={};function vy({children:t,open:e,handleClose:n}){const s=F.useRef();return F.useEffect(()=>{const o=s.current;return e&&o.showModal(),()=>{o.open&&o.close()}},[e]),tS.createPortal(C.jsxs("dialog",{onClose:n,ref:s,className:dk.dialog,children:[" ",t," "]}),document.getElementById("modal"))}function mk({show:t}){const e=it(s=>s.shows.isReviewing),n=it(s=>s.shows.isReviewing);return C.jsx(C.Fragment,{children:C.jsx(vy,{open:e,onClose:n,children:C.jsx("textarea",{defaultValue:t.title})})})}function iw({id:t}){const e=fr(),[n,s]=F.useState(""),o=it(w=>w.shows.myShows),l=it(w=>w.shows.currentlyBinging),c=it(w=>w.shows.finishedShows),d=it(w=>w.auth.user.id);function m(w){s(w),n===w&&s("")}async function g(w,I){const j=c.some(U=>U.id===I);let W;j?W=c.filter(U=>U.id!==I):(W=[...c,{show:w,id:I}],alert(`Finished ${w}!`));try{const U=await fetch(`http://localhost:3000/users/${d}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({finishedShows:W})});if(!U.ok)throw new Error(`Failed to save show: ${U.status}`);await U.json(),e(ai.updateFinishedShows(W))}catch(U){console.log(U)}}async function _(w,I){const j=l.some(U=>U.id===I);let W;j?W=l.filter(U=>U.id!==I):W=[...l,{show:w,id:I}];try{const U=await fetch(`http://localhost:3000/users/${d}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentlyBinging:W})});if(!U.ok)throw new Error(`Failed to save show: ${U.status}`);await U.json(),e(ai.updateBinging(W))}catch(U){console.error(U)}}function T(){e(ai.startReviewing())}return C.jsxs("main",{...t,className:Ip.showWrapper,children:[C.jsx("h2",{children:"Show Sorting Options "}),o.map(w=>C.jsxs("div",{className:Ip.showTitle,children:[C.jsx("p",{onClick:()=>m(w.imdbId),children:w.title}),C.jsxs("div",{className:Ip.showStatus,children:[C.jsx(un,{onClick:()=>T(),children:"Post Review"}),C.jsx(mk,{show:w}),C.jsxs("label",{children:[" Finished",C.jsx("input",{type:"checkbox",value:w.imdbId,checked:c.some(I=>I.id===w.imdbId),onChange:()=>g(w.title,w.imdbId)})]})," ||",C.jsxs("label",{children:[" Currently Binging",C.jsx("input",{type:"checkbox",value:w.imdbId,checked:l.some(I=>I.id===w.imdbId),onChange:()=>_(w.title,w.imdbId)})]})]}),n===w.imdbId&&C.jsx(uk,{show:w})]},w.imdbId))]})}function pk(){return C.jsx(C.Fragment,{children:C.jsxs("main",{children:[C.jsx("h1",{children:"Reviews"}),C.jsx("p",{children:"Walking Dead is great!"})]})})}function gk(){const[t,e]=F.useState(C.jsx(iw,{})),s=Yw().id;if(!it(m=>m.auth.isLoggedIn))return C.jsx(pD,{to:"/",replace:!0});function l(){e(C.jsx(iw,{userId:s}))}function c(){e(C.jsx(pk,{userId:s}))}function d(){e(C.jsx(kL,{userId:s}))}return C.jsx(C.Fragment,{children:C.jsxs("main",{className:Cp.mainWrapper,id:s,children:[C.jsx(GL,{id:s}),C.jsxs("div",{className:Cp.menuBttns,children:[C.jsx(un,{onClick:l,children:"My Shows"})," |",C.jsx(un,{onClick:c,children:"My Reviews"})," |",C.jsx(un,{onClick:d,children:"Currently Watching"})]}),C.jsx("div",{className:Cp.mainContent,children:t})]})})}const yk="_showWrapper_ok71v_1",_k="_showInfo_ok71v_35",vk="_showDetails_ok71v_57",Ek="_genres_ok71v_77",Tk="_seasonInfo_ok71v_89",vu={showWrapper:yk,showInfo:_k,showDetails:vk,genres:Ek,seasonInfo:Tk};function wk({showDetails:t}){console.log(t);const e=fr(),n=it(m=>m.auth.user.id),s=it(m=>m.shows.myShows),o=it(m=>m.auth.user.uid);c(t);async function l(m){const g={imdbId:m.imdbId,title:m.title,seasons:m.seasons?.map(w=>({title:w.title,episodes:w.episodes?.map(I=>({title:I.title}))}))},_=[...s,g];if(!o){console.error("No user logged in!");return}const T=ay(_y,"Users",o);await TV(T,{myShows:_}),e(ai.updateMyShows(_))}async function c(m){const g={imdbId:m.imdbId,title:m.title,seasons:m.seasons?.map(T=>({title:T.title,episodes:T.episodes?.map(w=>({title:w.title}))}))},_=[...s,g];try{const T=await fetch(`http://localhost:3000/users/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({myShows:_})});if(!T.ok)throw new Error(`Failed to save show: ${T.status}`);await T.json(),e(ai.updateMyShows(_))}catch(T){console.error(T)}}function d(m){l(m)}return console.log(t),C.jsx("main",{className:vu.showWrapper,children:t&&C.jsxs("div",{className:vu.showInfo,children:[C.jsxs("header",{children:[C.jsx("h2",{children:t.title}),C.jsx(un,{onClick:()=>d(t),children:"Save Show"})]}),C.jsxs("div",{className:vu.showDetails,children:[C.jsxs("div",{className:vu.genres,children:[C.jsx("p",{children:t.genres[0].name}),"|",C.jsx("p",{children:t?.genres[1]?.name}),"|",C.jsx("p",{children:t?.genres[2]?.name})]}),C.jsxs("div",{className:vu.seasonInfo,children:[C.jsxs("p",{children:[t?.seasonCount," Seasons"]})," -",C.jsxs("p",{children:[t.episodeCount," Episodes"]})]})]}),C.jsx("p",{children:t.overview}),C.jsx("img",{src:t.imageSet.verticalPoster.w240})]},t.imdbId)})}const Sk="_mainDropdownWrapper_15h6a_1",bk={mainDropdownWrapper:Sk};function Ak({searchResults:t,query:e}){const[n,s]=F.useState(null);function o(l){s(l)}return console.log(t),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:bk.mainDropdownWrapper,children:C.jsx("div",{children:t.filter(l=>l.title.toLowerCase().includes(e.toLowerCase())).map(l=>C.jsx("p",{onClick:()=>o(l),children:l.title},l.imdbId))})}),C.jsx("div",{children:n&&C.jsx(wk,{showDetails:n})})]})}const Rk="_mainWrapper_vwg4t_1",Ck={mainWrapper:Rk};function Ik(){const[t,e]=F.useState(""),[n,s]=F.useState(null);return F.useEffect(()=>{if(!t)return;const o=setTimeout(()=>{async function l(c){try{const d=`https://streaming-availability.p.rapidapi.com/shows/search/title?title=${c}&country=us&series_granularity=episode&output_language=en`,_=await(await fetch(d,{method:"GET",headers:{"x-rapidapi-key":"a89fb87d38msh09f056f5c014528p1a7f90jsn35606eacd94f","x-rapidapi-host":"streaming-availability.p.rapidapi.com"}})).json();s(_),console.log(_)}catch(d){console.error(d)}}l(t)},500);return()=>clearTimeout(o)},[t]),C.jsxs("div",{className:Ck.mainWrapper,children:[C.jsx("input",{type:"search",placeholder:"Seach a show",value:t,onChange:o=>e(o.target.value)}),n&&C.jsx(Ak,{searchResults:n,query:t})]})}const Dk="_mainWrapper_1yzt3_1",Nk={mainWrapper:Dk};function Ok(){return C.jsx(C.Fragment,{children:C.jsx("main",{className:Nk.mainWrapper,children:C.jsxs("header",{children:[C.jsx("h1",{children:"Shows List Page"}),C.jsx(Ik,{})]})})})}const xk="_mainWrapper_qoxgh_1",Mk="_header_qoxgh_23",Pk="_actionBar_qoxgh_43",Dp={mainWrapper:xk,header:Mk,actionBar:Pk};function Vk({friend:t,key:e}){return C.jsxs("main",{className:Dp.mainWrapper,children:[C.jsxs("article",{children:[C.jsx("header",{className:Dp.header,children:C.jsx("p",{children:t?.userName})}),C.jsxs("div",{children:[C.jsxs("p",{children:["Currently Binging: ","",t.currentlyBinging?.length>0?t.currentlyBinging.map(n=>n.show).join(", "):"Friend is not bining anything"]}),C.jsxs("p",{children:["Recently Watched: ","",t.watchedEps?.length>0?`${t.watchedEps[t.watchedEps.length-1].epName} -
                      ${t.watchedEps[t.watchedEps.length-1].showName}`:"Friend has not recently watched anything"]}),C.jsxs("p",{children:["Recently Finished: ","",t.finishedShows?.length>0?t.finishedShows[t.finishedShows.length-1].show:""]})]})]}),C.jsx("div",{className:Dp.actionBar,children:C.jsx("p",{children:"Action Bar"})})]},e)}const Lk="_mainWrapper_7r4cv_1",kk={mainWrapper:Lk};function Uk(){fr();const t=it(s=>s.friends.friendsList),[e,n]=F.useState([]);return F.useEffect(()=>{fetch("http://localhost:3000/users").then(s=>s.json()).then(s=>n(s))},[]),C.jsxs("main",{className:kk.mainWrapper,children:[C.jsx("h1",{children:"BingeLog Feed"}),t?.map(s=>{const o=e.find(l=>l.id===s);return o?C.jsx(Vk,{friend:o},o.id):null})]})}const jk="_mainWrapper_1q5s2_1",zk={mainWrapper:jk},Bk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATYAAAAxCAYAAABQzoWlAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAyqSURBVHhe7Z09axtLF8fzVQT+AoYUT3sFaQRuAreIIEUwT/EgXATj4iLSBPEUF+EiiBRGpDDoFgalCMhFwG4MSmFQCoNcGOQihQoXW7jYwsW5Z1YraXfmPzuzaynROufAD8xodnZ3Xv47c+bFz9hIEAThiQEDBUEQygwMFARBKDMwUBAEoczAQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUINvUODqj0dWYxpdn1N3bBnEEYc08b1D3fERjroej8y41noM4AgwUDCrUvgwpbSGNj6og7hNhq0q7/+9S77i3oPPXS6pugbir4nmN6q/rKWrScJdstWlkVMMxdV+AuCulQtU/0+VS/7NKFRh3I4CBgkGXxnE9Stl1F8QtOxVqHI8peIjfUbdwRB143Qr4ZOby+BOI97sC8kfZ+vNon86C+GZzC85oH8bdCGCght6oH9NTqVHvJk5mbqUQB4uwXT01YavQ/rlegzX73lnfl/oJCFv3On7wud2xAPj0ct+ekZHzetuwCdtRIs5a+C2EjY2/2u0CQ5LK4YhlUbNSCBsaigZ0dlABcUvMmwFN47ez2eiD7zs3aHAbUnif4HZADRg35ikKG1twvu/+GPgIGxqK+grno1iPsDW+TNL1435Cgz0cNycwUAP3VrwKK8lWi4b38cVJK81w7ulPHqDeWngzoNZenep7Lepf9KkJrsMUaAxPVNiiUc6nGoy/wEfYFL9k8mA9wmbWN+4svMVxcwIDNSzDMP62D96g+Jj9r2ajiaw0wvb0MRrlw4g6hXsDImxpc/TwfYXtl/BbCRvbbZ9q8BqNnT5N4ksM8y28aMasSZ3FDB33InZsvSYwi/O6RtswbpJtqqWuqdPLP2aVsfLHy1R4/bXfDGF03V+deGaxG/V+1jfTN3vvxnw286hFDc/nXFnlXcxstmlopDekdioPtTJxCNv2Tp2aH+JZ2g/NjPJ3oJ6Re6DdRF2al/NjsQsbm5rB3MHX+QlbwdnJrSq9XLyvqoPpOqHyNTtNR91wpJ9m2cba30xhG/6dfpaCbQUGamQIG9v4k2sioZpd2JnCxgV50KPRD8Mzt7T7KY0+t6ieysgKdb7Hvy8spOG7ZByTyvuh5gMMaXQ4q/D5vi4Vqh8OaHwXRwUW/hhRb1XD2ee71DnNmMlkC64tw+ePo4WPA9nS/6HwmBG1OLixcUN3XDv+pPLyjCbIjaHsbkyDvx3DvJjtPUddUmkd1h81OZJZ15XZfGJewpbv41N51aazWyPVhQVXvWgoazyzkablvjws7l1Z0n8IaXrJ6Rvvmq0nuhXsscNADceDOCYS4IRB0mzCtlWnzqW9UAwLuNG9Snx13+kixZY5o1c1Z2ynA9qNf/cWtq0G9W8y3zhhXPinTY+epJ3tdwOa+N4O3e8xQoRYsbCFgU8dcPmwatS+cE2LLC3gepL+UPrjFDa2kOu8MdJZqbBVqHEyyW53c+Ne5PhH/PfcfITtIaDA5waGkJdF2NjCby2LYIAM0Q0KW40riHdrXVqqq79LA6Mu8++2CgtmBCf/LHujXsK2xe/r334WlnsiJqZyABqDh6Xut+HC5m+2HjTXpav8dQmKjwc+wqbMKPMVCluN87FA61maj7DlsPCqS9VFWiUSNlul2v2itXI0VALCZp1oCCY0Ou9T7+SMRrYudqKXVf3H9OwlxSpJ80KrCprj3EfY4HOHExoeK1+X8hk0qPUZDRltjTKDF1wusPZyr+x6SIPjHg0uxjSFQ7jlEHvlQ9E3rZkP7JiH4vq973moF/02p7UoqwiHsIV3ExpzuYe2ITfokVePQCPn3sb4tEPN2I/TPBrCXq/bzWJiCltIwR3KW62XuSphy/BnB7cjOjvhfD8dci8Nl3dkeYUtDLjOcV2zduGSE4271IrLf2B0XjhPTpP1o0etHBOUCWCghilswfnAXE+jTyTs9GiiVcDJSd8USb3wVIM1Km7I1zaMSlv5HxciyMvFWqutDo30tBLCtwDECy+aqThOYXvB7xv/sjCbP2UHiNJNL/FVc2M+D9vdkNqGc5qHYYaTls3IB7/egD8F0rMIW3jT15Y1bFMTvT9/jNrJ9J41zSVGNge+6m3rPtH7YY7lLTNMYeN6cgDSjkz9FtfVFQmb8YFWxu/cS7ppYrb3cPvxF7aAhppPsvKqBz+40y/1RHozvN07+YGBGkjY9qkKKuHkeP4FqlD7u/Z2qpGj3p9WeKiXFX5vG6I2x7bodx7fLGhzEsG8p7mUxVUI1RM9jezJCvOeGcNkA9BgM5ffoGG5XokKCFEmBdJDwsbi0oL5ghob58HrRBxjMsjeY48w/LL5GxoUNpUG+pgpmwvtSoQN5QnfP2OZCWw/nsI2OcF+zQoqR27DeryNFDbVE+jfxgFziycS0Ozi8L3KXLewtdFs5vvk8+iAhb/JgkGr6VNDFtDoQe/JVQjmc095CJruVqc41YdIqgKm72nlNXgn7jFn9fhM4VUfomSFLyBEmRRIDzSIWV0DcZnWN71JpsukrrtCOMf1oU6aoZGv6TxyYxU2/s3qE1UfffRbbmED7YvTztzt4Wo/EUjYJtSzfYhfgOGw8S4bK2z8GxCN8Fvf6HYve1xuYTMrRkYGRlTM2Uy+y9IpDWY7VZrzExHA7CnaNuQqBPO585u3oxR83bMEIAI0nPQ1mylsWXniKhPz9/zmzFeNLGFT2Bz74V1ghq9C2ICgpPEpp7xl6fccmytsLCrOyvPAIrLwaaxD2KpmzzElbPyl/DCKw5c2Pd3l38B6N4tf5acIm+9m5iLCBoZlImxuC742Uvd04RI2rzYzt1UIm7MM26Yf2rjmtxM2xrYHNLbpFyUg9rT0FzaHF9yDOlz+buJTMMAnpQQMOPxngpe8doarEMznntLgbXoVdTY5zjpDXf3pgOoobow5LNOHWU9P2JDfc3SE8t5O3pXvbmFTeC5nyi1sdeBLTcyAA2rHpovCLKffUdgY6yJc4+XdLwwdjxlbt2DBgGn/3VPT3zK5MTwqyyGqhqsQ0HOrfLJNejwOUNH4fWZ+TBBfzfgZ8fXJhgJClAlIT00EwLgxKxY26JC/6RVan+aLn7Ax6KQO3XILG6rnbA9TY/ZS9Rzrh0Mzf5T9MmFz+dO9gYEabmFTXyDTj4UaGujd6S9sKfDgW9vYNoULxvKFQssxdMvYmeBsRPC5WTw/N+DOArW9ZxxMszdGZ2CsEVQWTqivb5t6btkJsfblHqiRZ83cMqsWNjgbjOrSjGgL0o+A7+m3RQvhLWyMc4F1AWHLFMwwoIk6neZ6mr1r4CcJGypv24gpJzBQw0fYGG1hYHq18RyQQeCFrSunH2YLAdWRLVNLjbCvGEf7R5PGQpyxPMPdiCy9R2X83FGFikk/O6dTRNzQuqvYooWs6l7WxazonqsXNjPP2MIpjS8G8eJhrYe8cmHLEA+1lzGuS4pJahGtxzFDFvIImyJzl0ARYWOK7khZ2M8SNtSj5tyIFpirRcRT7hhkLc+xAwM1PIWN2edu8GyF+jgxYZDET9hUDxAuKnWZbUHsHLR/dG5o4W4Cn0ZU+LnVcdv/0dNyY1ugnG22Rrt6YfM5uHJykqi4axA29UHz3jeZMu5d/ldPy01eYcucTCgobAq1h5h1wW1TFnVnmmsSNkuPOmWOZUwWYKCGv7C58RU2xTY1T/0rpDqdtel09IK1d7G5vgx+jUiR77kj/4fn6RSIyqsOjfRHsxn3HEcfbadXrEHYVKP96qi5yQ/KWoRNUaH6x1Hm6SdpwztdfMgvbArLZMIjhC1ifuoLqow8LB1Hp+KANI21b+sStlnvcppZLg73BQYGavwqYZtRedWi/uXUWikDdfzPgf9/zEFLP3wOVPRvRDMqf+xT72Ji92WoirWyE1Bnp/uO4Z5ENnWv0w7tZt5rHcKmyDjCKTrapvsThC0mbug2N0bk6rjsUwtsP/KlmLAxyLXwWGFLkDxPMHX2HJphN/6Xx/qETaF8m4NrXCjqeK/ueoRtc0gd9rjZ//4rjfZv5db7L+XSh2Vu1L+vS+bDry4/dThiIp9WddDkplA9aHl9NNEsKtrX+XNI1t0cy59MYKAgCGVmvrZUnWLCo4J9JNos7Pufkcuk0NBv04CBgiCUGLwUKKQwmM6WeqgJPotrJ+vAiRIBAwVBKCvw2C9Pc60qKA8wUBCE0uL4HxEWM8+8KzUwUBCE0qP+EVJnthA6wEPP8D6gycWAOk/vf+TCQEEQhDIDAwVBEMoMDBQEQSgzMFAQBKHMwEBBEIQyAwMFQRDKDAwUBEEoMzBQEAShzMBAQRCEkvKM/gU6XAPgx+NWUwAAAABJRU5ErkJggg==";function Fk(){return C.jsx(C.Fragment,{children:C.jsxs("footer",{className:zk.mainWrapper,children:[C.jsx("h4",{children:"Credits"}),C.jsxs("p",{children:[C.jsx("a",{href:"https://www.movieofthenight.com/about/api",children:C.jsx("img",{width:"110px",src:Bk})})," | Show and Movie Data"]})]})})}function Hk(){return C.jsxs(C.Fragment,{children:[C.jsx("h2",{children:"About Page"}),C.jsx(Fk,{})]})}function qk(){fr();const t=it(s=>s.friends.friendsList),[e,n]=F.useState([]);return F.useEffect(()=>{fetch("http://localhost:3000/users").then(s=>s.json()).then(s=>n(s))},[]),console.log("Friend List",t),console.log("Global Users",e),C.jsxs(C.Fragment,{children:[C.jsx("h1",{children:"Friends List"}),t.map(s=>{const o=e.find(l=>l.id===s);return C.jsx("div",{children:C.jsx("p",{children:o?o.userName:"Unknown User"})},s)})]})}const Gk="_showWrapper_ok71v_1",Kk="_showInfo_ok71v_35",sw={showWrapper:Gk,showInfo:Kk};function Yk({userDetails:t}){console.log(t);const e=fr(),n=it(c=>c.auth.user.id),s=it(c=>c.friends.friendsList);Yw().id;async function l(c){const d=[...s,c];try{const m=await fetch(`http://localhost:3000/users/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({friendsList:d})});if(!m.ok)throw new Error("Unable to add friend.");const g=await m.json();e(Rw.addFriend(g.FriendsList)),alert("Friend Added!")}catch(m){console.log(m),alert(m.message)}}return C.jsx("main",{className:sw.showWrapper,children:t&&C.jsx("div",{className:sw.showInfo,children:C.jsxs("header",{children:[C.jsx(zi,{to:`/userPage/${t.id}`,children:C.jsx("h2",{children:t.userName})}),C.jsx(un,{onClick:()=>l(t.id),children:"Save User"})]})},t.id)})}const $k="_mainDropdownWrapper_15h6a_1",Qk={mainDropdownWrapper:$k};function Wk({searchResults:t,query:e}){const[n,s]=F.useState(null);function o(l){s(l)}return console.log(t),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:Qk.mainDropdownWrapper,children:C.jsx("div",{children:t.map(l=>C.jsx("p",{onClick:()=>o(l),children:l.userName},l.id))})}),C.jsx("div",{children:n&&C.jsx(Yk,{userDetails:n})})]})}const Xk="_mainWrapper_vwg4t_1",Jk={mainWrapper:Xk};function Zk(){const[t,e]=F.useState(""),[n,s]=F.useState(null);return F.useEffect(()=>{async function o(l){if(!l)return;const c=`http://localhost:3000/users?userName=${l}`,g=await(await fetch(c,{method:"GET",headers:{"Content-Type":"application/json"}})).json();s(g),console.log("Query Data",g)}o(t)},[t]),C.jsxs("div",{className:Jk.mainWrapper,children:[C.jsx("input",{type:"search",placeholder:"Seach a user",value:t,onChange:o=>e(o.target.value)}),n&&C.jsx(Wk,{searchResults:n,query:t})]})}const eU="_mainWrapper_1yzt3_1",tU={mainWrapper:eU};function nU(){return C.jsx(C.Fragment,{children:C.jsx("main",{className:tU.mainWrapper,children:C.jsxs("header",{children:[C.jsx("h1",{children:"User Search"}),C.jsx(Zk,{})]})})})}const rU="_mainWrapper_m6cxa_1",iU="_nav_m6cxa_77",sU="_navList_m6cxa_95",Np={mainWrapper:rU,nav:iU,navList:sU},aU="_inputWrapper_mikpn_3",Cf={inputWrapper:aU};function oU({type:t,onSubmit:e}){return F.useContext(UL),it(n=>n.auth.user),fr(),C.jsx("form",{onSubmit:e,className:Cf.formWrapper,children:C.jsxs("div",{className:Cf.inputWrapper,children:[C.jsx(Wo,{label:"User Name",htmlFor:"username",id:"username",name:"username"}),C.jsx(Wo,{label:"Password",htmlFor:"password",id:"password",name:"password"}),C.jsx(Wo,{label:"Email",htmlFor:"email",id:"email",name:"email"}),C.jsx(un,{type:t,children:"Sign Up"})]})})}function lU(){const t=fr(),e=it(l=>l.auth.isCreatingAccount),n=()=>t(qi.stopCreatingAccount());async function s(l){try{const d=(await g4($A,l.email,l.password)).user.uid,m=ay(_y,"Users",d);await EV(m,{email:l.email,userName:l.userName,bio:"",bioAvatar:null,friendsList:[],myShows:[],epNotes:[],charNotes:[],currentlyBinging:[],watchedEps:[],finishedShows:[]}),t(qi.login({uid:d,email:l.email,userName:l.userName})),t(qi.stopCreatingAccount())}catch(c){console.error(c)}}function o(l){l.preventDefault();const c=new FormData(l.target),d=c.get("email"),m=c.get("username"),g=c.get("password");s({email:d,userName:m,password:g})}return C.jsx(C.Fragment,{children:C.jsx(vy,{open:e,handleClose:n,children:C.jsx(oU,{onSubmit:o,type:"submit"})})})}function uU({type:t,onSubmit:e}){return C.jsx("form",{onSubmit:e,className:Cf.formWrapper,children:C.jsxs("div",{className:Cf.inputWrapper,children:[C.jsx(Wo,{label:"User Name",htmlFor:"username",id:"username",name:"username"}),C.jsx(Wo,{label:"Password",htmlFor:"password",id:"password",name:"password"}),C.jsx(un,{type:t,children:"Sign In"})]})})}function cU(){const t=fr(),e=it(c=>c.auth.isLoggingIn);function n(c){t(qi.login(c))}function s(){t(qi.stopLoggingIn())}async function o(c){const d=`http://localhost:3000/users?userName=${c.userName}`,_=(await(await fetch(d)).json())[0];if(_&&_.password===c.password){localStorage.setItem("token",_.id);const T={id:_.id,userName:_.userName,email:_.email};n(T),console.log(_),console.log(T);return}else return console.log("Login failed: Invalid username or password."),null}function l(c){c.preventDefault();const d=new FormData(c.target),m={userName:d.get("username"),password:d.get("password")};o(m)}return C.jsx(C.Fragment,{children:C.jsx(vy,{open:e,onClose:s,children:C.jsx(uU,{onSubmit:l,type:"submit"})})})}function hU(){const t=fr(),e=it(c=>c.auth.isLoggedIn),n=it(c=>c.auth.user?.uid);function s(){t(qi.startLoggingIn())}function o(){localStorage.removeItem("token"),t(qi.logOut())}function l(){t(qi.startCreatingAccount())}return C.jsx("header",{className:Np.mainWrapper,children:C.jsxs("nav",{className:Np.nav,children:[C.jsxs("ul",{className:Np.navList,children:[C.jsxs("li",{children:[C.jsx(zi,{to:"/",children:C.jsx("img",{width:"30px",src:"/HomeIcon.png"})}),C.jsx("br",{})]}),C.jsx("li",{children:!e&&C.jsx(un,{onClick:s,children:C.jsx("img",{width:"30px",src:"/LogIn.png"})})}),C.jsx("li",{children:!e&&C.jsx(un,{onClick:l,children:"Create Account"})}),C.jsx("li",{children:e&&C.jsx(zi,{to:"/bingelog",children:C.jsx("img",{width:"30px",src:"/BingeLog.png"})})}),C.jsx("li",{children:e&&n&&C.jsx(zi,{to:`/userPage/${n}`,children:C.jsx("img",{width:"30px",src:"/UserPage.png"})})}),C.jsx("li",{children:e&&C.jsx(zi,{to:"/shows",children:C.jsx("img",{width:"30px",src:"/TvIcon.png"})})}),C.jsx("li",{children:e&&C.jsx(zi,{to:"/userSearch",children:C.jsx("img",{width:"30px",src:"/UserSearchIcon.png"})})}),C.jsx("li",{children:e&&C.jsx(un,{onClick:o,children:C.jsx("img",{width:"30px",src:"/LogOut.png"})})})]}),C.jsx(lU,{}),C.jsx(cU,{})]})})}function fU(){return C.jsxs(C.Fragment,{children:[C.jsx("main",{children:C.jsx(gD,{})}),C.jsx(hU,{})]})}function dU(){const t=fr();it(n=>n.shows.myShows),it(n=>n.loggedIn),F.useEffect(()=>{async function n(){const s=$A.currentUser;if(s)try{const o=ay(_y,"Users",s.uid),l=await _V(o);if(l.exists()){const c=l.data();t(qi.login({id:s.uid,userName:c.userName,email:c.email})),t(Lu.uploadAvatar(c.bioAvatar)),t(Lu.updateBio(c.bio)),t(ai.updateMyShows(c.myShows||[])),t(ai.updateBinging(c.currentlyBinging||[])),t(ai.updateFinishedShows(c.finishedShows||[])),t(ai.updateWatchedEps(c.watchedEps||[])),t(ef.updateEpNotes(c.epNotes||[])),t(ef.updateCharNotes(c.charNotes||[])),t(Rw.addFriend(c.friendsList||[]))}}catch(o){console.error("Auth restore failed:",o)}}n()},[t]);const e=zD([{path:"/",element:C.jsx(fU,{}),children:[{index:!0,element:C.jsx(PL,{})},{path:"userPage/:uid",element:C.jsx(gk,{})},{path:"friendsList",element:C.jsx(qk,{})},{path:"bingelog",element:C.jsx(Uk,{})},{path:"userSearch",element:C.jsx(nU,{})},{path:"shows",element:C.jsx(Ok,{})},{path:"about",element:C.jsx(Hk,{})}]}]);return C.jsx(C.Fragment,{children:C.jsx(XD,{router:e})})}N1.createRoot(document.getElementById("root")).render(C.jsx(F.StrictMode,{children:C.jsx(Y1,{store:HC,children:C.jsx(dU,{})})}));
